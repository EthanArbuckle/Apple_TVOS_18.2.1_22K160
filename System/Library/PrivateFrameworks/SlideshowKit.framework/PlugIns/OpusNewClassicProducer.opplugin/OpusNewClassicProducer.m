LABEL_16:
  v11 = +[NSMutableDictionary dictionary](&OBJC_CLASS___NSMutableDictionary, "dictionary");
  v12 = +[NSMutableDictionary dictionary](&OBJC_CLASS___NSMutableDictionary, "dictionary");
  v13 = v12;
  if (v10) {
    [v12 setValue:v10 forKey:@"direction"];
  }
  objc_msgSend( v13,  "setValue:forKey:",  +[NSNumber numberWithDouble:](NSNumber, "numberWithDouble:", a4),  @"duration");
  [v11 setValue:v9 forKey:@"class"];
  [v11 setValue:v13 forKey:@"settings"];
  return v11;
}

LABEL_14:
  v24 = (NSDictionary *)objc_msgSend( -[OpusNewClassicProducer presentation](self, "presentation"),  "guidelineAuthoringMediaAttributesForKey:",  objc_msgSend(objc_msgSend(a3, "uniqueURL"), "absoluteString"));
  v25 = +[NSString stringWithFormat:](&OBJC_CLASS___NSString, "stringWithFormat:", @"page%ld", v9 + 1);
  v59 = @"media.url";
  v60 = objc_msgSend(objc_msgSend(a3, "uniqueURL"), "absoluteString");
  v26 = +[NSMutableDictionary dictionaryWithDictionary:]( &OBJC_CLASS___NSMutableDictionary,  "dictionaryWithDictionary:",  +[NSDictionary dictionaryWithObjects:forKeys:count:]( &OBJC_CLASS___NSDictionary,  "dictionaryWithObjects:forKeys:count:",  &v60,  &v59,  1LL));
  -[NSMutableDictionary setObject:forKey:]( v26,  "setObject:forKey:",  @"page.data = null;",
    @"didAppearActionScript");
  if (v14)
  {
    v58 = -[OpusNewClassicProducer _createContentEffectSettingsForMediatItemAtIndex:metadata:]( self,  "_createContentEffectSettingsForMediatItemAtIndex:metadata:",  self->_couchStepDurationIndex,  v51);
    -[NSMutableDictionary setObject:forKey:]( v26,  "setObject:forKey:",  +[NSArray arrayWithObjects:count:](&OBJC_CLASS___NSArray, "arrayWithObjects:count:", &v58, 1LL),  @"media.contentEffects");
    -[NSMutableDictionary setObject:forKey:]( v26,  "setObject:forKey:",  +[UIColor blackColor](&OBJC_CLASS___UIColor, "blackColor"),  @"media.backgroundColor");
    v27 = (NSValue *)&__kCFBooleanFalse;
    v28 = @"media.shouldFitRegionOfInterest";
LABEL_18:
    -[NSMutableDictionary setObject:forKeyedSubscript:](v26, "setObject:forKeyedSubscript:", v27, v28);
    goto LABEL_19;
  }

  if (v24)
  {
    -[NSDictionary offset](v24, "offset");
    v27 = +[NSValue valueWithCGPoint:](&OBJC_CLASS___NSValue, "valueWithCGPoint:");
    v28 = @"media.offset";
    goto LABEL_18;
  }

LABEL_19:
  v29 = (unint64_t)objc_msgSend( -[OpusNewClassicProducer presentation](self, "presentation"),  "guidelineAuthoringTitle");
  v30 = (unint64_t)objc_msgSend( -[OpusNewClassicProducer presentation](self, "presentation"),  "guidelineAuthoringAttributedTitle");
  if (!v9)
  {
    v31 = v30;
    if (v29 | v30)
    {
      if (v30)
      {
        v32 = @"title.attributedText";
        v33 = v26;
      }

      else
      {
        v32 = @"title.text";
        v33 = v26;
        v31 = v29;
      }

      -[NSMutableDictionary setObject:forKeyedSubscript:](v33, "setObject:forKeyedSubscript:", v31, v32);
      if (self->_synopsisGroups)
      {
        v57[0] = &off_9340;
        v56[0] = kOKPresentationGuidelineAuthoringSynopsisItemType;
        v56[1] = kOKPresentationGuidelineAuthoringSynopsisItemNavigationKeyPath;
        v57[1] = -[NSString stringByAppendingString:](v25, "stringByAppendingString:", @".title");
        v24 = +[NSDictionary dictionaryWithObjects:forKeys:count:]( &OBJC_CLASS___NSDictionary,  "dictionaryWithObjects:forKeys:count:",  v57,  v56,  2LL);
      }

      else
      {
        v24 = 0LL;
      }

      v40 = 0;
      v39 = 1;
      goto LABEL_41;
    }
  }

  if (!v24)
  {
    v39 = 0;
LABEL_29:
    v40 = 0;
    goto LABEL_41;
  }

  v34 = (unint64_t)-[NSDictionary text](v24, "text", v31);
  v35 = (unint64_t)-[NSDictionary attributedText](v24, "attributedText");
  if (!(v34 | v35))
  {
    v39 = 0;
    v24 = 0LL;
    goto LABEL_29;
  }

  v36 = v35;
  if (v35)
  {
    v37 = @"subtitle.attributedText";
    v38 = v26;
  }

  else
  {
    v37 = @"subtitle.text";
    v38 = v26;
    v36 = v34;
  }

  -[NSMutableDictionary setObject:forKeyedSubscript:](v38, "setObject:forKeyedSubscript:", v36, v37);
  if (self->_synopsisGroups)
  {
    v55[0] = &off_9340;
    v54[0] = kOKPresentationGuidelineAuthoringSynopsisItemType;
    v54[1] = kOKPresentationGuidelineAuthoringSynopsisItemNavigationKeyPath;
    v55[1] = -[NSString stringByAppendingString:](v25, "stringByAppendingString:", @".subtitle");
    v24 = +[NSDictionary dictionaryWithObjects:forKeys:count:]( &OBJC_CLASS___NSDictionary,  "dictionaryWithObjects:forKeys:count:",  v55,  v54,  2LL);
    v39 = 0;
  }

  else
  {
    v39 = 0;
    v24 = 0LL;
  }

  v40 = 1;
LABEL_41:
  if (objc_msgSend( objc_msgSend( objc_msgSend( objc_msgSend( -[OpusNewClassicProducer presentation](self, "presentation", v31),  "guidelinesForKey:",  @"dynamicAdjustFillOrFit"),  "lastObject"),  "value"),  "BOOLValue"))
  {
    [v51 aspectRatio];
    v41 = -[OpusNewClassicProducer _contentModeOfPageForAllResolutions:](self, "_contentModeOfPageForAllResolutions:");
    if (v41) {
      -[NSMutableDictionary setObject:forKey:](v26, "setObject:forKey:", v41, @"media.@contentMode");
    }
  }

  v42 = @"SimplePage";
  if (v40) {
    v42 = @"SubtitlePage";
  }
  if (v39) {
    v43 = @"TitlePage";
  }
  else {
    v43 = v42;
  }
  v44 = +[OKPresentationPage pageWithName:templateName:navigatorName:properties:settings:userData:widgets:]( &OBJC_CLASS___OKPresentationPage,  "pageWithName:templateName:navigatorName:properties:settings:userData:widgets:",  v25,  v43,  0LL,  0LL,  v26,  0LL,  0LL);
  objc_msgSend(-[OpusNewClassicProducer presentation](self, "presentation"), "addPage:", v44);
  if (self->_synopsisGroups) {
    -[OpusNewClassicProducer _addSynopsisGuideline:forPageName:withTextItem:]( self,  "_addSynopsisGuideline:forPageName:withTextItem:",  v52,  v25,  v24);
  }
  objc_msgSend( objc_msgSend(-[OpusNewClassicProducer presentation](self, "presentation"), "rootNavigator"),  "addPageName:",  v25);
  if (!v9)
  {
    v48 = kOKPresentationThumbnailNavigatorName;
    v49 = +[OKPresentationPage pageWithName:templateName:navigatorName:properties:settings:userData:widgets:]( &OBJC_CLASS___OKPresentationPage,  "pageWithName:templateName:navigatorName:properties:settings:userData:widgets:",  +[NSString stringWithFormat:]( &OBJC_CLASS___NSString,  "stringWithFormat:",  @"%@-%@",  v25,  kOKPresentationThumbnailNavigatorName),  v43,  0LL,  0LL,  v26,  0LL,  0LL);
    objc_msgSend(-[OpusNewClassicProducer presentation](self, "presentation"), "addPage:", v49);
    v53 = -[OKPresentationPage name](v49, "name");
    objc_msgSend( -[OpusNewClassicProducer presentation](self, "presentation"),  "addNavigator:",  +[OKPresentationNavigator navigatorWithName:className:pagesNames:settings:userData:]( OKPresentationNavigator,  "navigatorWithName:className:pagesNames:settings:userData:",  v48,  @"OKNavigatorFixed",  +[NSArray arrayWithObjects:count:](NSArray, "arrayWithObjects:count:", &v53, 1),  &__NSDictionary0__struct,  &__NSDictionary0__struct));
    if (!v40) {
      goto LABEL_54;
    }
    goto LABEL_53;
  }

  if (v40) {
LABEL_53:
  }
    objc_msgSend( objc_msgSend(-[OKPresentationPage widgetWithName:](v44, "widgetWithName:", @"subtitle"), "userSettings"),  "setObject:forKeyedSubscript:",  objc_msgSend(objc_msgSend(v52, "uniqueURL"), "absoluteString"),  @"associatedMediaURL");
LABEL_54:
  v45 = +[NSString stringWithFormat:]( &OBJC_CLASS___NSString,  "stringWithFormat:",  @"playAllWidgetsTogetherWithEarlyCompletionNotice(document, page, [media], %f);",
          *(void *)&self->_transitionDuration);
  v46 = self->_couchStepDurations;
  if (v46)
  {
    ++self->_couchStepDurationIndex;
    objc_msgSend(-[NSMutableArray objectAtIndexedSubscript:](v46, "objectAtIndexedSubscript:"), "doubleValue");
  }

  else
  {
    v47 = -1.0;
  }

  v50 = +[OKPresentationCouchStep couchStepWithAnchorPageName:script:duration:settings:]( &OBJC_CLASS___OKPresentationCouchStep,  "couchStepWithAnchorPageName:script:duration:settings:",  v25,  v45,  &__NSDictionary0__struct,  v47);
  -[OKPresentationCouchStep setIgnoresBusiness:](v50, "setIgnoresBusiness:", -[NSString length](v45, "length") == 0);
  objc_msgSend(objc_msgSend(-[OpusNewClassicProducer presentation](self, "presentation"), "rootCouch"), "addStep:", v50);
  return &off_9370;
}

LABEL_8:
  v12 = objc_msgSend( -[OpusNewClassicProducer presentation](self, "presentation", v5),  "guidelineAuthoringInteractiveTransitionSettings");
  if (v12) {
    [v3 setObject:v12 forKeyedSubscript:@"interactiveTransitionSettings"];
  }
  v13 = objc_msgSend(-[OpusNewClassicProducer presentation](self, "presentation"), "guidelineAuthoringUserAudioItems");
  if (v13)
  {
    v14 = v13;
    if ([v13 count])
    {
      v23 = v3;
      v15 = -[NSMutableArray initWithCapacity:]( [NSMutableArray alloc],  "initWithCapacity:",  [v14 count]);
      v24 = 0u;
      v25 = 0u;
      v26 = 0u;
      v27 = 0u;
      v16 = [v14 countByEnumeratingWithState:&v24 objects:v30 count:16];
      if (v16)
      {
        v17 = v16;
        v18 = *(void *)v25;
        do
        {
          for (i = 0LL; i != v17; i = (char *)i + 1)
          {
            if (*(void *)v25 != v18) {
              objc_enumerationMutation(v14);
            }
            v20 = *(void **)(*((void *)&v24 + 1) + 8LL * (void)i);
            v28 = @"url";
            v29 = objc_msgSend(objc_msgSend(v20, "uniqueURL"), "absoluteString");
            -[NSMutableArray addObject:]( v15,  "addObject:",  +[NSDictionary dictionaryWithObjects:forKeys:count:]( &OBJC_CLASS___NSDictionary,  "dictionaryWithObjects:forKeys:count:",  &v29,  &v28,  1LL));
            objc_msgSend(objc_msgSend(v20, "metadata"), "duration");
            self->_audioPlaylistDuration = v21 + self->_audioPlaylistDuration;
          }

          v17 = [v14 countByEnumeratingWithState:&v24 objects:v30 count:16];
        }

        while (v17);
      }

      v3 = v23;
      [v23 setObject:v15 forKeyedSubscript:@"audioPlaylist"];
      if (objc_msgSend( -[OpusNewClassicProducer presentation](self, "presentation"),  "guidelineAuthoringFitToAudioDuration")) {
        v22 = &__kCFBooleanFalse;
      }
      else {
        v22 = &__kCFBooleanTrue;
      }
      [v23 setObject:v22 forKeyedSubscript:@"audioPlaylistLoops"];
    }
  }

  objc_msgSend( -[OpusNewClassicProducer presentation](self, "presentation"),  "addNavigator:",  +[OKPresentationNavigator navigatorWithName:className:pagesNames:settings:userData:]( OKPresentationNavigator,  "navigatorWithName:className:pagesNames:settings:userData:",  @"root",  @"OKNavigatorLinear",  0,  v3,  &__NSDictionary0__struct));
}

void sub_4774(_Unwind_Exception *a1)
{
}

uint64_t sub_478C(uint64_t a1, _BYTE *a2, float a3)
{
  float v5 = a3 * 0.1 + 0.0;
  uint64_t result = (*(uint64_t (**)(float))(*(void *)(a1 + 32) + 16LL))(v5);
  *a2 = *(_BYTE *)(*(void *)(*(void *)(a1 + 40) + 8LL) + 24LL);
  return result;
}

uint64_t sub_47EC(uint64_t a1, _BYTE *a2, float a3)
{
  float v5 = a3 * 0.1 + 0.0;
  uint64_t result = (*(uint64_t (**)(float))(*(void *)(a1 + 32) + 16LL))(v5);
  *a2 = *(_BYTE *)(*(void *)(*(void *)(a1 + 40) + 8LL) + 24LL);
  return result;
}

uint64_t sub_484C(uint64_t a1, _BYTE *a2, float a3)
{
  float v5 = a3 * 0.1 + 0.0;
  uint64_t result = (*(uint64_t (**)(float))(*(void *)(a1 + 32) + 16LL))(v5);
  *a2 = *(_BYTE *)(*(void *)(*(void *)(a1 + 40) + 8LL) + 24LL);
  return result;
}

uint64_t sub_4AF4(uint64_t a1, uint64_t a2, float a3)
{
  return (*(uint64_t (**)(void, uint64_t, float))(*(void *)(a1 + 40) + 16))( *(void *)(a1 + 40),  a2,  a3 / (float)(unint64_t)[*(id *)(a1 + 32) count]);
}
}

void sub_4DDC(_Unwind_Exception *a1)
{
}

void sub_512C(_Unwind_Exception *a1)
{
}

uint64_t sub_5148(uint64_t a1, float a2)
{
  return (*(uint64_t (**)(float))(*(void *)(a1 + 32) + 16LL))(a2 * 0.5);
}

uint64_t sub_515C(uint64_t a1, float a2)
{
  float v2 = a2 * 0.5 + 0.5;
  return (*(uint64_t (**)(float))(*(void *)(a1 + 32) + 16LL))(v2);
}

uint64_t sub_5178(uint64_t a1, float a2)
{
  return (*(uint64_t (**)(float))(*(void *)(a1 + 32) + 16LL))(a2 * a2);
}

void sub_51C8(_Unwind_Exception *a1)
{
}

void sub_523C(_Unwind_Exception *a1)
{
}

void sub_52D4(_Unwind_Exception *a1)
{
}

id objc_msgSend_pageWithName_templateName_navigatorName_properties_settings_userData_widgets_( void *a1, const char *a2, ...)
{
  return objc_msgSend(a1, "pageWithName:templateName:navigatorName:properties:settings:userData:widgets:");
}

id objc_msgSend_widgetWithName_templateName_className_settings_userData_subWidgets_materials_( void *a1, const char *a2, ...)
{
  return objc_msgSend(a1, "widgetWithName:templateName:className:settings:userData:subWidgets:materials:");
}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            synopsisGroups = self->_synopsisGroups;
  v13[0] = @"0";
  v13[1] = synopsisGroups;
  v14 = +[NSDictionary dictionaryWithObjects:forKeys:count:]( &OBJC_CLASS___NSDictionary,  "dictionaryWithObjects:forKeys:count:",  v13,  v12,  2LL);
  v9 = 1;
  objc_msgSend( -[OpusNewClassicProducer presentation](self, "presentation"),  "addGuideline:",  +[OKPresentationGuideline guidelineAuthoringSynopsis:]( OKPresentationGuideline,  "guidelineAuthoringSynopsis:",  +[NSArray arrayWithObjects:count:](NSArray, "arrayWithObjects:count:", &v14, 1)));
  if (a4)
  {
    (*((void (**)(id, char *, float))a4 + 2))(a4, &v11, 1.0);
    v9 = v11 == 0;
    if (a5)
    {
      if (v11)
      {
        v9 = 0;
        *a5 = +[NSError errorWithDomain:code:userInfo:]( &OBJC_CLASS___NSError,  "errorWithDomain:code:userInfo:",  OKErrorDomain,  -4LL,  0LL);
      }
    }
  }

  return v9;
}

- (BOOL)author:(BOOL)a3 progressBlock:(id)a4 requiresProducer:(BOOL *)a5 error:(id *)a6
{
  BOOL v9 = a3;
  v11 = objc_alloc_init(&OBJC_CLASS___OpusNewClassicProducerContext);
  if (-[OpusNewClassicProducer _authorBootstrap:progressBlock:error:]( self,  "_authorBootstrap:progressBlock:error:",  v11,  a4,  a6)
    && -[OpusNewClassicProducer _authorCluster:progressBlock:error:]( self,  "_authorCluster:progressBlock:error:",  v11,  a4,  a6)
    && -[OpusNewClassicProducer _authorImport:flatten:progressBlock:error:]( self,  "_authorImport:flatten:progressBlock:error:",  v11,  v9,  a4,  a6)
    && -[OpusNewClassicProducer _authorProduce:progressBlock:error:]( self,  "_authorProduce:progressBlock:error:",  v11,  a4,  a6)
    && -[OpusNewClassicProducer _authorFinish:progressBlock:error:]( self,  "_authorFinish:progressBlock:error:",  v11,  a4,  a6))
  {
    *a5 = !v9;

    return !a6 || *a6 == 0LL;
  }

  else
  {

    return 0;
  }

- (BOOL)supportsLiveAuthoring
{
  return 1;
}

- (BOOL)needsLiveAuthoring
{
  unint64_t currentFeederIndex = self->_currentFeederIndex;
  LOBYTE(currentFeederIndex) = currentFeederIndex < (unint64_t)objc_msgSend( objc_msgSend( -[OpusNewClassicProducer presentation]( self,  "presentation"),  "rootMediaFeeder"),  "numberOfMediaItems");
  objc_sync_exit(self);
  return currentFeederIndex;
}

- (BOOL)resetLiveAuthoring
{
  self->_unint64_t currentFeederIndex = 0LL;
  objc_sync_exit(self);
  return 0;
}

- (BOOL)liveAuthorInitialBootstrap:(id)a3 error:(id *)a4
{
  char v10 = 0;
  -[OpusNewClassicProducer _initTemplates](self, "_initTemplates");
  if (!a3)
  {
    BOOL v7 = a4 == 0LL;
    -[OpusNewClassicProducer _initCouchPotatoSettings](self, "_initCouchPotatoSettings");
    -[OpusNewClassicProducer _initNavigatorSettings](self, "_initNavigatorSettings");
    goto LABEL_10;
  }

  (*((void (**)(id, char *, float))a3 + 2))(a3, &v10, 0.3);
  BOOL v7 = a4 == 0LL;
  if (a4 && v10) {
    goto LABEL_12;
  }
  if (v10) {
    return 0;
  }
  -[OpusNewClassicProducer _initCouchPotatoSettings](self, "_initCouchPotatoSettings");
  (*((void (**)(id, char *, float))a3 + 2))(a3, &v10, 0.6);
  if (v10)
  {
    if (a4)
    {
LABEL_12:
      BOOL v9 = +[NSError errorWithDomain:code:userInfo:]( &OBJC_CLASS___NSError,  "errorWithDomain:code:userInfo:",  OKErrorDomain,  -4LL,  0LL);
      BOOL result = 0;
      *a4 = v9;
      return result;
    }

    return 0;
  }

  -[OpusNewClassicProducer _initNavigatorSettings](self, "_initNavigatorSettings");
  (*((void (**)(id, char *, float))a3 + 2))(a3, &v10, 0.6);
LABEL_10:
  BOOL result = v10 == 0;
  if (!v7 && v10) {
    goto LABEL_12;
  }
  return result;
}

- (id)liveAuthorNextChunk:(id)a3 error:(id *)a4
{
  id v7 = objc_msgSend(-[OpusNewClassicProducer presentation](self, "presentation"), "rootMediaFeeder");
  id v8 = +[NSMutableSet set](&OBJC_CLASS___NSMutableSet, "set");
  unint64_t currentFeederIndex = self->_currentFeederIndex;
  if (currentFeederIndex)
  {
    self->_unint64_t currentFeederIndex = currentFeederIndex + 1;
    v15[0] = _NSConcreteStackBlock;
    v15[1] = 3221225472LL;
    v15[2] = sub_5178;
    v15[3] = &unk_8260;
    v15[4] = a3;
    id v10 = -[OpusNewClassicProducer _addPageForMediaItem:progressBlock:error:]( self,  "_addPageForMediaItem:progressBlock:error:",  objc_msgSend(v7, "mediaItemAtIndex:"),  v15,  a4);
  }

  else
  {
    self->_unint64_t currentFeederIndex = 1LL;
    v17[0] = _NSConcreteStackBlock;
    v17[1] = 3221225472LL;
    v17[2] = sub_5148;
    v17[3] = &unk_8260;
    v17[4] = a3;
    id v11 = -[OpusNewClassicProducer _addPageForMediaItem:progressBlock:error:]( self,  "_addPageForMediaItem:progressBlock:error:",  objc_msgSend(v7, "mediaItemAtIndex:"),  v17,  a4);
    if (!v11) {
      goto LABEL_9;
    }
    [v8 addObjectsFromArray:v11];
    unint64_t v12 = self->_currentFeederIndex;
    if (v12 >= (unint64_t)objc_msgSend( objc_msgSend( -[OpusNewClassicProducer presentation](self, "presentation"),  "rootMediaFeeder"),  "numberOfMediaItems")) {
      goto LABEL_8;
    }
    ++self->_currentFeederIndex;
    v16[0] = _NSConcreteStackBlock;
    v16[1] = 3221225472LL;
    v16[2] = sub_515C;
    v16[3] = &unk_8260;
    v16[4] = a3;
    id v10 = -[OpusNewClassicProducer _addPageForMediaItem:progressBlock:error:]( self,  "_addPageForMediaItem:progressBlock:error:",  objc_msgSend(v7, "mediaItemAtIndex:"),  v16,  a4);
  }

  if (!v10)
  {
LABEL_9:
    id v13 = 0LL;
    goto LABEL_10;
  }

  [v8 addObjectsFromArray:v10];
LABEL_8:
  id v13 = [v8 allObjects];
LABEL_10:
  objc_sync_exit(self);
  return v13;
}

- (unint64_t)totalNumberOfLiveAuthoringItems
{
  id v3 = objc_msgSend( objc_msgSend(-[OpusNewClassicProducer presentation](self, "presentation"), "rootMediaFeeder"),  "numberOfMediaItems");
  objc_sync_exit(self);
  return (unint64_t)v3;
}

- (float)currentLiveAuthoringProgress
{
  unint64_t currentFeederIndex = self->_currentFeederIndex;
  float v4 = (float)(currentFeederIndex + 1)
     / (float)(unint64_t)objc_msgSend( objc_msgSend( -[OpusNewClassicProducer presentation](self, "presentation"),  "rootMediaFeeder"),  "numberOfMediaItems");
  objc_sync_exit(self);
  return v4;
}

- (float)liveAuthoringProgressForMediaItem:(id)a3
{
  id v5 = objc_msgSend( objc_msgSend(-[OpusNewClassicProducer presentation](self, "presentation"), "rootMediaFeeder"),  "indexForMediaItem:",  a3);
  if (v5 == (id)0x7FFFFFFFFFFFFFFFLL) {
    float v6 = 9.2234e18;
  }
  else {
    float v6 = (float)((unint64_t)v5 + 1)
  }
       / (float)(unint64_t)objc_msgSend( objc_msgSend( -[OpusNewClassicProducer presentation](self, "presentation"),  "rootMediaFeeder"),  "numberOfMediaItems");
  objc_sync_exit(self);
  return v6;
}

@end
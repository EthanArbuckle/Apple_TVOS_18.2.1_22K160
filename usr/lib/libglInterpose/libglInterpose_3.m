void sub_89734( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, char a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, void *a22)
{
  unsigned int *v22;
  atomic_store(0, v22);
  GPUTools::FB::FIFOArgumentProvider::~FIFOArgumentProvider((GPUTools::FB::FIFOArgumentProvider *)&a15);
  if (a22) {
    free(a22);
  }
  _Unwind_Resume(a1);
}

void program_uniform_matrix4x2fv( __GLIContextRec *a1, volatile int *a2, uint64_t a3, uint64_t a4, unsigned int a5, float *a6)
{
  v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  v16 = (char *)(v15 + 4709);
  v17 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v18 = __ldaxr(v17);
    signed int v19 = v18 + 1;
  }

  while (__stlxr(v19, v17));
  if (gCheckGLErrors) {
    BOOL v20 = v19 <= 1;
  }
  else {
    BOOL v20 = 1;
  }
  if (v20)
  {
    id v54 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v53 = handle_opengl_thread_conflict((const void **)v15);
    id v54 = [(id)DYGetGLGuestAppClient(v53) waitOnGraphicsSemaphoreAssertions];
    if ((int)v54 >= 1)
    {
      do
LABEL_62:
        unsigned int v55 = __ldaxr(v17);
      while (__stlxr(v55 - 1, v17));
      v56 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v54) graphicsLockWaitQueue];
      dispatch_sync_f(v56, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, uint64_t, void, float *))(*(void *)(v15 + 24) + 6872LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  v67[0] = 0LL;
  v67[1] = 0LL;
  int v68 = 0;
  if ([(id)DYGetGLGuestAppClient(v54) state] != (char *)&dword_0 + 1
    || (id v21 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v21))
  {
    uint64_t v22 = wrapper_map_uniform_loc((ContextInfo *)v15, a2, a3);
    __int128 v64 = 0u;
    __int128 v65 = 0u;
    __int128 v66 = 0u;
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v63, *(void **)v15);
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v63, a2);
    *(_WORD *)v16 = 30019;
    *(_BYTE *)(v15 + 4711) = 105;
    v23 = (_BYTE *)(v15 + 4712);
    if ((_DWORD)v22 == -1)
    {
      _BYTE *v23 = 105;
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v63, -1);
      uint64_t v24 = 1LL;
    }

    else
    {
      *(_DWORD *)(v15 + 4712) = 1047084118;
      snprintf((char *)(v15 + 4773), 0x40uLL, "u_%016lx_%u_%u", **(void **)(v15 + 40), (_DWORD)a2, v22);
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v63, (void *)(v15 + 4773));
      uint64_t v24 = 4LL;
    }

    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v63, a4);
    uint64_t v25 = GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v63, a5);
    v26 = &v23[v24];
    *(_WORD *)v26 = 30057;
    v26[2] = 98;
    v27 = &v23[v24 + 3];
    unint64_t v28 = 32LL * (_DWORD)a4;
    if (v28 < 0x41)
    {
      int v31 = snprintf(v27, v16 - v27 + 64, "@%df", 8 * a4);
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v63, a6);
      uint64_t v30 = v31;
    }

    else
    {
      uint64_t v29 = DYGetGLGuestAppClient(v25);
      GPUTools::Interpose::DYSavePointer(v29, v28, a6, v15 + 4644, 65LL, 0LL, 1LL, 0LL, 0LL);
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v63, (void *)(v15 + 4644));
      *(_DWORD *)v27 = 1046887509;
      uint64_t v30 = 4LL;
    }

    v27[v30] = 0;
    uint64_t v32 = GPUTools::FB::Encode(v67, 966LL, 0LL, v15 + 4709, &v63);
    char v33 = byte_20721E;
    if ((byte_20721E & 1) != 0) {
      breakpoint_break( (uint64_t)v67,  (volatile int *)((char *)&stru_388.nreloc + 2),  1LL,  *(unsigned int *)(v15 + 3404),  v15);
    }
    uint64_t v34 = (uint64_t)[(id)DYGetGLGuestAppClient(v32) overrideFlags];
    if (!(v34 & 0x10 | v33 & 4))
    {
      uint64_t v35 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, uint64_t, void, float *))(*(void *)(v15 + 32) + 6872LL))( a1,  a2,  v22,  a4,  a5,  a6);
      uint64_t v34 = mach_absolute_time();
      uint64_t v36 = v34 - v35;
      unint64_t v37 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        v38 = v67[0];
        *((void *)v67[0] + 2) = v35;
        v38[3] = v36;
        if (!gCheckGLErrors) {
          goto LABEL_33;
        }
      }

      else
      {
        uint64_t v59 = __udivti3(g_DYTimebaseInfo * v36, (g_DYTimebaseInfo * (unsigned __int128)v36) >> 64);
        v60 = v67[0];
        *((void *)v67[0] + 3) = v59;
        uint64_t v34 = __udivti3(v37 * v35, (v37 * (unsigned __int128)v35) >> 64);
        v60[2] = v34;
        if (!gCheckGLErrors) {
          goto LABEL_33;
        }
      }

      uint64_t v34 = check_errors(v15);
    }

void sub_89D3C( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, char a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, void *a22)
{
  if (a22) {
    free(a22);
  }
  _Unwind_Resume(a1);
}

void program_uniform_matrix3x4fv( __GLIContextRec *a1, volatile int *a2, uint64_t a3, uint64_t a4, unsigned int a5, float *a6)
{
  v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  v16 = (char *)(v15 + 4709);
  v17 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v18 = __ldaxr(v17);
    signed int v19 = v18 + 1;
  }

  while (__stlxr(v19, v17));
  if (gCheckGLErrors) {
    BOOL v20 = v19 <= 1;
  }
  else {
    BOOL v20 = 1;
  }
  if (v20)
  {
    id v54 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v53 = handle_opengl_thread_conflict((const void **)v15);
    id v54 = [(id)DYGetGLGuestAppClient(v53) waitOnGraphicsSemaphoreAssertions];
    if ((int)v54 >= 1)
    {
      do
LABEL_62:
        unsigned int v55 = __ldaxr(v17);
      while (__stlxr(v55 - 1, v17));
      v56 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v54) graphicsLockWaitQueue];
      dispatch_sync_f(v56, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, uint64_t, void, float *))(*(void *)(v15 + 24) + 6880LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  v67[0] = 0LL;
  v67[1] = 0LL;
  int v68 = 0;
  if ([(id)DYGetGLGuestAppClient(v54) state] != (char *)&dword_0 + 1
    || (id v21 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v21))
  {
    uint64_t v22 = wrapper_map_uniform_loc((ContextInfo *)v15, a2, a3);
    __int128 v64 = 0u;
    __int128 v65 = 0u;
    __int128 v66 = 0u;
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v63, *(void **)v15);
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v63, a2);
    *(_WORD *)v16 = 30019;
    *(_BYTE *)(v15 + 4711) = 105;
    v23 = (_BYTE *)(v15 + 4712);
    if ((_DWORD)v22 == -1)
    {
      _BYTE *v23 = 105;
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v63, -1);
      uint64_t v24 = 1LL;
    }

    else
    {
      *(_DWORD *)(v15 + 4712) = 1047084118;
      snprintf((char *)(v15 + 4773), 0x40uLL, "u_%016lx_%u_%u", **(void **)(v15 + 40), (_DWORD)a2, v22);
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v63, (void *)(v15 + 4773));
      uint64_t v24 = 4LL;
    }

    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v63, a4);
    uint64_t v25 = GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v63, a5);
    v26 = &v23[v24];
    *(_WORD *)v26 = 30057;
    v26[2] = 98;
    v27 = &v23[v24 + 3];
    unint64_t v28 = 48LL * (_DWORD)a4;
    if (v28 < 0x41)
    {
      int v31 = snprintf(v27, v16 - v27 + 64, "@%df", 12 * a4);
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v63, a6);
      uint64_t v30 = v31;
    }

    else
    {
      uint64_t v29 = DYGetGLGuestAppClient(v25);
      GPUTools::Interpose::DYSavePointer(v29, v28, a6, v15 + 4644, 65LL, 0LL, 1LL, 0LL, 0LL);
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v63, (void *)(v15 + 4644));
      *(_DWORD *)v27 = 1046887509;
      uint64_t v30 = 4LL;
    }

    v27[v30] = 0;
    uint64_t v32 = GPUTools::FB::Encode(v67, 963LL, 0LL, v15 + 4709, &v63);
    char v33 = byte_20721B;
    if ((byte_20721B & 1) != 0) {
      breakpoint_break( (uint64_t)v67,  (volatile int *)((char *)&stru_388.reloff + 3),  1LL,  *(unsigned int *)(v15 + 3404),  v15);
    }
    uint64_t v34 = (uint64_t)[(id)DYGetGLGuestAppClient(v32) overrideFlags];
    if (!(v34 & 0x10 | v33 & 4))
    {
      uint64_t v35 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, uint64_t, void, float *))(*(void *)(v15 + 32) + 6880LL))( a1,  a2,  v22,  a4,  a5,  a6);
      uint64_t v34 = mach_absolute_time();
      uint64_t v36 = v34 - v35;
      unint64_t v37 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        v38 = v67[0];
        *((void *)v67[0] + 2) = v35;
        v38[3] = v36;
        if (!gCheckGLErrors) {
          goto LABEL_33;
        }
      }

      else
      {
        uint64_t v59 = __udivti3(g_DYTimebaseInfo * v36, (g_DYTimebaseInfo * (unsigned __int128)v36) >> 64);
        v60 = v67[0];
        *((void *)v67[0] + 3) = v59;
        uint64_t v34 = __udivti3(v37 * v35, (v37 * (unsigned __int128)v35) >> 64);
        v60[2] = v34;
        if (!gCheckGLErrors) {
          goto LABEL_33;
        }
      }

      uint64_t v34 = check_errors(v15);
    }

void sub_8A348( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, char a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, void *a22)
{
  if (a22) {
    free(a22);
  }
  _Unwind_Resume(a1);
}

void program_uniform_matrix4x3fv( __GLIContextRec *a1, volatile int *a2, uint64_t a3, uint64_t a4, unsigned int a5, float *a6)
{
  v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  v16 = (char *)(v15 + 4709);
  v17 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v18 = __ldaxr(v17);
    signed int v19 = v18 + 1;
  }

  while (__stlxr(v19, v17));
  if (gCheckGLErrors) {
    BOOL v20 = v19 <= 1;
  }
  else {
    BOOL v20 = 1;
  }
  if (v20)
  {
    id v54 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v53 = handle_opengl_thread_conflict((const void **)v15);
    id v54 = [(id)DYGetGLGuestAppClient(v53) waitOnGraphicsSemaphoreAssertions];
    if ((int)v54 >= 1)
    {
      do
LABEL_62:
        unsigned int v55 = __ldaxr(v17);
      while (__stlxr(v55 - 1, v17));
      v56 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v54) graphicsLockWaitQueue];
      dispatch_sync_f(v56, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, uint64_t, void, float *))(*(void *)(v15 + 24) + 6888LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  v67[0] = 0LL;
  v67[1] = 0LL;
  int v68 = 0;
  if ([(id)DYGetGLGuestAppClient(v54) state] != (char *)&dword_0 + 1
    || (id v21 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v21))
  {
    uint64_t v22 = wrapper_map_uniform_loc((ContextInfo *)v15, a2, a3);
    __int128 v64 = 0u;
    __int128 v65 = 0u;
    __int128 v66 = 0u;
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v63, *(void **)v15);
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v63, a2);
    *(_WORD *)v16 = 30019;
    *(_BYTE *)(v15 + 4711) = 105;
    v23 = (_BYTE *)(v15 + 4712);
    if ((_DWORD)v22 == -1)
    {
      _BYTE *v23 = 105;
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v63, -1);
      uint64_t v24 = 1LL;
    }

    else
    {
      *(_DWORD *)(v15 + 4712) = 1047084118;
      snprintf((char *)(v15 + 4773), 0x40uLL, "u_%016lx_%u_%u", **(void **)(v15 + 40), (_DWORD)a2, v22);
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v63, (void *)(v15 + 4773));
      uint64_t v24 = 4LL;
    }

    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v63, a4);
    uint64_t v25 = GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v63, a5);
    v26 = &v23[v24];
    *(_WORD *)v26 = 30057;
    v26[2] = 98;
    v27 = &v23[v24 + 3];
    unint64_t v28 = 48LL * (_DWORD)a4;
    if (v28 < 0x41)
    {
      int v31 = snprintf(v27, v16 - v27 + 64, "@%df", 12 * a4);
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v63, a6);
      uint64_t v30 = v31;
    }

    else
    {
      uint64_t v29 = DYGetGLGuestAppClient(v25);
      GPUTools::Interpose::DYSavePointer(v29, v28, a6, v15 + 4644, 65LL, 0LL, 1LL, 0LL, 0LL);
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v63, (void *)(v15 + 4644));
      *(_DWORD *)v27 = 1046887509;
      uint64_t v30 = 4LL;
    }

    v27[v30] = 0;
    uint64_t v32 = GPUTools::FB::Encode(v67, 968LL, 0LL, v15 + 4709, &v63);
    char v33 = byte_207220;
    if ((byte_207220 & 1) != 0) {
      breakpoint_break((uint64_t)v67, (volatile int *)&stru_388.flags, 1LL, *(unsigned int *)(v15 + 3404), v15);
    }
    uint64_t v34 = (uint64_t)[(id)DYGetGLGuestAppClient(v32) overrideFlags];
    if (!(v34 & 0x10 | v33 & 4))
    {
      uint64_t v35 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, uint64_t, void, float *))(*(void *)(v15 + 32) + 6888LL))( a1,  a2,  v22,  a4,  a5,  a6);
      uint64_t v34 = mach_absolute_time();
      uint64_t v36 = v34 - v35;
      unint64_t v37 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        v38 = v67[0];
        *((void *)v67[0] + 2) = v35;
        v38[3] = v36;
        if (!gCheckGLErrors) {
          goto LABEL_33;
        }
      }

      else
      {
        uint64_t v59 = __udivti3(g_DYTimebaseInfo * v36, (g_DYTimebaseInfo * (unsigned __int128)v36) >> 64);
        v60 = v67[0];
        *((void *)v67[0] + 3) = v59;
        uint64_t v34 = __udivti3(v37 * v35, (v37 * (unsigned __int128)v35) >> 64);
        v60[2] = v34;
        if (!gCheckGLErrors) {
          goto LABEL_33;
        }
      }

      uint64_t v34 = check_errors(v15);
    }

void sub_8A954( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, char a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, void *a22)
{
  if (a22) {
    free(a22);
  }
  _Unwind_Resume(a1);
}

void release_shader_compiler(__GLIContextRec *a1)
{
  v2 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v2) {
    goto LABEL_12;
  }
  uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v4 = v2[4];
    BOOL v5 = v4 >= (unint64_t)a1;
    else {
      v6 = v2 + 1;
    }
    if (v5) {
      uint64_t v3 = (uint64_t)v2;
    }
    v2 = (void *)*v6;
  }

  while (*v6);
  if (v3 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v3 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v7 = *(void *)(v3 + 40);
  v8 = (unsigned int *)(v7 + 4640);
  do
  {
    unsigned int v9 = __ldaxr(v8);
    signed int v10 = v9 + 1;
  }

  while (__stlxr(v10, v8));
  if (gCheckGLErrors) {
    BOOL v11 = v10 <= 1;
  }
  else {
    BOOL v11 = 1;
  }
  if (v11)
  {
    id v40 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v39 = handle_opengl_thread_conflict((const void **)v7);
    id v40 = [(id)DYGetGLGuestAppClient(v39) waitOnGraphicsSemaphoreAssertions];
    if ((int)v40 >= 1)
    {
      do
LABEL_57:
        unsigned int v41 = __ldaxr(v8);
      while (__stlxr(v41 - 1, v8));
      v42 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v40) graphicsLockWaitQueue];
      dispatch_sync_f(v42, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 24) + 6992LL))(a1);
      return;
    }
  }

  *(_BYTE *)(v7 + 4838) = 1;
  unsigned int v49 = 0LL;
  signed int v50 = 0LL;
  unsigned int v51 = 0;
  if ([(id)DYGetGLGuestAppClient(v40) state] != (char *)&dword_0 + 1
    || (id v12 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v12))
  {
    v14 = (char *)v49;
    BOOL v13 = v50;
    int64_t v15 = v50 - (_BYTE *)v49;
    unsigned int v16 = v51;
    unint64_t v17 = v51 - (v50 - (_BYTE *)v49);
    if (v17 > 0x2F) {
      goto LABEL_24;
    }
    int v43 = (303 - v17) & 0xFFFFFF00;
    v51 += v43;
    v14 = (char *)malloc(v43 + v16);
    unsigned int v49 = v14;
    if (v14)
    {
      if ((v14 & 3) == 0)
      {
        BOOL v13 = &v14[v15];
LABEL_24:
        *((_OWORD *)v13 + 1) = 0u;
        *((_OWORD *)v13 + 2) = 0u;
        *(_OWORD *)BOOL v13 = 0u;
        signed int v50 = v13 + 48;
        GPUTools::FB::Fbuf::align((char **)&v49);
        *((_DWORD *)v14 + 1) = 969;
        *((_DWORD *)v14 + 8) = 0;
        __uint64_t v48 = 0LL;
        uint64_t v18 = pthread_threadid_np(0LL, &v48);
        *((void *)v14 + 1) = v48;
        *((_WORD *)v14 + 18) = 67;
        *((void *)v14 + 5) = *(void *)v7;
        char v19 = byte_207221;
        if ((byte_207221 & 1) != 0) {
          breakpoint_break( (uint64_t)&v49,  (volatile int *)((char *)&stru_388.flags + 1),  1LL,  *(unsigned int *)(v7 + 3404),  v7);
        }
        uint64_t v20 = (uint64_t)[(id)DYGetGLGuestAppClient(v18) overrideFlags];
        if (!(v20 & 0x10 | v19 & 4))
        {
          uint64_t v21 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 32) + 6992LL))(a1);
          uint64_t v20 = mach_absolute_time();
          uint64_t v22 = v20 - v21;
          unint64_t v23 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v24 = v49;
            *((void *)v49 + 2) = v21;
            v24[3] = v22;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v46 = __udivti3(g_DYTimebaseInfo * v22, (g_DYTimebaseInfo * (unsigned __int128)v22) >> 64);
            unsigned int v47 = v49;
            *((void *)v49 + 3) = v46;
            uint64_t v20 = __udivti3(v23 * v21, (v23 * (unsigned __int128)v21) >> 64);
            v47[2] = v20;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v20 = check_errors(v7);
        }

{
  void *v2;
  uint64_t v3;
  unint64_t v4;
  BOOL v5;
  void *v6;
  uint64_t v7;
  unsigned int *v8;
  unsigned int v9;
  signed int v10;
  BOOL v11;
  id v12;
  char *v13;
  char *v14;
  int64_t v15;
  unsigned int v16;
  unint64_t v17;
  uint64_t v18;
  char v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  unint64_t v23;
  void *v24;
  id v25;
  GPUTools::FB::Fbuf *v26;
  unsigned int v27;
  GPUTools::FB::Fbuf *v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  GPUTools::FB::Stream *v31;
  unsigned int *v32;
  unsigned int v33;
  unsigned int v34;
  unsigned int v35;
  signed int v36;
  BOOL v37;
  unsigned int v38;
  uint64_t v39;
  id v40;
  unsigned int v41;
  dispatch_queue_s *v42;
  int v43;
  uint64_t v44;
  uint64_t v45;
  uint64_t v46;
  void *v47;
  __uint64_t v48;
  void *v49;
  char *v50;
  unsigned int v51;
  v2 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v2) {
    goto LABEL_12;
  }
  uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v4 = v2[4];
    BOOL v5 = v4 >= (unint64_t)a1;
    else {
      v6 = v2 + 1;
    }
    if (v5) {
      uint64_t v3 = (uint64_t)v2;
    }
    v2 = (void *)*v6;
  }

  while (*v6);
  if (v3 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v3 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v7 = *(void *)(v3 + 40);
  v8 = (unsigned int *)(v7 + 4640);
  do
  {
    unsigned int v9 = __ldaxr(v8);
    signed int v10 = v9 + 1;
  }

  while (__stlxr(v10, v8));
  if (gCheckGLErrors) {
    BOOL v11 = v10 <= 1;
  }
  else {
    BOOL v11 = 1;
  }
  if (v11)
  {
    id v40 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v39 = handle_opengl_thread_conflict((const void **)v7);
    id v40 = [(id)DYGetGLGuestAppClient(v39) waitOnGraphicsSemaphoreAssertions];
    if ((int)v40 >= 1)
    {
      do
LABEL_57:
        unsigned int v41 = __ldaxr(v8);
      while (__stlxr(v41 - 1, v8));
      v42 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v40) graphicsLockWaitQueue];
      dispatch_sync_f(v42, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 24) + 6992LL))(a1);
      return;
    }
  }

  *(_BYTE *)(v7 + 4838) = 1;
  unsigned int v49 = 0LL;
  signed int v50 = 0LL;
  unsigned int v51 = 0;
  if ([(id)DYGetGLGuestAppClient(v40) state] != (char *)&dword_0 + 1
    || (id v12 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v12))
  {
    v14 = (char *)v49;
    BOOL v13 = v50;
    int64_t v15 = v50 - (_BYTE *)v49;
    unsigned int v16 = v51;
    unint64_t v17 = v51 - (v50 - (_BYTE *)v49);
    if (v17 > 0x2F) {
      goto LABEL_24;
    }
    int v43 = (303 - v17) & 0xFFFFFF00;
    v51 += v43;
    v14 = (char *)malloc(v43 + v16);
    unsigned int v49 = v14;
    if (v14)
    {
      if ((v14 & 3) == 0)
      {
        BOOL v13 = &v14[v15];
LABEL_24:
        *((_OWORD *)v13 + 1) = 0u;
        *((_OWORD *)v13 + 2) = 0u;
        *(_OWORD *)BOOL v13 = 0u;
        signed int v50 = v13 + 48;
        GPUTools::FB::Fbuf::align((char **)&v49);
        *((_DWORD *)v14 + 1) = 969;
        *((_DWORD *)v14 + 8) = 0;
        __uint64_t v48 = 0LL;
        uint64_t v18 = pthread_threadid_np(0LL, &v48);
        *((void *)v14 + 1) = v48;
        *((_WORD *)v14 + 18) = 67;
        *((void *)v14 + 5) = *(void *)v7;
        char v19 = byte_207221;
        if ((byte_207221 & 1) != 0) {
          breakpoint_break( (uint64_t)&v49,  (volatile int *)((char *)&stru_388.flags + 1),  1LL,  *(unsigned int *)(v7 + 3404),  v7);
        }
        uint64_t v20 = (uint64_t)[(id)DYGetGLGuestAppClient(v18) overrideFlags];
        if (!(v20 & 0x10 | v19 & 4))
        {
          uint64_t v21 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 32) + 6992LL))(a1);
          uint64_t v20 = mach_absolute_time();
          uint64_t v22 = v20 - v21;
          unint64_t v23 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v24 = v49;
            *((void *)v49 + 2) = v21;
            v24[3] = v22;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v46 = __udivti3(g_DYTimebaseInfo * v22, (g_DYTimebaseInfo * (unsigned __int128)v22) >> 64);
            unsigned int v47 = v49;
            *((void *)v49 + 3) = v46;
            uint64_t v20 = __udivti3(v23 * v21, (v23 * (unsigned __int128)v21) >> 64);
            v47[2] = v20;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v20 = check_errors(v7);
        }

{
  void *v2;
  uint64_t v3;
  unint64_t v4;
  BOOL v5;
  void *v6;
  uint64_t v7;
  unsigned int *v8;
  unsigned int v9;
  signed int v10;
  BOOL v11;
  id v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  unsigned int v16;
  uint64_t v17;
  id v18;
  unsigned int v19;
  dispatch_queue_s *v20;
  uint64_t v21;
  v2 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v2) {
    goto LABEL_12;
  }
  uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v4 = v2[4];
    BOOL v5 = v4 >= (unint64_t)a1;
    else {
      v6 = v2 + 1;
    }
    if (v5) {
      uint64_t v3 = (uint64_t)v2;
    }
    v2 = (void *)*v6;
  }

  while (*v6);
  if (v3 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v3 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v7 = *(void *)(v3 + 40);
  v8 = (unsigned int *)(v7 + 4640);
  do
  {
    unsigned int v9 = __ldaxr(v8);
    signed int v10 = v9 + 1;
  }

  while (__stlxr(v10, v8));
  if (gCheckGLErrors) {
    BOOL v11 = v10 <= 1;
  }
  else {
    BOOL v11 = 1;
  }
  if (v11)
  {
    uint64_t v18 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v17 = handle_opengl_thread_conflict((const void **)v7);
    uint64_t v18 = [(id)DYGetGLGuestAppClient(v17) waitOnGraphicsSemaphoreAssertions];
    if ((int)v18 >= 1)
    {
      do
LABEL_34:
        char v19 = __ldaxr(v8);
      while (__stlxr(v19 - 1, v8));
      uint64_t v20 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v18) graphicsLockWaitQueue];
      dispatch_sync_f(v20, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 24) + 6992LL))(a1);
      return;
    }
  }

  *(_BYTE *)(v7 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v18) state] == (char *)&dword_0 + 1)
  {
    id v12 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v12)
    {
      do
        unsigned int v16 = __ldaxr(v8);
      while (__stlxr(v16 - 1, v8));
      [(id)DYGetGLGuestAppClient(v12) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 32) + 6992LL))(a1);
  ++*(void *)(v7 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v7);
    if (gBreakOnError)
    {
      uint64_t v21 = *(unsigned int *)(v7 + 3404);
      if ((_DWORD)v21) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v21, v7);
      }
    }
  }

  do
  {
    BOOL v13 = __ldaxr(v8);
    v14 = v13 - 1;
  }

  while (__stlxr(v14, v8));
  if (gCheckGLErrors) {
    int64_t v15 = v14 < 1;
  }
  else {
    int64_t v15 = 1;
  }
  if (!v15) {
    handle_opengl_thread_conflict((const void **)v7);
  }
}

{
  void *v2;
  uint64_t v3;
  unint64_t v4;
  BOOL v5;
  void *v6;
  uint64_t v7;
  unsigned int *v8;
  unsigned int v9;
  signed int v10;
  BOOL v11;
  id v12;
  uint64_t v13;
  uint64_t v14;
  int64x2_t v15;
  unsigned int v16;
  signed int v17;
  BOOL v18;
  unsigned int v19;
  uint64_t v20;
  id v21;
  unsigned int v22;
  dispatch_queue_s *v23;
  uint64_t v24;
  v2 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v2) {
    goto LABEL_12;
  }
  uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v4 = v2[4];
    BOOL v5 = v4 >= (unint64_t)a1;
    else {
      v6 = v2 + 1;
    }
    if (v5) {
      uint64_t v3 = (uint64_t)v2;
    }
    v2 = (void *)*v6;
  }

  while (*v6);
  if (v3 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v3 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v7 = *(void *)(v3 + 40);
  v8 = (unsigned int *)(v7 + 4640);
  do
  {
    unsigned int v9 = __ldaxr(v8);
    signed int v10 = v9 + 1;
  }

  while (__stlxr(v10, v8));
  if (gCheckGLErrors) {
    BOOL v11 = v10 <= 1;
  }
  else {
    BOOL v11 = 1;
  }
  if (v11)
  {
    uint64_t v21 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v20 = handle_opengl_thread_conflict((const void **)v7);
    uint64_t v21 = [(id)DYGetGLGuestAppClient(v20) waitOnGraphicsSemaphoreAssertions];
    if ((int)v21 >= 1)
    {
      do
LABEL_34:
        uint64_t v22 = __ldaxr(v8);
      while (__stlxr(v22 - 1, v8));
      unint64_t v23 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v21) graphicsLockWaitQueue];
      dispatch_sync_f(v23, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 24) + 6992LL))(a1);
      return;
    }
  }

  *(_BYTE *)(v7 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v21) state] == (char *)&dword_0 + 1)
  {
    id v12 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v12)
    {
      do
        char v19 = __ldaxr(v8);
      while (__stlxr(v19 - 1, v8));
      [(id)DYGetGLGuestAppClient(v12) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  BOOL v13 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 32) + 6992LL))(a1);
  v14 = mach_absolute_time();
  int64_t v15 = vdupq_n_s64(1uLL);
  v15.i64[0] = v14 - v13;
  *(int64x2_t *)(v7 + 3696) = vaddq_s64(v15, *(int64x2_t *)(v7 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v7);
    if (gBreakOnError)
    {
      uint64_t v24 = *(unsigned int *)(v7 + 3404);
      if ((_DWORD)v24) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v24, v7);
      }
    }
  }

  do
  {
    unsigned int v16 = __ldaxr(v8);
    unint64_t v17 = v16 - 1;
  }

  while (__stlxr(v17, v8));
  if (gCheckGLErrors) {
    uint64_t v18 = v17 < 1;
  }
  else {
    uint64_t v18 = 1;
  }
  if (!v18) {
    handle_opengl_thread_conflict((const void **)v7);
  }
}

void sub_8AE14( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void shader_binary( __GLIContextRec *a1, uint64_t a2, unsigned int *a3, uint64_t a4, const void *a5, uint64_t a6)
{
  id v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      unsigned int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    id v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  uint64_t v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    id v50 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v49 = handle_opengl_thread_conflict((const void **)v17);
    id v50 = [(id)DYGetGLGuestAppClient(v49) waitOnGraphicsSemaphoreAssertions];
    if ((int)v50 >= 1)
    {
      do
LABEL_57:
        unsigned int v51 = __ldaxr(v18);
      while (__stlxr(v51 - 1, v18));
      unsigned int v52 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v50) graphicsLockWaitQueue];
      dispatch_sync_f(v52, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, unsigned int *, uint64_t, const void *, uint64_t))(*(void *)(v17 + 24) + 7000LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  uint64_t v59 = 0LL;
  v60 = 0LL;
  unsigned int v61 = 0;
  if ([(id)DYGetGLGuestAppClient(v50) state] != (char *)&dword_0 + 1
    || (id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v22))
  {
    uint64_t v24 = (char *)v59;
    unint64_t v23 = v60;
    int64_t v25 = v60 - (_BYTE *)v59;
    unsigned int v26 = v61;
    unint64_t v27 = v61 - (v60 - (_BYTE *)v59);
    if (v27 > 0x4F) {
      goto LABEL_24;
    }
    int v53 = (335 - v27) & 0xFFFFFF00;
    v61 += v53;
    uint64_t v24 = (char *)malloc(v53 + v26);
    uint64_t v59 = v24;
    if (v24)
    {
      if ((v24 & 3) == 0)
      {
        unint64_t v23 = &v24[v25];
LABEL_24:
        *((_OWORD *)v23 + 3) = 0u;
        *((_OWORD *)v23 + 4) = 0u;
        *((_OWORD *)v23 + 1) = 0u;
        *((_OWORD *)v23 + 2) = 0u;
        *(_OWORD *)unint64_t v23 = 0u;
        v60 = v23 + 80;
        GPUTools::FB::Fbuf::align((char **)&v59);
        *((_DWORD *)v24 + 1) = 970;
        *((_DWORD *)v24 + 8) = 0;
        __uint64_t v58 = 0LL;
        uint64_t v28 = pthread_threadid_np(0LL, &v58);
        *((void *)v24 + 1) = v58;
        strcpy(v24 + 36, "Cipepi");
        *(void *)(v24 + 44) = *(void *)v17;
        *((_DWORD *)v24 + 13) = a2;
        *((void *)v24 + 7) = a3;
        *((_DWORD *)v24 + 16) = a4;
        *(void *)(v24 + 68) = a5;
        *((_DWORD *)v24 + 19) = a6;
        char v29 = byte_207222;
        if ((byte_207222 & 1) != 0) {
          breakpoint_break( (uint64_t)&v59,  (volatile int *)((char *)&stru_388.flags + 2),  1LL,  *(unsigned int *)(v17 + 3404),  v17);
        }
        uint64_t v30 = (uint64_t)[(id)DYGetGLGuestAppClient(v28) overrideFlags];
        if (!(v30 & 0x10 | v29 & 4))
        {
          uint64_t v31 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, unsigned int *, uint64_t, const void *, uint64_t))(*(void *)(v17 + 32) + 7000LL))( a1,  a2,  a3,  a4,  a5,  a6);
          uint64_t v30 = mach_absolute_time();
          uint64_t v32 = v30 - v31;
          unint64_t v33 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unsigned int v34 = v59;
            *((void *)v59 + 2) = v31;
            v34[3] = v32;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v56 = __udivti3(g_DYTimebaseInfo * v32, (g_DYTimebaseInfo * (unsigned __int128)v32) >> 64);
            uint64_t v57 = v59;
            *((void *)v59 + 3) = v56;
            uint64_t v30 = __udivti3(v33 * v31, (v33 * (unsigned __int128)v31) >> 64);
            v57[2] = v30;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v30 = check_errors(v17);
        }

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  id v22;
  char *v23;
  char *v24;
  int64_t v25;
  unsigned int v26;
  unint64_t v27;
  uint64_t v28;
  char v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  unint64_t v33;
  void *v34;
  id v35;
  GPUTools::FB::Fbuf *v36;
  unsigned int v37;
  GPUTools::FB::Fbuf *v38;
  dispatch_queue_s *v39;
  uint64_t v40;
  GPUTools::FB::Stream *v41;
  unsigned int *v42;
  unsigned int v43;
  unsigned int v44;
  unsigned int v45;
  signed int v46;
  BOOL v47;
  unsigned int v48;
  uint64_t v49;
  id v50;
  unsigned int v51;
  dispatch_queue_s *v52;
  int v53;
  uint64_t v54;
  uint64_t v55;
  uint64_t v56;
  void *v57;
  __uint64_t v58;
  void *v59;
  char *v60;
  unsigned int v61;
  id v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      unsigned int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    id v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  uint64_t v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    id v50 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v49 = handle_opengl_thread_conflict((const void **)v17);
    id v50 = [(id)DYGetGLGuestAppClient(v49) waitOnGraphicsSemaphoreAssertions];
    if ((int)v50 >= 1)
    {
      do
LABEL_57:
        unsigned int v51 = __ldaxr(v18);
      while (__stlxr(v51 - 1, v18));
      unsigned int v52 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v50) graphicsLockWaitQueue];
      dispatch_sync_f(v52, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, unsigned int *, uint64_t, const void *, uint64_t))(*(void *)(v17 + 24) + 7000LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  uint64_t v59 = 0LL;
  v60 = 0LL;
  unsigned int v61 = 0;
  if ([(id)DYGetGLGuestAppClient(v50) state] != (char *)&dword_0 + 1
    || (id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v22))
  {
    uint64_t v24 = (char *)v59;
    unint64_t v23 = v60;
    int64_t v25 = v60 - (_BYTE *)v59;
    unsigned int v26 = v61;
    unint64_t v27 = v61 - (v60 - (_BYTE *)v59);
    if (v27 > 0x4F) {
      goto LABEL_24;
    }
    int v53 = (335 - v27) & 0xFFFFFF00;
    v61 += v53;
    uint64_t v24 = (char *)malloc(v53 + v26);
    uint64_t v59 = v24;
    if (v24)
    {
      if ((v24 & 3) == 0)
      {
        unint64_t v23 = &v24[v25];
LABEL_24:
        *((_OWORD *)v23 + 3) = 0u;
        *((_OWORD *)v23 + 4) = 0u;
        *((_OWORD *)v23 + 1) = 0u;
        *((_OWORD *)v23 + 2) = 0u;
        *(_OWORD *)unint64_t v23 = 0u;
        v60 = v23 + 80;
        GPUTools::FB::Fbuf::align((char **)&v59);
        *((_DWORD *)v24 + 1) = 970;
        *((_DWORD *)v24 + 8) = 0;
        __uint64_t v58 = 0LL;
        uint64_t v28 = pthread_threadid_np(0LL, &v58);
        *((void *)v24 + 1) = v58;
        strcpy(v24 + 36, "Cipepi");
        *(void *)(v24 + 44) = *(void *)v17;
        *((_DWORD *)v24 + 13) = a2;
        *((void *)v24 + 7) = a3;
        *((_DWORD *)v24 + 16) = a4;
        *(void *)(v24 + 68) = a5;
        *((_DWORD *)v24 + 19) = a6;
        char v29 = byte_207222;
        if ((byte_207222 & 1) != 0) {
          breakpoint_break( (uint64_t)&v59,  (volatile int *)((char *)&stru_388.flags + 2),  1LL,  *(unsigned int *)(v17 + 3404),  v17);
        }
        uint64_t v30 = (uint64_t)[(id)DYGetGLGuestAppClient(v28) overrideFlags];
        if (!(v30 & 0x10 | v29 & 4))
        {
          uint64_t v31 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, unsigned int *, uint64_t, const void *, uint64_t))(*(void *)(v17 + 32) + 7000LL))( a1,  a2,  a3,  a4,  a5,  a6);
          uint64_t v30 = mach_absolute_time();
          uint64_t v32 = v30 - v31;
          unint64_t v33 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unsigned int v34 = v59;
            *((void *)v59 + 2) = v31;
            v34[3] = v32;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v56 = __udivti3(g_DYTimebaseInfo * v32, (g_DYTimebaseInfo * (unsigned __int128)v32) >> 64);
            uint64_t v57 = v59;
            *((void *)v59 + 3) = v56;
            uint64_t v30 = __udivti3(v33 * v31, (v33 * (unsigned __int128)v31) >> 64);
            v57[2] = v30;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v30 = check_errors(v17);
        }

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  id v22;
  unsigned int v23;
  signed int v24;
  BOOL v25;
  unsigned int v26;
  uint64_t v27;
  id v28;
  unsigned int v29;
  dispatch_queue_s *v30;
  uint64_t v31;
  id v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      unsigned int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    id v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  uint64_t v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    uint64_t v28 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v27 = handle_opengl_thread_conflict((const void **)v17);
    uint64_t v28 = [(id)DYGetGLGuestAppClient(v27) waitOnGraphicsSemaphoreAssertions];
    if ((int)v28 >= 1)
    {
      do
LABEL_34:
        char v29 = __ldaxr(v18);
      while (__stlxr(v29 - 1, v18));
      uint64_t v30 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v28) graphicsLockWaitQueue];
      dispatch_sync_f(v30, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, unsigned int *, uint64_t, const void *, uint64_t))(*(void *)(v17 + 24) + 7000LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v28) state] == (char *)&dword_0 + 1)
  {
    id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v22)
    {
      do
        unsigned int v26 = __ldaxr(v18);
      while (__stlxr(v26 - 1, v18));
      [(id)DYGetGLGuestAppClient(v22) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, unsigned int *, uint64_t, const void *, uint64_t))(*(void *)(v17 + 32) + 7000LL))( a1,  a2,  a3,  a4,  a5,  a6);
  ++*(void *)(v17 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v17);
    if (gBreakOnError)
    {
      uint64_t v31 = *(unsigned int *)(v17 + 3404);
      if ((_DWORD)v31) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v31, v17);
      }
    }
  }

  do
  {
    unint64_t v23 = __ldaxr(v18);
    uint64_t v24 = v23 - 1;
  }

  while (__stlxr(v24, v18));
  if (gCheckGLErrors) {
    int64_t v25 = v24 < 1;
  }
  else {
    int64_t v25 = 1;
  }
  if (!v25) {
    handle_opengl_thread_conflict((const void **)v17);
  }
}

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  id v22;
  uint64_t v23;
  uint64_t v24;
  int64x2_t v25;
  unsigned int v26;
  signed int v27;
  BOOL v28;
  unsigned int v29;
  uint64_t v30;
  id v31;
  unsigned int v32;
  dispatch_queue_s *v33;
  uint64_t v34;
  id v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      unsigned int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    id v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  uint64_t v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    uint64_t v31 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v30 = handle_opengl_thread_conflict((const void **)v17);
    uint64_t v31 = [(id)DYGetGLGuestAppClient(v30) waitOnGraphicsSemaphoreAssertions];
    if ((int)v31 >= 1)
    {
      do
LABEL_34:
        uint64_t v32 = __ldaxr(v18);
      while (__stlxr(v32 - 1, v18));
      unint64_t v33 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v31) graphicsLockWaitQueue];
      dispatch_sync_f(v33, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, unsigned int *, uint64_t, const void *, uint64_t))(*(void *)(v17 + 24) + 7000LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v31) state] == (char *)&dword_0 + 1)
  {
    id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v22)
    {
      do
        char v29 = __ldaxr(v18);
      while (__stlxr(v29 - 1, v18));
      [(id)DYGetGLGuestAppClient(v22) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unint64_t v23 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, unsigned int *, uint64_t, const void *, uint64_t))(*(void *)(v17 + 32) + 7000LL))( a1,  a2,  a3,  a4,  a5,  a6);
  uint64_t v24 = mach_absolute_time();
  int64_t v25 = vdupq_n_s64(1uLL);
  v25.i64[0] = v24 - v23;
  *(int64x2_t *)(v17 + 3696) = vaddq_s64(v25, *(int64x2_t *)(v17 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v17);
    if (gBreakOnError)
    {
      unsigned int v34 = *(unsigned int *)(v17 + 3404);
      if ((_DWORD)v34) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v34, v17);
      }
    }
  }

  do
  {
    unsigned int v26 = __ldaxr(v18);
    unint64_t v27 = v26 - 1;
  }

  while (__stlxr(v27, v18));
  if (gCheckGLErrors) {
    uint64_t v28 = v27 < 1;
  }
  else {
    uint64_t v28 = 1;
  }
  if (!v28) {
    handle_opengl_thread_conflict((const void **)v17);
  }
}

void sub_8B360( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void get_shader_precision_format(__GLIContextRec *a1, uint64_t a2, uint64_t a3, int *a4, int *a5)
{
  signed int v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      unint64_t v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    signed int v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  unsigned int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    id v53 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v52 = handle_opengl_thread_conflict((const void **)v15);
    id v53 = [(id)DYGetGLGuestAppClient(v52) waitOnGraphicsSemaphoreAssertions];
    if ((int)v53 >= 1)
    {
      do
LABEL_60:
        unsigned int v54 = __ldaxr(v16);
      while (__stlxr(v54 - 1, v16));
      uint64_t v55 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v53) graphicsLockWaitQueue];
      dispatch_sync_f(v55, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *, int *))(*(void *)(v15 + 24) + 7008LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  unsigned int v61 = 0LL;
  v62 = 0LL;
  unsigned int v63 = 0;
  if ([(id)DYGetGLGuestAppClient(v53) state] != (char *)&dword_0 + 1
    || (id v24 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v24))
  {
    GPUTools::FB::Encode((uint64_t)&v61, 786LL, 256LL, (uint64_t)"Cee@2i@1i", v20, v21, v22, v23, *(void *)v15);
    char v26 = byte_20716A;
    if ((byte_20716A & 1) != 0) {
      breakpoint_break( (uint64_t)&v61,  (volatile int *)((char *)&stru_2E8.size + 2),  1LL,  *(unsigned int *)(v15 + 3404),  v15);
    }
    if (!([(id)DYGetGLGuestAppClient(v25) overrideFlags] & 0x10 | v26 & 4))
    {
      uint64_t v31 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *, int *))(*(void *)(v15 + 32) + 7008LL))( a1,  a2,  a3,  a4,  a5);
      uint64_t v59 = v15;
      char v32 = v26;
      uint64_t v33 = mach_absolute_time() - v31;
      unint64_t v34 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        id v35 = v61;
        *((void *)v61 + 3) = v33;
      }

      else
      {
        uint64_t v58 = __udivti3(g_DYTimebaseInfo * v33, (g_DYTimebaseInfo * (unsigned __int128)v33) >> 64);
        id v35 = v61;
        *((void *)v61 + 3) = v58;
        uint64_t v31 = __udivti3(v34 * v31, (v34 * (unsigned __int128)v31) >> 64);
      }

      v35[2] = v31;
      char v26 = v32;
      uint64_t v15 = v59;
      if (gCheckGLErrors) {
        check_errors(v59);
      }
    }

    signed int v36 = v61;
    __int128 v60 = *((_OWORD *)v61 + 1);
    v62 = v61;
    if (v63 >= 0x24)
    {
      *((_DWORD *)v61 + 8) = 0;
      *signed int v36 = 0u;
      v36[1] = 0u;
    }

    GPUTools::FB::Encode((uint64_t)&v61, 786LL, 256LL, (uint64_t)"Cee@2i@1i", v27, v28, v29, v30, *(void *)v15);
    *((_OWORD *)v61 + 1) = v60;
    id v38 = objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v37), "activeCaptureDescriptor"),  "includeBacktraceInFbufs");
    if ((_DWORD)v38) {
      id v38 = (id)GPUTools::FB::EncodeCurrentBacktrace((GPUTools::FB *)&v61, v39);
    }
    unsigned int v41 = (GPUTools::FB::Fbuf *)*(unsigned int *)(v15 + 3404);
    if ((_DWORD)v41) {
      id v38 = (id)GPUTools::FB::EncodeGLError((GPUTools::FB *)&v61, v41, v40);
    }
    if (objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v38), "activeCaptureDescriptor"),  "queryDriverEventsOnGraphicsCommands")) {
      encode_driver_events((id *)v15, (uint64_t)&v61);
    }
    v42 = GPUTools::FB::EncodeThreadQueueInfo( (void *)(v15 + 3480),  (GPUTools::FB::Fbuf *)(v15 + 3520),  (GPUTools::FB *)&v61);
    uint64_t v43 = *(unsigned int *)(v15 + 3404);
    if ((_DWORD)v43 && gBreakOnError)
    {
      uint64_t v56 = 3LL;
      uint64_t v57 = 0xFFFFFFFFLL;
    }

    else
    {
      if ((v26 & 2) == 0) {
        goto LABEL_41;
      }
      uint64_t v56 = 2LL;
      uint64_t v57 = 786LL;
    }

    breakpoint_break((uint64_t)&v61, (volatile int *)v57, v56, v43, v15);
LABEL_41:
    unsigned int v44 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v42) defaultFbufStream];
    unsigned int v45 = (unsigned int *)((char *)v44 + 56);
    do
      unsigned int v46 = __ldaxr(v45);
    while (__stlxr(1u, v45));
    if (v46 == 1)
    {
      do
      {
        while (*v45 == 1)
          ;
        do
          unsigned int v47 = __ldaxr(v45);
        while (__stlxr(1u, v45));
      }

      while (v47 == 1);
    }

    GPUTools::FB::Stream::Write_nolock(v44, (GPUTools::FB::Fbuf *)&v61, *(unsigned int *)v61, 1);
    atomic_store(0, v45);
    do
    {
      unsigned int v48 = __ldaxr(v16);
      signed int v49 = v48 - 1;
    }

    while (__stlxr(v49, v16));
    if (gCheckGLErrors) {
      BOOL v50 = v49 < 1;
    }
    else {
      BOOL v50 = 1;
    }
    if (!v50) {
      handle_opengl_thread_conflict((const void **)v15);
    }
    goto LABEL_54;
  }

  do
    unsigned int v51 = __ldaxr(v16);
  while (__stlxr(v51 - 1, v16));
  [(id)DYGetGLGuestAppClient(v24) triggerArmedCapture];
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *, int *))(*(void *)(v15 + 24) + 7008LL))( a1,  a2,  a3,  a4,  a5);
LABEL_54:
  if (v61) {
    free(v61);
  }
}

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  id v24;
  uint64_t v25;
  char v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  char v32;
  uint64_t v33;
  unint64_t v34;
  void *v35;
  _OWORD *v36;
  uint64_t v37;
  id v38;
  GPUTools::FB::Fbuf *v39;
  unsigned int v40;
  GPUTools::FB::Fbuf *v41;
  dispatch_queue_s *v42;
  uint64_t v43;
  GPUTools::FB::Stream *v44;
  unsigned int *v45;
  unsigned int v46;
  unsigned int v47;
  unsigned int v48;
  signed int v49;
  BOOL v50;
  unsigned int v51;
  uint64_t v52;
  id v53;
  unsigned int v54;
  dispatch_queue_s *v55;
  uint64_t v56;
  uint64_t v57;
  uint64_t v58;
  uint64_t v59;
  __int128 v60;
  void *v61;
  void *v62;
  unsigned int v63;
  signed int v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      unint64_t v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    signed int v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  unsigned int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    id v53 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v52 = handle_opengl_thread_conflict((const void **)v15);
    id v53 = [(id)DYGetGLGuestAppClient(v52) waitOnGraphicsSemaphoreAssertions];
    if ((int)v53 >= 1)
    {
      do
LABEL_60:
        unsigned int v54 = __ldaxr(v16);
      while (__stlxr(v54 - 1, v16));
      uint64_t v55 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v53) graphicsLockWaitQueue];
      dispatch_sync_f(v55, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *, int *))(*(void *)(v15 + 24) + 7008LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  unsigned int v61 = 0LL;
  v62 = 0LL;
  unsigned int v63 = 0;
  if ([(id)DYGetGLGuestAppClient(v53) state] != (char *)&dword_0 + 1
    || (id v24 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v24))
  {
    GPUTools::FB::Encode((uint64_t)&v61, 786LL, 256LL, (uint64_t)"Cee@2i@1i", v20, v21, v22, v23, *(void *)v15);
    char v26 = byte_20716A;
    if ((byte_20716A & 1) != 0) {
      breakpoint_break( (uint64_t)&v61,  (volatile int *)((char *)&stru_2E8.size + 2),  1LL,  *(unsigned int *)(v15 + 3404),  v15);
    }
    if (!([(id)DYGetGLGuestAppClient(v25) overrideFlags] & 0x10 | v26 & 4))
    {
      uint64_t v31 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *, int *))(*(void *)(v15 + 32) + 7008LL))( a1,  a2,  a3,  a4,  a5);
      uint64_t v59 = v15;
      char v32 = v26;
      uint64_t v33 = mach_absolute_time() - v31;
      unint64_t v34 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        id v35 = v61;
        *((void *)v61 + 3) = v33;
      }

      else
      {
        uint64_t v58 = __udivti3(g_DYTimebaseInfo * v33, (g_DYTimebaseInfo * (unsigned __int128)v33) >> 64);
        id v35 = v61;
        *((void *)v61 + 3) = v58;
        uint64_t v31 = __udivti3(v34 * v31, (v34 * (unsigned __int128)v31) >> 64);
      }

      v35[2] = v31;
      char v26 = v32;
      uint64_t v15 = v59;
      if (gCheckGLErrors) {
        check_errors(v59);
      }
    }

    signed int v36 = v61;
    __int128 v60 = *((_OWORD *)v61 + 1);
    v62 = v61;
    if (v63 >= 0x24)
    {
      *((_DWORD *)v61 + 8) = 0;
      *signed int v36 = 0u;
      v36[1] = 0u;
    }

    GPUTools::FB::Encode((uint64_t)&v61, 786LL, 256LL, (uint64_t)"Cee@2i@1i", v27, v28, v29, v30, *(void *)v15);
    *((_OWORD *)v61 + 1) = v60;
    id v38 = objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v37), "activeCaptureDescriptor"),  "includeBacktraceInFbufs");
    if ((_DWORD)v38) {
      id v38 = (id)GPUTools::FB::EncodeCurrentBacktrace((GPUTools::FB *)&v61, v39);
    }
    unsigned int v41 = (GPUTools::FB::Fbuf *)*(unsigned int *)(v15 + 3404);
    if ((_DWORD)v41) {
      id v38 = (id)GPUTools::FB::EncodeGLError((GPUTools::FB *)&v61, v41, v40);
    }
    if (objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v38), "activeCaptureDescriptor"),  "queryDriverEventsOnGraphicsCommands")) {
      encode_driver_events((id *)v15, (uint64_t)&v61);
    }
    v42 = GPUTools::FB::EncodeThreadQueueInfo( (void *)(v15 + 3480),  (GPUTools::FB::Fbuf *)(v15 + 3520),  (GPUTools::FB *)&v61);
    uint64_t v43 = *(unsigned int *)(v15 + 3404);
    if ((_DWORD)v43 && gBreakOnError)
    {
      uint64_t v56 = 3LL;
      uint64_t v57 = 0xFFFFFFFFLL;
    }

    else
    {
      if ((v26 & 2) == 0) {
        goto LABEL_41;
      }
      uint64_t v56 = 2LL;
      uint64_t v57 = 786LL;
    }

    breakpoint_break((uint64_t)&v61, (volatile int *)v57, v56, v43, v15);
LABEL_41:
    unsigned int v44 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v42) defaultFbufStream];
    unsigned int v45 = (unsigned int *)((char *)v44 + 56);
    do
      unsigned int v46 = __ldaxr(v45);
    while (__stlxr(1u, v45));
    if (v46 == 1)
    {
      do
      {
        while (*v45 == 1)
          ;
        do
          unsigned int v47 = __ldaxr(v45);
        while (__stlxr(1u, v45));
      }

      while (v47 == 1);
    }

    GPUTools::FB::Stream::Write_nolock(v44, (GPUTools::FB::Fbuf *)&v61, *(unsigned int *)v61, 1);
    atomic_store(0, v45);
    do
    {
      unsigned int v48 = __ldaxr(v16);
      signed int v49 = v48 - 1;
    }

    while (__stlxr(v49, v16));
    if (gCheckGLErrors) {
      BOOL v50 = v49 < 1;
    }
    else {
      BOOL v50 = 1;
    }
    if (!v50) {
      handle_opengl_thread_conflict((const void **)v15);
    }
    goto LABEL_54;
  }

  do
    unsigned int v51 = __ldaxr(v16);
  while (__stlxr(v51 - 1, v16));
  [(id)DYGetGLGuestAppClient(v24) triggerArmedCapture];
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *, int *))(*(void *)(v15 + 24) + 7008LL))( a1,  a2,  a3,  a4,  a5);
LABEL_54:
  if (v61) {
    free(v61);
  }
}

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  id v20;
  unsigned int v21;
  signed int v22;
  BOOL v23;
  unsigned int v24;
  uint64_t v25;
  id v26;
  unsigned int v27;
  dispatch_queue_s *v28;
  uint64_t v29;
  signed int v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      unint64_t v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    signed int v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  unsigned int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    char v26 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v25 = handle_opengl_thread_conflict((const void **)v15);
    char v26 = [(id)DYGetGLGuestAppClient(v25) waitOnGraphicsSemaphoreAssertions];
    if ((int)v26 >= 1)
    {
      do
LABEL_34:
        uint64_t v27 = __ldaxr(v16);
      while (__stlxr(v27 - 1, v16));
      uint64_t v28 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v26) graphicsLockWaitQueue];
      dispatch_sync_f(v28, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *, int *))(*(void *)(v15 + 24) + 7008LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v26) state] == (char *)&dword_0 + 1)
  {
    uint64_t v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        id v24 = __ldaxr(v16);
      while (__stlxr(v24 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *, int *))(*(void *)(v15 + 32) + 7008LL))( a1,  a2,  a3,  a4,  a5);
  ++*(void *)(v15 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v29 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v29) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v29, v15);
      }
    }
  }

  do
  {
    uint64_t v21 = __ldaxr(v16);
    uint64_t v22 = v21 - 1;
  }

  while (__stlxr(v22, v16));
  if (gCheckGLErrors) {
    uint64_t v23 = v22 < 1;
  }
  else {
    uint64_t v23 = 1;
  }
  if (!v23) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  id v20;
  uint64_t v21;
  uint64_t v22;
  int64x2_t v23;
  unsigned int v24;
  signed int v25;
  BOOL v26;
  unsigned int v27;
  uint64_t v28;
  id v29;
  unsigned int v30;
  dispatch_queue_s *v31;
  uint64_t v32;
  signed int v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      unint64_t v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    signed int v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  unsigned int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    uint64_t v29 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v28 = handle_opengl_thread_conflict((const void **)v15);
    uint64_t v29 = [(id)DYGetGLGuestAppClient(v28) waitOnGraphicsSemaphoreAssertions];
    if ((int)v29 >= 1)
    {
      do
LABEL_34:
        uint64_t v30 = __ldaxr(v16);
      while (__stlxr(v30 - 1, v16));
      uint64_t v31 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v29) graphicsLockWaitQueue];
      dispatch_sync_f(v31, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *, int *))(*(void *)(v15 + 24) + 7008LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v29) state] == (char *)&dword_0 + 1)
  {
    uint64_t v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        uint64_t v27 = __ldaxr(v16);
      while (__stlxr(v27 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v21 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *, int *))(*(void *)(v15 + 32) + 7008LL))( a1,  a2,  a3,  a4,  a5);
  uint64_t v22 = mach_absolute_time();
  uint64_t v23 = vdupq_n_s64(1uLL);
  v23.i64[0] = v22 - v21;
  *(int64x2_t *)(v15 + 3696) = vaddq_s64(v23, *(int64x2_t *)(v15 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      char v32 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v32) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v32, v15);
      }
    }
  }

  do
  {
    id v24 = __ldaxr(v16);
    uint64_t v25 = v24 - 1;
  }

  while (__stlxr(v25, v16));
  if (gCheckGLErrors) {
    char v26 = v25 < 1;
  }
  else {
    char v26 = 1;
  }
  if (!v26) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

void sub_8B824( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, void *a18)
{
  if (a18) {
    free(a18);
  }
  _Unwind_Resume(exception_object);
}

void depth_rangef(__GLIContextRec *a1, float a2, float a3)
{
  v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      signed int v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v44 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v43 = handle_opengl_thread_conflict((const void **)v11);
    id v44 = [(id)DYGetGLGuestAppClient(v43) waitOnGraphicsSemaphoreAssertions];
    if ((int)v44 >= 1)
    {
      do
LABEL_57:
        unsigned int v45 = __ldaxr(v12);
      while (__stlxr(v45 - 1, v12));
      unsigned int v46 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v44) graphicsLockWaitQueue];
      dispatch_sync_f(v46, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, float, float))(*(void *)(v11 + 24) + 7016LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  id v53 = 0LL;
  unsigned int v54 = 0LL;
  unsigned int v55 = 0;
  if ([(id)DYGetGLGuestAppClient(v44) state] != (char *)&dword_0 + 1
    || (id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v16))
  {
    signed int v18 = (char *)v53;
    unsigned int v17 = v54;
    int64_t v19 = v54 - (_BYTE *)v53;
    unsigned int v20 = v55;
    unint64_t v21 = v55 - (v54 - (_BYTE *)v53);
    if (v21 > 0x37) {
      goto LABEL_24;
    }
    int v47 = (311 - v21) & 0xFFFFFF00;
    v55 += v47;
    signed int v18 = (char *)malloc(v47 + v20);
    id v53 = v18;
    if (v18)
    {
      if ((v18 & 3) == 0)
      {
        unsigned int v17 = &v18[v19];
LABEL_24:
        *((void *)v17 + 6) = 0LL;
        *((_OWORD *)v17 + 1) = 0u;
        *((_OWORD *)v17 + 2) = 0u;
        *(_OWORD *)unsigned int v17 = 0u;
        unsigned int v54 = v17 + 56;
        GPUTools::FB::Fbuf::align((char **)&v53);
        *((_DWORD *)v18 + 1) = 767;
        *((_DWORD *)v18 + 8) = 0;
        __uint64_t v52 = 0LL;
        uint64_t v22 = pthread_threadid_np(0LL, &v52);
        *((void *)v18 + 1) = v52;
        *((_DWORD *)v18 + 9) = 6710851;
        *((void *)v18 + 5) = *(void *)v11;
        *((float *)v18 + 12) = a2;
        *((float *)v18 + 13) = a3;
        char v23 = byte_207157;
        if ((byte_207157 & 1) != 0) {
          breakpoint_break((uint64_t)&v53, (volatile int *)&stru_2E8.segname[7], 1LL, *(unsigned int *)(v11 + 3404), v11);
        }
        uint64_t v24 = (uint64_t)[(id)DYGetGLGuestAppClient(v22) overrideFlags];
        if (!(v24 & 0x10 | v23 & 4))
        {
          uint64_t v25 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, float, float))(*(void *)(v11 + 32) + 7016LL))(a1, a2, a3);
          uint64_t v24 = mach_absolute_time();
          uint64_t v26 = v24 - v25;
          unint64_t v27 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v28 = v53;
            *((void *)v53 + 2) = v25;
            v28[3] = v26;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v50 = __udivti3(g_DYTimebaseInfo * v26, (g_DYTimebaseInfo * (unsigned __int128)v26) >> 64);
            unsigned int v51 = v53;
            *((void *)v53 + 3) = v50;
            uint64_t v24 = __udivti3(v27 * v25, (v27 * (unsigned __int128)v25) >> 64);
            v51[2] = v24;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v24 = check_errors(v11);
        }

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  char *v17;
  char *v18;
  int64_t v19;
  unsigned int v20;
  unint64_t v21;
  uint64_t v22;
  char v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  unint64_t v27;
  void *v28;
  id v29;
  GPUTools::FB::Fbuf *v30;
  unsigned int v31;
  GPUTools::FB::Fbuf *v32;
  dispatch_queue_s *v33;
  uint64_t v34;
  GPUTools::FB::Stream *v35;
  unsigned int *v36;
  unsigned int v37;
  unsigned int v38;
  unsigned int v39;
  signed int v40;
  BOOL v41;
  unsigned int v42;
  uint64_t v43;
  id v44;
  unsigned int v45;
  dispatch_queue_s *v46;
  int v47;
  uint64_t v48;
  uint64_t v49;
  uint64_t v50;
  void *v51;
  __uint64_t v52;
  void *v53;
  char *v54;
  unsigned int v55;
  v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      signed int v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v44 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v43 = handle_opengl_thread_conflict((const void **)v11);
    id v44 = [(id)DYGetGLGuestAppClient(v43) waitOnGraphicsSemaphoreAssertions];
    if ((int)v44 >= 1)
    {
      do
LABEL_57:
        unsigned int v45 = __ldaxr(v12);
      while (__stlxr(v45 - 1, v12));
      unsigned int v46 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v44) graphicsLockWaitQueue];
      dispatch_sync_f(v46, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, float, float))(*(void *)(v11 + 24) + 7016LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  id v53 = 0LL;
  unsigned int v54 = 0LL;
  unsigned int v55 = 0;
  if ([(id)DYGetGLGuestAppClient(v44) state] != (char *)&dword_0 + 1
    || (id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v16))
  {
    signed int v18 = (char *)v53;
    unsigned int v17 = v54;
    int64_t v19 = v54 - (_BYTE *)v53;
    unsigned int v20 = v55;
    unint64_t v21 = v55 - (v54 - (_BYTE *)v53);
    if (v21 > 0x37) {
      goto LABEL_24;
    }
    int v47 = (311 - v21) & 0xFFFFFF00;
    v55 += v47;
    signed int v18 = (char *)malloc(v47 + v20);
    id v53 = v18;
    if (v18)
    {
      if ((v18 & 3) == 0)
      {
        unsigned int v17 = &v18[v19];
LABEL_24:
        *((void *)v17 + 6) = 0LL;
        *((_OWORD *)v17 + 1) = 0u;
        *((_OWORD *)v17 + 2) = 0u;
        *(_OWORD *)unsigned int v17 = 0u;
        unsigned int v54 = v17 + 56;
        GPUTools::FB::Fbuf::align((char **)&v53);
        *((_DWORD *)v18 + 1) = 767;
        *((_DWORD *)v18 + 8) = 0;
        __uint64_t v52 = 0LL;
        uint64_t v22 = pthread_threadid_np(0LL, &v52);
        *((void *)v18 + 1) = v52;
        *((_DWORD *)v18 + 9) = 6710851;
        *((void *)v18 + 5) = *(void *)v11;
        *((float *)v18 + 12) = a2;
        *((float *)v18 + 13) = a3;
        char v23 = byte_207157;
        if ((byte_207157 & 1) != 0) {
          breakpoint_break((uint64_t)&v53, (volatile int *)&stru_2E8.segname[7], 1LL, *(unsigned int *)(v11 + 3404), v11);
        }
        uint64_t v24 = (uint64_t)[(id)DYGetGLGuestAppClient(v22) overrideFlags];
        if (!(v24 & 0x10 | v23 & 4))
        {
          uint64_t v25 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, float, float))(*(void *)(v11 + 32) + 7016LL))(a1, a2, a3);
          uint64_t v24 = mach_absolute_time();
          uint64_t v26 = v24 - v25;
          unint64_t v27 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v28 = v53;
            *((void *)v53 + 2) = v25;
            v28[3] = v26;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v50 = __udivti3(g_DYTimebaseInfo * v26, (g_DYTimebaseInfo * (unsigned __int128)v26) >> 64);
            unsigned int v51 = v53;
            *((void *)v53 + 3) = v50;
            uint64_t v24 = __udivti3(v27 * v25, (v27 * (unsigned __int128)v25) >> 64);
            v51[2] = v24;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v24 = check_errors(v11);
        }

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  unsigned int v20;
  uint64_t v21;
  id v22;
  unsigned int v23;
  dispatch_queue_s *v24;
  uint64_t v25;
  v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      signed int v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v22 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v21 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v22 = [(id)DYGetGLGuestAppClient(v21) waitOnGraphicsSemaphoreAssertions];
    if ((int)v22 >= 1)
    {
      do
LABEL_34:
        char v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      uint64_t v24 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v22) graphicsLockWaitQueue];
      dispatch_sync_f(v24, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, float, float))(*(void *)(v11 + 24) + 7016LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v22) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v20 = __ldaxr(v12);
      while (__stlxr(v20 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, float, float))(*(void *)(v11 + 32) + 7016LL))(a1, a2, a3);
  ++*(void *)(v11 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v25 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v25) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v25, v11);
      }
    }
  }

  do
  {
    unsigned int v17 = __ldaxr(v12);
    signed int v18 = v17 - 1;
  }

  while (__stlxr(v18, v12));
  if (gCheckGLErrors) {
    int64_t v19 = v18 < 1;
  }
  else {
    int64_t v19 = 1;
  }
  if (!v19) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  uint64_t v17;
  uint64_t v18;
  int64x2_t v19;
  unsigned int v20;
  signed int v21;
  BOOL v22;
  unsigned int v23;
  uint64_t v24;
  id v25;
  unsigned int v26;
  dispatch_queue_s *v27;
  uint64_t v28;
  v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      signed int v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v24 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        uint64_t v26 = __ldaxr(v12);
      while (__stlxr(v26 - 1, v12));
      unint64_t v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, float, float))(*(void *)(v11 + 24) + 7016LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        char v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v17 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, float, float))(*(void *)(v11 + 32) + 7016LL))(a1, a2, a3);
  signed int v18 = mach_absolute_time();
  int64_t v19 = vdupq_n_s64(1uLL);
  v19.i64[0] = v18 - v17;
  *(int64x2_t *)(v11 + 3696) = vaddq_s64(v19, *(int64x2_t *)(v11 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v28 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v11);
      }
    }
  }

  do
  {
    unsigned int v20 = __ldaxr(v12);
    unint64_t v21 = v20 - 1;
  }

  while (__stlxr(v21, v12));
  if (gCheckGLErrors) {
    uint64_t v22 = v21 < 1;
  }
  else {
    uint64_t v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

void sub_8BD08( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void clear_depthf(__GLIContextRec *a1, float a2)
{
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  signed int v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    id v42 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v41 = handle_opengl_thread_conflict((const void **)v9);
    id v42 = [(id)DYGetGLGuestAppClient(v41) waitOnGraphicsSemaphoreAssertions];
    if ((int)v42 >= 1)
    {
      do
LABEL_57:
        unsigned int v43 = __ldaxr(v10);
      while (__stlxr(v43 - 1, v10));
      id v44 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v42) graphicsLockWaitQueue];
      dispatch_sync_f(v44, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, float))(*(void *)(v9 + 24) + 7024LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  unsigned int v51 = 0LL;
  __uint64_t v52 = 0LL;
  unsigned int v53 = 0;
  if ([(id)DYGetGLGuestAppClient(v42) state] != (char *)&dword_0 + 1
    || (id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v14))
  {
    id v16 = (char *)v51;
    BOOL v15 = v52;
    int64_t v17 = v52 - (_BYTE *)v51;
    unsigned int v18 = v53;
    unint64_t v19 = v53 - (v52 - (_BYTE *)v51);
    if (v19 > 0x33) {
      goto LABEL_24;
    }
    int v45 = (307 - v19) & 0xFFFFFF00;
    v53 += v45;
    id v16 = (char *)malloc(v45 + v18);
    unsigned int v51 = v16;
    if (v16)
    {
      if ((v16 & 3) == 0)
      {
        BOOL v15 = &v16[v17];
LABEL_24:
        *((_DWORD *)v15 + 12) = 0;
        *((_OWORD *)v15 + 1) = 0u;
        *((_OWORD *)v15 + 2) = 0u;
        *(_OWORD *)BOOL v15 = 0u;
        __uint64_t v52 = v15 + 52;
        GPUTools::FB::Fbuf::align((char **)&v51);
        *((_DWORD *)v16 + 1) = 761;
        *((_DWORD *)v16 + 8) = 0;
        __uint64_t v50 = 0LL;
        uint64_t v20 = pthread_threadid_np(0LL, &v50);
        *((void *)v16 + 1) = v50;
        strcpy(v16 + 36, "Cf");
        *((void *)v16 + 5) = *(void *)v9;
        *((float *)v16 + 12) = a2;
        char v21 = byte_207151;
        if ((byte_207151 & 1) != 0) {
          breakpoint_break((uint64_t)&v51, (volatile int *)&stru_2E8.segname[1], 1LL, *(unsigned int *)(v9 + 3404), v9);
        }
        uint64_t v22 = (uint64_t)[(id)DYGetGLGuestAppClient(v20) overrideFlags];
        if (!(v22 & 0x10 | v21 & 4))
        {
          uint64_t v23 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, float))(*(void *)(v9 + 32) + 7024LL))(a1, a2);
          uint64_t v22 = mach_absolute_time();
          uint64_t v24 = v22 - v23;
          unint64_t v25 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v26 = v51;
            *((void *)v51 + 2) = v23;
            v26[3] = v24;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v48 = __udivti3(g_DYTimebaseInfo * v24, (g_DYTimebaseInfo * (unsigned __int128)v24) >> 64);
            uint64_t v49 = v51;
            *((void *)v51 + 3) = v48;
            uint64_t v22 = __udivti3(v25 * v23, (v25 * (unsigned __int128)v23) >> 64);
            v49[2] = v22;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v22 = check_errors(v9);
        }

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  char *v15;
  char *v16;
  int64_t v17;
  unsigned int v18;
  unint64_t v19;
  uint64_t v20;
  char v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  unint64_t v25;
  void *v26;
  id v27;
  GPUTools::FB::Fbuf *v28;
  unsigned int v29;
  GPUTools::FB::Fbuf *v30;
  dispatch_queue_s *v31;
  uint64_t v32;
  GPUTools::FB::Stream *v33;
  unsigned int *v34;
  unsigned int v35;
  unsigned int v36;
  unsigned int v37;
  signed int v38;
  BOOL v39;
  unsigned int v40;
  uint64_t v41;
  id v42;
  unsigned int v43;
  dispatch_queue_s *v44;
  int v45;
  uint64_t v46;
  uint64_t v47;
  uint64_t v48;
  void *v49;
  __uint64_t v50;
  void *v51;
  char *v52;
  unsigned int v53;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  signed int v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    id v42 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v41 = handle_opengl_thread_conflict((const void **)v9);
    id v42 = [(id)DYGetGLGuestAppClient(v41) waitOnGraphicsSemaphoreAssertions];
    if ((int)v42 >= 1)
    {
      do
LABEL_57:
        unsigned int v43 = __ldaxr(v10);
      while (__stlxr(v43 - 1, v10));
      id v44 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v42) graphicsLockWaitQueue];
      dispatch_sync_f(v44, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, float))(*(void *)(v9 + 24) + 7024LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  unsigned int v51 = 0LL;
  __uint64_t v52 = 0LL;
  unsigned int v53 = 0;
  if ([(id)DYGetGLGuestAppClient(v42) state] != (char *)&dword_0 + 1
    || (id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v14))
  {
    id v16 = (char *)v51;
    BOOL v15 = v52;
    int64_t v17 = v52 - (_BYTE *)v51;
    unsigned int v18 = v53;
    unint64_t v19 = v53 - (v52 - (_BYTE *)v51);
    if (v19 > 0x33) {
      goto LABEL_24;
    }
    int v45 = (307 - v19) & 0xFFFFFF00;
    v53 += v45;
    id v16 = (char *)malloc(v45 + v18);
    unsigned int v51 = v16;
    if (v16)
    {
      if ((v16 & 3) == 0)
      {
        BOOL v15 = &v16[v17];
LABEL_24:
        *((_DWORD *)v15 + 12) = 0;
        *((_OWORD *)v15 + 1) = 0u;
        *((_OWORD *)v15 + 2) = 0u;
        *(_OWORD *)BOOL v15 = 0u;
        __uint64_t v52 = v15 + 52;
        GPUTools::FB::Fbuf::align((char **)&v51);
        *((_DWORD *)v16 + 1) = 761;
        *((_DWORD *)v16 + 8) = 0;
        __uint64_t v50 = 0LL;
        uint64_t v20 = pthread_threadid_np(0LL, &v50);
        *((void *)v16 + 1) = v50;
        strcpy(v16 + 36, "Cf");
        *((void *)v16 + 5) = *(void *)v9;
        *((float *)v16 + 12) = a2;
        char v21 = byte_207151;
        if ((byte_207151 & 1) != 0) {
          breakpoint_break((uint64_t)&v51, (volatile int *)&stru_2E8.segname[1], 1LL, *(unsigned int *)(v9 + 3404), v9);
        }
        uint64_t v22 = (uint64_t)[(id)DYGetGLGuestAppClient(v20) overrideFlags];
        if (!(v22 & 0x10 | v21 & 4))
        {
          uint64_t v23 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, float))(*(void *)(v9 + 32) + 7024LL))(a1, a2);
          uint64_t v22 = mach_absolute_time();
          uint64_t v24 = v22 - v23;
          unint64_t v25 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v26 = v51;
            *((void *)v51 + 2) = v23;
            v26[3] = v24;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v48 = __udivti3(g_DYTimebaseInfo * v24, (g_DYTimebaseInfo * (unsigned __int128)v24) >> 64);
            uint64_t v49 = v51;
            *((void *)v51 + 3) = v48;
            uint64_t v22 = __udivti3(v25 * v23, (v25 * (unsigned __int128)v23) >> 64);
            v49[2] = v22;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v22 = check_errors(v9);
        }

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  unsigned int v18;
  uint64_t v19;
  id v20;
  unsigned int v21;
  dispatch_queue_s *v22;
  uint64_t v23;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  signed int v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    uint64_t v20 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v19 = handle_opengl_thread_conflict((const void **)v9);
    uint64_t v20 = [(id)DYGetGLGuestAppClient(v19) waitOnGraphicsSemaphoreAssertions];
    if ((int)v20 >= 1)
    {
      do
LABEL_34:
        char v21 = __ldaxr(v10);
      while (__stlxr(v21 - 1, v10));
      uint64_t v22 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v20) graphicsLockWaitQueue];
      dispatch_sync_f(v22, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, float))(*(void *)(v9 + 24) + 7024LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v20) state] == (char *)&dword_0 + 1)
  {
    id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v14)
    {
      do
        unsigned int v18 = __ldaxr(v10);
      while (__stlxr(v18 - 1, v10));
      [(id)DYGetGLGuestAppClient(v14) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, float))(*(void *)(v9 + 32) + 7024LL))(a1, a2);
  ++*(void *)(v9 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v9);
    if (gBreakOnError)
    {
      uint64_t v23 = *(unsigned int *)(v9 + 3404);
      if ((_DWORD)v23) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v23, v9);
      }
    }
  }

  do
  {
    BOOL v15 = __ldaxr(v10);
    id v16 = v15 - 1;
  }

  while (__stlxr(v16, v10));
  if (gCheckGLErrors) {
    int64_t v17 = v16 < 1;
  }
  else {
    int64_t v17 = 1;
  }
  if (!v17) {
    handle_opengl_thread_conflict((const void **)v9);
  }
}

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  uint64_t v15;
  uint64_t v16;
  int64x2_t v17;
  unsigned int v18;
  signed int v19;
  BOOL v20;
  unsigned int v21;
  uint64_t v22;
  id v23;
  unsigned int v24;
  dispatch_queue_s *v25;
  uint64_t v26;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  signed int v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    uint64_t v23 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v22 = handle_opengl_thread_conflict((const void **)v9);
    uint64_t v23 = [(id)DYGetGLGuestAppClient(v22) waitOnGraphicsSemaphoreAssertions];
    if ((int)v23 >= 1)
    {
      do
LABEL_34:
        uint64_t v24 = __ldaxr(v10);
      while (__stlxr(v24 - 1, v10));
      unint64_t v25 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v23) graphicsLockWaitQueue];
      dispatch_sync_f(v25, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, float))(*(void *)(v9 + 24) + 7024LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v23) state] == (char *)&dword_0 + 1)
  {
    id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v14)
    {
      do
        char v21 = __ldaxr(v10);
      while (__stlxr(v21 - 1, v10));
      [(id)DYGetGLGuestAppClient(v14) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  BOOL v15 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, float))(*(void *)(v9 + 32) + 7024LL))(a1, a2);
  id v16 = mach_absolute_time();
  int64_t v17 = vdupq_n_s64(1uLL);
  v17.i64[0] = v16 - v15;
  *(int64x2_t *)(v9 + 3696) = vaddq_s64(v17, *(int64x2_t *)(v9 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v9);
    if (gBreakOnError)
    {
      uint64_t v26 = *(unsigned int *)(v9 + 3404);
      if ((_DWORD)v26) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v26, v9);
      }
    }
  }

  do
  {
    unsigned int v18 = __ldaxr(v10);
    unint64_t v19 = v18 - 1;
  }

  while (__stlxr(v19, v10));
  if (gCheckGLErrors) {
    uint64_t v20 = v19 < 1;
  }
  else {
    uint64_t v20 = 1;
  }
  if (!v20) {
    handle_opengl_thread_conflict((const void **)v9);
  }
}

void sub_8C1E0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void get_program_binary(__GLIContextRec *a1, uint64_t a2, uint64_t a3, int *a4, unsigned int *a5, void *a6)
{
  signed int v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      id v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    signed int v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  unsigned int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    id v59 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v58 = handle_opengl_thread_conflict((const void **)v17);
    id v59 = [(id)DYGetGLGuestAppClient(v58) waitOnGraphicsSemaphoreAssertions];
    if ((int)v59 >= 1)
    {
      do
LABEL_69:
        unsigned int v60 = __ldaxr(v18);
      while (__stlxr(v60 - 1, v18));
      unsigned int v61 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v59) graphicsLockWaitQueue];
      dispatch_sync_f(v61, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *, unsigned int *, void *))(*(void *)(v17 + 24)
                                                                                                 + 7096LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  v70 = 0LL;
  v71 = 0LL;
  unsigned int v72 = 0;
  if ([(id)DYGetGLGuestAppClient(v59) state] != (char *)&dword_0 + 1
    || (id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v22))
  {
    int v69 = 0;
    if (a4) {
      uint64_t v23 = a4;
    }
    else {
      uint64_t v23 = &v69;
    }
    int *v23 = 0;
    strcpy((char *)(v17 + 4709), "Cuii");
    if (a4) {
      uint64_t v24 = "@1i";
    }
    else {
      uint64_t v24 = "t";
    }
    strlcat((char *)(v17 + 4709), v24, 0x40uLL);
    if (a5) {
      unint64_t v25 = "@1e";
    }
    else {
      unint64_t v25 = "t";
    }
    strlcat((char *)(v17 + 4709), v25, 0x40uLL);
    strlcat((char *)(v17 + 4709), "t", 0x40uLL);
    GPUTools::FB::Encode((uint64_t)&v70, 934LL, 256LL, v17 + 4709, v26, v27, v28, v29, *(void *)v17);
    v67 = a6;
    __int128 v66 = a5;
    char v31 = byte_2071FE;
    if ((byte_2071FE & 1) != 0) {
      breakpoint_break((uint64_t)&v70, (volatile int *)&stru_388.segname[14], 1LL, *(unsigned int *)(v17 + 3404), v17);
    }
    uint64_t v32 = (uint64_t)[(id)DYGetGLGuestAppClient(v30) overrideFlags];
    if (!(v32 & 0x10 | v31 & 4))
    {
      uint64_t v33 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *, unsigned int *, void *))(*(void *)(v17 + 32)
                                                                                                 + 7096LL))( a1,  a2,  a3,  v23,  v66,  v67);
      uint64_t v32 = mach_absolute_time();
      uint64_t v34 = v32 - v33;
      unint64_t v35 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        unsigned int v36 = v70;
        *((void *)v70 + 2) = v33;
        v36[3] = v34;
        if (!gCheckGLErrors) {
          goto LABEL_37;
        }
      }

      else
      {
        uint64_t v64 = __udivti3(g_DYTimebaseInfo * v34, (g_DYTimebaseInfo * (unsigned __int128)v34) >> 64);
        __int128 v65 = v70;
        *((void *)v70 + 3) = v64;
        uint64_t v32 = __udivti3(v35 * v33, (v35 * (unsigned __int128)v33) >> 64);
        v65[2] = v32;
        if (!gCheckGLErrors) {
          goto LABEL_37;
        }
      }

      uint64_t v32 = check_errors(v17);
    }

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  id v26;
  uint64_t v27;
  char v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  unint64_t v32;
  void *v33;
  id v34;
  GPUTools::FB::Fbuf *v35;
  unsigned int v36;
  GPUTools::FB::Fbuf *v37;
  dispatch_queue_s *v38;
  uint64_t v39;
  GPUTools::FB::Stream *v40;
  unsigned int *v41;
  unsigned int v42;
  unsigned int v43;
  unsigned int v44;
  signed int v45;
  BOOL v46;
  unsigned int v47;
  uint64_t v48;
  id v49;
  unsigned int v50;
  dispatch_queue_s *v51;
  uint64_t v52;
  uint64_t v53;
  uint64_t v54;
  void *v55;
  void *v56[2];
  int v57;
  signed int v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      id v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    signed int v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  unsigned int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    uint64_t v49 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v48 = handle_opengl_thread_conflict((const void **)v17);
    uint64_t v49 = [(id)DYGetGLGuestAppClient(v48) waitOnGraphicsSemaphoreAssertions];
    if ((int)v49 >= 1)
    {
      do
LABEL_56:
        __uint64_t v50 = __ldaxr(v18);
      while (__stlxr(v50 - 1, v18));
      unsigned int v51 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v49) graphicsLockWaitQueue];
      dispatch_sync_f(v51, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *, unsigned int *, void *))(*(void *)(v17 + 24)
                                                                                                 + 7096LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  v56[0] = 0LL;
  v56[1] = 0LL;
  unsigned int v57 = 0;
  if ([(id)DYGetGLGuestAppClient(v49) state] != (char *)&dword_0 + 1
    || (uint64_t v26 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v26))
  {
    GPUTools::FB::Encode((uint64_t)v56, 934LL, 2LL, (uint64_t)"Cuiippp", v22, v23, v24, v25, *(void *)v17);
    uint64_t v28 = byte_2071FE;
    if ((byte_2071FE & 1) != 0) {
      breakpoint_break((uint64_t)v56, (volatile int *)&stru_388.segname[14], 1LL, *(unsigned int *)(v17 + 3404), v17);
    }
    uint64_t v29 = (uint64_t)[(id)DYGetGLGuestAppClient(v27) overrideFlags];
    if (!(v29 & 0x10 | v28 & 4))
    {
      uint64_t v30 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *, unsigned int *, void *))(*(void *)(v17 + 32)
                                                                                                 + 7096LL))( a1,  a2,  a3,  a4,  a5,  a6);
      uint64_t v29 = mach_absolute_time();
      char v31 = v29 - v30;
      uint64_t v32 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        uint64_t v33 = v56[0];
        *((void *)v56[0] + 2) = v30;
        v33[3] = v31;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      else
      {
        unsigned int v54 = __udivti3(g_DYTimebaseInfo * v31, (g_DYTimebaseInfo * (unsigned __int128)v31) >> 64);
        signed int v55 = v56[0];
        *((void *)v56[0] + 3) = v54;
        uint64_t v29 = __udivti3(v32 * v30, (v32 * (unsigned __int128)v30) >> 64);
        v55[2] = v29;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      uint64_t v29 = check_errors(v17);
    }

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  id v22;
  unsigned int v23;
  signed int v24;
  BOOL v25;
  unsigned int v26;
  uint64_t v27;
  id v28;
  unsigned int v29;
  dispatch_queue_s *v30;
  uint64_t v31;
  signed int v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      id v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    signed int v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  unsigned int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    uint64_t v28 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v27 = handle_opengl_thread_conflict((const void **)v17);
    uint64_t v28 = [(id)DYGetGLGuestAppClient(v27) waitOnGraphicsSemaphoreAssertions];
    if ((int)v28 >= 1)
    {
      do
LABEL_34:
        uint64_t v29 = __ldaxr(v18);
      while (__stlxr(v29 - 1, v18));
      uint64_t v30 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v28) graphicsLockWaitQueue];
      dispatch_sync_f(v30, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *, unsigned int *, void *))(*(void *)(v17 + 24)
                                                                                                 + 7096LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v28) state] == (char *)&dword_0 + 1)
  {
    id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v22)
    {
      do
        uint64_t v26 = __ldaxr(v18);
      while (__stlxr(v26 - 1, v18));
      [(id)DYGetGLGuestAppClient(v22) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *, unsigned int *, void *))(*(void *)(v17 + 32)
                                                                                             + 7096LL))( a1,  a2,  a3,  a4,  a5,  a6);
  ++*(void *)(v17 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v17);
    if (gBreakOnError)
    {
      char v31 = *(unsigned int *)(v17 + 3404);
      if ((_DWORD)v31) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v31, v17);
      }
    }
  }

  do
  {
    uint64_t v23 = __ldaxr(v18);
    uint64_t v24 = v23 - 1;
  }

  while (__stlxr(v24, v18));
  if (gCheckGLErrors) {
    unint64_t v25 = v24 < 1;
  }
  else {
    unint64_t v25 = 1;
  }
  if (!v25) {
    handle_opengl_thread_conflict((const void **)v17);
  }
}

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  id v22;
  uint64_t v23;
  uint64_t v24;
  int64x2_t v25;
  unsigned int v26;
  signed int v27;
  BOOL v28;
  unsigned int v29;
  uint64_t v30;
  id v31;
  unsigned int v32;
  dispatch_queue_s *v33;
  uint64_t v34;
  signed int v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      id v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    signed int v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  unsigned int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    char v31 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v30 = handle_opengl_thread_conflict((const void **)v17);
    char v31 = [(id)DYGetGLGuestAppClient(v30) waitOnGraphicsSemaphoreAssertions];
    if ((int)v31 >= 1)
    {
      do
LABEL_34:
        uint64_t v32 = __ldaxr(v18);
      while (__stlxr(v32 - 1, v18));
      uint64_t v33 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v31) graphicsLockWaitQueue];
      dispatch_sync_f(v33, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *, unsigned int *, void *))(*(void *)(v17 + 24)
                                                                                                 + 7096LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v31) state] == (char *)&dword_0 + 1)
  {
    id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v22)
    {
      do
        uint64_t v29 = __ldaxr(v18);
      while (__stlxr(v29 - 1, v18));
      [(id)DYGetGLGuestAppClient(v22) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v23 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *, unsigned int *, void *))(*(void *)(v17 + 32)
                                                                                             + 7096LL))( a1,  a2,  a3,  a4,  a5,  a6);
  uint64_t v24 = mach_absolute_time();
  unint64_t v25 = vdupq_n_s64(1uLL);
  v25.i64[0] = v24 - v23;
  *(int64x2_t *)(v17 + 3696) = vaddq_s64(v25, *(int64x2_t *)(v17 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v17);
    if (gBreakOnError)
    {
      uint64_t v34 = *(unsigned int *)(v17 + 3404);
      if ((_DWORD)v34) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v34, v17);
      }
    }
  }

  do
  {
    uint64_t v26 = __ldaxr(v18);
    uint64_t v27 = v26 - 1;
  }

  while (__stlxr(v27, v18));
  if (gCheckGLErrors) {
    uint64_t v28 = v27 < 1;
  }
  else {
    uint64_t v28 = 1;
  }
  if (!v28) {
    handle_opengl_thread_conflict((const void **)v17);
  }
}

void sub_8C790( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, void *a22)
{
  if (a22) {
    free(a22);
  }
  _Unwind_Resume(exception_object);
}

void program_binary(__GLIContextRec *a1, uint64_t a2, uint64_t a3, const void *a4, uint64_t a5)
{
  signed int v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      unint64_t v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    signed int v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  id v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    id v50 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v49 = handle_opengl_thread_conflict((const void **)v15);
    id v50 = [(id)DYGetGLGuestAppClient(v49) waitOnGraphicsSemaphoreAssertions];
    if ((int)v50 >= 1)
    {
      do
LABEL_67:
        unsigned int v51 = __ldaxr(v16);
      while (__stlxr(v51 - 1, v16));
      unsigned int v52 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v50) graphicsLockWaitQueue];
      dispatch_sync_f(v52, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const void *, uint64_t))(*(void *)(v15 + 24) + 7104LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  v57[0] = 0LL;
  v57[1] = 0LL;
  int v58 = 0;
  signed int v20 = (char *)[(id)DYGetGLGuestAppClient(v50) state];
  if (v20 != (_BYTE *)&dword_0 + 1
    || (signed int v20 = (char *)[(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v20))
  {
    if (a4) {
      BOOL v25 = (int)a5 <= 0;
    }
    else {
      BOOL v25 = 1;
    }
    int v26 = !v25;
    if (v26 == 1)
    {
      strcpy((char *)(v15 + 4709), "CuieUi");
      uint64_t v27 = DYGetGLGuestAppClient(v20);
      GPUTools::Interpose::DYSavePointer(v27, a5, a4, v15 + 4644, 65LL, 0LL, 1LL, 0LL, 0LL);
    }

    else
    {
      strcpy((char *)(v15 + 4709), "Cuieti");
    }

    if (v26) {
      a4 = (const void *)(v15 + 4644);
    }
    GPUTools::FB::Encode((uint64_t)v57, 937LL, 0LL, v15 + 4709, v21, v22, v23, v24, *(void *)v15);
    char v29 = byte_207201;
    if ((byte_207201 & 1) != 0) {
      breakpoint_break( (uint64_t)v57,  (volatile int *)((char *)&stru_388.addr + 1),  1LL,  *(unsigned int *)(v15 + 3404),  v15);
    }
    uint64_t v30 = (uint64_t)[(id)DYGetGLGuestAppClient(v28) overrideFlags];
    if (!(v30 & 0x10 | v29 & 4))
    {
      uint64_t v31 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const void *, uint64_t))(*(void *)(v15 + 32) + 7104LL))( a1,  a2,  a3,  a4,  a5);
      uint64_t v30 = mach_absolute_time();
      uint64_t v32 = v30 - v31;
      unint64_t v33 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        uint64_t v34 = v57[0];
        *((void *)v57[0] + 2) = v31;
        v34[3] = v32;
        if (!gCheckGLErrors) {
          goto LABEL_39;
        }
      }

      else
      {
        uint64_t v55 = __udivti3(g_DYTimebaseInfo * v32, (g_DYTimebaseInfo * (unsigned __int128)v32) >> 64);
        BOOL v56 = v57[0];
        *((void *)v57[0] + 3) = v55;
        uint64_t v30 = __udivti3(v33 * v31, (v33 * (unsigned __int128)v31) >> 64);
        v56[2] = v30;
        if (!gCheckGLErrors) {
          goto LABEL_39;
        }
      }

      uint64_t v30 = check_errors(v15);
    }

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  char *v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  BOOL v25;
  int v26;
  uint64_t v27;
  uint64_t v28;
  char v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  unint64_t v33;
  void *v34;
  id v35;
  GPUTools::FB::Fbuf *v36;
  unsigned int v37;
  GPUTools::FB::Fbuf *v38;
  dispatch_queue_s *v39;
  uint64_t v40;
  GPUTools::FB::Stream *v41;
  unsigned int *v42;
  unsigned int v43;
  unsigned int v44;
  unsigned int v45;
  signed int v46;
  BOOL v47;
  unsigned int v48;
  uint64_t v49;
  id v50;
  unsigned int v51;
  dispatch_queue_s *v52;
  uint64_t v53;
  uint64_t v54;
  uint64_t v55;
  void *v56;
  void *v57[2];
  int v58;
  signed int v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      unint64_t v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    signed int v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  id v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    id v50 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v49 = handle_opengl_thread_conflict((const void **)v15);
    id v50 = [(id)DYGetGLGuestAppClient(v49) waitOnGraphicsSemaphoreAssertions];
    if ((int)v50 >= 1)
    {
      do
LABEL_67:
        unsigned int v51 = __ldaxr(v16);
      while (__stlxr(v51 - 1, v16));
      unsigned int v52 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v50) graphicsLockWaitQueue];
      dispatch_sync_f(v52, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const void *, uint64_t))(*(void *)(v15 + 24) + 7104LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  v57[0] = 0LL;
  v57[1] = 0LL;
  int v58 = 0;
  signed int v20 = (char *)[(id)DYGetGLGuestAppClient(v50) state];
  if (v20 != (_BYTE *)&dword_0 + 1
    || (signed int v20 = (char *)[(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v20))
  {
    if (a4) {
      BOOL v25 = (int)a5 <= 0;
    }
    else {
      BOOL v25 = 1;
    }
    int v26 = !v25;
    if (v26 == 1)
    {
      strcpy((char *)(v15 + 4709), "CuieUi");
      uint64_t v27 = DYGetGLGuestAppClient(v20);
      GPUTools::Interpose::DYSavePointer(v27, a5, a4, v15 + 4644, 65LL, 0LL, 1LL, 0LL, 0LL);
    }

    else
    {
      strcpy((char *)(v15 + 4709), "Cuieti");
    }

    if (v26) {
      a4 = (const void *)(v15 + 4644);
    }
    GPUTools::FB::Encode((uint64_t)v57, 937LL, 0LL, v15 + 4709, v21, v22, v23, v24, *(void *)v15);
    char v29 = byte_207201;
    if ((byte_207201 & 1) != 0) {
      breakpoint_break( (uint64_t)v57,  (volatile int *)((char *)&stru_388.addr + 1),  1LL,  *(unsigned int *)(v15 + 3404),  v15);
    }
    uint64_t v30 = (uint64_t)[(id)DYGetGLGuestAppClient(v28) overrideFlags];
    if (!(v30 & 0x10 | v29 & 4))
    {
      uint64_t v31 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const void *, uint64_t))(*(void *)(v15 + 32) + 7104LL))( a1,  a2,  a3,  a4,  a5);
      uint64_t v30 = mach_absolute_time();
      uint64_t v32 = v30 - v31;
      unint64_t v33 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        uint64_t v34 = v57[0];
        *((void *)v57[0] + 2) = v31;
        v34[3] = v32;
        if (!gCheckGLErrors) {
          goto LABEL_39;
        }
      }

      else
      {
        uint64_t v55 = __udivti3(g_DYTimebaseInfo * v32, (g_DYTimebaseInfo * (unsigned __int128)v32) >> 64);
        BOOL v56 = v57[0];
        *((void *)v57[0] + 3) = v55;
        uint64_t v30 = __udivti3(v33 * v31, (v33 * (unsigned __int128)v31) >> 64);
        v56[2] = v30;
        if (!gCheckGLErrors) {
          goto LABEL_39;
        }
      }

      uint64_t v30 = check_errors(v15);
    }

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  id v20;
  unsigned int v21;
  signed int v22;
  BOOL v23;
  unsigned int v24;
  uint64_t v25;
  id v26;
  unsigned int v27;
  dispatch_queue_s *v28;
  uint64_t v29;
  signed int v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      unint64_t v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    signed int v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  id v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    int v26 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    BOOL v25 = handle_opengl_thread_conflict((const void **)v15);
    int v26 = [(id)DYGetGLGuestAppClient(v25) waitOnGraphicsSemaphoreAssertions];
    if ((int)v26 >= 1)
    {
      do
LABEL_34:
        uint64_t v27 = __ldaxr(v16);
      while (__stlxr(v27 - 1, v16));
      uint64_t v28 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v26) graphicsLockWaitQueue];
      dispatch_sync_f(v28, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const void *, uint64_t))(*(void *)(v15 + 24) + 7104LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v26) state] == (char *)&dword_0 + 1)
  {
    signed int v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        uint64_t v24 = __ldaxr(v16);
      while (__stlxr(v24 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const void *, uint64_t))(*(void *)(v15 + 32) + 7104LL))( a1,  a2,  a3,  a4,  a5);
  ++*(void *)(v15 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      char v29 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v29) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v29, v15);
      }
    }
  }

  do
  {
    uint64_t v21 = __ldaxr(v16);
    uint64_t v22 = v21 - 1;
  }

  while (__stlxr(v22, v16));
  if (gCheckGLErrors) {
    uint64_t v23 = v22 < 1;
  }
  else {
    uint64_t v23 = 1;
  }
  if (!v23) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  id v20;
  uint64_t v21;
  uint64_t v22;
  int64x2_t v23;
  unsigned int v24;
  signed int v25;
  BOOL v26;
  unsigned int v27;
  uint64_t v28;
  id v29;
  unsigned int v30;
  dispatch_queue_s *v31;
  uint64_t v32;
  signed int v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      unint64_t v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    signed int v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  id v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    char v29 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v28 = handle_opengl_thread_conflict((const void **)v15);
    char v29 = [(id)DYGetGLGuestAppClient(v28) waitOnGraphicsSemaphoreAssertions];
    if ((int)v29 >= 1)
    {
      do
LABEL_34:
        uint64_t v30 = __ldaxr(v16);
      while (__stlxr(v30 - 1, v16));
      uint64_t v31 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v29) graphicsLockWaitQueue];
      dispatch_sync_f(v31, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const void *, uint64_t))(*(void *)(v15 + 24) + 7104LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v29) state] == (char *)&dword_0 + 1)
  {
    signed int v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        uint64_t v27 = __ldaxr(v16);
      while (__stlxr(v27 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v21 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const void *, uint64_t))(*(void *)(v15 + 32) + 7104LL))( a1,  a2,  a3,  a4,  a5);
  uint64_t v22 = mach_absolute_time();
  uint64_t v23 = vdupq_n_s64(1uLL);
  v23.i64[0] = v22 - v21;
  *(int64x2_t *)(v15 + 3696) = vaddq_s64(v23, *(int64x2_t *)(v15 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v32 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v32) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v32, v15);
      }
    }
  }

  do
  {
    uint64_t v24 = __ldaxr(v16);
    BOOL v25 = v24 - 1;
  }

  while (__stlxr(v25, v16));
  if (gCheckGLErrors) {
    int v26 = v25 < 1;
  }
  else {
    int v26 = 1;
  }
  if (!v26) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

void sub_8CC60( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void bind_transform_feedback(__GLIContextRec *a1, uint64_t a2, uint64_t a3)
{
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      signed int v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v44 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v43 = handle_opengl_thread_conflict((const void **)v11);
    id v44 = [(id)DYGetGLGuestAppClient(v43) waitOnGraphicsSemaphoreAssertions];
    if ((int)v44 >= 1)
    {
      do
LABEL_57:
        unsigned int v45 = __ldaxr(v12);
      while (__stlxr(v45 - 1, v12));
      signed int v46 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v44) graphicsLockWaitQueue];
      dispatch_sync_f(v46, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 24) + 7232LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  uint64_t v53 = 0LL;
  uint64_t v54 = 0LL;
  unsigned int v55 = 0;
  if ([(id)DYGetGLGuestAppClient(v44) state] != (char *)&dword_0 + 1
    || (id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v16))
  {
    signed int v18 = (char *)v53;
    unsigned int v17 = v54;
    int64_t v19 = v54 - (_BYTE *)v53;
    unsigned int v20 = v55;
    unint64_t v21 = v55 - (v54 - (_BYTE *)v53);
    if (v21 > 0x3B) {
      goto LABEL_24;
    }
    int v47 = (315 - v21) & 0xFFFFFF00;
    v55 += v47;
    signed int v18 = (char *)malloc(v47 + v20);
    uint64_t v53 = v18;
    if (v18)
    {
      if ((v18 & 3) == 0)
      {
        unsigned int v17 = &v18[v19];
LABEL_24:
        *(_OWORD *)(v17 + 44) = 0u;
        *((_OWORD *)v17 + 1) = 0u;
        *((_OWORD *)v17 + 2) = 0u;
        *(_OWORD *)unsigned int v17 = 0u;
        uint64_t v54 = v17 + 60;
        GPUTools::FB::Fbuf::align((char **)&v53);
        *((_DWORD *)v18 + 1) = 980;
        *((_DWORD *)v18 + 8) = 0;
        __uint64_t v52 = 0LL;
        uint64_t v22 = pthread_threadid_np(0LL, &v52);
        *((void *)v18 + 1) = v52;
        strcpy(v18 + 36, "Ceui");
        *(void *)(v18 + 44) = *(void *)v11;
        *((_DWORD *)v18 + 13) = a2;
        *((_DWORD *)v18 + 14) = a3;
        char v23 = byte_20722C;
        if ((byte_20722C & 1) != 0) {
          breakpoint_break((uint64_t)&v53, (volatile int *)&stru_388.reserved3, 1LL, *(unsigned int *)(v11 + 3404), v11);
        }
        uint64_t v24 = (uint64_t)[(id)DYGetGLGuestAppClient(v22) overrideFlags];
        if (!(v24 & 0x10 | v23 & 4))
        {
          uint64_t v25 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 32) + 7232LL))(a1, a2, a3);
          uint64_t v24 = mach_absolute_time();
          uint64_t v26 = v24 - v25;
          unint64_t v27 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v28 = v53;
            *((void *)v53 + 2) = v25;
            v28[3] = v26;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v50 = __udivti3(g_DYTimebaseInfo * v26, (g_DYTimebaseInfo * (unsigned __int128)v26) >> 64);
            unsigned int v51 = v53;
            *((void *)v53 + 3) = v50;
            uint64_t v24 = __udivti3(v27 * v25, (v27 * (unsigned __int128)v25) >> 64);
            v51[2] = v24;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v24 = check_errors(v11);
        }

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  char *v17;
  char *v18;
  int64_t v19;
  unsigned int v20;
  unint64_t v21;
  uint64_t v22;
  char v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  unint64_t v27;
  void *v28;
  id v29;
  GPUTools::FB::Fbuf *v30;
  unsigned int v31;
  GPUTools::FB::Fbuf *v32;
  dispatch_queue_s *v33;
  uint64_t v34;
  GPUTools::FB::Stream *v35;
  unsigned int *v36;
  unsigned int v37;
  unsigned int v38;
  unsigned int v39;
  signed int v40;
  BOOL v41;
  unsigned int v42;
  uint64_t v43;
  id v44;
  unsigned int v45;
  dispatch_queue_s *v46;
  int v47;
  uint64_t v48;
  uint64_t v49;
  uint64_t v50;
  void *v51;
  __uint64_t v52;
  void *v53;
  char *v54;
  unsigned int v55;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      signed int v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v44 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v43 = handle_opengl_thread_conflict((const void **)v11);
    id v44 = [(id)DYGetGLGuestAppClient(v43) waitOnGraphicsSemaphoreAssertions];
    if ((int)v44 >= 1)
    {
      do
LABEL_57:
        unsigned int v45 = __ldaxr(v12);
      while (__stlxr(v45 - 1, v12));
      signed int v46 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v44) graphicsLockWaitQueue];
      dispatch_sync_f(v46, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 24) + 7232LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  uint64_t v53 = 0LL;
  uint64_t v54 = 0LL;
  unsigned int v55 = 0;
  if ([(id)DYGetGLGuestAppClient(v44) state] != (char *)&dword_0 + 1
    || (id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v16))
  {
    signed int v18 = (char *)v53;
    unsigned int v17 = v54;
    int64_t v19 = v54 - (_BYTE *)v53;
    unsigned int v20 = v55;
    unint64_t v21 = v55 - (v54 - (_BYTE *)v53);
    if (v21 > 0x3B) {
      goto LABEL_24;
    }
    int v47 = (315 - v21) & 0xFFFFFF00;
    v55 += v47;
    signed int v18 = (char *)malloc(v47 + v20);
    uint64_t v53 = v18;
    if (v18)
    {
      if ((v18 & 3) == 0)
      {
        unsigned int v17 = &v18[v19];
LABEL_24:
        *(_OWORD *)(v17 + 44) = 0u;
        *((_OWORD *)v17 + 1) = 0u;
        *((_OWORD *)v17 + 2) = 0u;
        *(_OWORD *)unsigned int v17 = 0u;
        uint64_t v54 = v17 + 60;
        GPUTools::FB::Fbuf::align((char **)&v53);
        *((_DWORD *)v18 + 1) = 980;
        *((_DWORD *)v18 + 8) = 0;
        __uint64_t v52 = 0LL;
        uint64_t v22 = pthread_threadid_np(0LL, &v52);
        *((void *)v18 + 1) = v52;
        strcpy(v18 + 36, "Ceui");
        *(void *)(v18 + 44) = *(void *)v11;
        *((_DWORD *)v18 + 13) = a2;
        *((_DWORD *)v18 + 14) = a3;
        char v23 = byte_20722C;
        if ((byte_20722C & 1) != 0) {
          breakpoint_break((uint64_t)&v53, (volatile int *)&stru_388.reserved3, 1LL, *(unsigned int *)(v11 + 3404), v11);
        }
        uint64_t v24 = (uint64_t)[(id)DYGetGLGuestAppClient(v22) overrideFlags];
        if (!(v24 & 0x10 | v23 & 4))
        {
          uint64_t v25 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 32) + 7232LL))(a1, a2, a3);
          uint64_t v24 = mach_absolute_time();
          uint64_t v26 = v24 - v25;
          unint64_t v27 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v28 = v53;
            *((void *)v53 + 2) = v25;
            v28[3] = v26;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v50 = __udivti3(g_DYTimebaseInfo * v26, (g_DYTimebaseInfo * (unsigned __int128)v26) >> 64);
            unsigned int v51 = v53;
            *((void *)v53 + 3) = v50;
            uint64_t v24 = __udivti3(v27 * v25, (v27 * (unsigned __int128)v25) >> 64);
            v51[2] = v24;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v24 = check_errors(v11);
        }

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  unsigned int v20;
  uint64_t v21;
  id v22;
  unsigned int v23;
  dispatch_queue_s *v24;
  uint64_t v25;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      signed int v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v22 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v21 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v22 = [(id)DYGetGLGuestAppClient(v21) waitOnGraphicsSemaphoreAssertions];
    if ((int)v22 >= 1)
    {
      do
LABEL_34:
        char v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      uint64_t v24 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v22) graphicsLockWaitQueue];
      dispatch_sync_f(v24, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 24) + 7232LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v22) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v20 = __ldaxr(v12);
      while (__stlxr(v20 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 32) + 7232LL))(a1, a2, a3);
  ++*(void *)(v11 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v25 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v25) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v25, v11);
      }
    }
  }

  do
  {
    unsigned int v17 = __ldaxr(v12);
    signed int v18 = v17 - 1;
  }

  while (__stlxr(v18, v12));
  if (gCheckGLErrors) {
    int64_t v19 = v18 < 1;
  }
  else {
    int64_t v19 = 1;
  }
  if (!v19) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  uint64_t v17;
  uint64_t v18;
  int64x2_t v19;
  unsigned int v20;
  signed int v21;
  BOOL v22;
  unsigned int v23;
  uint64_t v24;
  id v25;
  unsigned int v26;
  dispatch_queue_s *v27;
  uint64_t v28;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      signed int v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v24 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        uint64_t v26 = __ldaxr(v12);
      while (__stlxr(v26 - 1, v12));
      unint64_t v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 24) + 7232LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        char v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v17 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 32) + 7232LL))(a1, a2, a3);
  signed int v18 = mach_absolute_time();
  int64_t v19 = vdupq_n_s64(1uLL);
  v19.i64[0] = v18 - v17;
  *(int64x2_t *)(v11 + 3696) = vaddq_s64(v19, *(int64x2_t *)(v11 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v28 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v11);
      }
    }
  }

  do
  {
    unsigned int v20 = __ldaxr(v12);
    unint64_t v21 = v20 - 1;
  }

  while (__stlxr(v21, v12));
  if (gCheckGLErrors) {
    uint64_t v22 = v21 < 1;
  }
  else {
    uint64_t v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

void sub_8D13C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void gen_transform_feedbacks(__GLIContextRec *a1, uint64_t a2, unsigned int *a3)
{
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      signed int v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v49 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v48 = handle_opengl_thread_conflict((const void **)v11);
    id v49 = [(id)DYGetGLGuestAppClient(v48) waitOnGraphicsSemaphoreAssertions];
    if ((int)v49 >= 1)
    {
      do
LABEL_58:
        unsigned int v50 = __ldaxr(v12);
      while (__stlxr(v50 - 1, v12));
      unsigned int v51 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v49) graphicsLockWaitQueue];
      dispatch_sync_f(v51, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, unsigned int *))(*(void *)(v11 + 24) + 7240LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  unsigned int v57 = 0LL;
  int v58 = 0LL;
  unsigned int v59 = 0;
  if ([(id)DYGetGLGuestAppClient(v49) state] != (char *)&dword_0 + 1
    || (id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v16))
  {
    snprintf((char *)(v11 + 4709), 0x40uLL, "Ci@%dui", a2);
    GPUTools::FB::Encode((uint64_t)&v57, 987LL, v11 + 4709, v17, v18, v19, v20, v21, *(void *)v11);
    char v23 = byte_207233;
    if ((byte_207233 & 1) != 0) {
      breakpoint_break((uint64_t)&v57, (volatile int *)&stru_3D8.sectname[3], 1LL, *(unsigned int *)(v11 + 3404), v11);
    }
    if (!([(id)DYGetGLGuestAppClient(v22) overrideFlags] & 0x10 | v23 & 4))
    {
      uint64_t v28 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, unsigned int *))(*(void *)(v11 + 32) + 7240LL))(a1, a2, a3);
      uint64_t v29 = mach_absolute_time() - v28;
      unint64_t v30 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        unsigned int v31 = v57;
        *((void *)v57 + 2) = v28;
        v31[3] = v29;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      else
      {
        uint64_t v54 = __udivti3(g_DYTimebaseInfo * v29, (g_DYTimebaseInfo * (unsigned __int128)v29) >> 64);
        unsigned int v55 = v57;
        *((void *)v57 + 3) = v54;
        v55[2] = __udivti3(v30 * v28, (v30 * (unsigned __int128)v28) >> 64);
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      check_errors(v11);
    }

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  char v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  unint64_t v30;
  void *v31;
  _OWORD *v32;
  uint64_t v33;
  id v34;
  GPUTools::FB::Fbuf *v35;
  unsigned int v36;
  GPUTools::FB::Fbuf *v37;
  dispatch_queue_s *v38;
  uint64_t v39;
  GPUTools::FB::Stream *v40;
  unsigned int *v41;
  unsigned int v42;
  unsigned int v43;
  unsigned int v44;
  signed int v45;
  BOOL v46;
  unsigned int v47;
  uint64_t v48;
  id v49;
  unsigned int v50;
  dispatch_queue_s *v51;
  uint64_t v52;
  uint64_t v53;
  uint64_t v54;
  void *v55;
  __int128 v56;
  void *v57;
  void *v58;
  unsigned int v59;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      signed int v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v49 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v48 = handle_opengl_thread_conflict((const void **)v11);
    id v49 = [(id)DYGetGLGuestAppClient(v48) waitOnGraphicsSemaphoreAssertions];
    if ((int)v49 >= 1)
    {
      do
LABEL_58:
        unsigned int v50 = __ldaxr(v12);
      while (__stlxr(v50 - 1, v12));
      unsigned int v51 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v49) graphicsLockWaitQueue];
      dispatch_sync_f(v51, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, unsigned int *))(*(void *)(v11 + 24) + 7240LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  unsigned int v57 = 0LL;
  int v58 = 0LL;
  unsigned int v59 = 0;
  if ([(id)DYGetGLGuestAppClient(v49) state] != (char *)&dword_0 + 1
    || (id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v16))
  {
    snprintf((char *)(v11 + 4709), 0x40uLL, "Ci@%dui", a2);
    GPUTools::FB::Encode((uint64_t)&v57, 987LL, v11 + 4709, v17, v18, v19, v20, v21, *(void *)v11);
    char v23 = byte_207233;
    if ((byte_207233 & 1) != 0) {
      breakpoint_break((uint64_t)&v57, (volatile int *)&stru_3D8.sectname[3], 1LL, *(unsigned int *)(v11 + 3404), v11);
    }
    if (!([(id)DYGetGLGuestAppClient(v22) overrideFlags] & 0x10 | v23 & 4))
    {
      uint64_t v28 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, unsigned int *))(*(void *)(v11 + 32) + 7240LL))(a1, a2, a3);
      uint64_t v29 = mach_absolute_time() - v28;
      unint64_t v30 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        unsigned int v31 = v57;
        *((void *)v57 + 2) = v28;
        v31[3] = v29;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      else
      {
        uint64_t v54 = __udivti3(g_DYTimebaseInfo * v29, (g_DYTimebaseInfo * (unsigned __int128)v29) >> 64);
        unsigned int v55 = v57;
        *((void *)v57 + 3) = v54;
        v55[2] = __udivti3(v30 * v28, (v30 * (unsigned __int128)v28) >> 64);
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      check_errors(v11);
    }

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  unsigned int v20;
  uint64_t v21;
  id v22;
  unsigned int v23;
  dispatch_queue_s *v24;
  uint64_t v25;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      signed int v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v22 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v21 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v22 = [(id)DYGetGLGuestAppClient(v21) waitOnGraphicsSemaphoreAssertions];
    if ((int)v22 >= 1)
    {
      do
LABEL_34:
        char v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      uint64_t v24 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v22) graphicsLockWaitQueue];
      dispatch_sync_f(v24, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, unsigned int *))(*(void *)(v11 + 24) + 7240LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v22) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        uint64_t v20 = __ldaxr(v12);
      while (__stlxr(v20 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, unsigned int *))(*(void *)(v11 + 32) + 7240LL))(a1, a2, a3);
  ++*(void *)(v11 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v25 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v25) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v25, v11);
      }
    }
  }

  do
  {
    uint64_t v17 = __ldaxr(v12);
    uint64_t v18 = v17 - 1;
  }

  while (__stlxr(v18, v12));
  if (gCheckGLErrors) {
    uint64_t v19 = v18 < 1;
  }
  else {
    uint64_t v19 = 1;
  }
  if (!v19) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  uint64_t v17;
  uint64_t v18;
  int64x2_t v19;
  unsigned int v20;
  signed int v21;
  BOOL v22;
  unsigned int v23;
  uint64_t v24;
  id v25;
  unsigned int v26;
  dispatch_queue_s *v27;
  uint64_t v28;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      signed int v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v24 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        uint64_t v26 = __ldaxr(v12);
      while (__stlxr(v26 - 1, v12));
      uint64_t v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, unsigned int *))(*(void *)(v11 + 24) + 7240LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        char v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v17 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, unsigned int *))(*(void *)(v11 + 32) + 7240LL))(a1, a2, a3);
  uint64_t v18 = mach_absolute_time();
  uint64_t v19 = vdupq_n_s64(1uLL);
  v19.i64[0] = v18 - v17;
  *(int64x2_t *)(v11 + 3696) = vaddq_s64(v19, *(int64x2_t *)(v11 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v28 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v11);
      }
    }
  }

  do
  {
    uint64_t v20 = __ldaxr(v12);
    uint64_t v21 = v20 - 1;
  }

  while (__stlxr(v21, v12));
  if (gCheckGLErrors) {
    uint64_t v22 = v21 < 1;
  }
  else {
    uint64_t v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

void sub_8D5DC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void delete_transform_feedbacks(__GLIContextRec *a1, uint64_t a2, const unsigned int *a3)
{
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      signed int v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v43 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v42 = handle_opengl_thread_conflict((const void **)v11);
    id v43 = [(id)DYGetGLGuestAppClient(v42) waitOnGraphicsSemaphoreAssertions];
    if ((int)v43 >= 1)
    {
      do
LABEL_56:
        unsigned int v44 = __ldaxr(v12);
      while (__stlxr(v44 - 1, v12));
      signed int v45 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v43) graphicsLockWaitQueue];
      dispatch_sync_f(v45, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, const unsigned int *))(*(void *)(v11 + 24) + 7248LL))( a1,  a2,  a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  v50[0] = 0LL;
  v50[1] = 0LL;
  int v51 = 0;
  if ([(id)DYGetGLGuestAppClient(v43) state] != (char *)&dword_0 + 1
    || (id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v16))
  {
    snprintf((char *)(v11 + 4709), 0x40uLL, "Ci@%dui", a2);
    GPUTools::FB::Encode((uint64_t)v50, 981LL, 0LL, v11 + 4709, v17, v18, v19, v20, *(void *)v11);
    char v22 = byte_20722D;
    if ((byte_20722D & 1) != 0) {
      breakpoint_break( (uint64_t)v50,  (volatile int *)((char *)&stru_388.reserved3 + 1),  1LL,  *(unsigned int *)(v11 + 3404),  v11);
    }
    uint64_t v23 = (uint64_t)[(id)DYGetGLGuestAppClient(v21) overrideFlags];
    if (!(v23 & 0x10 | v22 & 4))
    {
      uint64_t v24 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, const unsigned int *))(*(void *)(v11 + 32) + 7248LL))( a1,  a2,  a3);
      uint64_t v23 = mach_absolute_time();
      uint64_t v25 = v23 - v24;
      unint64_t v26 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        uint64_t v27 = v50[0];
        *((void *)v50[0] + 2) = v24;
        v27[3] = v25;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      else
      {
        uint64_t v48 = __udivti3(g_DYTimebaseInfo * v25, (g_DYTimebaseInfo * (unsigned __int128)v25) >> 64);
        id v49 = v50[0];
        *((void *)v50[0] + 3) = v48;
        uint64_t v23 = __udivti3(v26 * v24, (v26 * (unsigned __int128)v24) >> 64);
        v49[2] = v23;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      uint64_t v23 = check_errors(v11);
    }

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  char v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  unint64_t v26;
  void *v27;
  id v28;
  GPUTools::FB::Fbuf *v29;
  unsigned int v30;
  GPUTools::FB::Fbuf *v31;
  dispatch_queue_s *v32;
  uint64_t v33;
  GPUTools::FB::Stream *v34;
  unsigned int *v35;
  unsigned int v36;
  unsigned int v37;
  unsigned int v38;
  signed int v39;
  BOOL v40;
  unsigned int v41;
  uint64_t v42;
  id v43;
  unsigned int v44;
  dispatch_queue_s *v45;
  uint64_t v46;
  uint64_t v47;
  uint64_t v48;
  void *v49;
  void *v50[2];
  int v51;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      signed int v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v43 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v42 = handle_opengl_thread_conflict((const void **)v11);
    id v43 = [(id)DYGetGLGuestAppClient(v42) waitOnGraphicsSemaphoreAssertions];
    if ((int)v43 >= 1)
    {
      do
LABEL_56:
        unsigned int v44 = __ldaxr(v12);
      while (__stlxr(v44 - 1, v12));
      signed int v45 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v43) graphicsLockWaitQueue];
      dispatch_sync_f(v45, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, const unsigned int *))(*(void *)(v11 + 24) + 7248LL))( a1,  a2,  a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  v50[0] = 0LL;
  v50[1] = 0LL;
  int v51 = 0;
  if ([(id)DYGetGLGuestAppClient(v43) state] != (char *)&dword_0 + 1
    || (id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v16))
  {
    snprintf((char *)(v11 + 4709), 0x40uLL, "Ci@%dui", a2);
    GPUTools::FB::Encode((uint64_t)v50, 981LL, 0LL, v11 + 4709, v17, v18, v19, v20, *(void *)v11);
    char v22 = byte_20722D;
    if ((byte_20722D & 1) != 0) {
      breakpoint_break( (uint64_t)v50,  (volatile int *)((char *)&stru_388.reserved3 + 1),  1LL,  *(unsigned int *)(v11 + 3404),  v11);
    }
    uint64_t v23 = (uint64_t)[(id)DYGetGLGuestAppClient(v21) overrideFlags];
    if (!(v23 & 0x10 | v22 & 4))
    {
      uint64_t v24 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, const unsigned int *))(*(void *)(v11 + 32) + 7248LL))( a1,  a2,  a3);
      uint64_t v23 = mach_absolute_time();
      uint64_t v25 = v23 - v24;
      unint64_t v26 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        uint64_t v27 = v50[0];
        *((void *)v50[0] + 2) = v24;
        v27[3] = v25;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      else
      {
        uint64_t v48 = __udivti3(g_DYTimebaseInfo * v25, (g_DYTimebaseInfo * (unsigned __int128)v25) >> 64);
        id v49 = v50[0];
        *((void *)v50[0] + 3) = v48;
        uint64_t v23 = __udivti3(v26 * v24, (v26 * (unsigned __int128)v24) >> 64);
        v49[2] = v23;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      uint64_t v23 = check_errors(v11);
    }

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  unsigned int v20;
  uint64_t v21;
  id v22;
  unsigned int v23;
  dispatch_queue_s *v24;
  uint64_t v25;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      signed int v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    char v22 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v21 = handle_opengl_thread_conflict((const void **)v11);
    char v22 = [(id)DYGetGLGuestAppClient(v21) waitOnGraphicsSemaphoreAssertions];
    if ((int)v22 >= 1)
    {
      do
LABEL_34:
        uint64_t v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      uint64_t v24 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v22) graphicsLockWaitQueue];
      dispatch_sync_f(v24, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, const unsigned int *))(*(void *)(v11 + 24) + 7248LL))( a1,  a2,  a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v22) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        uint64_t v20 = __ldaxr(v12);
      while (__stlxr(v20 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, const unsigned int *))(*(void *)(v11 + 32) + 7248LL))( a1,  a2,  a3);
  ++*(void *)(v11 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v25 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v25) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v25, v11);
      }
    }
  }

  do
  {
    uint64_t v17 = __ldaxr(v12);
    uint64_t v18 = v17 - 1;
  }

  while (__stlxr(v18, v12));
  if (gCheckGLErrors) {
    uint64_t v19 = v18 < 1;
  }
  else {
    uint64_t v19 = 1;
  }
  if (!v19) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  uint64_t v17;
  uint64_t v18;
  int64x2_t v19;
  unsigned int v20;
  signed int v21;
  BOOL v22;
  unsigned int v23;
  uint64_t v24;
  id v25;
  unsigned int v26;
  dispatch_queue_s *v27;
  uint64_t v28;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      signed int v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v24 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        unint64_t v26 = __ldaxr(v12);
      while (__stlxr(v26 - 1, v12));
      uint64_t v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, const unsigned int *))(*(void *)(v11 + 24) + 7248LL))( a1,  a2,  a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        uint64_t v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v17 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, const unsigned int *))(*(void *)(v11 + 32) + 7248LL))( a1,  a2,  a3);
  uint64_t v18 = mach_absolute_time();
  uint64_t v19 = vdupq_n_s64(1uLL);
  v19.i64[0] = v18 - v17;
  *(int64x2_t *)(v11 + 3696) = vaddq_s64(v19, *(int64x2_t *)(v11 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      id v28 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v11);
      }
    }
  }

  do
  {
    uint64_t v20 = __ldaxr(v12);
    uint64_t v21 = v20 - 1;
  }

  while (__stlxr(v21, v12));
  if (gCheckGLErrors) {
    char v22 = v21 < 1;
  }
  else {
    char v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

void sub_8DA0C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void pause_transform_feedback(__GLIContextRec *a1)
{
  v2 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v2) {
    goto LABEL_12;
  }
  uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v4 = v2[4];
    BOOL v5 = v4 >= (unint64_t)a1;
    else {
      unint64_t v6 = v2 + 1;
    }
    if (v5) {
      uint64_t v3 = (uint64_t)v2;
    }
    v2 = (void *)*v6;
  }

  while (*v6);
  if (v3 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v3 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v7 = *(void *)(v3 + 40);
  unint64_t v8 = (unsigned int *)(v7 + 4640);
  do
  {
    unsigned int v9 = __ldaxr(v8);
    signed int v10 = v9 + 1;
  }

  while (__stlxr(v10, v8));
  if (gCheckGLErrors) {
    BOOL v11 = v10 <= 1;
  }
  else {
    BOOL v11 = 1;
  }
  if (v11)
  {
    id v40 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v39 = handle_opengl_thread_conflict((const void **)v7);
    id v40 = [(id)DYGetGLGuestAppClient(v39) waitOnGraphicsSemaphoreAssertions];
    if ((int)v40 >= 1)
    {
      do
LABEL_57:
        unsigned int v41 = __ldaxr(v8);
      while (__stlxr(v41 - 1, v8));
      uint64_t v42 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v40) graphicsLockWaitQueue];
      dispatch_sync_f(v42, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 24) + 7256LL))(a1);
      return;
    }
  }

  *(_BYTE *)(v7 + 4838) = 1;
  id v49 = 0LL;
  unsigned int v50 = 0LL;
  unsigned int v51 = 0;
  if ([(id)DYGetGLGuestAppClient(v40) state] != (char *)&dword_0 + 1
    || (id v12 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v12))
  {
    signed int v14 = (char *)v49;
    unsigned int v13 = v50;
    int64_t v15 = v50 - (_BYTE *)v49;
    unsigned int v16 = v51;
    unint64_t v17 = v51 - (v50 - (_BYTE *)v49);
    if (v17 > 0x2F) {
      goto LABEL_24;
    }
    int v43 = (303 - v17) & 0xFFFFFF00;
    v51 += v43;
    signed int v14 = (char *)malloc(v43 + v16);
    id v49 = v14;
    if (v14)
    {
      if ((v14 & 3) == 0)
      {
        unsigned int v13 = &v14[v15];
LABEL_24:
        *((_OWORD *)v13 + 1) = 0u;
        *((_OWORD *)v13 + 2) = 0u;
        *(_OWORD *)unsigned int v13 = 0u;
        unsigned int v50 = v13 + 48;
        GPUTools::FB::Fbuf::align((char **)&v49);
        *((_DWORD *)v14 + 1) = 1004;
        *((_DWORD *)v14 + 8) = 0;
        __uint64_t v48 = 0LL;
        uint64_t v18 = pthread_threadid_np(0LL, &v48);
        *((void *)v14 + 1) = v48;
        *((_WORD *)v14 + 18) = 67;
        *((void *)v14 + 5) = *(void *)v7;
        char v19 = byte_207244;
        if ((byte_207244 & 1) != 0) {
          breakpoint_break((uint64_t)&v49, (volatile int *)&stru_3D8.segname[4], 1LL, *(unsigned int *)(v7 + 3404), v7);
        }
        uint64_t v20 = (uint64_t)[(id)DYGetGLGuestAppClient(v18) overrideFlags];
        if (!(v20 & 0x10 | v19 & 4))
        {
          uint64_t v21 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 32) + 7256LL))(a1);
          uint64_t v20 = mach_absolute_time();
          uint64_t v22 = v20 - v21;
          unint64_t v23 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v24 = v49;
            *((void *)v49 + 2) = v21;
            v24[3] = v22;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v46 = __udivti3(g_DYTimebaseInfo * v22, (g_DYTimebaseInfo * (unsigned __int128)v22) >> 64);
            uint64_t v47 = v49;
            *((void *)v49 + 3) = v46;
            uint64_t v20 = __udivti3(v23 * v21, (v23 * (unsigned __int128)v21) >> 64);
            v47[2] = v20;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v20 = check_errors(v7);
        }

{
  void *v2;
  uint64_t v3;
  unint64_t v4;
  BOOL v5;
  void *v6;
  uint64_t v7;
  unsigned int *v8;
  unsigned int v9;
  signed int v10;
  BOOL v11;
  id v12;
  char *v13;
  char *v14;
  int64_t v15;
  unsigned int v16;
  unint64_t v17;
  uint64_t v18;
  char v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  unint64_t v23;
  void *v24;
  id v25;
  GPUTools::FB::Fbuf *v26;
  unsigned int v27;
  GPUTools::FB::Fbuf *v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  GPUTools::FB::Stream *v31;
  unsigned int *v32;
  unsigned int v33;
  unsigned int v34;
  unsigned int v35;
  signed int v36;
  BOOL v37;
  unsigned int v38;
  uint64_t v39;
  id v40;
  unsigned int v41;
  dispatch_queue_s *v42;
  int v43;
  uint64_t v44;
  uint64_t v45;
  uint64_t v46;
  void *v47;
  __uint64_t v48;
  void *v49;
  char *v50;
  unsigned int v51;
  v2 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v2) {
    goto LABEL_12;
  }
  uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v4 = v2[4];
    BOOL v5 = v4 >= (unint64_t)a1;
    else {
      unint64_t v6 = v2 + 1;
    }
    if (v5) {
      uint64_t v3 = (uint64_t)v2;
    }
    v2 = (void *)*v6;
  }

  while (*v6);
  if (v3 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v3 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v7 = *(void *)(v3 + 40);
  unint64_t v8 = (unsigned int *)(v7 + 4640);
  do
  {
    unsigned int v9 = __ldaxr(v8);
    signed int v10 = v9 + 1;
  }

  while (__stlxr(v10, v8));
  if (gCheckGLErrors) {
    BOOL v11 = v10 <= 1;
  }
  else {
    BOOL v11 = 1;
  }
  if (v11)
  {
    id v40 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v39 = handle_opengl_thread_conflict((const void **)v7);
    id v40 = [(id)DYGetGLGuestAppClient(v39) waitOnGraphicsSemaphoreAssertions];
    if ((int)v40 >= 1)
    {
      do
LABEL_57:
        unsigned int v41 = __ldaxr(v8);
      while (__stlxr(v41 - 1, v8));
      uint64_t v42 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v40) graphicsLockWaitQueue];
      dispatch_sync_f(v42, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 24) + 7256LL))(a1);
      return;
    }
  }

  *(_BYTE *)(v7 + 4838) = 1;
  id v49 = 0LL;
  unsigned int v50 = 0LL;
  unsigned int v51 = 0;
  if ([(id)DYGetGLGuestAppClient(v40) state] != (char *)&dword_0 + 1
    || (id v12 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v12))
  {
    signed int v14 = (char *)v49;
    unsigned int v13 = v50;
    int64_t v15 = v50 - (_BYTE *)v49;
    unsigned int v16 = v51;
    unint64_t v17 = v51 - (v50 - (_BYTE *)v49);
    if (v17 > 0x2F) {
      goto LABEL_24;
    }
    int v43 = (303 - v17) & 0xFFFFFF00;
    v51 += v43;
    signed int v14 = (char *)malloc(v43 + v16);
    id v49 = v14;
    if (v14)
    {
      if ((v14 & 3) == 0)
      {
        unsigned int v13 = &v14[v15];
LABEL_24:
        *((_OWORD *)v13 + 1) = 0u;
        *((_OWORD *)v13 + 2) = 0u;
        *(_OWORD *)unsigned int v13 = 0u;
        unsigned int v50 = v13 + 48;
        GPUTools::FB::Fbuf::align((char **)&v49);
        *((_DWORD *)v14 + 1) = 1004;
        *((_DWORD *)v14 + 8) = 0;
        __uint64_t v48 = 0LL;
        uint64_t v18 = pthread_threadid_np(0LL, &v48);
        *((void *)v14 + 1) = v48;
        *((_WORD *)v14 + 18) = 67;
        *((void *)v14 + 5) = *(void *)v7;
        char v19 = byte_207244;
        if ((byte_207244 & 1) != 0) {
          breakpoint_break((uint64_t)&v49, (volatile int *)&stru_3D8.segname[4], 1LL, *(unsigned int *)(v7 + 3404), v7);
        }
        uint64_t v20 = (uint64_t)[(id)DYGetGLGuestAppClient(v18) overrideFlags];
        if (!(v20 & 0x10 | v19 & 4))
        {
          uint64_t v21 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 32) + 7256LL))(a1);
          uint64_t v20 = mach_absolute_time();
          uint64_t v22 = v20 - v21;
          unint64_t v23 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v24 = v49;
            *((void *)v49 + 2) = v21;
            v24[3] = v22;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v46 = __udivti3(g_DYTimebaseInfo * v22, (g_DYTimebaseInfo * (unsigned __int128)v22) >> 64);
            uint64_t v47 = v49;
            *((void *)v49 + 3) = v46;
            uint64_t v20 = __udivti3(v23 * v21, (v23 * (unsigned __int128)v21) >> 64);
            v47[2] = v20;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v20 = check_errors(v7);
        }

{
  void *v2;
  uint64_t v3;
  unint64_t v4;
  BOOL v5;
  void *v6;
  uint64_t v7;
  unsigned int *v8;
  unsigned int v9;
  signed int v10;
  BOOL v11;
  id v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  unsigned int v16;
  uint64_t v17;
  id v18;
  unsigned int v19;
  dispatch_queue_s *v20;
  uint64_t v21;
  v2 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v2) {
    goto LABEL_12;
  }
  uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v4 = v2[4];
    BOOL v5 = v4 >= (unint64_t)a1;
    else {
      unint64_t v6 = v2 + 1;
    }
    if (v5) {
      uint64_t v3 = (uint64_t)v2;
    }
    v2 = (void *)*v6;
  }

  while (*v6);
  if (v3 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v3 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v7 = *(void *)(v3 + 40);
  unint64_t v8 = (unsigned int *)(v7 + 4640);
  do
  {
    unsigned int v9 = __ldaxr(v8);
    signed int v10 = v9 + 1;
  }

  while (__stlxr(v10, v8));
  if (gCheckGLErrors) {
    BOOL v11 = v10 <= 1;
  }
  else {
    BOOL v11 = 1;
  }
  if (v11)
  {
    uint64_t v18 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v17 = handle_opengl_thread_conflict((const void **)v7);
    uint64_t v18 = [(id)DYGetGLGuestAppClient(v17) waitOnGraphicsSemaphoreAssertions];
    if ((int)v18 >= 1)
    {
      do
LABEL_34:
        char v19 = __ldaxr(v8);
      while (__stlxr(v19 - 1, v8));
      uint64_t v20 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v18) graphicsLockWaitQueue];
      dispatch_sync_f(v20, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 24) + 7256LL))(a1);
      return;
    }
  }

  *(_BYTE *)(v7 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v18) state] == (char *)&dword_0 + 1)
  {
    id v12 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v12)
    {
      do
        unsigned int v16 = __ldaxr(v8);
      while (__stlxr(v16 - 1, v8));
      [(id)DYGetGLGuestAppClient(v12) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 32) + 7256LL))(a1);
  ++*(void *)(v7 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v7);
    if (gBreakOnError)
    {
      uint64_t v21 = *(unsigned int *)(v7 + 3404);
      if ((_DWORD)v21) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v21, v7);
      }
    }
  }

  do
  {
    unsigned int v13 = __ldaxr(v8);
    signed int v14 = v13 - 1;
  }

  while (__stlxr(v14, v8));
  if (gCheckGLErrors) {
    int64_t v15 = v14 < 1;
  }
  else {
    int64_t v15 = 1;
  }
  if (!v15) {
    handle_opengl_thread_conflict((const void **)v7);
  }
}

{
  void *v2;
  uint64_t v3;
  unint64_t v4;
  BOOL v5;
  void *v6;
  uint64_t v7;
  unsigned int *v8;
  unsigned int v9;
  signed int v10;
  BOOL v11;
  id v12;
  uint64_t v13;
  uint64_t v14;
  int64x2_t v15;
  unsigned int v16;
  signed int v17;
  BOOL v18;
  unsigned int v19;
  uint64_t v20;
  id v21;
  unsigned int v22;
  dispatch_queue_s *v23;
  uint64_t v24;
  v2 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v2) {
    goto LABEL_12;
  }
  uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v4 = v2[4];
    BOOL v5 = v4 >= (unint64_t)a1;
    else {
      unint64_t v6 = v2 + 1;
    }
    if (v5) {
      uint64_t v3 = (uint64_t)v2;
    }
    v2 = (void *)*v6;
  }

  while (*v6);
  if (v3 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v3 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v7 = *(void *)(v3 + 40);
  unint64_t v8 = (unsigned int *)(v7 + 4640);
  do
  {
    unsigned int v9 = __ldaxr(v8);
    signed int v10 = v9 + 1;
  }

  while (__stlxr(v10, v8));
  if (gCheckGLErrors) {
    BOOL v11 = v10 <= 1;
  }
  else {
    BOOL v11 = 1;
  }
  if (v11)
  {
    uint64_t v21 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v20 = handle_opengl_thread_conflict((const void **)v7);
    uint64_t v21 = [(id)DYGetGLGuestAppClient(v20) waitOnGraphicsSemaphoreAssertions];
    if ((int)v21 >= 1)
    {
      do
LABEL_34:
        uint64_t v22 = __ldaxr(v8);
      while (__stlxr(v22 - 1, v8));
      unint64_t v23 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v21) graphicsLockWaitQueue];
      dispatch_sync_f(v23, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 24) + 7256LL))(a1);
      return;
    }
  }

  *(_BYTE *)(v7 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v21) state] == (char *)&dword_0 + 1)
  {
    id v12 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v12)
    {
      do
        char v19 = __ldaxr(v8);
      while (__stlxr(v19 - 1, v8));
      [(id)DYGetGLGuestAppClient(v12) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v13 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 32) + 7256LL))(a1);
  signed int v14 = mach_absolute_time();
  int64_t v15 = vdupq_n_s64(1uLL);
  v15.i64[0] = v14 - v13;
  *(int64x2_t *)(v7 + 3696) = vaddq_s64(v15, *(int64x2_t *)(v7 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v7);
    if (gBreakOnError)
    {
      uint64_t v24 = *(unsigned int *)(v7 + 3404);
      if ((_DWORD)v24) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v24, v7);
      }
    }
  }

  do
  {
    unsigned int v16 = __ldaxr(v8);
    unint64_t v17 = v16 - 1;
  }

  while (__stlxr(v17, v8));
  if (gCheckGLErrors) {
    uint64_t v18 = v17 < 1;
  }
  else {
    uint64_t v18 = 1;
  }
  if (!v18) {
    handle_opengl_thread_conflict((const void **)v7);
  }
}

void sub_8DEB4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void resume_transform_feedback(__GLIContextRec *a1)
{
  v2 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v2) {
    goto LABEL_12;
  }
  uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v4 = v2[4];
    BOOL v5 = v4 >= (unint64_t)a1;
    else {
      unint64_t v6 = v2 + 1;
    }
    if (v5) {
      uint64_t v3 = (uint64_t)v2;
    }
    v2 = (void *)*v6;
  }

  while (*v6);
  if (v3 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v3 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v7 = *(void *)(v3 + 40);
  unint64_t v8 = (unsigned int *)(v7 + 4640);
  do
  {
    unsigned int v9 = __ldaxr(v8);
    signed int v10 = v9 + 1;
  }

  while (__stlxr(v10, v8));
  if (gCheckGLErrors) {
    BOOL v11 = v10 <= 1;
  }
  else {
    BOOL v11 = 1;
  }
  if (v11)
  {
    id v40 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v39 = handle_opengl_thread_conflict((const void **)v7);
    id v40 = [(id)DYGetGLGuestAppClient(v39) waitOnGraphicsSemaphoreAssertions];
    if ((int)v40 >= 1)
    {
      do
LABEL_57:
        unsigned int v41 = __ldaxr(v8);
      while (__stlxr(v41 - 1, v8));
      uint64_t v42 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v40) graphicsLockWaitQueue];
      dispatch_sync_f(v42, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 24) + 7264LL))(a1);
      return;
    }
  }

  *(_BYTE *)(v7 + 4838) = 1;
  id v49 = 0LL;
  unsigned int v50 = 0LL;
  unsigned int v51 = 0;
  if ([(id)DYGetGLGuestAppClient(v40) state] != (char *)&dword_0 + 1
    || (id v12 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v12))
  {
    signed int v14 = (char *)v49;
    unsigned int v13 = v50;
    int64_t v15 = v50 - (_BYTE *)v49;
    unsigned int v16 = v51;
    unint64_t v17 = v51 - (v50 - (_BYTE *)v49);
    if (v17 > 0x2F) {
      goto LABEL_24;
    }
    int v43 = (303 - v17) & 0xFFFFFF00;
    v51 += v43;
    signed int v14 = (char *)malloc(v43 + v16);
    id v49 = v14;
    if (v14)
    {
      if ((v14 & 3) == 0)
      {
        unsigned int v13 = &v14[v15];
LABEL_24:
        *((_OWORD *)v13 + 1) = 0u;
        *((_OWORD *)v13 + 2) = 0u;
        *(_OWORD *)unsigned int v13 = 0u;
        unsigned int v50 = v13 + 48;
        GPUTools::FB::Fbuf::align((char **)&v49);
        *((_DWORD *)v14 + 1) = 1005;
        *((_DWORD *)v14 + 8) = 0;
        __uint64_t v48 = 0LL;
        uint64_t v18 = pthread_threadid_np(0LL, &v48);
        *((void *)v14 + 1) = v48;
        *((_WORD *)v14 + 18) = 67;
        *((void *)v14 + 5) = *(void *)v7;
        char v19 = byte_207245;
        if ((byte_207245 & 1) != 0) {
          breakpoint_break((uint64_t)&v49, (volatile int *)&stru_3D8.segname[5], 1LL, *(unsigned int *)(v7 + 3404), v7);
        }
        uint64_t v20 = (uint64_t)[(id)DYGetGLGuestAppClient(v18) overrideFlags];
        if (!(v20 & 0x10 | v19 & 4))
        {
          uint64_t v21 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 32) + 7264LL))(a1);
          uint64_t v20 = mach_absolute_time();
          uint64_t v22 = v20 - v21;
          unint64_t v23 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v24 = v49;
            *((void *)v49 + 2) = v21;
            v24[3] = v22;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v46 = __udivti3(g_DYTimebaseInfo * v22, (g_DYTimebaseInfo * (unsigned __int128)v22) >> 64);
            uint64_t v47 = v49;
            *((void *)v49 + 3) = v46;
            uint64_t v20 = __udivti3(v23 * v21, (v23 * (unsigned __int128)v21) >> 64);
            v47[2] = v20;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v20 = check_errors(v7);
        }

{
  void *v2;
  uint64_t v3;
  unint64_t v4;
  BOOL v5;
  void *v6;
  uint64_t v7;
  unsigned int *v8;
  unsigned int v9;
  signed int v10;
  BOOL v11;
  id v12;
  char *v13;
  char *v14;
  int64_t v15;
  unsigned int v16;
  unint64_t v17;
  uint64_t v18;
  char v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  unint64_t v23;
  void *v24;
  id v25;
  GPUTools::FB::Fbuf *v26;
  unsigned int v27;
  GPUTools::FB::Fbuf *v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  GPUTools::FB::Stream *v31;
  unsigned int *v32;
  unsigned int v33;
  unsigned int v34;
  unsigned int v35;
  signed int v36;
  BOOL v37;
  unsigned int v38;
  uint64_t v39;
  id v40;
  unsigned int v41;
  dispatch_queue_s *v42;
  int v43;
  uint64_t v44;
  uint64_t v45;
  uint64_t v46;
  void *v47;
  __uint64_t v48;
  void *v49;
  char *v50;
  unsigned int v51;
  v2 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v2) {
    goto LABEL_12;
  }
  uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v4 = v2[4];
    BOOL v5 = v4 >= (unint64_t)a1;
    else {
      unint64_t v6 = v2 + 1;
    }
    if (v5) {
      uint64_t v3 = (uint64_t)v2;
    }
    v2 = (void *)*v6;
  }

  while (*v6);
  if (v3 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v3 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v7 = *(void *)(v3 + 40);
  unint64_t v8 = (unsigned int *)(v7 + 4640);
  do
  {
    unsigned int v9 = __ldaxr(v8);
    signed int v10 = v9 + 1;
  }

  while (__stlxr(v10, v8));
  if (gCheckGLErrors) {
    BOOL v11 = v10 <= 1;
  }
  else {
    BOOL v11 = 1;
  }
  if (v11)
  {
    id v40 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v39 = handle_opengl_thread_conflict((const void **)v7);
    id v40 = [(id)DYGetGLGuestAppClient(v39) waitOnGraphicsSemaphoreAssertions];
    if ((int)v40 >= 1)
    {
      do
LABEL_57:
        unsigned int v41 = __ldaxr(v8);
      while (__stlxr(v41 - 1, v8));
      uint64_t v42 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v40) graphicsLockWaitQueue];
      dispatch_sync_f(v42, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 24) + 7264LL))(a1);
      return;
    }
  }

  *(_BYTE *)(v7 + 4838) = 1;
  id v49 = 0LL;
  unsigned int v50 = 0LL;
  unsigned int v51 = 0;
  if ([(id)DYGetGLGuestAppClient(v40) state] != (char *)&dword_0 + 1
    || (id v12 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v12))
  {
    signed int v14 = (char *)v49;
    unsigned int v13 = v50;
    int64_t v15 = v50 - (_BYTE *)v49;
    unsigned int v16 = v51;
    unint64_t v17 = v51 - (v50 - (_BYTE *)v49);
    if (v17 > 0x2F) {
      goto LABEL_24;
    }
    int v43 = (303 - v17) & 0xFFFFFF00;
    v51 += v43;
    signed int v14 = (char *)malloc(v43 + v16);
    id v49 = v14;
    if (v14)
    {
      if ((v14 & 3) == 0)
      {
        unsigned int v13 = &v14[v15];
LABEL_24:
        *((_OWORD *)v13 + 1) = 0u;
        *((_OWORD *)v13 + 2) = 0u;
        *(_OWORD *)unsigned int v13 = 0u;
        unsigned int v50 = v13 + 48;
        GPUTools::FB::Fbuf::align((char **)&v49);
        *((_DWORD *)v14 + 1) = 1005;
        *((_DWORD *)v14 + 8) = 0;
        __uint64_t v48 = 0LL;
        uint64_t v18 = pthread_threadid_np(0LL, &v48);
        *((void *)v14 + 1) = v48;
        *((_WORD *)v14 + 18) = 67;
        *((void *)v14 + 5) = *(void *)v7;
        char v19 = byte_207245;
        if ((byte_207245 & 1) != 0) {
          breakpoint_break((uint64_t)&v49, (volatile int *)&stru_3D8.segname[5], 1LL, *(unsigned int *)(v7 + 3404), v7);
        }
        uint64_t v20 = (uint64_t)[(id)DYGetGLGuestAppClient(v18) overrideFlags];
        if (!(v20 & 0x10 | v19 & 4))
        {
          uint64_t v21 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 32) + 7264LL))(a1);
          uint64_t v20 = mach_absolute_time();
          uint64_t v22 = v20 - v21;
          unint64_t v23 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v24 = v49;
            *((void *)v49 + 2) = v21;
            v24[3] = v22;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v46 = __udivti3(g_DYTimebaseInfo * v22, (g_DYTimebaseInfo * (unsigned __int128)v22) >> 64);
            uint64_t v47 = v49;
            *((void *)v49 + 3) = v46;
            uint64_t v20 = __udivti3(v23 * v21, (v23 * (unsigned __int128)v21) >> 64);
            v47[2] = v20;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v20 = check_errors(v7);
        }

{
  void *v2;
  uint64_t v3;
  unint64_t v4;
  BOOL v5;
  void *v6;
  uint64_t v7;
  unsigned int *v8;
  unsigned int v9;
  signed int v10;
  BOOL v11;
  id v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  unsigned int v16;
  uint64_t v17;
  id v18;
  unsigned int v19;
  dispatch_queue_s *v20;
  uint64_t v21;
  v2 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v2) {
    goto LABEL_12;
  }
  uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v4 = v2[4];
    BOOL v5 = v4 >= (unint64_t)a1;
    else {
      unint64_t v6 = v2 + 1;
    }
    if (v5) {
      uint64_t v3 = (uint64_t)v2;
    }
    v2 = (void *)*v6;
  }

  while (*v6);
  if (v3 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v3 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v7 = *(void *)(v3 + 40);
  unint64_t v8 = (unsigned int *)(v7 + 4640);
  do
  {
    unsigned int v9 = __ldaxr(v8);
    signed int v10 = v9 + 1;
  }

  while (__stlxr(v10, v8));
  if (gCheckGLErrors) {
    BOOL v11 = v10 <= 1;
  }
  else {
    BOOL v11 = 1;
  }
  if (v11)
  {
    uint64_t v18 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v17 = handle_opengl_thread_conflict((const void **)v7);
    uint64_t v18 = [(id)DYGetGLGuestAppClient(v17) waitOnGraphicsSemaphoreAssertions];
    if ((int)v18 >= 1)
    {
      do
LABEL_34:
        char v19 = __ldaxr(v8);
      while (__stlxr(v19 - 1, v8));
      uint64_t v20 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v18) graphicsLockWaitQueue];
      dispatch_sync_f(v20, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 24) + 7264LL))(a1);
      return;
    }
  }

  *(_BYTE *)(v7 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v18) state] == (char *)&dword_0 + 1)
  {
    id v12 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v12)
    {
      do
        unsigned int v16 = __ldaxr(v8);
      while (__stlxr(v16 - 1, v8));
      [(id)DYGetGLGuestAppClient(v12) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 32) + 7264LL))(a1);
  ++*(void *)(v7 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v7);
    if (gBreakOnError)
    {
      uint64_t v21 = *(unsigned int *)(v7 + 3404);
      if ((_DWORD)v21) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v21, v7);
      }
    }
  }

  do
  {
    unsigned int v13 = __ldaxr(v8);
    signed int v14 = v13 - 1;
  }

  while (__stlxr(v14, v8));
  if (gCheckGLErrors) {
    int64_t v15 = v14 < 1;
  }
  else {
    int64_t v15 = 1;
  }
  if (!v15) {
    handle_opengl_thread_conflict((const void **)v7);
  }
}

{
  void *v2;
  uint64_t v3;
  unint64_t v4;
  BOOL v5;
  void *v6;
  uint64_t v7;
  unsigned int *v8;
  unsigned int v9;
  signed int v10;
  BOOL v11;
  id v12;
  uint64_t v13;
  uint64_t v14;
  int64x2_t v15;
  unsigned int v16;
  signed int v17;
  BOOL v18;
  unsigned int v19;
  uint64_t v20;
  id v21;
  unsigned int v22;
  dispatch_queue_s *v23;
  uint64_t v24;
  v2 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v2) {
    goto LABEL_12;
  }
  uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v4 = v2[4];
    BOOL v5 = v4 >= (unint64_t)a1;
    else {
      unint64_t v6 = v2 + 1;
    }
    if (v5) {
      uint64_t v3 = (uint64_t)v2;
    }
    v2 = (void *)*v6;
  }

  while (*v6);
  if (v3 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v3 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v7 = *(void *)(v3 + 40);
  unint64_t v8 = (unsigned int *)(v7 + 4640);
  do
  {
    unsigned int v9 = __ldaxr(v8);
    signed int v10 = v9 + 1;
  }

  while (__stlxr(v10, v8));
  if (gCheckGLErrors) {
    BOOL v11 = v10 <= 1;
  }
  else {
    BOOL v11 = 1;
  }
  if (v11)
  {
    uint64_t v21 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v20 = handle_opengl_thread_conflict((const void **)v7);
    uint64_t v21 = [(id)DYGetGLGuestAppClient(v20) waitOnGraphicsSemaphoreAssertions];
    if ((int)v21 >= 1)
    {
      do
LABEL_34:
        uint64_t v22 = __ldaxr(v8);
      while (__stlxr(v22 - 1, v8));
      unint64_t v23 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v21) graphicsLockWaitQueue];
      dispatch_sync_f(v23, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 24) + 7264LL))(a1);
      return;
    }
  }

  *(_BYTE *)(v7 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v21) state] == (char *)&dword_0 + 1)
  {
    id v12 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v12)
    {
      do
        char v19 = __ldaxr(v8);
      while (__stlxr(v19 - 1, v8));
      [(id)DYGetGLGuestAppClient(v12) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v13 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 32) + 7264LL))(a1);
  signed int v14 = mach_absolute_time();
  int64_t v15 = vdupq_n_s64(1uLL);
  v15.i64[0] = v14 - v13;
  *(int64x2_t *)(v7 + 3696) = vaddq_s64(v15, *(int64x2_t *)(v7 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v7);
    if (gBreakOnError)
    {
      uint64_t v24 = *(unsigned int *)(v7 + 3404);
      if ((_DWORD)v24) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v24, v7);
      }
    }
  }

  do
  {
    unsigned int v16 = __ldaxr(v8);
    unint64_t v17 = v16 - 1;
  }

  while (__stlxr(v17, v8));
  if (gCheckGLErrors) {
    uint64_t v18 = v17 < 1;
  }
  else {
    uint64_t v18 = 1;
  }
  if (!v18) {
    handle_opengl_thread_conflict((const void **)v7);
  }
}

void sub_8E364( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

uint64_t is_transform_feedback(__GLIContextRec *a1, uint64_t a2)
{
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  signed int v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    id v49 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v48 = handle_opengl_thread_conflict((const void **)v9);
    id v49 = [(id)DYGetGLGuestAppClient(v48) waitOnGraphicsSemaphoreAssertions];
    if ((int)v49 >= 1)
    {
      do
LABEL_57:
        unsigned int v50 = __ldaxr(v10);
      while (__stlxr(v50 - 1, v10));
      unsigned int v51 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v49) graphicsLockWaitQueue];
      dispatch_sync_f(v51, 0LL, (dispatch_function_t)do_nothing);
      return (*(uint64_t (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 7272LL))(a1, a2);
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  int v58 = 0LL;
  unsigned int v59 = 0LL;
  unsigned int v60 = 0;
  if ([(id)DYGetGLGuestAppClient(v49) state] != (char *)&dword_0 + 1
    || (id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v14))
  {
    unsigned int v16 = (char *)v58;
    int64_t v15 = v59;
    int64_t v17 = v59 - (_BYTE *)v58;
    unsigned int v18 = v60;
    unint64_t v19 = v60 - (v59 - (_BYTE *)v58);
    if (v19 > 0x33) {
      goto LABEL_24;
    }
    int v52 = (307 - v19) & 0xFFFFFF00;
    v60 += v52;
    unsigned int v16 = (char *)malloc(v52 + v18);
    int v58 = v16;
    if (v16)
    {
      if ((v16 & 3) == 0)
      {
        int64_t v15 = &v16[v17];
LABEL_24:
        *((_DWORD *)v15 + 12) = 0;
        *((_OWORD *)v15 + 1) = 0u;
        *((_OWORD *)v15 + 2) = 0u;
        *(_OWORD *)int64_t v15 = 0u;
        unsigned int v59 = v15 + 52;
        GPUTools::FB::Fbuf::align((char **)&v58);
        *((_DWORD *)v16 + 1) = 1000;
        *((_DWORD *)v16 + 8) = 256;
        __uint64_t v57 = 0LL;
        uint64_t v20 = pthread_threadid_np(0LL, &v57);
        *((void *)v16 + 1) = v57;
        *((_DWORD *)v16 + 9) = 6911299;
        *((void *)v16 + 5) = *(void *)v9;
        *((_DWORD *)v16 + 12) = a2;
        char v21 = byte_207240;
        if ((byte_207240 & 1) != 0) {
          breakpoint_break((uint64_t)&v58, (volatile int *)stru_3D8.segname, 1LL, *(unsigned int *)(v9 + 3404), v9);
        }
        if ([(id)DYGetGLGuestAppClient(v20) overrideFlags] & 0x10 | v21 & 4)
        {
          uint64_t v28 = 0LL;
          goto LABEL_29;
        }

        uint64_t v27 = mach_absolute_time();
        uint64_t v28 = (*(uint64_t (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 32) + 7272LL))(a1, a2);
        uint64_t v29 = mach_absolute_time() - v27;
        unint64_t v30 = g_DYTimebaseInfo;
        if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
        {
          unsigned int v31 = v58;
          *((void *)v58 + 2) = v27;
          v31[3] = v29;
          if (!gCheckGLErrors) {
            goto LABEL_29;
          }
        }

        else
        {
          uint64_t v55 = __udivti3(g_DYTimebaseInfo * v29, (g_DYTimebaseInfo * (unsigned __int128)v29) >> 64);
          __int128 v56 = v58;
          *((void *)v58 + 3) = v55;
          v56[2] = __udivti3(v30 * v27, (v30 * (unsigned __int128)v27) >> 64);
          if (!gCheckGLErrors) {
            goto LABEL_29;
          }
        }

        check_errors(v9);
LABEL_29:
        GPUTools::FB::Encode((uint64_t)&v58, 4294955008LL, (uint64_t)"ub", v22, v23, v24, v25, v26, v28);
        id v33 = objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v32), "activeCaptureDescriptor"),  "includeBacktraceInFbufs");
        if ((_DWORD)v33) {
          id v33 = (id)GPUTools::FB::EncodeCurrentBacktrace((GPUTools::FB *)&v58, v34);
        }
        signed int v36 = (GPUTools::FB::Fbuf *)*(unsigned int *)(v9 + 3404);
        if ((_DWORD)v36) {
          id v33 = (id)GPUTools::FB::EncodeGLError((GPUTools::FB *)&v58, v36, v35);
        }
        if (objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v33), "activeCaptureDescriptor"),  "queryDriverEventsOnGraphicsCommands")) {
          encode_driver_events((id *)v9, (uint64_t)&v58);
        }
        BOOL v37 = GPUTools::FB::EncodeThreadQueueInfo( (void *)(v9 + 3480),  (GPUTools::FB::Fbuf *)(v9 + 3520),  (GPUTools::FB *)&v58);
        uint64_t v38 = *(unsigned int *)(v9 + 3404);
        if ((_DWORD)v38 && gBreakOnError)
        {
          uint64_t v53 = 3LL;
          uint64_t v54 = 0xFFFFFFFFLL;
        }

        else
        {
          if ((v21 & 2) == 0) {
            goto LABEL_38;
          }
          uint64_t v53 = 2LL;
          uint64_t v54 = 1000LL;
        }

        breakpoint_break((uint64_t)&v58, (volatile int *)v54, v53, v38, v9);
LABEL_38:
        uint64_t v39 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v37) defaultFbufStream];
        id v40 = (unsigned int *)((char *)v39 + 56);
        do
          unsigned int v41 = __ldaxr(v40);
        while (__stlxr(1u, v40));
        if (v41 == 1)
        {
          do
          {
            while (*v40 == 1)
              ;
            do
              unsigned int v42 = __ldaxr(v40);
            while (__stlxr(1u, v40));
          }

          while (v42 == 1);
        }

        GPUTools::FB::Stream::Write_nolock(v39, (GPUTools::FB::Fbuf *)&v58, *(unsigned int *)v58, 1);
        atomic_store(0, v40);
        do
        {
          unsigned int v43 = __ldaxr(v10);
          signed int v44 = v43 - 1;
        }

        while (__stlxr(v44, v10));
        if (gCheckGLErrors) {
          BOOL v45 = v44 < 1;
        }
        else {
          BOOL v45 = 1;
        }
        if (!v45) {
          handle_opengl_thread_conflict((const void **)v9);
        }
        goto LABEL_51;
      }

      uint64_t result = dy_abort("misaligned fbuf buffer: %p, required alignment=%zu", v16, 4uLL);
    }

    else
    {
      uint64_t result = dy_abort("failed to allocate fbuf buffer");
    }

    __break(1u);
    return result;
  }

  do
    unsigned int v47 = __ldaxr(v10);
  while (__stlxr(v47 - 1, v10));
  [(id)DYGetGLGuestAppClient(v14) triggerArmedCapture];
  uint64_t v28 = (*(uint64_t (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 7272LL))(a1, a2);
LABEL_51:
  if (v58) {
    free(v58);
  }
  return v28;
}

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  char *v15;
  char *v16;
  int64_t v17;
  unsigned int v18;
  unint64_t v19;
  uint64_t v20;
  char v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  unint64_t v30;
  void *v31;
  uint64_t v32;
  id v33;
  GPUTools::FB::Fbuf *v34;
  unsigned int v35;
  GPUTools::FB::Fbuf *v36;
  dispatch_queue_s *v37;
  uint64_t v38;
  GPUTools::FB::Stream *v39;
  unsigned int *v40;
  unsigned int v41;
  unsigned int v42;
  unsigned int v43;
  signed int v44;
  BOOL v45;
  uint64_t result;
  unsigned int v47;
  uint64_t v48;
  id v49;
  unsigned int v50;
  dispatch_queue_s *v51;
  int v52;
  uint64_t v53;
  uint64_t v54;
  uint64_t v55;
  void *v56;
  __uint64_t v57;
  void *v58;
  char *v59;
  unsigned int v60;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  signed int v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    id v49 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v48 = handle_opengl_thread_conflict((const void **)v9);
    id v49 = [(id)DYGetGLGuestAppClient(v48) waitOnGraphicsSemaphoreAssertions];
    if ((int)v49 >= 1)
    {
      do
LABEL_57:
        unsigned int v50 = __ldaxr(v10);
      while (__stlxr(v50 - 1, v10));
      unsigned int v51 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v49) graphicsLockWaitQueue];
      dispatch_sync_f(v51, 0LL, (dispatch_function_t)do_nothing);
      return (*(uint64_t (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 7272LL))(a1, a2);
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  int v58 = 0LL;
  unsigned int v59 = 0LL;
  unsigned int v60 = 0;
  if ([(id)DYGetGLGuestAppClient(v49) state] != (char *)&dword_0 + 1
    || (id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v14))
  {
    unsigned int v16 = (char *)v58;
    int64_t v15 = v59;
    int64_t v17 = v59 - (_BYTE *)v58;
    unsigned int v18 = v60;
    unint64_t v19 = v60 - (v59 - (_BYTE *)v58);
    if (v19 > 0x33) {
      goto LABEL_24;
    }
    int v52 = (307 - v19) & 0xFFFFFF00;
    v60 += v52;
    unsigned int v16 = (char *)malloc(v52 + v18);
    int v58 = v16;
    if (v16)
    {
      if ((v16 & 3) == 0)
      {
        int64_t v15 = &v16[v17];
LABEL_24:
        *((_DWORD *)v15 + 12) = 0;
        *((_OWORD *)v15 + 1) = 0u;
        *((_OWORD *)v15 + 2) = 0u;
        *(_OWORD *)int64_t v15 = 0u;
        unsigned int v59 = v15 + 52;
        GPUTools::FB::Fbuf::align((char **)&v58);
        *((_DWORD *)v16 + 1) = 1000;
        *((_DWORD *)v16 + 8) = 256;
        __uint64_t v57 = 0LL;
        uint64_t v20 = pthread_threadid_np(0LL, &v57);
        *((void *)v16 + 1) = v57;
        *((_DWORD *)v16 + 9) = 6911299;
        *((void *)v16 + 5) = *(void *)v9;
        *((_DWORD *)v16 + 12) = a2;
        char v21 = byte_207240;
        if ((byte_207240 & 1) != 0) {
          breakpoint_break((uint64_t)&v58, (volatile int *)stru_3D8.segname, 1LL, *(unsigned int *)(v9 + 3404), v9);
        }
        if ([(id)DYGetGLGuestAppClient(v20) overrideFlags] & 0x10 | v21 & 4)
        {
          uint64_t v28 = 0LL;
          goto LABEL_29;
        }

        uint64_t v27 = mach_absolute_time();
        uint64_t v28 = (*(uint64_t (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 32) + 7272LL))(a1, a2);
        uint64_t v29 = mach_absolute_time() - v27;
        unint64_t v30 = g_DYTimebaseInfo;
        if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
        {
          unsigned int v31 = v58;
          *((void *)v58 + 2) = v27;
          v31[3] = v29;
          if (!gCheckGLErrors) {
            goto LABEL_29;
          }
        }

        else
        {
          uint64_t v55 = __udivti3(g_DYTimebaseInfo * v29, (g_DYTimebaseInfo * (unsigned __int128)v29) >> 64);
          __int128 v56 = v58;
          *((void *)v58 + 3) = v55;
          v56[2] = __udivti3(v30 * v27, (v30 * (unsigned __int128)v27) >> 64);
          if (!gCheckGLErrors) {
            goto LABEL_29;
          }
        }

        check_errors(v9);
LABEL_29:
        GPUTools::FB::Encode((uint64_t)&v58, 4294955008LL, (uint64_t)"ub", v22, v23, v24, v25, v26, v28);
        id v33 = objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v32), "activeCaptureDescriptor"),  "includeBacktraceInFbufs");
        if ((_DWORD)v33) {
          id v33 = (id)GPUTools::FB::EncodeCurrentBacktrace((GPUTools::FB *)&v58, v34);
        }
        signed int v36 = (GPUTools::FB::Fbuf *)*(unsigned int *)(v9 + 3404);
        if ((_DWORD)v36) {
          id v33 = (id)GPUTools::FB::EncodeGLError((GPUTools::FB *)&v58, v36, v35);
        }
        if (objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v33), "activeCaptureDescriptor"),  "queryDriverEventsOnGraphicsCommands")) {
          encode_driver_events((id *)v9, (uint64_t)&v58);
        }
        BOOL v37 = GPUTools::FB::EncodeThreadQueueInfo( (void *)(v9 + 3480),  (GPUTools::FB::Fbuf *)(v9 + 3520),  (GPUTools::FB *)&v58);
        uint64_t v38 = *(unsigned int *)(v9 + 3404);
        if ((_DWORD)v38 && gBreakOnError)
        {
          uint64_t v53 = 3LL;
          uint64_t v54 = 0xFFFFFFFFLL;
        }

        else
        {
          if ((v21 & 2) == 0) {
            goto LABEL_38;
          }
          uint64_t v53 = 2LL;
          uint64_t v54 = 1000LL;
        }

        breakpoint_break((uint64_t)&v58, (volatile int *)v54, v53, v38, v9);
LABEL_38:
        uint64_t v39 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v37) defaultFbufStream];
        id v40 = (unsigned int *)((char *)v39 + 56);
        do
          unsigned int v41 = __ldaxr(v40);
        while (__stlxr(1u, v40));
        if (v41 == 1)
        {
          do
          {
            while (*v40 == 1)
              ;
            do
              unsigned int v42 = __ldaxr(v40);
            while (__stlxr(1u, v40));
          }

          while (v42 == 1);
        }

        GPUTools::FB::Stream::Write_nolock(v39, (GPUTools::FB::Fbuf *)&v58, *(unsigned int *)v58, 1);
        atomic_store(0, v40);
        do
        {
          unsigned int v43 = __ldaxr(v10);
          signed int v44 = v43 - 1;
        }

        while (__stlxr(v44, v10));
        if (gCheckGLErrors) {
          BOOL v45 = v44 < 1;
        }
        else {
          BOOL v45 = 1;
        }
        if (!v45) {
          handle_opengl_thread_conflict((const void **)v9);
        }
        goto LABEL_51;
      }

      uint64_t result = dy_abort("misaligned fbuf buffer: %p, required alignment=%zu", v16, 4uLL);
    }

    else
    {
      uint64_t result = dy_abort("failed to allocate fbuf buffer");
    }

    __break(1u);
    return result;
  }

  do
    unsigned int v47 = __ldaxr(v10);
  while (__stlxr(v47 - 1, v10));
  [(id)DYGetGLGuestAppClient(v14) triggerArmedCapture];
  uint64_t v28 = (*(uint64_t (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 7272LL))(a1, a2);
LABEL_51:
  if (v58) {
    free(v58);
  }
  return v28;
}

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  uint64_t v15;
  unsigned int v16;
  signed int v17;
  BOOL v18;
  unsigned int v19;
  uint64_t v20;
  id v21;
  unsigned int v22;
  dispatch_queue_s *v23;
  uint64_t v24;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  signed int v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    char v21 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v20 = handle_opengl_thread_conflict((const void **)v9);
    char v21 = [(id)DYGetGLGuestAppClient(v20) waitOnGraphicsSemaphoreAssertions];
    if ((int)v21 >= 1)
    {
      do
LABEL_35:
        uint64_t v22 = __ldaxr(v10);
      while (__stlxr(v22 - 1, v10));
      uint64_t v23 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v21) graphicsLockWaitQueue];
      dispatch_sync_f(v23, 0LL, (dispatch_function_t)do_nothing);
      return (*(uint64_t (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 7272LL))(a1, a2);
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v21) state] == (char *)&dword_0 + 1)
  {
    id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v14)
    {
      do
        unint64_t v19 = __ldaxr(v10);
      while (__stlxr(v19 - 1, v10));
      [(id)DYGetGLGuestAppClient(v14) triggerArmedCapture];
      return (*(uint64_t (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 7272LL))(a1, a2);
    }
  }

  int64_t v15 = (*(uint64_t (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 32) + 7272LL))(a1, a2);
  ++*(void *)(v9 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v9);
    if (gBreakOnError)
    {
      uint64_t v24 = *(unsigned int *)(v9 + 3404);
      if ((_DWORD)v24) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v24, v9);
      }
    }
  }

  do
  {
    unsigned int v16 = __ldaxr(v10);
    int64_t v17 = v16 - 1;
  }

  while (__stlxr(v17, v10));
  if (gCheckGLErrors) {
    unsigned int v18 = v17 < 1;
  }
  else {
    unsigned int v18 = 1;
  }
  if (!v18) {
    handle_opengl_thread_conflict((const void **)v9);
  }
  return v15;
}

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  uint64_t v15;
  uint64_t v16;
  uint64_t v17;
  int64x2_t v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  unsigned int v22;
  uint64_t v23;
  id v24;
  unsigned int v25;
  dispatch_queue_s *v26;
  uint64_t v27;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  signed int v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    uint64_t v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v9);
    uint64_t v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_35:
        uint64_t v25 = __ldaxr(v10);
      while (__stlxr(v25 - 1, v10));
      uint64_t v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
      return (*(uint64_t (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 7272LL))(a1, a2);
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v14)
    {
      do
        uint64_t v22 = __ldaxr(v10);
      while (__stlxr(v22 - 1, v10));
      [(id)DYGetGLGuestAppClient(v14) triggerArmedCapture];
      return (*(uint64_t (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 7272LL))(a1, a2);
    }
  }

  int64_t v15 = mach_absolute_time();
  unsigned int v16 = (*(uint64_t (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 32) + 7272LL))(a1, a2);
  int64_t v17 = mach_absolute_time();
  unsigned int v18 = vdupq_n_s64(1uLL);
  v18.i64[0] = v17 - v15;
  *(int64x2_t *)(v9 + 3696) = vaddq_s64(v18, *(int64x2_t *)(v9 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v9);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v9 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v9);
      }
    }
  }

  do
  {
    unint64_t v19 = __ldaxr(v10);
    uint64_t v20 = v19 - 1;
  }

  while (__stlxr(v20, v10));
  if (gCheckGLErrors) {
    char v21 = v20 < 1;
  }
  else {
    char v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v9);
  }
  return v16;
}

{
  __GLIContextRec *v3;
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  id v15;
  unsigned int v16;
  signed int v17;
  BOOL v18;
  unsigned int v20;
  dispatch_queue_s *v21;
  unsigned int v22;
  uint64_t v3 = a1;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  signed int v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (!v13) {
    a1 = (__GLIContextRec *)handle_opengl_thread_conflict((const void **)v9);
  }
  id v14 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  if ((int)v14 >= 1)
  {
    do
      uint64_t v20 = __ldaxr(v10);
    while (__stlxr(v20 - 1, v10));
    char v21 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v14) graphicsLockWaitQueue];
    dispatch_sync_f(v21, 0LL, (dispatch_function_t)do_nothing);
    return (*(uint64_t (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 7272LL))(v3, a2);
  }

  *(_BYTE *)(v9 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v14) state] == (char *)&dword_0 + 1)
  {
    int64_t v15 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((v15 & 1) != 0)
    {
      do
        uint64_t v22 = __ldaxr(v10);
      while (__stlxr(v22 - 1, v10));
      [(id)DYGetGLGuestAppClient(v15) triggerArmedCapture];
      return (*(uint64_t (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 7272LL))(v3, a2);
    }
  }

  do
  {
    unsigned int v16 = __ldaxr(v10);
    int64_t v17 = v16 - 1;
  }

  while (__stlxr(v17, v10));
  if (gCheckGLErrors) {
    unsigned int v18 = v17 < 1;
  }
  else {
    unsigned int v18 = 1;
  }
  if (!v18) {
    handle_opengl_thread_conflict((const void **)v9);
  }
  return 0LL;
}

void sub_8E870( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void alpha_funcx(__GLIContextRec *a1, uint64_t a2, uint64_t a3)
{
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      signed int v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  signed int v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v44 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v43 = handle_opengl_thread_conflict((const void **)v11);
    id v44 = [(id)DYGetGLGuestAppClient(v43) waitOnGraphicsSemaphoreAssertions];
    if ((int)v44 >= 1)
    {
      do
LABEL_57:
        unsigned int v45 = __ldaxr(v12);
      while (__stlxr(v45 - 1, v12));
      uint64_t v46 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v44) graphicsLockWaitQueue];
      dispatch_sync_f(v46, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 24) + 7744LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  uint64_t v53 = 0LL;
  uint64_t v54 = 0LL;
  unsigned int v55 = 0;
  if ([(id)DYGetGLGuestAppClient(v44) state] != (char *)&dword_0 + 1
    || (id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v16))
  {
    unsigned int v18 = (char *)v53;
    int64_t v17 = v54;
    int64_t v19 = v54 - (_BYTE *)v53;
    unsigned int v20 = v55;
    unint64_t v21 = v55 - (v54 - (_BYTE *)v53);
    if (v21 > 0x37) {
      goto LABEL_24;
    }
    int v47 = (311 - v21) & 0xFFFFFF00;
    v55 += v47;
    unsigned int v18 = (char *)malloc(v47 + v20);
    uint64_t v53 = v18;
    if (v18)
    {
      if ((v18 & 3) == 0)
      {
        int64_t v17 = &v18[v19];
LABEL_24:
        *((void *)v17 + 6) = 0LL;
        *((_OWORD *)v17 + 1) = 0u;
        *((_OWORD *)v17 + 2) = 0u;
        *(_OWORD *)int64_t v17 = 0u;
        uint64_t v54 = v17 + 56;
        GPUTools::FB::Fbuf::align((char **)&v53);
        *((_DWORD *)v18 + 1) = 759;
        *((_DWORD *)v18 + 8) = 0;
        __uint64_t v52 = 0LL;
        uint64_t v22 = pthread_threadid_np(0LL, &v52);
        *((void *)v18 + 1) = v52;
        *((_DWORD *)v18 + 9) = 7890243;
        *((void *)v18 + 5) = *(void *)v11;
        *((_DWORD *)v18 + 12) = a2;
        *((_DWORD *)v18 + 13) = a3;
        char v23 = byte_20714F;
        if ((byte_20714F & 1) != 0) {
          breakpoint_break( (uint64_t)&v53,  (volatile int *)&stru_2E8.sectname[15],  1LL,  *(unsigned int *)(v11 + 3404),  v11);
        }
        uint64_t v24 = (uint64_t)[(id)DYGetGLGuestAppClient(v22) overrideFlags];
        if (!(v24 & 0x10 | v23 & 4))
        {
          uint64_t v25 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 32) + 7744LL))(a1, a2, a3);
          uint64_t v24 = mach_absolute_time();
          uint64_t v26 = v24 - v25;
          unint64_t v27 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v28 = v53;
            *((void *)v53 + 2) = v25;
            v28[3] = v26;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v50 = __udivti3(g_DYTimebaseInfo * v26, (g_DYTimebaseInfo * (unsigned __int128)v26) >> 64);
            unsigned int v51 = v53;
            *((void *)v53 + 3) = v50;
            uint64_t v24 = __udivti3(v27 * v25, (v27 * (unsigned __int128)v25) >> 64);
            v51[2] = v24;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v24 = check_errors(v11);
        }

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  char *v17;
  char *v18;
  int64_t v19;
  unsigned int v20;
  unint64_t v21;
  uint64_t v22;
  char v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  unint64_t v27;
  void *v28;
  id v29;
  GPUTools::FB::Fbuf *v30;
  unsigned int v31;
  GPUTools::FB::Fbuf *v32;
  dispatch_queue_s *v33;
  uint64_t v34;
  GPUTools::FB::Stream *v35;
  unsigned int *v36;
  unsigned int v37;
  unsigned int v38;
  unsigned int v39;
  signed int v40;
  BOOL v41;
  unsigned int v42;
  uint64_t v43;
  id v44;
  unsigned int v45;
  dispatch_queue_s *v46;
  int v47;
  uint64_t v48;
  uint64_t v49;
  uint64_t v50;
  void *v51;
  __uint64_t v52;
  void *v53;
  char *v54;
  unsigned int v55;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      signed int v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  signed int v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v44 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v43 = handle_opengl_thread_conflict((const void **)v11);
    id v44 = [(id)DYGetGLGuestAppClient(v43) waitOnGraphicsSemaphoreAssertions];
    if ((int)v44 >= 1)
    {
      do
LABEL_57:
        unsigned int v45 = __ldaxr(v12);
      while (__stlxr(v45 - 1, v12));
      uint64_t v46 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v44) graphicsLockWaitQueue];
      dispatch_sync_f(v46, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 24) + 7744LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  uint64_t v53 = 0LL;
  uint64_t v54 = 0LL;
  unsigned int v55 = 0;
  if ([(id)DYGetGLGuestAppClient(v44) state] != (char *)&dword_0 + 1
    || (id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v16))
  {
    unsigned int v18 = (char *)v53;
    int64_t v17 = v54;
    int64_t v19 = v54 - (_BYTE *)v53;
    unsigned int v20 = v55;
    unint64_t v21 = v55 - (v54 - (_BYTE *)v53);
    if (v21 > 0x37) {
      goto LABEL_24;
    }
    int v47 = (311 - v21) & 0xFFFFFF00;
    v55 += v47;
    unsigned int v18 = (char *)malloc(v47 + v20);
    uint64_t v53 = v18;
    if (v18)
    {
      if ((v18 & 3) == 0)
      {
        int64_t v17 = &v18[v19];
LABEL_24:
        *((void *)v17 + 6) = 0LL;
        *((_OWORD *)v17 + 1) = 0u;
        *((_OWORD *)v17 + 2) = 0u;
        *(_OWORD *)int64_t v17 = 0u;
        uint64_t v54 = v17 + 56;
        GPUTools::FB::Fbuf::align((char **)&v53);
        *((_DWORD *)v18 + 1) = 759;
        *((_DWORD *)v18 + 8) = 0;
        __uint64_t v52 = 0LL;
        uint64_t v22 = pthread_threadid_np(0LL, &v52);
        *((void *)v18 + 1) = v52;
        *((_DWORD *)v18 + 9) = 7890243;
        *((void *)v18 + 5) = *(void *)v11;
        *((_DWORD *)v18 + 12) = a2;
        *((_DWORD *)v18 + 13) = a3;
        char v23 = byte_20714F;
        if ((byte_20714F & 1) != 0) {
          breakpoint_break( (uint64_t)&v53,  (volatile int *)&stru_2E8.sectname[15],  1LL,  *(unsigned int *)(v11 + 3404),  v11);
        }
        uint64_t v24 = (uint64_t)[(id)DYGetGLGuestAppClient(v22) overrideFlags];
        if (!(v24 & 0x10 | v23 & 4))
        {
          uint64_t v25 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 32) + 7744LL))(a1, a2, a3);
          uint64_t v24 = mach_absolute_time();
          uint64_t v26 = v24 - v25;
          unint64_t v27 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v28 = v53;
            *((void *)v53 + 2) = v25;
            v28[3] = v26;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v50 = __udivti3(g_DYTimebaseInfo * v26, (g_DYTimebaseInfo * (unsigned __int128)v26) >> 64);
            unsigned int v51 = v53;
            *((void *)v53 + 3) = v50;
            uint64_t v24 = __udivti3(v27 * v25, (v27 * (unsigned __int128)v25) >> 64);
            v51[2] = v24;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v24 = check_errors(v11);
        }

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  unsigned int v20;
  uint64_t v21;
  id v22;
  unsigned int v23;
  dispatch_queue_s *v24;
  uint64_t v25;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      signed int v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  signed int v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v22 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v21 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v22 = [(id)DYGetGLGuestAppClient(v21) waitOnGraphicsSemaphoreAssertions];
    if ((int)v22 >= 1)
    {
      do
LABEL_34:
        char v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      uint64_t v24 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v22) graphicsLockWaitQueue];
      dispatch_sync_f(v24, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 24) + 7744LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v22) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v20 = __ldaxr(v12);
      while (__stlxr(v20 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 32) + 7744LL))(a1, a2, a3);
  ++*(void *)(v11 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v25 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v25) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v25, v11);
      }
    }
  }

  do
  {
    int64_t v17 = __ldaxr(v12);
    unsigned int v18 = v17 - 1;
  }

  while (__stlxr(v18, v12));
  if (gCheckGLErrors) {
    int64_t v19 = v18 < 1;
  }
  else {
    int64_t v19 = 1;
  }
  if (!v19) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  uint64_t v17;
  uint64_t v18;
  int64x2_t v19;
  unsigned int v20;
  signed int v21;
  BOOL v22;
  unsigned int v23;
  uint64_t v24;
  id v25;
  unsigned int v26;
  dispatch_queue_s *v27;
  uint64_t v28;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      signed int v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  signed int v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v24 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        uint64_t v26 = __ldaxr(v12);
      while (__stlxr(v26 - 1, v12));
      unint64_t v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 24) + 7744LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        char v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  int64_t v17 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 32) + 7744LL))(a1, a2, a3);
  unsigned int v18 = mach_absolute_time();
  int64_t v19 = vdupq_n_s64(1uLL);
  v19.i64[0] = v18 - v17;
  *(int64x2_t *)(v11 + 3696) = vaddq_s64(v19, *(int64x2_t *)(v11 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v28 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v11);
      }
    }
  }

  do
  {
    unsigned int v20 = __ldaxr(v12);
    unint64_t v21 = v20 - 1;
  }

  while (__stlxr(v21, v12));
  if (gCheckGLErrors) {
    uint64_t v22 = v21 < 1;
  }
  else {
    uint64_t v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

void sub_8ED4C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void clear_colorx(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  signed int v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      signed int v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    signed int v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  id v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    id v48 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v47 = handle_opengl_thread_conflict((const void **)v15);
    id v48 = [(id)DYGetGLGuestAppClient(v47) waitOnGraphicsSemaphoreAssertions];
    if ((int)v48 >= 1)
    {
      do
LABEL_57:
        unsigned int v49 = __ldaxr(v16);
      while (__stlxr(v49 - 1, v16));
      uint64_t v50 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v48) graphicsLockWaitQueue];
      dispatch_sync_f(v50, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 24) + 7752LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  __uint64_t v57 = 0LL;
  int v58 = 0LL;
  unsigned int v59 = 0;
  if ([(id)DYGetGLGuestAppClient(v48) state] != (char *)&dword_0 + 1
    || (id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v20))
  {
    uint64_t v22 = (char *)v57;
    unint64_t v21 = v58;
    int64_t v23 = v58 - (_BYTE *)v57;
    unsigned int v24 = v59;
    unint64_t v25 = v59 - (v58 - (_BYTE *)v57);
    if (v25 > 0x43) {
      goto LABEL_24;
    }
    int v51 = (323 - v25) & 0xFFFFFF00;
    v59 += v51;
    uint64_t v22 = (char *)malloc(v51 + v24);
    __uint64_t v57 = v22;
    if (v22)
    {
      if ((v22 & 3) == 0)
      {
        unint64_t v21 = &v22[v23];
LABEL_24:
        *((_DWORD *)v21 + 16) = 0;
        *((_OWORD *)v21 + 2) = 0u;
        *((_OWORD *)v21 + 3) = 0u;
        *(_OWORD *)unint64_t v21 = 0u;
        *((_OWORD *)v21 + 1) = 0u;
        int v58 = v21 + 68;
        GPUTools::FB::Fbuf::align((char **)&v57);
        *((_DWORD *)v22 + 1) = 760;
        *((_DWORD *)v22 + 8) = 0;
        __uint64_t v56 = 0LL;
        uint64_t v26 = pthread_threadid_np(0LL, &v56);
        *((void *)v22 + 1) = v56;
        strcpy(v22 + 36, "Cxxxx");
        *(void *)(v22 + 44) = *(void *)v15;
        *((_DWORD *)v22 + 13) = a2;
        *((_DWORD *)v22 + 14) = a3;
        *((_DWORD *)v22 + 15) = a4;
        *((_DWORD *)v22 + 16) = a5;
        char v27 = byte_207150;
        if ((byte_207150 & 1) != 0) {
          breakpoint_break((uint64_t)&v57, (volatile int *)stru_2E8.segname, 1LL, *(unsigned int *)(v15 + 3404), v15);
        }
        uint64_t v28 = (uint64_t)[(id)DYGetGLGuestAppClient(v26) overrideFlags];
        if (!(v28 & 0x10 | v27 & 4))
        {
          uint64_t v29 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 32) + 7752LL))( a1,  a2,  a3,  a4,  a5);
          uint64_t v28 = mach_absolute_time();
          uint64_t v30 = v28 - v29;
          unint64_t v31 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v32 = v57;
            *((void *)v57 + 2) = v29;
            v32[3] = v30;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v54 = __udivti3(g_DYTimebaseInfo * v30, (g_DYTimebaseInfo * (unsigned __int128)v30) >> 64);
            unsigned int v55 = v57;
            *((void *)v57 + 3) = v54;
            uint64_t v28 = __udivti3(v31 * v29, (v31 * (unsigned __int128)v29) >> 64);
            v55[2] = v28;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v28 = check_errors(v15);
        }

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  id v20;
  char *v21;
  char *v22;
  int64_t v23;
  unsigned int v24;
  unint64_t v25;
  uint64_t v26;
  char v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  unint64_t v31;
  void *v32;
  id v33;
  GPUTools::FB::Fbuf *v34;
  unsigned int v35;
  GPUTools::FB::Fbuf *v36;
  dispatch_queue_s *v37;
  uint64_t v38;
  GPUTools::FB::Stream *v39;
  unsigned int *v40;
  unsigned int v41;
  unsigned int v42;
  unsigned int v43;
  signed int v44;
  BOOL v45;
  unsigned int v46;
  uint64_t v47;
  id v48;
  unsigned int v49;
  dispatch_queue_s *v50;
  int v51;
  uint64_t v52;
  uint64_t v53;
  uint64_t v54;
  void *v55;
  __uint64_t v56;
  void *v57;
  char *v58;
  unsigned int v59;
  signed int v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      signed int v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    signed int v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  id v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    id v48 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v47 = handle_opengl_thread_conflict((const void **)v15);
    id v48 = [(id)DYGetGLGuestAppClient(v47) waitOnGraphicsSemaphoreAssertions];
    if ((int)v48 >= 1)
    {
      do
LABEL_57:
        unsigned int v49 = __ldaxr(v16);
      while (__stlxr(v49 - 1, v16));
      uint64_t v50 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v48) graphicsLockWaitQueue];
      dispatch_sync_f(v50, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 24) + 7752LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  __uint64_t v57 = 0LL;
  int v58 = 0LL;
  unsigned int v59 = 0;
  if ([(id)DYGetGLGuestAppClient(v48) state] != (char *)&dword_0 + 1
    || (id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v20))
  {
    uint64_t v22 = (char *)v57;
    unint64_t v21 = v58;
    int64_t v23 = v58 - (_BYTE *)v57;
    unsigned int v24 = v59;
    unint64_t v25 = v59 - (v58 - (_BYTE *)v57);
    if (v25 > 0x43) {
      goto LABEL_24;
    }
    int v51 = (323 - v25) & 0xFFFFFF00;
    v59 += v51;
    uint64_t v22 = (char *)malloc(v51 + v24);
    __uint64_t v57 = v22;
    if (v22)
    {
      if ((v22 & 3) == 0)
      {
        unint64_t v21 = &v22[v23];
LABEL_24:
        *((_DWORD *)v21 + 16) = 0;
        *((_OWORD *)v21 + 2) = 0u;
        *((_OWORD *)v21 + 3) = 0u;
        *(_OWORD *)unint64_t v21 = 0u;
        *((_OWORD *)v21 + 1) = 0u;
        int v58 = v21 + 68;
        GPUTools::FB::Fbuf::align((char **)&v57);
        *((_DWORD *)v22 + 1) = 760;
        *((_DWORD *)v22 + 8) = 0;
        __uint64_t v56 = 0LL;
        uint64_t v26 = pthread_threadid_np(0LL, &v56);
        *((void *)v22 + 1) = v56;
        strcpy(v22 + 36, "Cxxxx");
        *(void *)(v22 + 44) = *(void *)v15;
        *((_DWORD *)v22 + 13) = a2;
        *((_DWORD *)v22 + 14) = a3;
        *((_DWORD *)v22 + 15) = a4;
        *((_DWORD *)v22 + 16) = a5;
        char v27 = byte_207150;
        if ((byte_207150 & 1) != 0) {
          breakpoint_break((uint64_t)&v57, (volatile int *)stru_2E8.segname, 1LL, *(unsigned int *)(v15 + 3404), v15);
        }
        uint64_t v28 = (uint64_t)[(id)DYGetGLGuestAppClient(v26) overrideFlags];
        if (!(v28 & 0x10 | v27 & 4))
        {
          uint64_t v29 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 32) + 7752LL))( a1,  a2,  a3,  a4,  a5);
          uint64_t v28 = mach_absolute_time();
          uint64_t v30 = v28 - v29;
          unint64_t v31 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v32 = v57;
            *((void *)v57 + 2) = v29;
            v32[3] = v30;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v54 = __udivti3(g_DYTimebaseInfo * v30, (g_DYTimebaseInfo * (unsigned __int128)v30) >> 64);
            unsigned int v55 = v57;
            *((void *)v57 + 3) = v54;
            uint64_t v28 = __udivti3(v31 * v29, (v31 * (unsigned __int128)v29) >> 64);
            v55[2] = v28;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v28 = check_errors(v15);
        }

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  id v20;
  unsigned int v21;
  signed int v22;
  BOOL v23;
  unsigned int v24;
  uint64_t v25;
  id v26;
  unsigned int v27;
  dispatch_queue_s *v28;
  uint64_t v29;
  signed int v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      signed int v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    signed int v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  id v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    uint64_t v26 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v25 = handle_opengl_thread_conflict((const void **)v15);
    uint64_t v26 = [(id)DYGetGLGuestAppClient(v25) waitOnGraphicsSemaphoreAssertions];
    if ((int)v26 >= 1)
    {
      do
LABEL_34:
        char v27 = __ldaxr(v16);
      while (__stlxr(v27 - 1, v16));
      uint64_t v28 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v26) graphicsLockWaitQueue];
      dispatch_sync_f(v28, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 24) + 7752LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v26) state] == (char *)&dword_0 + 1)
  {
    id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        unsigned int v24 = __ldaxr(v16);
      while (__stlxr(v24 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 32) + 7752LL))( a1,  a2,  a3,  a4,  a5);
  ++*(void *)(v15 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v29 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v29) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v29, v15);
      }
    }
  }

  do
  {
    unint64_t v21 = __ldaxr(v16);
    uint64_t v22 = v21 - 1;
  }

  while (__stlxr(v22, v16));
  if (gCheckGLErrors) {
    int64_t v23 = v22 < 1;
  }
  else {
    int64_t v23 = 1;
  }
  if (!v23) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  id v20;
  uint64_t v21;
  uint64_t v22;
  int64x2_t v23;
  unsigned int v24;
  signed int v25;
  BOOL v26;
  unsigned int v27;
  uint64_t v28;
  id v29;
  unsigned int v30;
  dispatch_queue_s *v31;
  uint64_t v32;
  signed int v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      signed int v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    signed int v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  id v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    uint64_t v29 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v28 = handle_opengl_thread_conflict((const void **)v15);
    uint64_t v29 = [(id)DYGetGLGuestAppClient(v28) waitOnGraphicsSemaphoreAssertions];
    if ((int)v29 >= 1)
    {
      do
LABEL_34:
        uint64_t v30 = __ldaxr(v16);
      while (__stlxr(v30 - 1, v16));
      unint64_t v31 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v29) graphicsLockWaitQueue];
      dispatch_sync_f(v31, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 24) + 7752LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v29) state] == (char *)&dword_0 + 1)
  {
    id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        char v27 = __ldaxr(v16);
      while (__stlxr(v27 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unint64_t v21 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 32) + 7752LL))( a1,  a2,  a3,  a4,  a5);
  uint64_t v22 = mach_absolute_time();
  int64_t v23 = vdupq_n_s64(1uLL);
  v23.i64[0] = v22 - v21;
  *(int64x2_t *)(v15 + 3696) = vaddq_s64(v23, *(int64x2_t *)(v15 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v32 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v32) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v32, v15);
      }
    }
  }

  do
  {
    unsigned int v24 = __ldaxr(v16);
    unint64_t v25 = v24 - 1;
  }

  while (__stlxr(v25, v16));
  if (gCheckGLErrors) {
    uint64_t v26 = v25 < 1;
  }
  else {
    uint64_t v26 = 1;
  }
  if (!v26) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

void sub_8F264( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void clear_depthx(__GLIContextRec *a1, uint64_t a2)
{
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  signed int v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    id v42 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v41 = handle_opengl_thread_conflict((const void **)v9);
    id v42 = [(id)DYGetGLGuestAppClient(v41) waitOnGraphicsSemaphoreAssertions];
    if ((int)v42 >= 1)
    {
      do
LABEL_57:
        unsigned int v43 = __ldaxr(v10);
      while (__stlxr(v43 - 1, v10));
      signed int v44 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v42) graphicsLockWaitQueue];
      dispatch_sync_f(v44, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 7760LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  int v51 = 0LL;
  uint64_t v52 = 0LL;
  unsigned int v53 = 0;
  if ([(id)DYGetGLGuestAppClient(v42) state] != (char *)&dword_0 + 1
    || (id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v14))
  {
    id v16 = (char *)v51;
    uint64_t v15 = v52;
    int64_t v17 = v52 - (_BYTE *)v51;
    unsigned int v18 = v53;
    unint64_t v19 = v53 - (v52 - (_BYTE *)v51);
    if (v19 > 0x33) {
      goto LABEL_24;
    }
    int v45 = (307 - v19) & 0xFFFFFF00;
    v53 += v45;
    id v16 = (char *)malloc(v45 + v18);
    int v51 = v16;
    if (v16)
    {
      if ((v16 & 3) == 0)
      {
        uint64_t v15 = &v16[v17];
LABEL_24:
        *((_DWORD *)v15 + 12) = 0;
        *((_OWORD *)v15 + 1) = 0u;
        *((_OWORD *)v15 + 2) = 0u;
        *(_OWORD *)uint64_t v15 = 0u;
        uint64_t v52 = v15 + 52;
        GPUTools::FB::Fbuf::align((char **)&v51);
        *((_DWORD *)v16 + 1) = 762;
        *((_DWORD *)v16 + 8) = 0;
        __uint64_t v50 = 0LL;
        uint64_t v20 = pthread_threadid_np(0LL, &v50);
        *((void *)v16 + 1) = v50;
        strcpy(v16 + 36, "Cx");
        *((void *)v16 + 5) = *(void *)v9;
        *((_DWORD *)v16 + 12) = a2;
        char v21 = byte_207152;
        if ((byte_207152 & 1) != 0) {
          breakpoint_break((uint64_t)&v51, (volatile int *)&stru_2E8.segname[2], 1LL, *(unsigned int *)(v9 + 3404), v9);
        }
        uint64_t v22 = (uint64_t)[(id)DYGetGLGuestAppClient(v20) overrideFlags];
        if (!(v22 & 0x10 | v21 & 4))
        {
          uint64_t v23 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 32) + 7760LL))(a1, a2);
          uint64_t v22 = mach_absolute_time();
          uint64_t v24 = v22 - v23;
          unint64_t v25 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v26 = v51;
            *((void *)v51 + 2) = v23;
            v26[3] = v24;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v48 = __udivti3(g_DYTimebaseInfo * v24, (g_DYTimebaseInfo * (unsigned __int128)v24) >> 64);
            unsigned int v49 = v51;
            *((void *)v51 + 3) = v48;
            uint64_t v22 = __udivti3(v25 * v23, (v25 * (unsigned __int128)v23) >> 64);
            v49[2] = v22;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v22 = check_errors(v9);
        }

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  char *v15;
  char *v16;
  int64_t v17;
  unsigned int v18;
  unint64_t v19;
  uint64_t v20;
  char v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  unint64_t v25;
  void *v26;
  id v27;
  GPUTools::FB::Fbuf *v28;
  unsigned int v29;
  GPUTools::FB::Fbuf *v30;
  dispatch_queue_s *v31;
  uint64_t v32;
  GPUTools::FB::Stream *v33;
  unsigned int *v34;
  unsigned int v35;
  unsigned int v36;
  unsigned int v37;
  signed int v38;
  BOOL v39;
  unsigned int v40;
  uint64_t v41;
  id v42;
  unsigned int v43;
  dispatch_queue_s *v44;
  int v45;
  uint64_t v46;
  uint64_t v47;
  uint64_t v48;
  void *v49;
  __uint64_t v50;
  void *v51;
  char *v52;
  unsigned int v53;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  signed int v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    id v42 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v41 = handle_opengl_thread_conflict((const void **)v9);
    id v42 = [(id)DYGetGLGuestAppClient(v41) waitOnGraphicsSemaphoreAssertions];
    if ((int)v42 >= 1)
    {
      do
LABEL_57:
        unsigned int v43 = __ldaxr(v10);
      while (__stlxr(v43 - 1, v10));
      signed int v44 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v42) graphicsLockWaitQueue];
      dispatch_sync_f(v44, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 7760LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  int v51 = 0LL;
  uint64_t v52 = 0LL;
  unsigned int v53 = 0;
  if ([(id)DYGetGLGuestAppClient(v42) state] != (char *)&dword_0 + 1
    || (id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v14))
  {
    id v16 = (char *)v51;
    uint64_t v15 = v52;
    int64_t v17 = v52 - (_BYTE *)v51;
    unsigned int v18 = v53;
    unint64_t v19 = v53 - (v52 - (_BYTE *)v51);
    if (v19 > 0x33) {
      goto LABEL_24;
    }
    int v45 = (307 - v19) & 0xFFFFFF00;
    v53 += v45;
    id v16 = (char *)malloc(v45 + v18);
    int v51 = v16;
    if (v16)
    {
      if ((v16 & 3) == 0)
      {
        uint64_t v15 = &v16[v17];
LABEL_24:
        *((_DWORD *)v15 + 12) = 0;
        *((_OWORD *)v15 + 1) = 0u;
        *((_OWORD *)v15 + 2) = 0u;
        *(_OWORD *)uint64_t v15 = 0u;
        uint64_t v52 = v15 + 52;
        GPUTools::FB::Fbuf::align((char **)&v51);
        *((_DWORD *)v16 + 1) = 762;
        *((_DWORD *)v16 + 8) = 0;
        __uint64_t v50 = 0LL;
        uint64_t v20 = pthread_threadid_np(0LL, &v50);
        *((void *)v16 + 1) = v50;
        strcpy(v16 + 36, "Cx");
        *((void *)v16 + 5) = *(void *)v9;
        *((_DWORD *)v16 + 12) = a2;
        char v21 = byte_207152;
        if ((byte_207152 & 1) != 0) {
          breakpoint_break((uint64_t)&v51, (volatile int *)&stru_2E8.segname[2], 1LL, *(unsigned int *)(v9 + 3404), v9);
        }
        uint64_t v22 = (uint64_t)[(id)DYGetGLGuestAppClient(v20) overrideFlags];
        if (!(v22 & 0x10 | v21 & 4))
        {
          uint64_t v23 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 32) + 7760LL))(a1, a2);
          uint64_t v22 = mach_absolute_time();
          uint64_t v24 = v22 - v23;
          unint64_t v25 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v26 = v51;
            *((void *)v51 + 2) = v23;
            v26[3] = v24;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v48 = __udivti3(g_DYTimebaseInfo * v24, (g_DYTimebaseInfo * (unsigned __int128)v24) >> 64);
            unsigned int v49 = v51;
            *((void *)v51 + 3) = v48;
            uint64_t v22 = __udivti3(v25 * v23, (v25 * (unsigned __int128)v23) >> 64);
            v49[2] = v22;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v22 = check_errors(v9);
        }

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  unsigned int v18;
  uint64_t v19;
  id v20;
  unsigned int v21;
  dispatch_queue_s *v22;
  uint64_t v23;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  signed int v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    uint64_t v20 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v19 = handle_opengl_thread_conflict((const void **)v9);
    uint64_t v20 = [(id)DYGetGLGuestAppClient(v19) waitOnGraphicsSemaphoreAssertions];
    if ((int)v20 >= 1)
    {
      do
LABEL_34:
        char v21 = __ldaxr(v10);
      while (__stlxr(v21 - 1, v10));
      uint64_t v22 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v20) graphicsLockWaitQueue];
      dispatch_sync_f(v22, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 7760LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v20) state] == (char *)&dword_0 + 1)
  {
    id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v14)
    {
      do
        unsigned int v18 = __ldaxr(v10);
      while (__stlxr(v18 - 1, v10));
      [(id)DYGetGLGuestAppClient(v14) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 32) + 7760LL))(a1, a2);
  ++*(void *)(v9 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v9);
    if (gBreakOnError)
    {
      uint64_t v23 = *(unsigned int *)(v9 + 3404);
      if ((_DWORD)v23) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v23, v9);
      }
    }
  }

  do
  {
    uint64_t v15 = __ldaxr(v10);
    id v16 = v15 - 1;
  }

  while (__stlxr(v16, v10));
  if (gCheckGLErrors) {
    int64_t v17 = v16 < 1;
  }
  else {
    int64_t v17 = 1;
  }
  if (!v17) {
    handle_opengl_thread_conflict((const void **)v9);
  }
}

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  uint64_t v15;
  uint64_t v16;
  int64x2_t v17;
  unsigned int v18;
  signed int v19;
  BOOL v20;
  unsigned int v21;
  uint64_t v22;
  id v23;
  unsigned int v24;
  dispatch_queue_s *v25;
  uint64_t v26;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  signed int v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    uint64_t v23 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v22 = handle_opengl_thread_conflict((const void **)v9);
    uint64_t v23 = [(id)DYGetGLGuestAppClient(v22) waitOnGraphicsSemaphoreAssertions];
    if ((int)v23 >= 1)
    {
      do
LABEL_34:
        uint64_t v24 = __ldaxr(v10);
      while (__stlxr(v24 - 1, v10));
      unint64_t v25 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v23) graphicsLockWaitQueue];
      dispatch_sync_f(v25, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 7760LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v23) state] == (char *)&dword_0 + 1)
  {
    id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v14)
    {
      do
        char v21 = __ldaxr(v10);
      while (__stlxr(v21 - 1, v10));
      [(id)DYGetGLGuestAppClient(v14) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v15 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 32) + 7760LL))(a1, a2);
  id v16 = mach_absolute_time();
  int64_t v17 = vdupq_n_s64(1uLL);
  v17.i64[0] = v16 - v15;
  *(int64x2_t *)(v9 + 3696) = vaddq_s64(v17, *(int64x2_t *)(v9 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v9);
    if (gBreakOnError)
    {
      uint64_t v26 = *(unsigned int *)(v9 + 3404);
      if ((_DWORD)v26) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v26, v9);
      }
    }
  }

  do
  {
    unsigned int v18 = __ldaxr(v10);
    unint64_t v19 = v18 - 1;
  }

  while (__stlxr(v19, v10));
  if (gCheckGLErrors) {
    uint64_t v20 = v19 < 1;
  }
  else {
    uint64_t v20 = 1;
  }
  if (!v20) {
    handle_opengl_thread_conflict((const void **)v9);
  }
}

void sub_8F730( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void clip_planef(__GLIContextRec *a1, uint64_t a2, const float *a3)
{
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      signed int v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  signed int v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v44 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v43 = handle_opengl_thread_conflict((const void **)v11);
    id v44 = [(id)DYGetGLGuestAppClient(v43) waitOnGraphicsSemaphoreAssertions];
    if ((int)v44 >= 1)
    {
      do
LABEL_57:
        unsigned int v45 = __ldaxr(v12);
      while (__stlxr(v45 - 1, v12));
      uint64_t v46 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v44) graphicsLockWaitQueue];
      dispatch_sync_f(v46, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 24) + 7768LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  unsigned int v53 = 0LL;
  uint64_t v54 = 0LL;
  unsigned int v55 = 0;
  if ([(id)DYGetGLGuestAppClient(v44) state] != (char *)&dword_0 + 1
    || (id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v16))
  {
    unsigned int v18 = (char *)v53;
    int64_t v17 = v54;
    int64_t v19 = v54 - (_BYTE *)v53;
    unsigned int v20 = v55;
    unint64_t v21 = v55 - (v54 - (_BYTE *)v53);
    if (v21 > 0x47) {
      goto LABEL_24;
    }
    int v47 = (327 - v21) & 0xFFFFFF00;
    v55 += v47;
    unsigned int v18 = (char *)malloc(v47 + v20);
    unsigned int v53 = v18;
    if (v18)
    {
      if ((v18 & 3) == 0)
      {
        int64_t v17 = &v18[v19];
LABEL_24:
        *((void *)v17 + 8) = 0LL;
        *((_OWORD *)v17 + 2) = 0u;
        *((_OWORD *)v17 + 3) = 0u;
        *(_OWORD *)int64_t v17 = 0u;
        *((_OWORD *)v17 + 1) = 0u;
        uint64_t v54 = v17 + 72;
        GPUTools::FB::Fbuf::align((char **)&v53);
        *((_DWORD *)v18 + 1) = 763;
        *((_DWORD *)v18 + 8) = 0;
        __uint64_t v52 = 0LL;
        uint64_t v22 = pthread_threadid_np(0LL, &v52);
        *((void *)v18 + 1) = v52;
        strcpy(v18 + 36, "Ce@4f");
        *(void *)(v18 + 44) = *(void *)v11;
        *((_DWORD *)v18 + 13) = a2;
        *(_OWORD *)(v18 + 56) = *(_OWORD *)a3;
        char v23 = byte_207153;
        if ((byte_207153 & 1) != 0) {
          breakpoint_break((uint64_t)&v53, (volatile int *)&stru_2E8.segname[3], 1LL, *(unsigned int *)(v11 + 3404), v11);
        }
        uint64_t v24 = (uint64_t)[(id)DYGetGLGuestAppClient(v22) overrideFlags];
        if (!(v24 & 0x10 | v23 & 4))
        {
          uint64_t v25 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 32) + 7768LL))( a1,  a2,  a3);
          uint64_t v24 = mach_absolute_time();
          uint64_t v26 = v24 - v25;
          unint64_t v27 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v28 = v53;
            *((void *)v53 + 2) = v25;
            v28[3] = v26;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v50 = __udivti3(g_DYTimebaseInfo * v26, (g_DYTimebaseInfo * (unsigned __int128)v26) >> 64);
            int v51 = v53;
            *((void *)v53 + 3) = v50;
            uint64_t v24 = __udivti3(v27 * v25, (v27 * (unsigned __int128)v25) >> 64);
            v51[2] = v24;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v24 = check_errors(v11);
        }

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  char *v17;
  char *v18;
  int64_t v19;
  unsigned int v20;
  unint64_t v21;
  uint64_t v22;
  char v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  unint64_t v27;
  void *v28;
  id v29;
  GPUTools::FB::Fbuf *v30;
  unsigned int v31;
  GPUTools::FB::Fbuf *v32;
  dispatch_queue_s *v33;
  uint64_t v34;
  GPUTools::FB::Stream *v35;
  unsigned int *v36;
  unsigned int v37;
  unsigned int v38;
  unsigned int v39;
  signed int v40;
  BOOL v41;
  unsigned int v42;
  uint64_t v43;
  id v44;
  unsigned int v45;
  dispatch_queue_s *v46;
  int v47;
  uint64_t v48;
  uint64_t v49;
  uint64_t v50;
  void *v51;
  __uint64_t v52;
  void *v53;
  char *v54;
  unsigned int v55;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      signed int v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  signed int v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v44 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v43 = handle_opengl_thread_conflict((const void **)v11);
    id v44 = [(id)DYGetGLGuestAppClient(v43) waitOnGraphicsSemaphoreAssertions];
    if ((int)v44 >= 1)
    {
      do
LABEL_57:
        unsigned int v45 = __ldaxr(v12);
      while (__stlxr(v45 - 1, v12));
      uint64_t v46 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v44) graphicsLockWaitQueue];
      dispatch_sync_f(v46, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 24) + 7768LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  unsigned int v53 = 0LL;
  uint64_t v54 = 0LL;
  unsigned int v55 = 0;
  if ([(id)DYGetGLGuestAppClient(v44) state] != (char *)&dword_0 + 1
    || (id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v16))
  {
    unsigned int v18 = (char *)v53;
    int64_t v17 = v54;
    int64_t v19 = v54 - (_BYTE *)v53;
    unsigned int v20 = v55;
    unint64_t v21 = v55 - (v54 - (_BYTE *)v53);
    if (v21 > 0x47) {
      goto LABEL_24;
    }
    int v47 = (327 - v21) & 0xFFFFFF00;
    v55 += v47;
    unsigned int v18 = (char *)malloc(v47 + v20);
    unsigned int v53 = v18;
    if (v18)
    {
      if ((v18 & 3) == 0)
      {
        int64_t v17 = &v18[v19];
LABEL_24:
        *((void *)v17 + 8) = 0LL;
        *((_OWORD *)v17 + 2) = 0u;
        *((_OWORD *)v17 + 3) = 0u;
        *(_OWORD *)int64_t v17 = 0u;
        *((_OWORD *)v17 + 1) = 0u;
        uint64_t v54 = v17 + 72;
        GPUTools::FB::Fbuf::align((char **)&v53);
        *((_DWORD *)v18 + 1) = 763;
        *((_DWORD *)v18 + 8) = 0;
        __uint64_t v52 = 0LL;
        uint64_t v22 = pthread_threadid_np(0LL, &v52);
        *((void *)v18 + 1) = v52;
        strcpy(v18 + 36, "Ce@4f");
        *(void *)(v18 + 44) = *(void *)v11;
        *((_DWORD *)v18 + 13) = a2;
        *(_OWORD *)(v18 + 56) = *(_OWORD *)a3;
        char v23 = byte_207153;
        if ((byte_207153 & 1) != 0) {
          breakpoint_break((uint64_t)&v53, (volatile int *)&stru_2E8.segname[3], 1LL, *(unsigned int *)(v11 + 3404), v11);
        }
        uint64_t v24 = (uint64_t)[(id)DYGetGLGuestAppClient(v22) overrideFlags];
        if (!(v24 & 0x10 | v23 & 4))
        {
          uint64_t v25 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 32) + 7768LL))( a1,  a2,  a3);
          uint64_t v24 = mach_absolute_time();
          uint64_t v26 = v24 - v25;
          unint64_t v27 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v28 = v53;
            *((void *)v53 + 2) = v25;
            v28[3] = v26;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v50 = __udivti3(g_DYTimebaseInfo * v26, (g_DYTimebaseInfo * (unsigned __int128)v26) >> 64);
            int v51 = v53;
            *((void *)v53 + 3) = v50;
            uint64_t v24 = __udivti3(v27 * v25, (v27 * (unsigned __int128)v25) >> 64);
            v51[2] = v24;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v24 = check_errors(v11);
        }

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  unsigned int v20;
  uint64_t v21;
  id v22;
  unsigned int v23;
  dispatch_queue_s *v24;
  uint64_t v25;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      signed int v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  signed int v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v22 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v21 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v22 = [(id)DYGetGLGuestAppClient(v21) waitOnGraphicsSemaphoreAssertions];
    if ((int)v22 >= 1)
    {
      do
LABEL_34:
        char v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      uint64_t v24 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v22) graphicsLockWaitQueue];
      dispatch_sync_f(v24, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 24) + 7768LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v22) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v20 = __ldaxr(v12);
      while (__stlxr(v20 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 32) + 7768LL))(a1, a2, a3);
  ++*(void *)(v11 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v25 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v25) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v25, v11);
      }
    }
  }

  do
  {
    int64_t v17 = __ldaxr(v12);
    unsigned int v18 = v17 - 1;
  }

  while (__stlxr(v18, v12));
  if (gCheckGLErrors) {
    int64_t v19 = v18 < 1;
  }
  else {
    int64_t v19 = 1;
  }
  if (!v19) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  uint64_t v17;
  uint64_t v18;
  int64x2_t v19;
  unsigned int v20;
  signed int v21;
  BOOL v22;
  unsigned int v23;
  uint64_t v24;
  id v25;
  unsigned int v26;
  dispatch_queue_s *v27;
  uint64_t v28;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      signed int v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  signed int v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v24 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        uint64_t v26 = __ldaxr(v12);
      while (__stlxr(v26 - 1, v12));
      unint64_t v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 24) + 7768LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        char v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  int64_t v17 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 32) + 7768LL))(a1, a2, a3);
  unsigned int v18 = mach_absolute_time();
  int64_t v19 = vdupq_n_s64(1uLL);
  v19.i64[0] = v18 - v17;
  *(int64x2_t *)(v11 + 3696) = vaddq_s64(v19, *(int64x2_t *)(v11 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v28 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v11);
      }
    }
  }

  do
  {
    unsigned int v20 = __ldaxr(v12);
    unint64_t v21 = v20 - 1;
  }

  while (__stlxr(v21, v12));
  if (gCheckGLErrors) {
    uint64_t v22 = v21 < 1;
  }
  else {
    uint64_t v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

void sub_8FC20( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void clip_planex(__GLIContextRec *a1, uint64_t a2, const int *a3)
{
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      signed int v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  signed int v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v44 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v43 = handle_opengl_thread_conflict((const void **)v11);
    id v44 = [(id)DYGetGLGuestAppClient(v43) waitOnGraphicsSemaphoreAssertions];
    if ((int)v44 >= 1)
    {
      do
LABEL_57:
        unsigned int v45 = __ldaxr(v12);
      while (__stlxr(v45 - 1, v12));
      uint64_t v46 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v44) graphicsLockWaitQueue];
      dispatch_sync_f(v46, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, const int *))(*(void *)(v11 + 24) + 7776LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  unsigned int v53 = 0LL;
  uint64_t v54 = 0LL;
  unsigned int v55 = 0;
  if ([(id)DYGetGLGuestAppClient(v44) state] != (char *)&dword_0 + 1
    || (id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v16))
  {
    unsigned int v18 = (char *)v53;
    int64_t v17 = v54;
    int64_t v19 = v54 - (_BYTE *)v53;
    unsigned int v20 = v55;
    unint64_t v21 = v55 - (v54 - (_BYTE *)v53);
    if (v21 > 0x47) {
      goto LABEL_24;
    }
    int v47 = (327 - v21) & 0xFFFFFF00;
    v55 += v47;
    unsigned int v18 = (char *)malloc(v47 + v20);
    unsigned int v53 = v18;
    if (v18)
    {
      if ((v18 & 3) == 0)
      {
        int64_t v17 = &v18[v19];
LABEL_24:
        *((void *)v17 + 8) = 0LL;
        *((_OWORD *)v17 + 2) = 0u;
        *((_OWORD *)v17 + 3) = 0u;
        *(_OWORD *)int64_t v17 = 0u;
        *((_OWORD *)v17 + 1) = 0u;
        uint64_t v54 = v17 + 72;
        GPUTools::FB::Fbuf::align((char **)&v53);
        *((_DWORD *)v18 + 1) = 764;
        *((_DWORD *)v18 + 8) = 0;
        __uint64_t v52 = 0LL;
        uint64_t v22 = pthread_threadid_np(0LL, &v52);
        *((void *)v18 + 1) = v52;
        strcpy(v18 + 36, "Ce@4x");
        *(void *)(v18 + 44) = *(void *)v11;
        *((_DWORD *)v18 + 13) = a2;
        *(_OWORD *)(v18 + 56) = *(_OWORD *)a3;
        char v23 = byte_207154;
        if ((byte_207154 & 1) != 0) {
          breakpoint_break((uint64_t)&v53, (volatile int *)&stru_2E8.segname[4], 1LL, *(unsigned int *)(v11 + 3404), v11);
        }
        uint64_t v24 = (uint64_t)[(id)DYGetGLGuestAppClient(v22) overrideFlags];
        if (!(v24 & 0x10 | v23 & 4))
        {
          uint64_t v25 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, const int *))(*(void *)(v11 + 32) + 7776LL))(a1, a2, a3);
          uint64_t v24 = mach_absolute_time();
          uint64_t v26 = v24 - v25;
          unint64_t v27 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v28 = v53;
            *((void *)v53 + 2) = v25;
            v28[3] = v26;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v50 = __udivti3(g_DYTimebaseInfo * v26, (g_DYTimebaseInfo * (unsigned __int128)v26) >> 64);
            int v51 = v53;
            *((void *)v53 + 3) = v50;
            uint64_t v24 = __udivti3(v27 * v25, (v27 * (unsigned __int128)v25) >> 64);
            v51[2] = v24;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v24 = check_errors(v11);
        }

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  char *v17;
  char *v18;
  int64_t v19;
  unsigned int v20;
  unint64_t v21;
  uint64_t v22;
  char v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  unint64_t v27;
  void *v28;
  id v29;
  GPUTools::FB::Fbuf *v30;
  unsigned int v31;
  GPUTools::FB::Fbuf *v32;
  dispatch_queue_s *v33;
  uint64_t v34;
  GPUTools::FB::Stream *v35;
  unsigned int *v36;
  unsigned int v37;
  unsigned int v38;
  unsigned int v39;
  signed int v40;
  BOOL v41;
  unsigned int v42;
  uint64_t v43;
  id v44;
  unsigned int v45;
  dispatch_queue_s *v46;
  int v47;
  uint64_t v48;
  uint64_t v49;
  uint64_t v50;
  void *v51;
  __uint64_t v52;
  void *v53;
  char *v54;
  unsigned int v55;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      signed int v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  signed int v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v44 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v43 = handle_opengl_thread_conflict((const void **)v11);
    id v44 = [(id)DYGetGLGuestAppClient(v43) waitOnGraphicsSemaphoreAssertions];
    if ((int)v44 >= 1)
    {
      do
LABEL_57:
        unsigned int v45 = __ldaxr(v12);
      while (__stlxr(v45 - 1, v12));
      uint64_t v46 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v44) graphicsLockWaitQueue];
      dispatch_sync_f(v46, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, const int *))(*(void *)(v11 + 24) + 7776LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  unsigned int v53 = 0LL;
  uint64_t v54 = 0LL;
  unsigned int v55 = 0;
  if ([(id)DYGetGLGuestAppClient(v44) state] != (char *)&dword_0 + 1
    || (id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v16))
  {
    unsigned int v18 = (char *)v53;
    int64_t v17 = v54;
    int64_t v19 = v54 - (_BYTE *)v53;
    unsigned int v20 = v55;
    unint64_t v21 = v55 - (v54 - (_BYTE *)v53);
    if (v21 > 0x47) {
      goto LABEL_24;
    }
    int v47 = (327 - v21) & 0xFFFFFF00;
    v55 += v47;
    unsigned int v18 = (char *)malloc(v47 + v20);
    unsigned int v53 = v18;
    if (v18)
    {
      if ((v18 & 3) == 0)
      {
        int64_t v17 = &v18[v19];
LABEL_24:
        *((void *)v17 + 8) = 0LL;
        *((_OWORD *)v17 + 2) = 0u;
        *((_OWORD *)v17 + 3) = 0u;
        *(_OWORD *)int64_t v17 = 0u;
        *((_OWORD *)v17 + 1) = 0u;
        uint64_t v54 = v17 + 72;
        GPUTools::FB::Fbuf::align((char **)&v53);
        *((_DWORD *)v18 + 1) = 764;
        *((_DWORD *)v18 + 8) = 0;
        __uint64_t v52 = 0LL;
        uint64_t v22 = pthread_threadid_np(0LL, &v52);
        *((void *)v18 + 1) = v52;
        strcpy(v18 + 36, "Ce@4x");
        *(void *)(v18 + 44) = *(void *)v11;
        *((_DWORD *)v18 + 13) = a2;
        *(_OWORD *)(v18 + 56) = *(_OWORD *)a3;
        char v23 = byte_207154;
        if ((byte_207154 & 1) != 0) {
          breakpoint_break((uint64_t)&v53, (volatile int *)&stru_2E8.segname[4], 1LL, *(unsigned int *)(v11 + 3404), v11);
        }
        uint64_t v24 = (uint64_t)[(id)DYGetGLGuestAppClient(v22) overrideFlags];
        if (!(v24 & 0x10 | v23 & 4))
        {
          uint64_t v25 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, const int *))(*(void *)(v11 + 32) + 7776LL))(a1, a2, a3);
          uint64_t v24 = mach_absolute_time();
          uint64_t v26 = v24 - v25;
          unint64_t v27 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v28 = v53;
            *((void *)v53 + 2) = v25;
            v28[3] = v26;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v50 = __udivti3(g_DYTimebaseInfo * v26, (g_DYTimebaseInfo * (unsigned __int128)v26) >> 64);
            int v51 = v53;
            *((void *)v53 + 3) = v50;
            uint64_t v24 = __udivti3(v27 * v25, (v27 * (unsigned __int128)v25) >> 64);
            v51[2] = v24;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v24 = check_errors(v11);
        }

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  unsigned int v20;
  uint64_t v21;
  id v22;
  unsigned int v23;
  dispatch_queue_s *v24;
  uint64_t v25;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      signed int v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  signed int v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v22 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v21 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v22 = [(id)DYGetGLGuestAppClient(v21) waitOnGraphicsSemaphoreAssertions];
    if ((int)v22 >= 1)
    {
      do
LABEL_34:
        char v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      uint64_t v24 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v22) graphicsLockWaitQueue];
      dispatch_sync_f(v24, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, const int *))(*(void *)(v11 + 24) + 7776LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v22) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v20 = __ldaxr(v12);
      while (__stlxr(v20 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, const int *))(*(void *)(v11 + 32) + 7776LL))(a1, a2, a3);
  ++*(void *)(v11 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v25 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v25) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v25, v11);
      }
    }
  }

  do
  {
    int64_t v17 = __ldaxr(v12);
    unsigned int v18 = v17 - 1;
  }

  while (__stlxr(v18, v12));
  if (gCheckGLErrors) {
    int64_t v19 = v18 < 1;
  }
  else {
    int64_t v19 = 1;
  }
  if (!v19) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  uint64_t v17;
  uint64_t v18;
  int64x2_t v19;
  unsigned int v20;
  signed int v21;
  BOOL v22;
  unsigned int v23;
  uint64_t v24;
  id v25;
  unsigned int v26;
  dispatch_queue_s *v27;
  uint64_t v28;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      signed int v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  signed int v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v24 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        uint64_t v26 = __ldaxr(v12);
      while (__stlxr(v26 - 1, v12));
      unint64_t v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, const int *))(*(void *)(v11 + 24) + 7776LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        char v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  int64_t v17 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, const int *))(*(void *)(v11 + 32) + 7776LL))(a1, a2, a3);
  unsigned int v18 = mach_absolute_time();
  int64_t v19 = vdupq_n_s64(1uLL);
  v19.i64[0] = v18 - v17;
  *(int64x2_t *)(v11 + 3696) = vaddq_s64(v19, *(int64x2_t *)(v11 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v28 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v11);
      }
    }
  }

  do
  {
    unsigned int v20 = __ldaxr(v12);
    unint64_t v21 = v20 - 1;
  }

  while (__stlxr(v21, v12));
  if (gCheckGLErrors) {
    uint64_t v22 = v21 < 1;
  }
  else {
    uint64_t v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

void sub_90110( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void color4x(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  signed int v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      signed int v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    signed int v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  id v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    id v48 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v47 = handle_opengl_thread_conflict((const void **)v15);
    id v48 = [(id)DYGetGLGuestAppClient(v47) waitOnGraphicsSemaphoreAssertions];
    if ((int)v48 >= 1)
    {
      do
LABEL_57:
        unsigned int v49 = __ldaxr(v16);
      while (__stlxr(v49 - 1, v16));
      uint64_t v50 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v48) graphicsLockWaitQueue];
      dispatch_sync_f(v50, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 24) + 7784LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  __uint64_t v57 = 0LL;
  int v58 = 0LL;
  unsigned int v59 = 0;
  if ([(id)DYGetGLGuestAppClient(v48) state] != (char *)&dword_0 + 1
    || (id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v20))
  {
    uint64_t v22 = (char *)v57;
    unint64_t v21 = v58;
    int64_t v23 = v58 - (_BYTE *)v57;
    unsigned int v24 = v59;
    unint64_t v25 = v59 - (v58 - (_BYTE *)v57);
    if (v25 > 0x43) {
      goto LABEL_24;
    }
    int v51 = (323 - v25) & 0xFFFFFF00;
    v59 += v51;
    uint64_t v22 = (char *)malloc(v51 + v24);
    __uint64_t v57 = v22;
    if (v22)
    {
      if ((v22 & 3) == 0)
      {
        unint64_t v21 = &v22[v23];
LABEL_24:
        *((_DWORD *)v21 + 16) = 0;
        *((_OWORD *)v21 + 2) = 0u;
        *((_OWORD *)v21 + 3) = 0u;
        *(_OWORD *)unint64_t v21 = 0u;
        *((_OWORD *)v21 + 1) = 0u;
        int v58 = v21 + 68;
        GPUTools::FB::Fbuf::align((char **)&v57);
        *((_DWORD *)v22 + 1) = 765;
        *((_DWORD *)v22 + 8) = 0;
        __uint64_t v56 = 0LL;
        uint64_t v26 = pthread_threadid_np(0LL, &v56);
        *((void *)v22 + 1) = v56;
        strcpy(v22 + 36, "Cxxxx");
        *(void *)(v22 + 44) = *(void *)v15;
        *((_DWORD *)v22 + 13) = a2;
        *((_DWORD *)v22 + 14) = a3;
        *((_DWORD *)v22 + 15) = a4;
        *((_DWORD *)v22 + 16) = a5;
        char v27 = byte_207155;
        if ((byte_207155 & 1) != 0) {
          breakpoint_break((uint64_t)&v57, (volatile int *)&stru_2E8.segname[5], 1LL, *(unsigned int *)(v15 + 3404), v15);
        }
        uint64_t v28 = (uint64_t)[(id)DYGetGLGuestAppClient(v26) overrideFlags];
        if (!(v28 & 0x10 | v27 & 4))
        {
          uint64_t v29 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 32) + 7784LL))( a1,  a2,  a3,  a4,  a5);
          uint64_t v28 = mach_absolute_time();
          uint64_t v30 = v28 - v29;
          unint64_t v31 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v32 = v57;
            *((void *)v57 + 2) = v29;
            v32[3] = v30;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v54 = __udivti3(g_DYTimebaseInfo * v30, (g_DYTimebaseInfo * (unsigned __int128)v30) >> 64);
            unsigned int v55 = v57;
            *((void *)v57 + 3) = v54;
            uint64_t v28 = __udivti3(v31 * v29, (v31 * (unsigned __int128)v29) >> 64);
            v55[2] = v28;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v28 = check_errors(v15);
        }

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  id v20;
  char *v21;
  char *v22;
  int64_t v23;
  unsigned int v24;
  unint64_t v25;
  uint64_t v26;
  char v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  unint64_t v31;
  void *v32;
  id v33;
  GPUTools::FB::Fbuf *v34;
  unsigned int v35;
  GPUTools::FB::Fbuf *v36;
  dispatch_queue_s *v37;
  uint64_t v38;
  GPUTools::FB::Stream *v39;
  unsigned int *v40;
  unsigned int v41;
  unsigned int v42;
  unsigned int v43;
  signed int v44;
  BOOL v45;
  unsigned int v46;
  uint64_t v47;
  id v48;
  unsigned int v49;
  dispatch_queue_s *v50;
  int v51;
  uint64_t v52;
  uint64_t v53;
  uint64_t v54;
  void *v55;
  __uint64_t v56;
  void *v57;
  char *v58;
  unsigned int v59;
  signed int v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      signed int v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    signed int v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  id v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    id v48 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v47 = handle_opengl_thread_conflict((const void **)v15);
    id v48 = [(id)DYGetGLGuestAppClient(v47) waitOnGraphicsSemaphoreAssertions];
    if ((int)v48 >= 1)
    {
      do
LABEL_57:
        unsigned int v49 = __ldaxr(v16);
      while (__stlxr(v49 - 1, v16));
      uint64_t v50 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v48) graphicsLockWaitQueue];
      dispatch_sync_f(v50, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 24) + 7784LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  __uint64_t v57 = 0LL;
  int v58 = 0LL;
  unsigned int v59 = 0;
  if ([(id)DYGetGLGuestAppClient(v48) state] != (char *)&dword_0 + 1
    || (id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v20))
  {
    uint64_t v22 = (char *)v57;
    unint64_t v21 = v58;
    int64_t v23 = v58 - (_BYTE *)v57;
    unsigned int v24 = v59;
    unint64_t v25 = v59 - (v58 - (_BYTE *)v57);
    if (v25 > 0x43) {
      goto LABEL_24;
    }
    int v51 = (323 - v25) & 0xFFFFFF00;
    v59 += v51;
    uint64_t v22 = (char *)malloc(v51 + v24);
    __uint64_t v57 = v22;
    if (v22)
    {
      if ((v22 & 3) == 0)
      {
        unint64_t v21 = &v22[v23];
LABEL_24:
        *((_DWORD *)v21 + 16) = 0;
        *((_OWORD *)v21 + 2) = 0u;
        *((_OWORD *)v21 + 3) = 0u;
        *(_OWORD *)unint64_t v21 = 0u;
        *((_OWORD *)v21 + 1) = 0u;
        int v58 = v21 + 68;
        GPUTools::FB::Fbuf::align((char **)&v57);
        *((_DWORD *)v22 + 1) = 765;
        *((_DWORD *)v22 + 8) = 0;
        __uint64_t v56 = 0LL;
        uint64_t v26 = pthread_threadid_np(0LL, &v56);
        *((void *)v22 + 1) = v56;
        strcpy(v22 + 36, "Cxxxx");
        *(void *)(v22 + 44) = *(void *)v15;
        *((_DWORD *)v22 + 13) = a2;
        *((_DWORD *)v22 + 14) = a3;
        *((_DWORD *)v22 + 15) = a4;
        *((_DWORD *)v22 + 16) = a5;
        char v27 = byte_207155;
        if ((byte_207155 & 1) != 0) {
          breakpoint_break((uint64_t)&v57, (volatile int *)&stru_2E8.segname[5], 1LL, *(unsigned int *)(v15 + 3404), v15);
        }
        uint64_t v28 = (uint64_t)[(id)DYGetGLGuestAppClient(v26) overrideFlags];
        if (!(v28 & 0x10 | v27 & 4))
        {
          uint64_t v29 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 32) + 7784LL))( a1,  a2,  a3,  a4,  a5);
          uint64_t v28 = mach_absolute_time();
          uint64_t v30 = v28 - v29;
          unint64_t v31 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v32 = v57;
            *((void *)v57 + 2) = v29;
            v32[3] = v30;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v54 = __udivti3(g_DYTimebaseInfo * v30, (g_DYTimebaseInfo * (unsigned __int128)v30) >> 64);
            unsigned int v55 = v57;
            *((void *)v57 + 3) = v54;
            uint64_t v28 = __udivti3(v31 * v29, (v31 * (unsigned __int128)v29) >> 64);
            v55[2] = v28;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v28 = check_errors(v15);
        }

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  id v20;
  unsigned int v21;
  signed int v22;
  BOOL v23;
  unsigned int v24;
  uint64_t v25;
  id v26;
  unsigned int v27;
  dispatch_queue_s *v28;
  uint64_t v29;
  signed int v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      signed int v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    signed int v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  id v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    uint64_t v26 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v25 = handle_opengl_thread_conflict((const void **)v15);
    uint64_t v26 = [(id)DYGetGLGuestAppClient(v25) waitOnGraphicsSemaphoreAssertions];
    if ((int)v26 >= 1)
    {
      do
LABEL_34:
        char v27 = __ldaxr(v16);
      while (__stlxr(v27 - 1, v16));
      uint64_t v28 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v26) graphicsLockWaitQueue];
      dispatch_sync_f(v28, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 24) + 7784LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v26) state] == (char *)&dword_0 + 1)
  {
    id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        unsigned int v24 = __ldaxr(v16);
      while (__stlxr(v24 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 32) + 7784LL))( a1,  a2,  a3,  a4,  a5);
  ++*(void *)(v15 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v29 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v29) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v29, v15);
      }
    }
  }

  do
  {
    unint64_t v21 = __ldaxr(v16);
    uint64_t v22 = v21 - 1;
  }

  while (__stlxr(v22, v16));
  if (gCheckGLErrors) {
    int64_t v23 = v22 < 1;
  }
  else {
    int64_t v23 = 1;
  }
  if (!v23) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  id v20;
  uint64_t v21;
  uint64_t v22;
  int64x2_t v23;
  unsigned int v24;
  signed int v25;
  BOOL v26;
  unsigned int v27;
  uint64_t v28;
  id v29;
  unsigned int v30;
  dispatch_queue_s *v31;
  uint64_t v32;
  signed int v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      signed int v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    signed int v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  id v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    uint64_t v29 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v28 = handle_opengl_thread_conflict((const void **)v15);
    uint64_t v29 = [(id)DYGetGLGuestAppClient(v28) waitOnGraphicsSemaphoreAssertions];
    if ((int)v29 >= 1)
    {
      do
LABEL_34:
        uint64_t v30 = __ldaxr(v16);
      while (__stlxr(v30 - 1, v16));
      unint64_t v31 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v29) graphicsLockWaitQueue];
      dispatch_sync_f(v31, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 24) + 7784LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v29) state] == (char *)&dword_0 + 1)
  {
    id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        char v27 = __ldaxr(v16);
      while (__stlxr(v27 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unint64_t v21 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 32) + 7784LL))( a1,  a2,  a3,  a4,  a5);
  uint64_t v22 = mach_absolute_time();
  int64_t v23 = vdupq_n_s64(1uLL);
  v23.i64[0] = v22 - v21;
  *(int64x2_t *)(v15 + 3696) = vaddq_s64(v23, *(int64x2_t *)(v15 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v32 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v32) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v32, v15);
      }
    }
  }

  do
  {
    unsigned int v24 = __ldaxr(v16);
    unint64_t v25 = v24 - 1;
  }

  while (__stlxr(v25, v16));
  if (gCheckGLErrors) {
    uint64_t v26 = v25 < 1;
  }
  else {
    uint64_t v26 = 1;
  }
  if (!v26) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

void sub_90628( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void depth_rangex(__GLIContextRec *a1, uint64_t a2, uint64_t a3)
{
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      signed int v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v44 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v43 = handle_opengl_thread_conflict((const void **)v11);
    id v44 = [(id)DYGetGLGuestAppClient(v43) waitOnGraphicsSemaphoreAssertions];
    if ((int)v44 >= 1)
    {
      do
LABEL_57:
        unsigned int v45 = __ldaxr(v12);
      while (__stlxr(v45 - 1, v12));
      unsigned int v46 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v44) graphicsLockWaitQueue];
      dispatch_sync_f(v46, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 24) + 7792LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  uint64_t v53 = 0LL;
  uint64_t v54 = 0LL;
  unsigned int v55 = 0;
  if ([(id)DYGetGLGuestAppClient(v44) state] != (char *)&dword_0 + 1
    || (id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v16))
  {
    signed int v18 = (char *)v53;
    unsigned int v17 = v54;
    int64_t v19 = v54 - (_BYTE *)v53;
    unsigned int v20 = v55;
    unint64_t v21 = v55 - (v54 - (_BYTE *)v53);
    if (v21 > 0x37) {
      goto LABEL_24;
    }
    int v47 = (311 - v21) & 0xFFFFFF00;
    v55 += v47;
    signed int v18 = (char *)malloc(v47 + v20);
    uint64_t v53 = v18;
    if (v18)
    {
      if ((v18 & 3) == 0)
      {
        unsigned int v17 = &v18[v19];
LABEL_24:
        *((void *)v17 + 6) = 0LL;
        *((_OWORD *)v17 + 1) = 0u;
        *((_OWORD *)v17 + 2) = 0u;
        *(_OWORD *)unsigned int v17 = 0u;
        uint64_t v54 = v17 + 56;
        GPUTools::FB::Fbuf::align((char **)&v53);
        *((_DWORD *)v18 + 1) = 768;
        *((_DWORD *)v18 + 8) = 0;
        __uint64_t v52 = 0LL;
        uint64_t v22 = pthread_threadid_np(0LL, &v52);
        *((void *)v18 + 1) = v52;
        *((_DWORD *)v18 + 9) = 7895107;
        *((void *)v18 + 5) = *(void *)v11;
        *((_DWORD *)v18 + 12) = a2;
        *((_DWORD *)v18 + 13) = a3;
        char v23 = byte_207158;
        if ((byte_207158 & 1) != 0) {
          breakpoint_break((uint64_t)&v53, (volatile int *)&stru_2E8.segname[8], 1LL, *(unsigned int *)(v11 + 3404), v11);
        }
        uint64_t v24 = (uint64_t)[(id)DYGetGLGuestAppClient(v22) overrideFlags];
        if (!(v24 & 0x10 | v23 & 4))
        {
          uint64_t v25 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 32) + 7792LL))(a1, a2, a3);
          uint64_t v24 = mach_absolute_time();
          uint64_t v26 = v24 - v25;
          unint64_t v27 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v28 = v53;
            *((void *)v53 + 2) = v25;
            v28[3] = v26;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v50 = __udivti3(g_DYTimebaseInfo * v26, (g_DYTimebaseInfo * (unsigned __int128)v26) >> 64);
            int v51 = v53;
            *((void *)v53 + 3) = v50;
            uint64_t v24 = __udivti3(v27 * v25, (v27 * (unsigned __int128)v25) >> 64);
            v51[2] = v24;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v24 = check_errors(v11);
        }

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  char *v17;
  char *v18;
  int64_t v19;
  unsigned int v20;
  unint64_t v21;
  uint64_t v22;
  char v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  unint64_t v27;
  void *v28;
  id v29;
  GPUTools::FB::Fbuf *v30;
  unsigned int v31;
  GPUTools::FB::Fbuf *v32;
  dispatch_queue_s *v33;
  uint64_t v34;
  GPUTools::FB::Stream *v35;
  unsigned int *v36;
  unsigned int v37;
  unsigned int v38;
  unsigned int v39;
  signed int v40;
  BOOL v41;
  unsigned int v42;
  uint64_t v43;
  id v44;
  unsigned int v45;
  dispatch_queue_s *v46;
  int v47;
  uint64_t v48;
  uint64_t v49;
  uint64_t v50;
  void *v51;
  __uint64_t v52;
  void *v53;
  char *v54;
  unsigned int v55;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      signed int v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v44 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v43 = handle_opengl_thread_conflict((const void **)v11);
    id v44 = [(id)DYGetGLGuestAppClient(v43) waitOnGraphicsSemaphoreAssertions];
    if ((int)v44 >= 1)
    {
      do
LABEL_57:
        unsigned int v45 = __ldaxr(v12);
      while (__stlxr(v45 - 1, v12));
      unsigned int v46 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v44) graphicsLockWaitQueue];
      dispatch_sync_f(v46, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 24) + 7792LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  uint64_t v53 = 0LL;
  uint64_t v54 = 0LL;
  unsigned int v55 = 0;
  if ([(id)DYGetGLGuestAppClient(v44) state] != (char *)&dword_0 + 1
    || (id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v16))
  {
    signed int v18 = (char *)v53;
    unsigned int v17 = v54;
    int64_t v19 = v54 - (_BYTE *)v53;
    unsigned int v20 = v55;
    unint64_t v21 = v55 - (v54 - (_BYTE *)v53);
    if (v21 > 0x37) {
      goto LABEL_24;
    }
    int v47 = (311 - v21) & 0xFFFFFF00;
    v55 += v47;
    signed int v18 = (char *)malloc(v47 + v20);
    uint64_t v53 = v18;
    if (v18)
    {
      if ((v18 & 3) == 0)
      {
        unsigned int v17 = &v18[v19];
LABEL_24:
        *((void *)v17 + 6) = 0LL;
        *((_OWORD *)v17 + 1) = 0u;
        *((_OWORD *)v17 + 2) = 0u;
        *(_OWORD *)unsigned int v17 = 0u;
        uint64_t v54 = v17 + 56;
        GPUTools::FB::Fbuf::align((char **)&v53);
        *((_DWORD *)v18 + 1) = 768;
        *((_DWORD *)v18 + 8) = 0;
        __uint64_t v52 = 0LL;
        uint64_t v22 = pthread_threadid_np(0LL, &v52);
        *((void *)v18 + 1) = v52;
        *((_DWORD *)v18 + 9) = 7895107;
        *((void *)v18 + 5) = *(void *)v11;
        *((_DWORD *)v18 + 12) = a2;
        *((_DWORD *)v18 + 13) = a3;
        char v23 = byte_207158;
        if ((byte_207158 & 1) != 0) {
          breakpoint_break((uint64_t)&v53, (volatile int *)&stru_2E8.segname[8], 1LL, *(unsigned int *)(v11 + 3404), v11);
        }
        uint64_t v24 = (uint64_t)[(id)DYGetGLGuestAppClient(v22) overrideFlags];
        if (!(v24 & 0x10 | v23 & 4))
        {
          uint64_t v25 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 32) + 7792LL))(a1, a2, a3);
          uint64_t v24 = mach_absolute_time();
          uint64_t v26 = v24 - v25;
          unint64_t v27 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v28 = v53;
            *((void *)v53 + 2) = v25;
            v28[3] = v26;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v50 = __udivti3(g_DYTimebaseInfo * v26, (g_DYTimebaseInfo * (unsigned __int128)v26) >> 64);
            int v51 = v53;
            *((void *)v53 + 3) = v50;
            uint64_t v24 = __udivti3(v27 * v25, (v27 * (unsigned __int128)v25) >> 64);
            v51[2] = v24;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v24 = check_errors(v11);
        }

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  unsigned int v20;
  uint64_t v21;
  id v22;
  unsigned int v23;
  dispatch_queue_s *v24;
  uint64_t v25;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      signed int v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v22 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v21 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v22 = [(id)DYGetGLGuestAppClient(v21) waitOnGraphicsSemaphoreAssertions];
    if ((int)v22 >= 1)
    {
      do
LABEL_34:
        char v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      uint64_t v24 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v22) graphicsLockWaitQueue];
      dispatch_sync_f(v24, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 24) + 7792LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v22) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v20 = __ldaxr(v12);
      while (__stlxr(v20 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 32) + 7792LL))(a1, a2, a3);
  ++*(void *)(v11 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v25 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v25) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v25, v11);
      }
    }
  }

  do
  {
    unsigned int v17 = __ldaxr(v12);
    signed int v18 = v17 - 1;
  }

  while (__stlxr(v18, v12));
  if (gCheckGLErrors) {
    int64_t v19 = v18 < 1;
  }
  else {
    int64_t v19 = 1;
  }
  if (!v19) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  uint64_t v17;
  uint64_t v18;
  int64x2_t v19;
  unsigned int v20;
  signed int v21;
  BOOL v22;
  unsigned int v23;
  uint64_t v24;
  id v25;
  unsigned int v26;
  dispatch_queue_s *v27;
  uint64_t v28;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      signed int v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v24 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        uint64_t v26 = __ldaxr(v12);
      while (__stlxr(v26 - 1, v12));
      unint64_t v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 24) + 7792LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        char v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v17 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 32) + 7792LL))(a1, a2, a3);
  signed int v18 = mach_absolute_time();
  int64_t v19 = vdupq_n_s64(1uLL);
  v19.i64[0] = v18 - v17;
  *(int64x2_t *)(v11 + 3696) = vaddq_s64(v19, *(int64x2_t *)(v11 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v28 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v11);
      }
    }
  }

  do
  {
    unsigned int v20 = __ldaxr(v12);
    unint64_t v21 = v20 - 1;
  }

  while (__stlxr(v21, v12));
  if (gCheckGLErrors) {
    uint64_t v22 = v21 < 1;
  }
  else {
    uint64_t v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

void sub_90B04( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void fogx(__GLIContextRec *a1, uint64_t a2, uint64_t a3)
{
  if ((_DWORD)a2 == 33872 || (_DWORD)a2 == 2917) {
    uint64_t v7 = "Cee";
  }
  else {
    uint64_t v7 = "Cex";
  }
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_18;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_18:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v45 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v44 = handle_opengl_thread_conflict((const void **)v13);
    id v45 = [(id)DYGetGLGuestAppClient(v44) waitOnGraphicsSemaphoreAssertions];
    if ((int)v45 >= 1)
    {
      do
LABEL_62:
        unsigned int v46 = __ldaxr(v14);
      while (__stlxr(v46 - 1, v14));
      int v47 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v45) graphicsLockWaitQueue];
      dispatch_sync_f(v47, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v13 + 24) + 7800LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  v52[0] = 0LL;
  v52[1] = 0LL;
  int v53 = 0;
  if ([(id)DYGetGLGuestAppClient(v45) state] != (char *)&dword_0 + 1
    || (id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v22))
  {
    GPUTools::FB::Encode((uint64_t)v52, 777LL, 0LL, (uint64_t)v7, v18, v19, v20, v21, *(void *)v13);
    char v24 = byte_207161;
    if ((byte_207161 & 1) != 0) {
      breakpoint_break( (uint64_t)v52,  (volatile int *)((char *)&stru_2E8.addr + 1),  1LL,  *(unsigned int *)(v13 + 3404),  v13);
    }
    uint64_t v25 = (uint64_t)[(id)DYGetGLGuestAppClient(v23) overrideFlags];
    if (!(v25 & 0x10 | v24 & 4))
    {
      uint64_t v26 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v13 + 32) + 7800LL))(a1, a2, a3);
      uint64_t v25 = mach_absolute_time();
      uint64_t v27 = v25 - v26;
      unint64_t v28 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        id v29 = v52[0];
        *((void *)v52[0] + 2) = v26;
        v29[3] = v27;
        if (!gCheckGLErrors) {
          goto LABEL_34;
        }
      }

      else
      {
        uint64_t v50 = __udivti3(g_DYTimebaseInfo * v27, (g_DYTimebaseInfo * (unsigned __int128)v27) >> 64);
        int v51 = v52[0];
        *((void *)v52[0] + 3) = v50;
        uint64_t v25 = __udivti3(v28 * v26, (v28 * (unsigned __int128)v26) >> 64);
        v51[2] = v25;
        if (!gCheckGLErrors) {
          goto LABEL_34;
        }
      }

      uint64_t v25 = check_errors(v13);
    }

{
  const char *v7;
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  id v22;
  uint64_t v23;
  char v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  unint64_t v28;
  void *v29;
  id v30;
  GPUTools::FB::Fbuf *v31;
  unsigned int v32;
  GPUTools::FB::Fbuf *v33;
  dispatch_queue_s *v34;
  uint64_t v35;
  GPUTools::FB::Stream *v36;
  unsigned int *v37;
  unsigned int v38;
  unsigned int v39;
  unsigned int v40;
  signed int v41;
  BOOL v42;
  unsigned int v43;
  uint64_t v44;
  id v45;
  unsigned int v46;
  dispatch_queue_s *v47;
  uint64_t v48;
  uint64_t v49;
  uint64_t v50;
  void *v51;
  void *v52[2];
  int v53;
  if ((_DWORD)a2 == 33872 || (_DWORD)a2 == 2917) {
    uint64_t v7 = "Cee";
  }
  else {
    uint64_t v7 = "Cex";
  }
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_18;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_18:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v45 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v44 = handle_opengl_thread_conflict((const void **)v13);
    id v45 = [(id)DYGetGLGuestAppClient(v44) waitOnGraphicsSemaphoreAssertions];
    if ((int)v45 >= 1)
    {
      do
LABEL_62:
        unsigned int v46 = __ldaxr(v14);
      while (__stlxr(v46 - 1, v14));
      int v47 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v45) graphicsLockWaitQueue];
      dispatch_sync_f(v47, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v13 + 24) + 7800LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  v52[0] = 0LL;
  v52[1] = 0LL;
  int v53 = 0;
  if ([(id)DYGetGLGuestAppClient(v45) state] != (char *)&dword_0 + 1
    || (id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v22))
  {
    GPUTools::FB::Encode((uint64_t)v52, 777LL, 0LL, (uint64_t)v7, v18, v19, v20, v21, *(void *)v13);
    char v24 = byte_207161;
    if ((byte_207161 & 1) != 0) {
      breakpoint_break( (uint64_t)v52,  (volatile int *)((char *)&stru_2E8.addr + 1),  1LL,  *(unsigned int *)(v13 + 3404),  v13);
    }
    uint64_t v25 = (uint64_t)[(id)DYGetGLGuestAppClient(v23) overrideFlags];
    if (!(v25 & 0x10 | v24 & 4))
    {
      uint64_t v26 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v13 + 32) + 7800LL))(a1, a2, a3);
      uint64_t v25 = mach_absolute_time();
      uint64_t v27 = v25 - v26;
      unint64_t v28 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        id v29 = v52[0];
        *((void *)v52[0] + 2) = v26;
        v29[3] = v27;
        if (!gCheckGLErrors) {
          goto LABEL_34;
        }
      }

      else
      {
        uint64_t v50 = __udivti3(g_DYTimebaseInfo * v27, (g_DYTimebaseInfo * (unsigned __int128)v27) >> 64);
        int v51 = v52[0];
        *((void *)v52[0] + 3) = v50;
        uint64_t v25 = __udivti3(v28 * v26, (v28 * (unsigned __int128)v26) >> 64);
        v51[2] = v25;
        if (!gCheckGLErrors) {
          goto LABEL_34;
        }
      }

      uint64_t v25 = check_errors(v13);
    }

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  unsigned int v20;
  uint64_t v21;
  id v22;
  unsigned int v23;
  dispatch_queue_s *v24;
  uint64_t v25;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    uint64_t v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  BOOL v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    uint64_t v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    unsigned int v15 = v14 <= 1;
  }
  else {
    unsigned int v15 = 1;
  }
  if (v15)
  {
    id v22 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v21 = handle_opengl_thread_conflict((const void **)v11);
    id v22 = [(id)DYGetGLGuestAppClient(v21) waitOnGraphicsSemaphoreAssertions];
    if ((int)v22 >= 1)
    {
      do
LABEL_34:
        uint64_t v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      char v24 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v22) graphicsLockWaitQueue];
      dispatch_sync_f(v24, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 24) + 7800LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v22) state] == (char *)&dword_0 + 1)
  {
    signed int v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        uint64_t v20 = __ldaxr(v12);
      while (__stlxr(v20 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 32) + 7800LL))(a1, a2, a3);
  ++*(void *)(v11 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v25 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v25) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v25, v11);
      }
    }
  }

  do
  {
    BOOL v17 = __ldaxr(v12);
    uint64_t v18 = v17 - 1;
  }

  while (__stlxr(v18, v12));
  if (gCheckGLErrors) {
    uint64_t v19 = v18 < 1;
  }
  else {
    uint64_t v19 = 1;
  }
  if (!v19) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  uint64_t v17;
  uint64_t v18;
  int64x2_t v19;
  unsigned int v20;
  signed int v21;
  BOOL v22;
  unsigned int v23;
  uint64_t v24;
  id v25;
  unsigned int v26;
  dispatch_queue_s *v27;
  uint64_t v28;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    uint64_t v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  BOOL v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    uint64_t v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    unsigned int v15 = v14 <= 1;
  }
  else {
    unsigned int v15 = 1;
  }
  if (v15)
  {
    uint64_t v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    char v24 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        uint64_t v26 = __ldaxr(v12);
      while (__stlxr(v26 - 1, v12));
      uint64_t v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 24) + 7800LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    signed int v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        uint64_t v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  BOOL v17 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 32) + 7800LL))(a1, a2, a3);
  uint64_t v18 = mach_absolute_time();
  uint64_t v19 = vdupq_n_s64(1uLL);
  v19.i64[0] = v18 - v17;
  *(int64x2_t *)(v11 + 3696) = vaddq_s64(v19, *(int64x2_t *)(v11 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      unint64_t v28 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v11);
      }
    }
  }

  do
  {
    uint64_t v20 = __ldaxr(v12);
    uint64_t v21 = v20 - 1;
  }

  while (__stlxr(v21, v12));
  if (gCheckGLErrors) {
    id v22 = v21 < 1;
  }
  else {
    id v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

void sub_90F3C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void fogxv(__GLIContextRec *a1, GPUTools::GL *a2, const int *a3)
{
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v47 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v46 = handle_opengl_thread_conflict((const void **)v11);
    id v47 = [(id)DYGetGLGuestAppClient(v46) waitOnGraphicsSemaphoreAssertions];
    if ((int)v47 >= 1)
    {
      do
LABEL_62:
        unsigned int v48 = __ldaxr(v12);
      while (__stlxr(v48 - 1, v12));
      uint64_t v49 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v47) graphicsLockWaitQueue];
      dispatch_sync_f(v49, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, GPUTools::GL *, const int *))(*(void *)(v11 + 24) + 7808LL))( a1,  a2,  a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  v54[0] = 0LL;
  v54[1] = 0LL;
  int v55 = 0;
  if ([(id)DYGetGLGuestAppClient(v47) state] != (char *)&dword_0 + 1
    || (id v17 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v17))
  {
    int v18 = GPUTools::GL::dy_fog_param_component_count(a2, v16);
    snprintf((char *)(v11 + 4709), 0x40uLL, "Ce@%d", v18);
    if ((_DWORD)a2 == 33872 || (_DWORD)a2 == 2917) {
      uint64_t v20 = "e";
    }
    else {
      uint64_t v20 = "x";
    }
    strlcat((char *)(v11 + 4709), v20, 0x40uLL);
    GPUTools::FB::Encode((uint64_t)v54, 778LL, 0LL, v11 + 4709, v21, v22, v23, v24, *(void *)v11);
    char v26 = byte_207162;
    if ((byte_207162 & 1) != 0) {
      breakpoint_break( (uint64_t)v54,  (volatile int *)((char *)&stru_2E8.addr + 2),  1LL,  *(unsigned int *)(v11 + 3404),  v11);
    }
    uint64_t v27 = (uint64_t)[(id)DYGetGLGuestAppClient(v25) overrideFlags];
    if (!(v27 & 0x10 | v26 & 4))
    {
      uint64_t v28 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, GPUTools::GL *, const int *))(*(void *)(v11 + 32) + 7808LL))( a1,  a2,  a3);
      uint64_t v27 = mach_absolute_time();
      uint64_t v29 = v27 - v28;
      unint64_t v30 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        unsigned int v31 = v54[0];
        *((void *)v54[0] + 2) = v28;
        v31[3] = v29;
        if (!gCheckGLErrors) {
          goto LABEL_34;
        }
      }

      else
      {
        uint64_t v52 = __udivti3(g_DYTimebaseInfo * v29, (g_DYTimebaseInfo * (unsigned __int128)v29) >> 64);
        int v53 = v54[0];
        *((void *)v54[0] + 3) = v52;
        uint64_t v27 = __udivti3(v30 * v28, (v30 * (unsigned __int128)v28) >> 64);
        v53[2] = v27;
        if (!gCheckGLErrors) {
          goto LABEL_34;
        }
      }

      uint64_t v27 = check_errors(v11);
    }

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  unsigned int v16;
  id v17;
  int v18;
  const char *v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  char v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  unint64_t v30;
  void *v31;
  id v32;
  GPUTools::FB::Fbuf *v33;
  unsigned int v34;
  GPUTools::FB::Fbuf *v35;
  dispatch_queue_s *v36;
  uint64_t v37;
  GPUTools::FB::Stream *v38;
  unsigned int *v39;
  unsigned int v40;
  unsigned int v41;
  unsigned int v42;
  signed int v43;
  BOOL v44;
  unsigned int v45;
  uint64_t v46;
  id v47;
  unsigned int v48;
  dispatch_queue_s *v49;
  uint64_t v50;
  uint64_t v51;
  uint64_t v52;
  void *v53;
  void *v54[2];
  int v55;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v47 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v46 = handle_opengl_thread_conflict((const void **)v11);
    id v47 = [(id)DYGetGLGuestAppClient(v46) waitOnGraphicsSemaphoreAssertions];
    if ((int)v47 >= 1)
    {
      do
LABEL_62:
        unsigned int v48 = __ldaxr(v12);
      while (__stlxr(v48 - 1, v12));
      uint64_t v49 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v47) graphicsLockWaitQueue];
      dispatch_sync_f(v49, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, GPUTools::GL *, const int *))(*(void *)(v11 + 24) + 7808LL))( a1,  a2,  a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  v54[0] = 0LL;
  v54[1] = 0LL;
  int v55 = 0;
  if ([(id)DYGetGLGuestAppClient(v47) state] != (char *)&dword_0 + 1
    || (id v17 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v17))
  {
    int v18 = GPUTools::GL::dy_fog_param_component_count(a2, v16);
    snprintf((char *)(v11 + 4709), 0x40uLL, "Ce@%d", v18);
    if ((_DWORD)a2 == 33872 || (_DWORD)a2 == 2917) {
      uint64_t v20 = "e";
    }
    else {
      uint64_t v20 = "x";
    }
    strlcat((char *)(v11 + 4709), v20, 0x40uLL);
    GPUTools::FB::Encode((uint64_t)v54, 778LL, 0LL, v11 + 4709, v21, v22, v23, v24, *(void *)v11);
    char v26 = byte_207162;
    if ((byte_207162 & 1) != 0) {
      breakpoint_break( (uint64_t)v54,  (volatile int *)((char *)&stru_2E8.addr + 2),  1LL,  *(unsigned int *)(v11 + 3404),  v11);
    }
    uint64_t v27 = (uint64_t)[(id)DYGetGLGuestAppClient(v25) overrideFlags];
    if (!(v27 & 0x10 | v26 & 4))
    {
      uint64_t v28 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, GPUTools::GL *, const int *))(*(void *)(v11 + 32) + 7808LL))( a1,  a2,  a3);
      uint64_t v27 = mach_absolute_time();
      uint64_t v29 = v27 - v28;
      unint64_t v30 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        unsigned int v31 = v54[0];
        *((void *)v54[0] + 2) = v28;
        v31[3] = v29;
        if (!gCheckGLErrors) {
          goto LABEL_34;
        }
      }

      else
      {
        uint64_t v52 = __udivti3(g_DYTimebaseInfo * v29, (g_DYTimebaseInfo * (unsigned __int128)v29) >> 64);
        int v53 = v54[0];
        *((void *)v54[0] + 3) = v52;
        uint64_t v27 = __udivti3(v30 * v28, (v30 * (unsigned __int128)v28) >> 64);
        v53[2] = v27;
        if (!gCheckGLErrors) {
          goto LABEL_34;
        }
      }

      uint64_t v27 = check_errors(v11);
    }

void sub_913A0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void frustumf(__GLIContextRec *a1, float a2, float a3, float a4, float a5, float a6, float a7)
{
  signed int v14 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v14) {
    goto LABEL_12;
  }
  uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v16 = v14[4];
    BOOL v17 = v16 >= (unint64_t)a1;
    else {
      int v18 = v14 + 1;
    }
    if (v17) {
      uint64_t v15 = (uint64_t)v14;
    }
    signed int v14 = (void *)*v18;
  }

  while (*v18);
  if (v15 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v15 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v19 = *(void *)(v15 + 40);
  uint64_t v20 = (unsigned int *)(v19 + 4640);
  do
  {
    unsigned int v21 = __ldaxr(v20);
    signed int v22 = v21 + 1;
  }

  while (__stlxr(v22, v20));
  if (gCheckGLErrors) {
    BOOL v23 = v22 <= 1;
  }
  else {
    BOOL v23 = 1;
  }
  if (v23)
  {
    id v52 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v51 = handle_opengl_thread_conflict((const void **)v19);
    id v52 = [(id)DYGetGLGuestAppClient(v51) waitOnGraphicsSemaphoreAssertions];
    if ((int)v52 >= 1)
    {
      do
LABEL_57:
        unsigned int v53 = __ldaxr(v20);
      while (__stlxr(v53 - 1, v20));
      uint64_t v54 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v52) graphicsLockWaitQueue];
      dispatch_sync_f(v54, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, float, float, float, float, float, float))(*(void *)(v19 + 24)
                                                                                          + 7816LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
      return;
    }
  }

  *(_BYTE *)(v19 + 4838) = 1;
  unsigned int v61 = 0LL;
  uint64_t v62 = 0LL;
  unsigned int v63 = 0;
  if ([(id)DYGetGLGuestAppClient(v52) state] != (char *)&dword_0 + 1
    || (id v24 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v24))
  {
    char v26 = (char *)v61;
    uint64_t v25 = v62;
    int64_t v27 = v62 - (_BYTE *)v61;
    unsigned int v28 = v63;
    unint64_t v29 = v63 - (v62 - (_BYTE *)v61);
    if (v29 > 0x4B) {
      goto LABEL_24;
    }
    int v55 = (331 - v29) & 0xFFFFFF00;
    v63 += v55;
    char v26 = (char *)malloc(v55 + v28);
    unsigned int v61 = v26;
    if (v26)
    {
      if ((v26 & 3) == 0)
      {
        uint64_t v25 = &v26[v27];
LABEL_24:
        *(_OWORD *)(v25 + 60) = 0u;
        *((_OWORD *)v25 + 2) = 0u;
        *((_OWORD *)v25 + 3) = 0u;
        *(_OWORD *)uint64_t v25 = 0u;
        *((_OWORD *)v25 + 1) = 0u;
        uint64_t v62 = v25 + 76;
        GPUTools::FB::Fbuf::align((char **)&v61);
        *((_DWORD *)v26 + 1) = 779;
        *((_DWORD *)v26 + 8) = 0;
        __uint64_t v60 = 0LL;
        uint64_t v30 = pthread_threadid_np(0LL, &v60);
        *((void *)v26 + 1) = v60;
        *(void *)(v26 + 36) = 0x66666666666643LL;
        *(void *)(v26 + 44) = *(void *)v19;
        *((float *)v26 + 13) = a2;
        *((float *)v26 + 14) = a3;
        *((float *)v26 + 15) = a4;
        *((float *)v26 + 16) = a5;
        *((float *)v26 + 17) = a6;
        *((float *)v26 + 18) = a7;
        char v31 = byte_207163;
        if ((byte_207163 & 1) != 0) {
          breakpoint_break( (uint64_t)&v61,  (volatile int *)((char *)&stru_2E8.addr + 3),  1LL,  *(unsigned int *)(v19 + 3404),  v19);
        }
        uint64_t v32 = (uint64_t)[(id)DYGetGLGuestAppClient(v30) overrideFlags];
        if (!(v32 & 0x10 | v31 & 4))
        {
          uint64_t v33 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, float, float, float, float, float, float))(*(void *)(v19 + 32)
                                                                                              + 7816LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
          uint64_t v32 = mach_absolute_time();
          uint64_t v34 = v32 - v33;
          unint64_t v35 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unsigned int v36 = v61;
            *((void *)v61 + 2) = v33;
            v36[3] = v34;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v58 = __udivti3(g_DYTimebaseInfo * v34, (g_DYTimebaseInfo * (unsigned __int128)v34) >> 64);
            unsigned int v59 = v61;
            *((void *)v61 + 3) = v58;
            uint64_t v32 = __udivti3(v35 * v33, (v35 * (unsigned __int128)v33) >> 64);
            v59[2] = v32;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v32 = check_errors(v19);
        }

{
  void *v14;
  uint64_t v15;
  unint64_t v16;
  BOOL v17;
  void *v18;
  uint64_t v19;
  unsigned int *v20;
  unsigned int v21;
  signed int v22;
  BOOL v23;
  id v24;
  char *v25;
  char *v26;
  int64_t v27;
  unsigned int v28;
  unint64_t v29;
  uint64_t v30;
  char v31;
  uint64_t v32;
  uint64_t v33;
  uint64_t v34;
  unint64_t v35;
  void *v36;
  id v37;
  GPUTools::FB::Fbuf *v38;
  unsigned int v39;
  GPUTools::FB::Fbuf *v40;
  dispatch_queue_s *v41;
  uint64_t v42;
  GPUTools::FB::Stream *v43;
  unsigned int *v44;
  unsigned int v45;
  unsigned int v46;
  unsigned int v47;
  signed int v48;
  BOOL v49;
  unsigned int v50;
  uint64_t v51;
  id v52;
  unsigned int v53;
  dispatch_queue_s *v54;
  int v55;
  uint64_t v56;
  uint64_t v57;
  uint64_t v58;
  void *v59;
  __uint64_t v60;
  void *v61;
  char *v62;
  unsigned int v63;
  signed int v14 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v14) {
    goto LABEL_12;
  }
  uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v16 = v14[4];
    BOOL v17 = v16 >= (unint64_t)a1;
    else {
      int v18 = v14 + 1;
    }
    if (v17) {
      uint64_t v15 = (uint64_t)v14;
    }
    signed int v14 = (void *)*v18;
  }

  while (*v18);
  if (v15 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v15 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v19 = *(void *)(v15 + 40);
  uint64_t v20 = (unsigned int *)(v19 + 4640);
  do
  {
    unsigned int v21 = __ldaxr(v20);
    signed int v22 = v21 + 1;
  }

  while (__stlxr(v22, v20));
  if (gCheckGLErrors) {
    BOOL v23 = v22 <= 1;
  }
  else {
    BOOL v23 = 1;
  }
  if (v23)
  {
    id v52 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v51 = handle_opengl_thread_conflict((const void **)v19);
    id v52 = [(id)DYGetGLGuestAppClient(v51) waitOnGraphicsSemaphoreAssertions];
    if ((int)v52 >= 1)
    {
      do
LABEL_57:
        unsigned int v53 = __ldaxr(v20);
      while (__stlxr(v53 - 1, v20));
      uint64_t v54 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v52) graphicsLockWaitQueue];
      dispatch_sync_f(v54, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, float, float, float, float, float, float))(*(void *)(v19 + 24)
                                                                                          + 7816LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
      return;
    }
  }

  *(_BYTE *)(v19 + 4838) = 1;
  unsigned int v61 = 0LL;
  uint64_t v62 = 0LL;
  unsigned int v63 = 0;
  if ([(id)DYGetGLGuestAppClient(v52) state] != (char *)&dword_0 + 1
    || (id v24 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v24))
  {
    char v26 = (char *)v61;
    uint64_t v25 = v62;
    int64_t v27 = v62 - (_BYTE *)v61;
    unsigned int v28 = v63;
    unint64_t v29 = v63 - (v62 - (_BYTE *)v61);
    if (v29 > 0x4B) {
      goto LABEL_24;
    }
    int v55 = (331 - v29) & 0xFFFFFF00;
    v63 += v55;
    char v26 = (char *)malloc(v55 + v28);
    unsigned int v61 = v26;
    if (v26)
    {
      if ((v26 & 3) == 0)
      {
        uint64_t v25 = &v26[v27];
LABEL_24:
        *(_OWORD *)(v25 + 60) = 0u;
        *((_OWORD *)v25 + 2) = 0u;
        *((_OWORD *)v25 + 3) = 0u;
        *(_OWORD *)uint64_t v25 = 0u;
        *((_OWORD *)v25 + 1) = 0u;
        uint64_t v62 = v25 + 76;
        GPUTools::FB::Fbuf::align((char **)&v61);
        *((_DWORD *)v26 + 1) = 779;
        *((_DWORD *)v26 + 8) = 0;
        __uint64_t v60 = 0LL;
        uint64_t v30 = pthread_threadid_np(0LL, &v60);
        *((void *)v26 + 1) = v60;
        *(void *)(v26 + 36) = 0x66666666666643LL;
        *(void *)(v26 + 44) = *(void *)v19;
        *((float *)v26 + 13) = a2;
        *((float *)v26 + 14) = a3;
        *((float *)v26 + 15) = a4;
        *((float *)v26 + 16) = a5;
        *((float *)v26 + 17) = a6;
        *((float *)v26 + 18) = a7;
        char v31 = byte_207163;
        if ((byte_207163 & 1) != 0) {
          breakpoint_break( (uint64_t)&v61,  (volatile int *)((char *)&stru_2E8.addr + 3),  1LL,  *(unsigned int *)(v19 + 3404),  v19);
        }
        uint64_t v32 = (uint64_t)[(id)DYGetGLGuestAppClient(v30) overrideFlags];
        if (!(v32 & 0x10 | v31 & 4))
        {
          uint64_t v33 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, float, float, float, float, float, float))(*(void *)(v19 + 32)
                                                                                              + 7816LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
          uint64_t v32 = mach_absolute_time();
          uint64_t v34 = v32 - v33;
          unint64_t v35 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unsigned int v36 = v61;
            *((void *)v61 + 2) = v33;
            v36[3] = v34;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v58 = __udivti3(g_DYTimebaseInfo * v34, (g_DYTimebaseInfo * (unsigned __int128)v34) >> 64);
            unsigned int v59 = v61;
            *((void *)v61 + 3) = v58;
            uint64_t v32 = __udivti3(v35 * v33, (v35 * (unsigned __int128)v33) >> 64);
            v59[2] = v32;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v32 = check_errors(v19);
        }

{
  void *v14;
  uint64_t v15;
  unint64_t v16;
  BOOL v17;
  void *v18;
  uint64_t v19;
  unsigned int *v20;
  unsigned int v21;
  signed int v22;
  BOOL v23;
  id v24;
  unsigned int v25;
  signed int v26;
  BOOL v27;
  unsigned int v28;
  uint64_t v29;
  id v30;
  unsigned int v31;
  dispatch_queue_s *v32;
  uint64_t v33;
  signed int v14 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v14) {
    goto LABEL_12;
  }
  uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v16 = v14[4];
    BOOL v17 = v16 >= (unint64_t)a1;
    else {
      int v18 = v14 + 1;
    }
    if (v17) {
      uint64_t v15 = (uint64_t)v14;
    }
    signed int v14 = (void *)*v18;
  }

  while (*v18);
  if (v15 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v15 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v19 = *(void *)(v15 + 40);
  uint64_t v20 = (unsigned int *)(v19 + 4640);
  do
  {
    unsigned int v21 = __ldaxr(v20);
    signed int v22 = v21 + 1;
  }

  while (__stlxr(v22, v20));
  if (gCheckGLErrors) {
    BOOL v23 = v22 <= 1;
  }
  else {
    BOOL v23 = 1;
  }
  if (v23)
  {
    uint64_t v30 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v29 = handle_opengl_thread_conflict((const void **)v19);
    uint64_t v30 = [(id)DYGetGLGuestAppClient(v29) waitOnGraphicsSemaphoreAssertions];
    if ((int)v30 >= 1)
    {
      do
LABEL_34:
        char v31 = __ldaxr(v20);
      while (__stlxr(v31 - 1, v20));
      uint64_t v32 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v30) graphicsLockWaitQueue];
      dispatch_sync_f(v32, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, float, float, float, float, float, float))(*(void *)(v19 + 24)
                                                                                          + 7816LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
      return;
    }
  }

  *(_BYTE *)(v19 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v30) state] == (char *)&dword_0 + 1)
  {
    id v24 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v24)
    {
      do
        unsigned int v28 = __ldaxr(v20);
      while (__stlxr(v28 - 1, v20));
      [(id)DYGetGLGuestAppClient(v24) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, float, float, float, float, float, float))(*(void *)(v19 + 32) + 7816LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
  ++*(void *)(v19 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v19);
    if (gBreakOnError)
    {
      uint64_t v33 = *(unsigned int *)(v19 + 3404);
      if ((_DWORD)v33) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v33, v19);
      }
    }
  }

  do
  {
    uint64_t v25 = __ldaxr(v20);
    char v26 = v25 - 1;
  }

  while (__stlxr(v26, v20));
  if (gCheckGLErrors) {
    int64_t v27 = v26 < 1;
  }
  else {
    int64_t v27 = 1;
  }
  if (!v27) {
    handle_opengl_thread_conflict((const void **)v19);
  }
}

{
  void *v14;
  uint64_t v15;
  unint64_t v16;
  BOOL v17;
  void *v18;
  uint64_t v19;
  unsigned int *v20;
  unsigned int v21;
  signed int v22;
  BOOL v23;
  id v24;
  uint64_t v25;
  uint64_t v26;
  int64x2_t v27;
  unsigned int v28;
  signed int v29;
  BOOL v30;
  unsigned int v31;
  uint64_t v32;
  id v33;
  unsigned int v34;
  dispatch_queue_s *v35;
  uint64_t v36;
  signed int v14 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v14) {
    goto LABEL_12;
  }
  uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v16 = v14[4];
    BOOL v17 = v16 >= (unint64_t)a1;
    else {
      int v18 = v14 + 1;
    }
    if (v17) {
      uint64_t v15 = (uint64_t)v14;
    }
    signed int v14 = (void *)*v18;
  }

  while (*v18);
  if (v15 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v15 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v19 = *(void *)(v15 + 40);
  uint64_t v20 = (unsigned int *)(v19 + 4640);
  do
  {
    unsigned int v21 = __ldaxr(v20);
    signed int v22 = v21 + 1;
  }

  while (__stlxr(v22, v20));
  if (gCheckGLErrors) {
    BOOL v23 = v22 <= 1;
  }
  else {
    BOOL v23 = 1;
  }
  if (v23)
  {
    uint64_t v33 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v32 = handle_opengl_thread_conflict((const void **)v19);
    uint64_t v33 = [(id)DYGetGLGuestAppClient(v32) waitOnGraphicsSemaphoreAssertions];
    if ((int)v33 >= 1)
    {
      do
LABEL_34:
        uint64_t v34 = __ldaxr(v20);
      while (__stlxr(v34 - 1, v20));
      unint64_t v35 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v33) graphicsLockWaitQueue];
      dispatch_sync_f(v35, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, float, float, float, float, float, float))(*(void *)(v19 + 24)
                                                                                          + 7816LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
      return;
    }
  }

  *(_BYTE *)(v19 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v33) state] == (char *)&dword_0 + 1)
  {
    id v24 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v24)
    {
      do
        char v31 = __ldaxr(v20);
      while (__stlxr(v31 - 1, v20));
      [(id)DYGetGLGuestAppClient(v24) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v25 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, float, float, float, float, float, float))(*(void *)(v19 + 32) + 7816LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
  char v26 = mach_absolute_time();
  int64_t v27 = vdupq_n_s64(1uLL);
  v27.i64[0] = v26 - v25;
  *(int64x2_t *)(v19 + 3696) = vaddq_s64(v27, *(int64x2_t *)(v19 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v19);
    if (gBreakOnError)
    {
      unsigned int v36 = *(unsigned int *)(v19 + 3404);
      if ((_DWORD)v36) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v36, v19);
      }
    }
  }

  do
  {
    unsigned int v28 = __ldaxr(v20);
    unint64_t v29 = v28 - 1;
  }

  while (__stlxr(v29, v20));
  if (gCheckGLErrors) {
    uint64_t v30 = v29 < 1;
  }
  else {
    uint64_t v30 = 1;
  }
  if (!v30) {
    handle_opengl_thread_conflict((const void **)v19);
  }
}

void sub_918E8( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void frustumx( __GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, unsigned int a7)
{
  unsigned int v13 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v13) {
    goto LABEL_12;
  }
  uint64_t v14 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v15 = v13[4];
    BOOL v16 = v15 >= (unint64_t)a1;
    else {
      BOOL v17 = v13 + 1;
    }
    if (v16) {
      uint64_t v14 = (uint64_t)v13;
    }
    unsigned int v13 = (void *)*v17;
  }

  while (*v17);
  if (v14 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v14 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v14 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v18 = *(void *)(v14 + 40);
  uint64_t v19 = (unsigned int *)(v18 + 4640);
  do
  {
    unsigned int v20 = __ldaxr(v19);
    signed int v21 = v20 + 1;
  }

  while (__stlxr(v21, v19));
  if (gCheckGLErrors) {
    BOOL v22 = v21 <= 1;
  }
  else {
    BOOL v22 = 1;
  }
  if (v22)
  {
    id v51 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v50 = handle_opengl_thread_conflict((const void **)v18);
    id v51 = [(id)DYGetGLGuestAppClient(v50) waitOnGraphicsSemaphoreAssertions];
    if ((int)v51 >= 1)
    {
      do
LABEL_57:
        unsigned int v52 = __ldaxr(v19);
      while (__stlxr(v52 - 1, v19));
      unsigned int v53 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v51) graphicsLockWaitQueue];
      dispatch_sync_f(v53, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, void))(*(void *)(v18 + 24) + 7824LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
      return;
    }
  }

  *(_BYTE *)(v18 + 4838) = 1;
  unsigned int v61 = 0LL;
  uint64_t v62 = 0LL;
  unsigned int v63 = 0;
  if ([(id)DYGetGLGuestAppClient(v51) state] != (char *)&dword_0 + 1
    || (id v23 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v23))
  {
    uint64_t v25 = (char *)v61;
    id v24 = v62;
    int64_t v26 = v62 - (_BYTE *)v61;
    unsigned int v27 = v63;
    unint64_t v28 = v63 - (v62 - (_BYTE *)v61);
    if (v28 > 0x4B) {
      goto LABEL_24;
    }
    int v54 = (331 - v28) & 0xFFFFFF00;
    v63 += v54;
    uint64_t v25 = (char *)malloc(v54 + v27);
    unsigned int v61 = v25;
    if (v25)
    {
      if ((v25 & 3) == 0)
      {
        id v24 = &v25[v26];
LABEL_24:
        *(_OWORD *)(v24 + 60) = 0u;
        *((_OWORD *)v24 + 2) = 0u;
        *((_OWORD *)v24 + 3) = 0u;
        *(_OWORD *)id v24 = 0u;
        *((_OWORD *)v24 + 1) = 0u;
        uint64_t v62 = v24 + 76;
        GPUTools::FB::Fbuf::align((char **)&v61);
        *((_DWORD *)v25 + 1) = 780;
        *((_DWORD *)v25 + 8) = 0;
        __uint64_t v60 = 0LL;
        uint64_t v29 = pthread_threadid_np(0LL, &v60);
        *((void *)v25 + 1) = v60;
        *(void *)(v25 + 36) = 0x78787878787843LL;
        *(void *)(v25 + 44) = *(void *)v18;
        *((_DWORD *)v25 + 13) = a2;
        *((_DWORD *)v25 + 14) = a3;
        *((_DWORD *)v25 + 15) = a4;
        *((_DWORD *)v25 + 16) = a5;
        *((_DWORD *)v25 + 17) = a6;
        *((_DWORD *)v25 + 18) = a7;
        char v30 = byte_207164;
        if ((byte_207164 & 1) != 0) {
          breakpoint_break((uint64_t)&v61, (_DWORD *)&stru_2E8.addr + 1, 1LL, *(unsigned int *)(v18 + 3404), v18);
        }
        uint64_t v31 = (uint64_t)[(id)DYGetGLGuestAppClient(v29) overrideFlags];
        if (!(v31 & 0x10 | v30 & 4))
        {
          uint64_t v32 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, void))(*(void *)(v18 + 32) + 7824LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
          uint64_t v31 = mach_absolute_time();
          uint64_t v33 = v31 - v32;
          unint64_t v34 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unint64_t v35 = v61;
            *((void *)v61 + 2) = v32;
            v35[3] = v33;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v57 = __udivti3(g_DYTimebaseInfo * v33, (g_DYTimebaseInfo * (unsigned __int128)v33) >> 64);
            uint64_t v58 = v61;
            *((void *)v61 + 3) = v57;
            uint64_t v31 = __udivti3(v34 * v32, (v34 * (unsigned __int128)v32) >> 64);
            v58[2] = v31;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v31 = check_errors(v18);
        }

{
  void *v13;
  uint64_t v14;
  unint64_t v15;
  BOOL v16;
  void *v17;
  uint64_t v18;
  unsigned int *v19;
  unsigned int v20;
  signed int v21;
  BOOL v22;
  id v23;
  char *v24;
  char *v25;
  int64_t v26;
  unsigned int v27;
  unint64_t v28;
  uint64_t v29;
  char v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  unint64_t v34;
  void *v35;
  id v36;
  GPUTools::FB::Fbuf *v37;
  unsigned int v38;
  GPUTools::FB::Fbuf *v39;
  dispatch_queue_s *v40;
  uint64_t v41;
  GPUTools::FB::Stream *v42;
  unsigned int *v43;
  unsigned int v44;
  unsigned int v45;
  unsigned int v46;
  signed int v47;
  BOOL v48;
  unsigned int v49;
  uint64_t v50;
  id v51;
  unsigned int v52;
  dispatch_queue_s *v53;
  int v54;
  uint64_t v55;
  uint64_t v56;
  uint64_t v57;
  void *v58;
  __uint64_t v60;
  void *v61;
  char *v62;
  unsigned int v63;
  unsigned int v13 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v13) {
    goto LABEL_12;
  }
  uint64_t v14 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v15 = v13[4];
    BOOL v16 = v15 >= (unint64_t)a1;
    else {
      BOOL v17 = v13 + 1;
    }
    if (v16) {
      uint64_t v14 = (uint64_t)v13;
    }
    unsigned int v13 = (void *)*v17;
  }

  while (*v17);
  if (v14 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v14 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v14 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v18 = *(void *)(v14 + 40);
  uint64_t v19 = (unsigned int *)(v18 + 4640);
  do
  {
    unsigned int v20 = __ldaxr(v19);
    signed int v21 = v20 + 1;
  }

  while (__stlxr(v21, v19));
  if (gCheckGLErrors) {
    BOOL v22 = v21 <= 1;
  }
  else {
    BOOL v22 = 1;
  }
  if (v22)
  {
    id v51 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v50 = handle_opengl_thread_conflict((const void **)v18);
    id v51 = [(id)DYGetGLGuestAppClient(v50) waitOnGraphicsSemaphoreAssertions];
    if ((int)v51 >= 1)
    {
      do
LABEL_57:
        unsigned int v52 = __ldaxr(v19);
      while (__stlxr(v52 - 1, v19));
      unsigned int v53 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v51) graphicsLockWaitQueue];
      dispatch_sync_f(v53, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, void))(*(void *)(v18 + 24) + 7824LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
      return;
    }
  }

  *(_BYTE *)(v18 + 4838) = 1;
  unsigned int v61 = 0LL;
  uint64_t v62 = 0LL;
  unsigned int v63 = 0;
  if ([(id)DYGetGLGuestAppClient(v51) state] != (char *)&dword_0 + 1
    || (id v23 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v23))
  {
    uint64_t v25 = (char *)v61;
    id v24 = v62;
    int64_t v26 = v62 - (_BYTE *)v61;
    unsigned int v27 = v63;
    unint64_t v28 = v63 - (v62 - (_BYTE *)v61);
    if (v28 > 0x4B) {
      goto LABEL_24;
    }
    int v54 = (331 - v28) & 0xFFFFFF00;
    v63 += v54;
    uint64_t v25 = (char *)malloc(v54 + v27);
    unsigned int v61 = v25;
    if (v25)
    {
      if ((v25 & 3) == 0)
      {
        id v24 = &v25[v26];
LABEL_24:
        *(_OWORD *)(v24 + 60) = 0u;
        *((_OWORD *)v24 + 2) = 0u;
        *((_OWORD *)v24 + 3) = 0u;
        *(_OWORD *)id v24 = 0u;
        *((_OWORD *)v24 + 1) = 0u;
        uint64_t v62 = v24 + 76;
        GPUTools::FB::Fbuf::align((char **)&v61);
        *((_DWORD *)v25 + 1) = 780;
        *((_DWORD *)v25 + 8) = 0;
        __uint64_t v60 = 0LL;
        uint64_t v29 = pthread_threadid_np(0LL, &v60);
        *((void *)v25 + 1) = v60;
        *(void *)(v25 + 36) = 0x78787878787843LL;
        *(void *)(v25 + 44) = *(void *)v18;
        *((_DWORD *)v25 + 13) = a2;
        *((_DWORD *)v25 + 14) = a3;
        *((_DWORD *)v25 + 15) = a4;
        *((_DWORD *)v25 + 16) = a5;
        *((_DWORD *)v25 + 17) = a6;
        *((_DWORD *)v25 + 18) = a7;
        char v30 = byte_207164;
        if ((byte_207164 & 1) != 0) {
          breakpoint_break((uint64_t)&v61, (_DWORD *)&stru_2E8.addr + 1, 1LL, *(unsigned int *)(v18 + 3404), v18);
        }
        uint64_t v31 = (uint64_t)[(id)DYGetGLGuestAppClient(v29) overrideFlags];
        if (!(v31 & 0x10 | v30 & 4))
        {
          uint64_t v32 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, void))(*(void *)(v18 + 32) + 7824LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
          uint64_t v31 = mach_absolute_time();
          uint64_t v33 = v31 - v32;
          unint64_t v34 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unint64_t v35 = v61;
            *((void *)v61 + 2) = v32;
            v35[3] = v33;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v57 = __udivti3(g_DYTimebaseInfo * v33, (g_DYTimebaseInfo * (unsigned __int128)v33) >> 64);
            uint64_t v58 = v61;
            *((void *)v61 + 3) = v57;
            uint64_t v31 = __udivti3(v34 * v32, (v34 * (unsigned __int128)v32) >> 64);
            v58[2] = v31;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v31 = check_errors(v18);
        }

void sub_91E3C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void get_clip_planef(__GLIContextRec *a1, uint64_t a2, float *a3)
{
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v48 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v47 = handle_opengl_thread_conflict((const void **)v11);
    id v48 = [(id)DYGetGLGuestAppClient(v47) waitOnGraphicsSemaphoreAssertions];
    if ((int)v48 >= 1)
    {
      do
LABEL_58:
        unsigned int v49 = __ldaxr(v12);
      while (__stlxr(v49 - 1, v12));
      uint64_t v50 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v48) graphicsLockWaitQueue];
      dispatch_sync_f(v50, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, float *))(*(void *)(v11 + 24) + 7832LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  uint64_t v56 = 0LL;
  uint64_t v57 = 0LL;
  unsigned int v58 = 0;
  if ([(id)DYGetGLGuestAppClient(v48) state] != (char *)&dword_0 + 1
    || (id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v20))
  {
    GPUTools::FB::Encode((uint64_t)&v56, 781LL, 256LL, (uint64_t)"Ce@4f", v16, v17, v18, v19, *(void *)v11);
    char v22 = byte_207165;
    if ((byte_207165 & 1) != 0) {
      breakpoint_break( (uint64_t)&v56,  (volatile int *)((char *)&stru_2E8.addr + 5),  1LL,  *(unsigned int *)(v11 + 3404),  v11);
    }
    if (!([(id)DYGetGLGuestAppClient(v21) overrideFlags] & 0x10 | v22 & 4))
    {
      uint64_t v27 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, float *))(*(void *)(v11 + 32) + 7832LL))(a1, a2, a3);
      uint64_t v28 = mach_absolute_time() - v27;
      unint64_t v29 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        char v30 = v56;
        *((void *)v56 + 2) = v27;
        v30[3] = v28;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      else
      {
        uint64_t v53 = __udivti3(g_DYTimebaseInfo * v28, (g_DYTimebaseInfo * (unsigned __int128)v28) >> 64);
        int v54 = v56;
        *((void *)v56 + 3) = v53;
        v54[2] = __udivti3(v29 * v27, (v29 * (unsigned __int128)v27) >> 64);
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      check_errors(v11);
    }

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  id v20;
  uint64_t v21;
  char v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  unint64_t v29;
  void *v30;
  _OWORD *v31;
  uint64_t v32;
  id v33;
  GPUTools::FB::Fbuf *v34;
  unsigned int v35;
  GPUTools::FB::Fbuf *v36;
  dispatch_queue_s *v37;
  uint64_t v38;
  GPUTools::FB::Stream *v39;
  unsigned int *v40;
  unsigned int v41;
  unsigned int v42;
  unsigned int v43;
  signed int v44;
  BOOL v45;
  unsigned int v46;
  uint64_t v47;
  id v48;
  unsigned int v49;
  dispatch_queue_s *v50;
  uint64_t v51;
  uint64_t v52;
  uint64_t v53;
  void *v54;
  __int128 v55;
  void *v56;
  void *v57;
  unsigned int v58;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v48 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v47 = handle_opengl_thread_conflict((const void **)v11);
    id v48 = [(id)DYGetGLGuestAppClient(v47) waitOnGraphicsSemaphoreAssertions];
    if ((int)v48 >= 1)
    {
      do
LABEL_58:
        unsigned int v49 = __ldaxr(v12);
      while (__stlxr(v49 - 1, v12));
      uint64_t v50 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v48) graphicsLockWaitQueue];
      dispatch_sync_f(v50, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, float *))(*(void *)(v11 + 24) + 7832LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  uint64_t v56 = 0LL;
  uint64_t v57 = 0LL;
  unsigned int v58 = 0;
  if ([(id)DYGetGLGuestAppClient(v48) state] != (char *)&dword_0 + 1
    || (id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v20))
  {
    GPUTools::FB::Encode((uint64_t)&v56, 781LL, 256LL, (uint64_t)"Ce@4f", v16, v17, v18, v19, *(void *)v11);
    char v22 = byte_207165;
    if ((byte_207165 & 1) != 0) {
      breakpoint_break( (uint64_t)&v56,  (volatile int *)((char *)&stru_2E8.addr + 5),  1LL,  *(unsigned int *)(v11 + 3404),  v11);
    }
    if (!([(id)DYGetGLGuestAppClient(v21) overrideFlags] & 0x10 | v22 & 4))
    {
      uint64_t v27 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, float *))(*(void *)(v11 + 32) + 7832LL))(a1, a2, a3);
      uint64_t v28 = mach_absolute_time() - v27;
      unint64_t v29 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        char v30 = v56;
        *((void *)v56 + 2) = v27;
        v30[3] = v28;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      else
      {
        uint64_t v53 = __udivti3(g_DYTimebaseInfo * v28, (g_DYTimebaseInfo * (unsigned __int128)v28) >> 64);
        int v54 = v56;
        *((void *)v56 + 3) = v53;
        v54[2] = __udivti3(v29 * v27, (v29 * (unsigned __int128)v27) >> 64);
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      check_errors(v11);
    }

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  unsigned int v20;
  uint64_t v21;
  id v22;
  unsigned int v23;
  dispatch_queue_s *v24;
  uint64_t v25;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    char v22 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v21 = handle_opengl_thread_conflict((const void **)v11);
    char v22 = [(id)DYGetGLGuestAppClient(v21) waitOnGraphicsSemaphoreAssertions];
    if ((int)v22 >= 1)
    {
      do
LABEL_34:
        uint64_t v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      uint64_t v24 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v22) graphicsLockWaitQueue];
      dispatch_sync_f(v24, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, float *))(*(void *)(v11 + 24) + 7832LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v22) state] == (char *)&dword_0 + 1)
  {
    uint64_t v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        id v20 = __ldaxr(v12);
      while (__stlxr(v20 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, float *))(*(void *)(v11 + 32) + 7832LL))(a1, a2, a3);
  ++*(void *)(v11 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v25 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v25) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v25, v11);
      }
    }
  }

  do
  {
    uint64_t v17 = __ldaxr(v12);
    uint64_t v18 = v17 - 1;
  }

  while (__stlxr(v18, v12));
  if (gCheckGLErrors) {
    uint64_t v19 = v18 < 1;
  }
  else {
    uint64_t v19 = 1;
  }
  if (!v19) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  uint64_t v17;
  uint64_t v18;
  int64x2_t v19;
  unsigned int v20;
  signed int v21;
  BOOL v22;
  unsigned int v23;
  uint64_t v24;
  id v25;
  unsigned int v26;
  dispatch_queue_s *v27;
  uint64_t v28;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v24 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        uint64_t v26 = __ldaxr(v12);
      while (__stlxr(v26 - 1, v12));
      uint64_t v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, float *))(*(void *)(v11 + 24) + 7832LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    uint64_t v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        uint64_t v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v17 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, float *))(*(void *)(v11 + 32) + 7832LL))(a1, a2, a3);
  uint64_t v18 = mach_absolute_time();
  uint64_t v19 = vdupq_n_s64(1uLL);
  v19.i64[0] = v18 - v17;
  *(int64x2_t *)(v11 + 3696) = vaddq_s64(v19, *(int64x2_t *)(v11 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v28 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v11);
      }
    }
  }

  do
  {
    id v20 = __ldaxr(v12);
    uint64_t v21 = v20 - 1;
  }

  while (__stlxr(v21, v12));
  if (gCheckGLErrors) {
    char v22 = v21 < 1;
  }
  else {
    char v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

void sub_922B8( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void get_clip_planex(__GLIContextRec *a1, uint64_t a2, int *a3)
{
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v48 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v47 = handle_opengl_thread_conflict((const void **)v11);
    id v48 = [(id)DYGetGLGuestAppClient(v47) waitOnGraphicsSemaphoreAssertions];
    if ((int)v48 >= 1)
    {
      do
LABEL_58:
        unsigned int v49 = __ldaxr(v12);
      while (__stlxr(v49 - 1, v12));
      uint64_t v50 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v48) graphicsLockWaitQueue];
      dispatch_sync_f(v50, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, int *))(*(void *)(v11 + 24) + 7840LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  uint64_t v56 = 0LL;
  uint64_t v57 = 0LL;
  unsigned int v58 = 0;
  if ([(id)DYGetGLGuestAppClient(v48) state] != (char *)&dword_0 + 1
    || (id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v20))
  {
    GPUTools::FB::Encode((uint64_t)&v56, 782LL, 256LL, (uint64_t)"Ce@4x", v16, v17, v18, v19, *(void *)v11);
    char v22 = byte_207166;
    if ((byte_207166 & 1) != 0) {
      breakpoint_break( (uint64_t)&v56,  (volatile int *)((char *)&stru_2E8.addr + 6),  1LL,  *(unsigned int *)(v11 + 3404),  v11);
    }
    if (!([(id)DYGetGLGuestAppClient(v21) overrideFlags] & 0x10 | v22 & 4))
    {
      uint64_t v27 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, int *))(*(void *)(v11 + 32) + 7840LL))(a1, a2, a3);
      uint64_t v28 = mach_absolute_time() - v27;
      unint64_t v29 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        char v30 = v56;
        *((void *)v56 + 2) = v27;
        v30[3] = v28;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      else
      {
        uint64_t v53 = __udivti3(g_DYTimebaseInfo * v28, (g_DYTimebaseInfo * (unsigned __int128)v28) >> 64);
        int v54 = v56;
        *((void *)v56 + 3) = v53;
        v54[2] = __udivti3(v29 * v27, (v29 * (unsigned __int128)v27) >> 64);
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      check_errors(v11);
    }

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  id v20;
  uint64_t v21;
  char v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  unint64_t v29;
  void *v30;
  _OWORD *v31;
  uint64_t v32;
  id v33;
  GPUTools::FB::Fbuf *v34;
  unsigned int v35;
  GPUTools::FB::Fbuf *v36;
  dispatch_queue_s *v37;
  uint64_t v38;
  GPUTools::FB::Stream *v39;
  unsigned int *v40;
  unsigned int v41;
  unsigned int v42;
  unsigned int v43;
  signed int v44;
  BOOL v45;
  unsigned int v46;
  uint64_t v47;
  id v48;
  unsigned int v49;
  dispatch_queue_s *v50;
  uint64_t v51;
  uint64_t v52;
  uint64_t v53;
  void *v54;
  __int128 v55;
  void *v56;
  void *v57;
  unsigned int v58;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v48 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v47 = handle_opengl_thread_conflict((const void **)v11);
    id v48 = [(id)DYGetGLGuestAppClient(v47) waitOnGraphicsSemaphoreAssertions];
    if ((int)v48 >= 1)
    {
      do
LABEL_58:
        unsigned int v49 = __ldaxr(v12);
      while (__stlxr(v49 - 1, v12));
      uint64_t v50 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v48) graphicsLockWaitQueue];
      dispatch_sync_f(v50, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, int *))(*(void *)(v11 + 24) + 7840LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  uint64_t v56 = 0LL;
  uint64_t v57 = 0LL;
  unsigned int v58 = 0;
  if ([(id)DYGetGLGuestAppClient(v48) state] != (char *)&dword_0 + 1
    || (id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v20))
  {
    GPUTools::FB::Encode((uint64_t)&v56, 782LL, 256LL, (uint64_t)"Ce@4x", v16, v17, v18, v19, *(void *)v11);
    char v22 = byte_207166;
    if ((byte_207166 & 1) != 0) {
      breakpoint_break( (uint64_t)&v56,  (volatile int *)((char *)&stru_2E8.addr + 6),  1LL,  *(unsigned int *)(v11 + 3404),  v11);
    }
    if (!([(id)DYGetGLGuestAppClient(v21) overrideFlags] & 0x10 | v22 & 4))
    {
      uint64_t v27 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, int *))(*(void *)(v11 + 32) + 7840LL))(a1, a2, a3);
      uint64_t v28 = mach_absolute_time() - v27;
      unint64_t v29 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        char v30 = v56;
        *((void *)v56 + 2) = v27;
        v30[3] = v28;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      else
      {
        uint64_t v53 = __udivti3(g_DYTimebaseInfo * v28, (g_DYTimebaseInfo * (unsigned __int128)v28) >> 64);
        int v54 = v56;
        *((void *)v56 + 3) = v53;
        v54[2] = __udivti3(v29 * v27, (v29 * (unsigned __int128)v27) >> 64);
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      check_errors(v11);
    }

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  unsigned int v20;
  uint64_t v21;
  id v22;
  unsigned int v23;
  dispatch_queue_s *v24;
  uint64_t v25;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    char v22 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v21 = handle_opengl_thread_conflict((const void **)v11);
    char v22 = [(id)DYGetGLGuestAppClient(v21) waitOnGraphicsSemaphoreAssertions];
    if ((int)v22 >= 1)
    {
      do
LABEL_34:
        uint64_t v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      uint64_t v24 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v22) graphicsLockWaitQueue];
      dispatch_sync_f(v24, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, int *))(*(void *)(v11 + 24) + 7840LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v22) state] == (char *)&dword_0 + 1)
  {
    uint64_t v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        id v20 = __ldaxr(v12);
      while (__stlxr(v20 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, int *))(*(void *)(v11 + 32) + 7840LL))(a1, a2, a3);
  ++*(void *)(v11 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v25 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v25) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v25, v11);
      }
    }
  }

  do
  {
    uint64_t v17 = __ldaxr(v12);
    uint64_t v18 = v17 - 1;
  }

  while (__stlxr(v18, v12));
  if (gCheckGLErrors) {
    uint64_t v19 = v18 < 1;
  }
  else {
    uint64_t v19 = 1;
  }
  if (!v19) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  uint64_t v17;
  uint64_t v18;
  int64x2_t v19;
  unsigned int v20;
  signed int v21;
  BOOL v22;
  unsigned int v23;
  uint64_t v24;
  id v25;
  unsigned int v26;
  dispatch_queue_s *v27;
  uint64_t v28;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v24 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        uint64_t v26 = __ldaxr(v12);
      while (__stlxr(v26 - 1, v12));
      uint64_t v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, int *))(*(void *)(v11 + 24) + 7840LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    uint64_t v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        uint64_t v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v17 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, int *))(*(void *)(v11 + 32) + 7840LL))(a1, a2, a3);
  uint64_t v18 = mach_absolute_time();
  uint64_t v19 = vdupq_n_s64(1uLL);
  v19.i64[0] = v18 - v17;
  *(int64x2_t *)(v11 + 3696) = vaddq_s64(v19, *(int64x2_t *)(v11 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v28 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v11);
      }
    }
  }

  do
  {
    id v20 = __ldaxr(v12);
    uint64_t v21 = v20 - 1;
  }

  while (__stlxr(v21, v12));
  if (gCheckGLErrors) {
    char v22 = v21 < 1;
  }
  else {
    char v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

void sub_92730( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void get_fixedv(__GLIContextRec *a1, uint64_t a2, int *a3)
{
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v44 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v43 = handle_opengl_thread_conflict((const void **)v11);
    id v44 = [(id)DYGetGLGuestAppClient(v43) waitOnGraphicsSemaphoreAssertions];
    if ((int)v44 >= 1)
    {
      do
LABEL_57:
        unsigned int v45 = __ldaxr(v12);
      while (__stlxr(v45 - 1, v12));
      unsigned int v46 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v44) graphicsLockWaitQueue];
      dispatch_sync_f(v46, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, int *))(*(void *)(v11 + 24) + 7848LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  uint64_t v53 = 0LL;
  int v54 = 0LL;
  unsigned int v55 = 0;
  if ([(id)DYGetGLGuestAppClient(v44) state] != (char *)&dword_0 + 1
    || (id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v16))
  {
    uint64_t v18 = (char *)v53;
    uint64_t v17 = v54;
    int64_t v19 = v54 - (_BYTE *)v53;
    unsigned int v20 = v55;
    unint64_t v21 = v55 - (v54 - (_BYTE *)v53);
    if (v21 > 0x3B) {
      goto LABEL_24;
    }
    int v47 = (315 - v21) & 0xFFFFFF00;
    v55 += v47;
    uint64_t v18 = (char *)malloc(v47 + v20);
    uint64_t v53 = v18;
    if (v18)
    {
      if ((v18 & 3) == 0)
      {
        uint64_t v17 = &v18[v19];
LABEL_24:
        *(_OWORD *)(v17 + 44) = 0u;
        *((_OWORD *)v17 + 1) = 0u;
        *((_OWORD *)v17 + 2) = 0u;
        *(_OWORD *)uint64_t v17 = 0u;
        int v54 = v17 + 60;
        GPUTools::FB::Fbuf::align((char **)&v53);
        *((_DWORD *)v18 + 1) = 783;
        *((_DWORD *)v18 + 8) = 256;
        __uint64_t v52 = 0LL;
        uint64_t v22 = pthread_threadid_np(0LL, &v52);
        *((void *)v18 + 1) = v52;
        *((_DWORD *)v18 + 9) = 7365955;
        *((void *)v18 + 5) = *(void *)v11;
        *((_DWORD *)v18 + 12) = a2;
        *(void *)(v18 + 52) = a3;
        char v23 = byte_207167;
        if ((byte_207167 & 1) != 0) {
          breakpoint_break( (uint64_t)&v53,  (volatile int *)((char *)&stru_2E8.addr + 7),  1LL,  *(unsigned int *)(v11 + 3404),  v11);
        }
        uint64_t v24 = (uint64_t)[(id)DYGetGLGuestAppClient(v22) overrideFlags];
        if (!(v24 & 0x10 | v23 & 4))
        {
          uint64_t v25 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, int *))(*(void *)(v11 + 32) + 7848LL))(a1, a2, a3);
          uint64_t v24 = mach_absolute_time();
          uint64_t v26 = v24 - v25;
          unint64_t v27 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v28 = v53;
            *((void *)v53 + 2) = v25;
            v28[3] = v26;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v50 = __udivti3(g_DYTimebaseInfo * v26, (g_DYTimebaseInfo * (unsigned __int128)v26) >> 64);
            uint64_t v51 = v53;
            *((void *)v53 + 3) = v50;
            uint64_t v24 = __udivti3(v27 * v25, (v27 * (unsigned __int128)v25) >> 64);
            v51[2] = v24;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v24 = check_errors(v11);
        }

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  char *v17;
  char *v18;
  int64_t v19;
  unsigned int v20;
  unint64_t v21;
  uint64_t v22;
  char v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  unint64_t v27;
  void *v28;
  id v29;
  GPUTools::FB::Fbuf *v30;
  unsigned int v31;
  GPUTools::FB::Fbuf *v32;
  dispatch_queue_s *v33;
  uint64_t v34;
  GPUTools::FB::Stream *v35;
  unsigned int *v36;
  unsigned int v37;
  unsigned int v38;
  unsigned int v39;
  signed int v40;
  BOOL v41;
  unsigned int v42;
  uint64_t v43;
  id v44;
  unsigned int v45;
  dispatch_queue_s *v46;
  int v47;
  uint64_t v48;
  uint64_t v49;
  uint64_t v50;
  void *v51;
  __uint64_t v52;
  void *v53;
  char *v54;
  unsigned int v55;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v44 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v43 = handle_opengl_thread_conflict((const void **)v11);
    id v44 = [(id)DYGetGLGuestAppClient(v43) waitOnGraphicsSemaphoreAssertions];
    if ((int)v44 >= 1)
    {
      do
LABEL_57:
        unsigned int v45 = __ldaxr(v12);
      while (__stlxr(v45 - 1, v12));
      unsigned int v46 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v44) graphicsLockWaitQueue];
      dispatch_sync_f(v46, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, int *))(*(void *)(v11 + 24) + 7848LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  uint64_t v53 = 0LL;
  int v54 = 0LL;
  unsigned int v55 = 0;
  if ([(id)DYGetGLGuestAppClient(v44) state] != (char *)&dword_0 + 1
    || (id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v16))
  {
    uint64_t v18 = (char *)v53;
    uint64_t v17 = v54;
    int64_t v19 = v54 - (_BYTE *)v53;
    unsigned int v20 = v55;
    unint64_t v21 = v55 - (v54 - (_BYTE *)v53);
    if (v21 > 0x3B) {
      goto LABEL_24;
    }
    int v47 = (315 - v21) & 0xFFFFFF00;
    v55 += v47;
    uint64_t v18 = (char *)malloc(v47 + v20);
    uint64_t v53 = v18;
    if (v18)
    {
      if ((v18 & 3) == 0)
      {
        uint64_t v17 = &v18[v19];
LABEL_24:
        *(_OWORD *)(v17 + 44) = 0u;
        *((_OWORD *)v17 + 1) = 0u;
        *((_OWORD *)v17 + 2) = 0u;
        *(_OWORD *)uint64_t v17 = 0u;
        int v54 = v17 + 60;
        GPUTools::FB::Fbuf::align((char **)&v53);
        *((_DWORD *)v18 + 1) = 783;
        *((_DWORD *)v18 + 8) = 256;
        __uint64_t v52 = 0LL;
        uint64_t v22 = pthread_threadid_np(0LL, &v52);
        *((void *)v18 + 1) = v52;
        *((_DWORD *)v18 + 9) = 7365955;
        *((void *)v18 + 5) = *(void *)v11;
        *((_DWORD *)v18 + 12) = a2;
        *(void *)(v18 + 52) = a3;
        char v23 = byte_207167;
        if ((byte_207167 & 1) != 0) {
          breakpoint_break( (uint64_t)&v53,  (volatile int *)((char *)&stru_2E8.addr + 7),  1LL,  *(unsigned int *)(v11 + 3404),  v11);
        }
        uint64_t v24 = (uint64_t)[(id)DYGetGLGuestAppClient(v22) overrideFlags];
        if (!(v24 & 0x10 | v23 & 4))
        {
          uint64_t v25 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, int *))(*(void *)(v11 + 32) + 7848LL))(a1, a2, a3);
          uint64_t v24 = mach_absolute_time();
          uint64_t v26 = v24 - v25;
          unint64_t v27 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v28 = v53;
            *((void *)v53 + 2) = v25;
            v28[3] = v26;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v50 = __udivti3(g_DYTimebaseInfo * v26, (g_DYTimebaseInfo * (unsigned __int128)v26) >> 64);
            uint64_t v51 = v53;
            *((void *)v53 + 3) = v50;
            uint64_t v24 = __udivti3(v27 * v25, (v27 * (unsigned __int128)v25) >> 64);
            v51[2] = v24;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v24 = check_errors(v11);
        }

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  unsigned int v20;
  uint64_t v21;
  id v22;
  unsigned int v23;
  dispatch_queue_s *v24;
  uint64_t v25;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v22 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v21 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v22 = [(id)DYGetGLGuestAppClient(v21) waitOnGraphicsSemaphoreAssertions];
    if ((int)v22 >= 1)
    {
      do
LABEL_34:
        char v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      uint64_t v24 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v22) graphicsLockWaitQueue];
      dispatch_sync_f(v24, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, int *))(*(void *)(v11 + 24) + 7848LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v22) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v20 = __ldaxr(v12);
      while (__stlxr(v20 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, int *))(*(void *)(v11 + 32) + 7848LL))(a1, a2, a3);
  ++*(void *)(v11 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v25 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v25) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v25, v11);
      }
    }
  }

  do
  {
    uint64_t v17 = __ldaxr(v12);
    uint64_t v18 = v17 - 1;
  }

  while (__stlxr(v18, v12));
  if (gCheckGLErrors) {
    int64_t v19 = v18 < 1;
  }
  else {
    int64_t v19 = 1;
  }
  if (!v19) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  uint64_t v17;
  uint64_t v18;
  int64x2_t v19;
  unsigned int v20;
  signed int v21;
  BOOL v22;
  unsigned int v23;
  uint64_t v24;
  id v25;
  unsigned int v26;
  dispatch_queue_s *v27;
  uint64_t v28;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v24 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        uint64_t v26 = __ldaxr(v12);
      while (__stlxr(v26 - 1, v12));
      unint64_t v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, int *))(*(void *)(v11 + 24) + 7848LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        char v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v17 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, int *))(*(void *)(v11 + 32) + 7848LL))(a1, a2, a3);
  uint64_t v18 = mach_absolute_time();
  int64_t v19 = vdupq_n_s64(1uLL);
  v19.i64[0] = v18 - v17;
  *(int64x2_t *)(v11 + 3696) = vaddq_s64(v19, *(int64x2_t *)(v11 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v28 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v11);
      }
    }
  }

  do
  {
    unsigned int v20 = __ldaxr(v12);
    unint64_t v21 = v20 - 1;
  }

  while (__stlxr(v21, v12));
  if (gCheckGLErrors) {
    uint64_t v22 = v21 < 1;
  }
  else {
    uint64_t v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

void sub_92C10( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void get_lightxv(__GLIContextRec *a1, uint64_t a2, GPUTools::GL *a3, int *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v55 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v54 = handle_opengl_thread_conflict((const void **)v13);
    id v55 = [(id)DYGetGLGuestAppClient(v54) waitOnGraphicsSemaphoreAssertions];
    if ((int)v55 >= 1)
    {
      do
LABEL_60:
        unsigned int v56 = __ldaxr(v14);
      while (__stlxr(v56 - 1, v14));
      uint64_t v57 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v55) graphicsLockWaitQueue];
      dispatch_sync_f(v57, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, int *))(*(void *)(v13 + 24) + 7856LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  unsigned int v63 = 0LL;
  uint64_t v64 = 0LL;
  unsigned int v65 = 0;
  if ([(id)DYGetGLGuestAppClient(v55) state] != (char *)&dword_0 + 1
    || (id v19 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v19))
  {
    int v20 = GPUTools::GL::dy_light_array_size(a3, v18);
    uint64_t v21 = v13 + 4709;
    snprintf((char *)(v13 + 4709), 0x40uLL, "Cee@%dx", v20);
    GPUTools::FB::Encode((uint64_t)&v63, 784LL, 256LL, v13 + 4709, v22, v23, v24, v25, *(void *)v13);
    char v27 = byte_207168;
    if ((byte_207168 & 1) != 0) {
      breakpoint_break((uint64_t)&v63, (volatile int *)&stru_2E8.size, 1LL, *(unsigned int *)(v13 + 3404), v13);
    }
    if (!([(id)DYGetGLGuestAppClient(v26) overrideFlags] & 0x10 | v27 & 4))
    {
      uint64_t v32 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, int *))(*(void *)(v13 + 32) + 7856LL))( a1,  a2,  a3,  a4);
      uint64_t v61 = v13;
      uint64_t v33 = v13 + 4709;
      char v34 = v27;
      uint64_t v35 = mach_absolute_time() - v32;
      unint64_t v36 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        unsigned int v37 = v63;
        *((void *)v63 + 3) = v35;
      }

      else
      {
        uint64_t v60 = __udivti3(g_DYTimebaseInfo * v35, (g_DYTimebaseInfo * (unsigned __int128)v35) >> 64);
        unsigned int v37 = v63;
        *((void *)v63 + 3) = v60;
        uint64_t v32 = __udivti3(v36 * v32, (v36 * (unsigned __int128)v32) >> 64);
      }

      v37[2] = v32;
      char v27 = v34;
      uint64_t v21 = v33;
      uint64_t v13 = v61;
      if (gCheckGLErrors) {
        check_errors(v61);
      }
    }

    unsigned int v38 = v63;
    __int128 v62 = *((_OWORD *)v63 + 1);
    uint64_t v64 = v63;
    if (v65 >= 0x24)
    {
      *((_DWORD *)v63 + 8) = 0;
      _OWORD *v38 = 0u;
      v38[1] = 0u;
    }

    GPUTools::FB::Encode((uint64_t)&v63, 784LL, 256LL, v21, v28, v29, v30, v31, *(void *)v13);
    *((_OWORD *)v63 + 1) = v62;
    id v40 = objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v39), "activeCaptureDescriptor"),  "includeBacktraceInFbufs");
    if ((_DWORD)v40) {
      id v40 = (id)GPUTools::FB::EncodeCurrentBacktrace((GPUTools::FB *)&v63, v41);
    }
    uint64_t v43 = (GPUTools::FB::Fbuf *)*(unsigned int *)(v13 + 3404);
    if ((_DWORD)v43) {
      id v40 = (id)GPUTools::FB::EncodeGLError((GPUTools::FB *)&v63, v43, v42);
    }
    if (objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v40), "activeCaptureDescriptor"),  "queryDriverEventsOnGraphicsCommands")) {
      encode_driver_events((id *)v13, (uint64_t)&v63);
    }
    id v44 = GPUTools::FB::EncodeThreadQueueInfo( (void *)(v13 + 3480),  (GPUTools::FB::Fbuf *)(v13 + 3520),  (GPUTools::FB *)&v63);
    uint64_t v45 = *(unsigned int *)(v13 + 3404);
    if ((_DWORD)v45 && gBreakOnError)
    {
      uint64_t v58 = 3LL;
      uint64_t v59 = 0xFFFFFFFFLL;
    }

    else
    {
      if ((v27 & 2) == 0) {
        goto LABEL_41;
      }
      uint64_t v58 = 2LL;
      uint64_t v59 = 784LL;
    }

    breakpoint_break((uint64_t)&v63, (volatile int *)v59, v58, v45, v13);
LABEL_41:
    unsigned int v46 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v44) defaultFbufStream];
    int v47 = (unsigned int *)((char *)v46 + 56);
    do
      unsigned int v48 = __ldaxr(v47);
    while (__stlxr(1u, v47));
    if (v48 == 1)
    {
      do
      {
        while (*v47 == 1)
          ;
        do
          unsigned int v49 = __ldaxr(v47);
        while (__stlxr(1u, v47));
      }

      while (v49 == 1);
    }

    GPUTools::FB::Stream::Write_nolock(v46, (GPUTools::FB::Fbuf *)&v63, *(unsigned int *)v63, 1);
    atomic_store(0, v47);
    do
    {
      unsigned int v50 = __ldaxr(v14);
      signed int v51 = v50 - 1;
    }

    while (__stlxr(v51, v14));
    if (gCheckGLErrors) {
      BOOL v52 = v51 < 1;
    }
    else {
      BOOL v52 = 1;
    }
    if (!v52) {
      handle_opengl_thread_conflict((const void **)v13);
    }
    goto LABEL_54;
  }

  do
    unsigned int v53 = __ldaxr(v14);
  while (__stlxr(v53 - 1, v14));
  [(id)DYGetGLGuestAppClient(v19) triggerArmedCapture];
  (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, int *))(*(void *)(v13 + 24) + 7856LL))( a1,  a2,  a3,  a4);
LABEL_54:
  if (v63) {
    free(v63);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  unsigned int v18;
  id v19;
  int v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  char v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  char v34;
  uint64_t v35;
  unint64_t v36;
  void *v37;
  _OWORD *v38;
  uint64_t v39;
  id v40;
  GPUTools::FB::Fbuf *v41;
  unsigned int v42;
  GPUTools::FB::Fbuf *v43;
  dispatch_queue_s *v44;
  uint64_t v45;
  GPUTools::FB::Stream *v46;
  unsigned int *v47;
  unsigned int v48;
  unsigned int v49;
  unsigned int v50;
  signed int v51;
  BOOL v52;
  unsigned int v53;
  uint64_t v54;
  id v55;
  unsigned int v56;
  dispatch_queue_s *v57;
  uint64_t v58;
  uint64_t v59;
  uint64_t v60;
  uint64_t v61;
  __int128 v62;
  void *v63;
  void *v64;
  unsigned int v65;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v55 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v54 = handle_opengl_thread_conflict((const void **)v13);
    id v55 = [(id)DYGetGLGuestAppClient(v54) waitOnGraphicsSemaphoreAssertions];
    if ((int)v55 >= 1)
    {
      do
LABEL_60:
        unsigned int v56 = __ldaxr(v14);
      while (__stlxr(v56 - 1, v14));
      uint64_t v57 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v55) graphicsLockWaitQueue];
      dispatch_sync_f(v57, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, int *))(*(void *)(v13 + 24) + 7856LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  unsigned int v63 = 0LL;
  uint64_t v64 = 0LL;
  unsigned int v65 = 0;
  if ([(id)DYGetGLGuestAppClient(v55) state] != (char *)&dword_0 + 1
    || (id v19 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v19))
  {
    int v20 = GPUTools::GL::dy_light_array_size(a3, v18);
    uint64_t v21 = v13 + 4709;
    snprintf((char *)(v13 + 4709), 0x40uLL, "Cee@%dx", v20);
    GPUTools::FB::Encode((uint64_t)&v63, 784LL, 256LL, v13 + 4709, v22, v23, v24, v25, *(void *)v13);
    char v27 = byte_207168;
    if ((byte_207168 & 1) != 0) {
      breakpoint_break((uint64_t)&v63, (volatile int *)&stru_2E8.size, 1LL, *(unsigned int *)(v13 + 3404), v13);
    }
    if (!([(id)DYGetGLGuestAppClient(v26) overrideFlags] & 0x10 | v27 & 4))
    {
      uint64_t v32 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, int *))(*(void *)(v13 + 32) + 7856LL))( a1,  a2,  a3,  a4);
      uint64_t v61 = v13;
      uint64_t v33 = v13 + 4709;
      char v34 = v27;
      uint64_t v35 = mach_absolute_time() - v32;
      unint64_t v36 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        unsigned int v37 = v63;
        *((void *)v63 + 3) = v35;
      }

      else
      {
        uint64_t v60 = __udivti3(g_DYTimebaseInfo * v35, (g_DYTimebaseInfo * (unsigned __int128)v35) >> 64);
        unsigned int v37 = v63;
        *((void *)v63 + 3) = v60;
        uint64_t v32 = __udivti3(v36 * v32, (v36 * (unsigned __int128)v32) >> 64);
      }

      v37[2] = v32;
      char v27 = v34;
      uint64_t v21 = v33;
      uint64_t v13 = v61;
      if (gCheckGLErrors) {
        check_errors(v61);
      }
    }

    unsigned int v38 = v63;
    __int128 v62 = *((_OWORD *)v63 + 1);
    uint64_t v64 = v63;
    if (v65 >= 0x24)
    {
      *((_DWORD *)v63 + 8) = 0;
      _OWORD *v38 = 0u;
      v38[1] = 0u;
    }

    GPUTools::FB::Encode((uint64_t)&v63, 784LL, 256LL, v21, v28, v29, v30, v31, *(void *)v13);
    *((_OWORD *)v63 + 1) = v62;
    id v40 = objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v39), "activeCaptureDescriptor"),  "includeBacktraceInFbufs");
    if ((_DWORD)v40) {
      id v40 = (id)GPUTools::FB::EncodeCurrentBacktrace((GPUTools::FB *)&v63, v41);
    }
    uint64_t v43 = (GPUTools::FB::Fbuf *)*(unsigned int *)(v13 + 3404);
    if ((_DWORD)v43) {
      id v40 = (id)GPUTools::FB::EncodeGLError((GPUTools::FB *)&v63, v43, v42);
    }
    if (objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v40), "activeCaptureDescriptor"),  "queryDriverEventsOnGraphicsCommands")) {
      encode_driver_events((id *)v13, (uint64_t)&v63);
    }
    id v44 = GPUTools::FB::EncodeThreadQueueInfo( (void *)(v13 + 3480),  (GPUTools::FB::Fbuf *)(v13 + 3520),  (GPUTools::FB *)&v63);
    uint64_t v45 = *(unsigned int *)(v13 + 3404);
    if ((_DWORD)v45 && gBreakOnError)
    {
      uint64_t v58 = 3LL;
      uint64_t v59 = 0xFFFFFFFFLL;
    }

    else
    {
      if ((v27 & 2) == 0) {
        goto LABEL_41;
      }
      uint64_t v58 = 2LL;
      uint64_t v59 = 784LL;
    }

    breakpoint_break((uint64_t)&v63, (volatile int *)v59, v58, v45, v13);
LABEL_41:
    unsigned int v46 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v44) defaultFbufStream];
    int v47 = (unsigned int *)((char *)v46 + 56);
    do
      unsigned int v48 = __ldaxr(v47);
    while (__stlxr(1u, v47));
    if (v48 == 1)
    {
      do
      {
        while (*v47 == 1)
          ;
        do
          unsigned int v49 = __ldaxr(v47);
        while (__stlxr(1u, v47));
      }

      while (v49 == 1);
    }

    GPUTools::FB::Stream::Write_nolock(v46, (GPUTools::FB::Fbuf *)&v63, *(unsigned int *)v63, 1);
    atomic_store(0, v47);
    do
    {
      unsigned int v50 = __ldaxr(v14);
      signed int v51 = v50 - 1;
    }

    while (__stlxr(v51, v14));
    if (gCheckGLErrors) {
      BOOL v52 = v51 < 1;
    }
    else {
      BOOL v52 = 1;
    }
    if (!v52) {
      handle_opengl_thread_conflict((const void **)v13);
    }
    goto LABEL_54;
  }

  do
    unsigned int v53 = __ldaxr(v14);
  while (__stlxr(v53 - 1, v14));
  [(id)DYGetGLGuestAppClient(v19) triggerArmedCapture];
  (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, int *))(*(void *)(v13 + 24) + 7856LL))( a1,  a2,  a3,  a4);
LABEL_54:
  if (v63) {
    free(v63);
  }
}

void sub_930E0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void get_materialxv(__GLIContextRec *a1, uint64_t a2, GPUTools::GL *a3, int *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v55 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v54 = handle_opengl_thread_conflict((const void **)v13);
    id v55 = [(id)DYGetGLGuestAppClient(v54) waitOnGraphicsSemaphoreAssertions];
    if ((int)v55 >= 1)
    {
      do
LABEL_60:
        unsigned int v56 = __ldaxr(v14);
      while (__stlxr(v56 - 1, v14));
      uint64_t v57 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v55) graphicsLockWaitQueue];
      dispatch_sync_f(v57, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, int *))(*(void *)(v13 + 24) + 7864LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  unsigned int v63 = 0LL;
  uint64_t v64 = 0LL;
  unsigned int v65 = 0;
  if ([(id)DYGetGLGuestAppClient(v55) state] != (char *)&dword_0 + 1
    || (id v19 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v19))
  {
    int v20 = GPUTools::GL::DYMaterialParameterComponentCount(a3, v18);
    uint64_t v21 = v13 + 4709;
    snprintf((char *)(v13 + 4709), 0x40uLL, "Cee@%dx", v20);
    GPUTools::FB::Encode((uint64_t)&v63, 785LL, 256LL, v13 + 4709, v22, v23, v24, v25, *(void *)v13);
    char v27 = byte_207169;
    if ((byte_207169 & 1) != 0) {
      breakpoint_break( (uint64_t)&v63,  (volatile int *)((char *)&stru_2E8.size + 1),  1LL,  *(unsigned int *)(v13 + 3404),  v13);
    }
    if (!([(id)DYGetGLGuestAppClient(v26) overrideFlags] & 0x10 | v27 & 4))
    {
      uint64_t v32 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, int *))(*(void *)(v13 + 32) + 7864LL))( a1,  a2,  a3,  a4);
      uint64_t v61 = v13;
      uint64_t v33 = v13 + 4709;
      char v34 = v27;
      uint64_t v35 = mach_absolute_time() - v32;
      unint64_t v36 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        unsigned int v37 = v63;
        *((void *)v63 + 3) = v35;
      }

      else
      {
        uint64_t v60 = __udivti3(g_DYTimebaseInfo * v35, (g_DYTimebaseInfo * (unsigned __int128)v35) >> 64);
        unsigned int v37 = v63;
        *((void *)v63 + 3) = v60;
        uint64_t v32 = __udivti3(v36 * v32, (v36 * (unsigned __int128)v32) >> 64);
      }

      v37[2] = v32;
      char v27 = v34;
      uint64_t v21 = v33;
      uint64_t v13 = v61;
      if (gCheckGLErrors) {
        check_errors(v61);
      }
    }

    unsigned int v38 = v63;
    __int128 v62 = *((_OWORD *)v63 + 1);
    uint64_t v64 = v63;
    if (v65 >= 0x24)
    {
      *((_DWORD *)v63 + 8) = 0;
      _OWORD *v38 = 0u;
      v38[1] = 0u;
    }

    GPUTools::FB::Encode((uint64_t)&v63, 785LL, 256LL, v21, v28, v29, v30, v31, *(void *)v13);
    *((_OWORD *)v63 + 1) = v62;
    id v40 = objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v39), "activeCaptureDescriptor"),  "includeBacktraceInFbufs");
    if ((_DWORD)v40) {
      id v40 = (id)GPUTools::FB::EncodeCurrentBacktrace((GPUTools::FB *)&v63, v41);
    }
    uint64_t v43 = (GPUTools::FB::Fbuf *)*(unsigned int *)(v13 + 3404);
    if ((_DWORD)v43) {
      id v40 = (id)GPUTools::FB::EncodeGLError((GPUTools::FB *)&v63, v43, v42);
    }
    if (objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v40), "activeCaptureDescriptor"),  "queryDriverEventsOnGraphicsCommands")) {
      encode_driver_events((id *)v13, (uint64_t)&v63);
    }
    id v44 = GPUTools::FB::EncodeThreadQueueInfo( (void *)(v13 + 3480),  (GPUTools::FB::Fbuf *)(v13 + 3520),  (GPUTools::FB *)&v63);
    uint64_t v45 = *(unsigned int *)(v13 + 3404);
    if ((_DWORD)v45 && gBreakOnError)
    {
      uint64_t v58 = 3LL;
      uint64_t v59 = 0xFFFFFFFFLL;
    }

    else
    {
      if ((v27 & 2) == 0) {
        goto LABEL_41;
      }
      uint64_t v58 = 2LL;
      uint64_t v59 = 785LL;
    }

    breakpoint_break((uint64_t)&v63, (volatile int *)v59, v58, v45, v13);
LABEL_41:
    unsigned int v46 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v44) defaultFbufStream];
    int v47 = (unsigned int *)((char *)v46 + 56);
    do
      unsigned int v48 = __ldaxr(v47);
    while (__stlxr(1u, v47));
    if (v48 == 1)
    {
      do
      {
        while (*v47 == 1)
          ;
        do
          unsigned int v49 = __ldaxr(v47);
        while (__stlxr(1u, v47));
      }

      while (v49 == 1);
    }

    GPUTools::FB::Stream::Write_nolock(v46, (GPUTools::FB::Fbuf *)&v63, *(unsigned int *)v63, 1);
    atomic_store(0, v47);
    do
    {
      unsigned int v50 = __ldaxr(v14);
      signed int v51 = v50 - 1;
    }

    while (__stlxr(v51, v14));
    if (gCheckGLErrors) {
      BOOL v52 = v51 < 1;
    }
    else {
      BOOL v52 = 1;
    }
    if (!v52) {
      handle_opengl_thread_conflict((const void **)v13);
    }
    goto LABEL_54;
  }

  do
    unsigned int v53 = __ldaxr(v14);
  while (__stlxr(v53 - 1, v14));
  [(id)DYGetGLGuestAppClient(v19) triggerArmedCapture];
  (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, int *))(*(void *)(v13 + 24) + 7864LL))( a1,  a2,  a3,  a4);
LABEL_54:
  if (v63) {
    free(v63);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  unsigned int v18;
  id v19;
  int v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  char v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  char v34;
  uint64_t v35;
  unint64_t v36;
  void *v37;
  _OWORD *v38;
  uint64_t v39;
  id v40;
  GPUTools::FB::Fbuf *v41;
  unsigned int v42;
  GPUTools::FB::Fbuf *v43;
  dispatch_queue_s *v44;
  uint64_t v45;
  GPUTools::FB::Stream *v46;
  unsigned int *v47;
  unsigned int v48;
  unsigned int v49;
  unsigned int v50;
  signed int v51;
  BOOL v52;
  unsigned int v53;
  uint64_t v54;
  id v55;
  unsigned int v56;
  dispatch_queue_s *v57;
  uint64_t v58;
  uint64_t v59;
  uint64_t v60;
  uint64_t v61;
  __int128 v62;
  void *v63;
  void *v64;
  unsigned int v65;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v55 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v54 = handle_opengl_thread_conflict((const void **)v13);
    id v55 = [(id)DYGetGLGuestAppClient(v54) waitOnGraphicsSemaphoreAssertions];
    if ((int)v55 >= 1)
    {
      do
LABEL_60:
        unsigned int v56 = __ldaxr(v14);
      while (__stlxr(v56 - 1, v14));
      uint64_t v57 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v55) graphicsLockWaitQueue];
      dispatch_sync_f(v57, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, int *))(*(void *)(v13 + 24) + 7864LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  unsigned int v63 = 0LL;
  uint64_t v64 = 0LL;
  unsigned int v65 = 0;
  if ([(id)DYGetGLGuestAppClient(v55) state] != (char *)&dword_0 + 1
    || (id v19 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v19))
  {
    int v20 = GPUTools::GL::DYMaterialParameterComponentCount(a3, v18);
    uint64_t v21 = v13 + 4709;
    snprintf((char *)(v13 + 4709), 0x40uLL, "Cee@%dx", v20);
    GPUTools::FB::Encode((uint64_t)&v63, 785LL, 256LL, v13 + 4709, v22, v23, v24, v25, *(void *)v13);
    char v27 = byte_207169;
    if ((byte_207169 & 1) != 0) {
      breakpoint_break( (uint64_t)&v63,  (volatile int *)((char *)&stru_2E8.size + 1),  1LL,  *(unsigned int *)(v13 + 3404),  v13);
    }
    if (!([(id)DYGetGLGuestAppClient(v26) overrideFlags] & 0x10 | v27 & 4))
    {
      uint64_t v32 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, int *))(*(void *)(v13 + 32) + 7864LL))( a1,  a2,  a3,  a4);
      uint64_t v61 = v13;
      uint64_t v33 = v13 + 4709;
      char v34 = v27;
      uint64_t v35 = mach_absolute_time() - v32;
      unint64_t v36 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        unsigned int v37 = v63;
        *((void *)v63 + 3) = v35;
      }

      else
      {
        uint64_t v60 = __udivti3(g_DYTimebaseInfo * v35, (g_DYTimebaseInfo * (unsigned __int128)v35) >> 64);
        unsigned int v37 = v63;
        *((void *)v63 + 3) = v60;
        uint64_t v32 = __udivti3(v36 * v32, (v36 * (unsigned __int128)v32) >> 64);
      }

      v37[2] = v32;
      char v27 = v34;
      uint64_t v21 = v33;
      uint64_t v13 = v61;
      if (gCheckGLErrors) {
        check_errors(v61);
      }
    }

    unsigned int v38 = v63;
    __int128 v62 = *((_OWORD *)v63 + 1);
    uint64_t v64 = v63;
    if (v65 >= 0x24)
    {
      *((_DWORD *)v63 + 8) = 0;
      _OWORD *v38 = 0u;
      v38[1] = 0u;
    }

    GPUTools::FB::Encode((uint64_t)&v63, 785LL, 256LL, v21, v28, v29, v30, v31, *(void *)v13);
    *((_OWORD *)v63 + 1) = v62;
    id v40 = objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v39), "activeCaptureDescriptor"),  "includeBacktraceInFbufs");
    if ((_DWORD)v40) {
      id v40 = (id)GPUTools::FB::EncodeCurrentBacktrace((GPUTools::FB *)&v63, v41);
    }
    uint64_t v43 = (GPUTools::FB::Fbuf *)*(unsigned int *)(v13 + 3404);
    if ((_DWORD)v43) {
      id v40 = (id)GPUTools::FB::EncodeGLError((GPUTools::FB *)&v63, v43, v42);
    }
    if (objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v40), "activeCaptureDescriptor"),  "queryDriverEventsOnGraphicsCommands")) {
      encode_driver_events((id *)v13, (uint64_t)&v63);
    }
    id v44 = GPUTools::FB::EncodeThreadQueueInfo( (void *)(v13 + 3480),  (GPUTools::FB::Fbuf *)(v13 + 3520),  (GPUTools::FB *)&v63);
    uint64_t v45 = *(unsigned int *)(v13 + 3404);
    if ((_DWORD)v45 && gBreakOnError)
    {
      uint64_t v58 = 3LL;
      uint64_t v59 = 0xFFFFFFFFLL;
    }

    else
    {
      if ((v27 & 2) == 0) {
        goto LABEL_41;
      }
      uint64_t v58 = 2LL;
      uint64_t v59 = 785LL;
    }

    breakpoint_break((uint64_t)&v63, (volatile int *)v59, v58, v45, v13);
LABEL_41:
    unsigned int v46 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v44) defaultFbufStream];
    int v47 = (unsigned int *)((char *)v46 + 56);
    do
      unsigned int v48 = __ldaxr(v47);
    while (__stlxr(1u, v47));
    if (v48 == 1)
    {
      do
      {
        while (*v47 == 1)
          ;
        do
          unsigned int v49 = __ldaxr(v47);
        while (__stlxr(1u, v47));
      }

      while (v49 == 1);
    }

    GPUTools::FB::Stream::Write_nolock(v46, (GPUTools::FB::Fbuf *)&v63, *(unsigned int *)v63, 1);
    atomic_store(0, v47);
    do
    {
      unsigned int v50 = __ldaxr(v14);
      signed int v51 = v50 - 1;
    }

    while (__stlxr(v51, v14));
    if (gCheckGLErrors) {
      BOOL v52 = v51 < 1;
    }
    else {
      BOOL v52 = 1;
    }
    if (!v52) {
      handle_opengl_thread_conflict((const void **)v13);
    }
    goto LABEL_54;
  }

  do
    unsigned int v53 = __ldaxr(v14);
  while (__stlxr(v53 - 1, v14));
  [(id)DYGetGLGuestAppClient(v19) triggerArmedCapture];
  (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, int *))(*(void *)(v13 + 24) + 7864LL))( a1,  a2,  a3,  a4);
LABEL_54:
  if (v63) {
    free(v63);
  }
}

void sub_935AC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void get_tex_envxv(__GLIContextRec *a1, uint64_t a2, GPUTools::GL *a3, int *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v55 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v54 = handle_opengl_thread_conflict((const void **)v13);
    id v55 = [(id)DYGetGLGuestAppClient(v54) waitOnGraphicsSemaphoreAssertions];
    if ((int)v55 >= 1)
    {
      do
LABEL_62:
        unsigned int v56 = __ldaxr(v14);
      while (__stlxr(v56 - 1, v14));
      uint64_t v57 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v55) graphicsLockWaitQueue];
      dispatch_sync_f(v57, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, int *))(*(void *)(v13 + 24) + 7872LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  uint64_t v64 = 0LL;
  unsigned int v65 = 0LL;
  unsigned int v66 = 0;
  if ([(id)DYGetGLGuestAppClient(v55) state] != (char *)&dword_0 + 1
    || (id v19 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v19))
  {
    GPUTools::GL::DYGetTexEnvParameterInfo(a3, &v63[1], (unsigned int *)v63, v18);
    uint64_t v20 = v13 + 4709;
    uint64_t v21 = 101LL;
    if (!v63[0]) {
      uint64_t v21 = 120LL;
    }
    snprintf((char *)(v13 + 4709), 0x40uLL, "Cee@%u%c", *(_DWORD *)&v63[1], v21);
    GPUTools::FB::Encode((uint64_t)&v64, 787LL, 256LL, v13 + 4709, v22, v23, v24, v25, *(void *)v13);
    char v27 = byte_20716B;
    if ((byte_20716B & 1) != 0) {
      breakpoint_break( (uint64_t)&v64,  (volatile int *)((char *)&stru_2E8.size + 3),  1LL,  *(unsigned int *)(v13 + 3404),  v13);
    }
    if (!([(id)DYGetGLGuestAppClient(v26) overrideFlags] & 0x10 | v27 & 4))
    {
      uint64_t v32 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, int *))(*(void *)(v13 + 32) + 7872LL))( a1,  a2,  a3,  a4);
      uint64_t v61 = v13;
      uint64_t v33 = v13 + 4709;
      char v34 = v27;
      uint64_t v35 = mach_absolute_time() - v32;
      unint64_t v36 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        unsigned int v37 = v64;
        *((void *)v64 + 3) = v35;
      }

      else
      {
        uint64_t v60 = __udivti3(g_DYTimebaseInfo * v35, (g_DYTimebaseInfo * (unsigned __int128)v35) >> 64);
        unsigned int v37 = v64;
        *((void *)v64 + 3) = v60;
        uint64_t v32 = __udivti3(v36 * v32, (v36 * (unsigned __int128)v32) >> 64);
      }

      v37[2] = v32;
      char v27 = v34;
      uint64_t v20 = v33;
      uint64_t v13 = v61;
      if (gCheckGLErrors) {
        check_errors(v61);
      }
    }

    unsigned int v38 = v64;
    __int128 v62 = *((_OWORD *)v64 + 1);
    unsigned int v65 = v64;
    if (v66 >= 0x24)
    {
      *((_DWORD *)v64 + 8) = 0;
      _OWORD *v38 = 0u;
      v38[1] = 0u;
    }

    GPUTools::FB::Encode((uint64_t)&v64, 787LL, 256LL, v20, v28, v29, v30, v31, *(void *)v13);
    *((_OWORD *)v64 + 1) = v62;
    id v40 = objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v39), "activeCaptureDescriptor"),  "includeBacktraceInFbufs");
    if ((_DWORD)v40) {
      id v40 = (id)GPUTools::FB::EncodeCurrentBacktrace((GPUTools::FB *)&v64, v41);
    }
    uint64_t v43 = (GPUTools::FB::Fbuf *)*(unsigned int *)(v13 + 3404);
    if ((_DWORD)v43) {
      id v40 = (id)GPUTools::FB::EncodeGLError((GPUTools::FB *)&v64, v43, v42);
    }
    if (objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v40), "activeCaptureDescriptor"),  "queryDriverEventsOnGraphicsCommands")) {
      encode_driver_events((id *)v13, (uint64_t)&v64);
    }
    id v44 = GPUTools::FB::EncodeThreadQueueInfo( (void *)(v13 + 3480),  (GPUTools::FB::Fbuf *)(v13 + 3520),  (GPUTools::FB *)&v64);
    uint64_t v45 = *(unsigned int *)(v13 + 3404);
    if ((_DWORD)v45 && gBreakOnError)
    {
      uint64_t v58 = 3LL;
      uint64_t v59 = 0xFFFFFFFFLL;
    }

    else
    {
      if ((v27 & 2) == 0) {
        goto LABEL_43;
      }
      uint64_t v58 = 2LL;
      uint64_t v59 = 787LL;
    }

    breakpoint_break((uint64_t)&v64, (volatile int *)v59, v58, v45, v13);
LABEL_43:
    unsigned int v46 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v44) defaultFbufStream];
    int v47 = (unsigned int *)((char *)v46 + 56);
    do
      unsigned int v48 = __ldaxr(v47);
    while (__stlxr(1u, v47));
    if (v48 == 1)
    {
      do
      {
        while (*v47 == 1)
          ;
        do
          unsigned int v49 = __ldaxr(v47);
        while (__stlxr(1u, v47));
      }

      while (v49 == 1);
    }

    GPUTools::FB::Stream::Write_nolock(v46, (GPUTools::FB::Fbuf *)&v64, *(unsigned int *)v64, 1);
    atomic_store(0, v47);
    do
    {
      unsigned int v50 = __ldaxr(v14);
      signed int v51 = v50 - 1;
    }

    while (__stlxr(v51, v14));
    if (gCheckGLErrors) {
      BOOL v52 = v51 < 1;
    }
    else {
      BOOL v52 = 1;
    }
    if (!v52) {
      handle_opengl_thread_conflict((const void **)v13);
    }
    goto LABEL_56;
  }

  do
    unsigned int v53 = __ldaxr(v14);
  while (__stlxr(v53 - 1, v14));
  [(id)DYGetGLGuestAppClient(v19) triggerArmedCapture];
  (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, int *))(*(void *)(v13 + 24) + 7872LL))( a1,  a2,  a3,  a4);
LABEL_56:
  if (v64) {
    free(v64);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  BOOL *v18;
  id v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  char v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  char v34;
  uint64_t v35;
  unint64_t v36;
  void *v37;
  _OWORD *v38;
  uint64_t v39;
  id v40;
  GPUTools::FB::Fbuf *v41;
  unsigned int v42;
  GPUTools::FB::Fbuf *v43;
  dispatch_queue_s *v44;
  uint64_t v45;
  GPUTools::FB::Stream *v46;
  unsigned int *v47;
  unsigned int v48;
  unsigned int v49;
  unsigned int v50;
  signed int v51;
  BOOL v52;
  unsigned int v53;
  uint64_t v54;
  id v55;
  unsigned int v56;
  dispatch_queue_s *v57;
  uint64_t v58;
  uint64_t v59;
  uint64_t v60;
  uint64_t v61;
  __int128 v62;
  _BYTE v63[5];
  void *v64;
  void *v65;
  unsigned int v66;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v55 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v54 = handle_opengl_thread_conflict((const void **)v13);
    id v55 = [(id)DYGetGLGuestAppClient(v54) waitOnGraphicsSemaphoreAssertions];
    if ((int)v55 >= 1)
    {
      do
LABEL_62:
        unsigned int v56 = __ldaxr(v14);
      while (__stlxr(v56 - 1, v14));
      uint64_t v57 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v55) graphicsLockWaitQueue];
      dispatch_sync_f(v57, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, int *))(*(void *)(v13 + 24) + 7872LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  uint64_t v64 = 0LL;
  unsigned int v65 = 0LL;
  unsigned int v66 = 0;
  if ([(id)DYGetGLGuestAppClient(v55) state] != (char *)&dword_0 + 1
    || (id v19 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v19))
  {
    GPUTools::GL::DYGetTexEnvParameterInfo(a3, &v63[1], (unsigned int *)v63, v18);
    uint64_t v20 = v13 + 4709;
    uint64_t v21 = 101LL;
    if (!v63[0]) {
      uint64_t v21 = 120LL;
    }
    snprintf((char *)(v13 + 4709), 0x40uLL, "Cee@%u%c", *(_DWORD *)&v63[1], v21);
    GPUTools::FB::Encode((uint64_t)&v64, 787LL, 256LL, v13 + 4709, v22, v23, v24, v25, *(void *)v13);
    char v27 = byte_20716B;
    if ((byte_20716B & 1) != 0) {
      breakpoint_break( (uint64_t)&v64,  (volatile int *)((char *)&stru_2E8.size + 3),  1LL,  *(unsigned int *)(v13 + 3404),  v13);
    }
    if (!([(id)DYGetGLGuestAppClient(v26) overrideFlags] & 0x10 | v27 & 4))
    {
      uint64_t v32 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, int *))(*(void *)(v13 + 32) + 7872LL))( a1,  a2,  a3,  a4);
      uint64_t v61 = v13;
      uint64_t v33 = v13 + 4709;
      char v34 = v27;
      uint64_t v35 = mach_absolute_time() - v32;
      unint64_t v36 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        unsigned int v37 = v64;
        *((void *)v64 + 3) = v35;
      }

      else
      {
        uint64_t v60 = __udivti3(g_DYTimebaseInfo * v35, (g_DYTimebaseInfo * (unsigned __int128)v35) >> 64);
        unsigned int v37 = v64;
        *((void *)v64 + 3) = v60;
        uint64_t v32 = __udivti3(v36 * v32, (v36 * (unsigned __int128)v32) >> 64);
      }

      v37[2] = v32;
      char v27 = v34;
      uint64_t v20 = v33;
      uint64_t v13 = v61;
      if (gCheckGLErrors) {
        check_errors(v61);
      }
    }

    unsigned int v38 = v64;
    __int128 v62 = *((_OWORD *)v64 + 1);
    unsigned int v65 = v64;
    if (v66 >= 0x24)
    {
      *((_DWORD *)v64 + 8) = 0;
      _OWORD *v38 = 0u;
      v38[1] = 0u;
    }

    GPUTools::FB::Encode((uint64_t)&v64, 787LL, 256LL, v20, v28, v29, v30, v31, *(void *)v13);
    *((_OWORD *)v64 + 1) = v62;
    id v40 = objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v39), "activeCaptureDescriptor"),  "includeBacktraceInFbufs");
    if ((_DWORD)v40) {
      id v40 = (id)GPUTools::FB::EncodeCurrentBacktrace((GPUTools::FB *)&v64, v41);
    }
    uint64_t v43 = (GPUTools::FB::Fbuf *)*(unsigned int *)(v13 + 3404);
    if ((_DWORD)v43) {
      id v40 = (id)GPUTools::FB::EncodeGLError((GPUTools::FB *)&v64, v43, v42);
    }
    if (objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v40), "activeCaptureDescriptor"),  "queryDriverEventsOnGraphicsCommands")) {
      encode_driver_events((id *)v13, (uint64_t)&v64);
    }
    id v44 = GPUTools::FB::EncodeThreadQueueInfo( (void *)(v13 + 3480),  (GPUTools::FB::Fbuf *)(v13 + 3520),  (GPUTools::FB *)&v64);
    uint64_t v45 = *(unsigned int *)(v13 + 3404);
    if ((_DWORD)v45 && gBreakOnError)
    {
      uint64_t v58 = 3LL;
      uint64_t v59 = 0xFFFFFFFFLL;
    }

    else
    {
      if ((v27 & 2) == 0) {
        goto LABEL_43;
      }
      uint64_t v58 = 2LL;
      uint64_t v59 = 787LL;
    }

    breakpoint_break((uint64_t)&v64, (volatile int *)v59, v58, v45, v13);
LABEL_43:
    unsigned int v46 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v44) defaultFbufStream];
    int v47 = (unsigned int *)((char *)v46 + 56);
    do
      unsigned int v48 = __ldaxr(v47);
    while (__stlxr(1u, v47));
    if (v48 == 1)
    {
      do
      {
        while (*v47 == 1)
          ;
        do
          unsigned int v49 = __ldaxr(v47);
        while (__stlxr(1u, v47));
      }

      while (v49 == 1);
    }

    GPUTools::FB::Stream::Write_nolock(v46, (GPUTools::FB::Fbuf *)&v64, *(unsigned int *)v64, 1);
    atomic_store(0, v47);
    do
    {
      unsigned int v50 = __ldaxr(v14);
      signed int v51 = v50 - 1;
    }

    while (__stlxr(v51, v14));
    if (gCheckGLErrors) {
      BOOL v52 = v51 < 1;
    }
    else {
      BOOL v52 = 1;
    }
    if (!v52) {
      handle_opengl_thread_conflict((const void **)v13);
    }
    goto LABEL_56;
  }

  do
    unsigned int v53 = __ldaxr(v14);
  while (__stlxr(v53 - 1, v14));
  [(id)DYGetGLGuestAppClient(v19) triggerArmedCapture];
  (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, int *))(*(void *)(v13 + 24) + 7872LL))( a1,  a2,  a3,  a4);
LABEL_56:
  if (v64) {
    free(v64);
  }
}

void sub_93A98( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void get_tex_parameterxv(__GLIContextRec *a1, uint64_t a2, GPUTools::GL *a3, int *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v55 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v54 = handle_opengl_thread_conflict((const void **)v13);
    id v55 = [(id)DYGetGLGuestAppClient(v54) waitOnGraphicsSemaphoreAssertions];
    if ((int)v55 >= 1)
    {
      do
LABEL_62:
        unsigned int v56 = __ldaxr(v14);
      while (__stlxr(v56 - 1, v14));
      uint64_t v57 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v55) graphicsLockWaitQueue];
      dispatch_sync_f(v57, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, int *))(*(void *)(v13 + 24) + 7880LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  uint64_t v64 = 0LL;
  unsigned int v65 = 0LL;
  unsigned int v66 = 0;
  if ([(id)DYGetGLGuestAppClient(v55) state] != (char *)&dword_0 + 1
    || (id v19 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v19))
  {
    GPUTools::GL::DYGetTextureParameterInfo(a3, &v63[1], (unsigned int *)v63, v18);
    uint64_t v20 = v13 + 4709;
    uint64_t v21 = 101LL;
    if (!v63[0]) {
      uint64_t v21 = 120LL;
    }
    snprintf((char *)(v13 + 4709), 0x40uLL, "Cee@%u%c", *(_DWORD *)&v63[1], v21);
    GPUTools::FB::Encode((uint64_t)&v64, 788LL, 256LL, v13 + 4709, v22, v23, v24, v25, *(void *)v13);
    char v27 = byte_20716C;
    if ((byte_20716C & 1) != 0) {
      breakpoint_break((uint64_t)&v64, (_DWORD *)&stru_2E8.size + 1, 1LL, *(unsigned int *)(v13 + 3404), v13);
    }
    if (!([(id)DYGetGLGuestAppClient(v26) overrideFlags] & 0x10 | v27 & 4))
    {
      uint64_t v32 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, int *))(*(void *)(v13 + 32) + 7880LL))( a1,  a2,  a3,  a4);
      uint64_t v61 = v13;
      uint64_t v33 = v13 + 4709;
      char v34 = v27;
      uint64_t v35 = mach_absolute_time() - v32;
      unint64_t v36 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        unsigned int v37 = v64;
        *((void *)v64 + 3) = v35;
      }

      else
      {
        uint64_t v60 = __udivti3(g_DYTimebaseInfo * v35, (g_DYTimebaseInfo * (unsigned __int128)v35) >> 64);
        unsigned int v37 = v64;
        *((void *)v64 + 3) = v60;
        uint64_t v32 = __udivti3(v36 * v32, (v36 * (unsigned __int128)v32) >> 64);
      }

      v37[2] = v32;
      char v27 = v34;
      uint64_t v20 = v33;
      uint64_t v13 = v61;
      if (gCheckGLErrors) {
        check_errors(v61);
      }
    }

    unsigned int v38 = v64;
    __int128 v62 = *((_OWORD *)v64 + 1);
    unsigned int v65 = v64;
    if (v66 >= 0x24)
    {
      *((_DWORD *)v64 + 8) = 0;
      _OWORD *v38 = 0u;
      v38[1] = 0u;
    }

    GPUTools::FB::Encode((uint64_t)&v64, 788LL, 256LL, v20, v28, v29, v30, v31, *(void *)v13);
    *((_OWORD *)v64 + 1) = v62;
    id v40 = objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v39), "activeCaptureDescriptor"),  "includeBacktraceInFbufs");
    if ((_DWORD)v40) {
      id v40 = (id)GPUTools::FB::EncodeCurrentBacktrace((GPUTools::FB *)&v64, v41);
    }
    uint64_t v43 = (GPUTools::FB::Fbuf *)*(unsigned int *)(v13 + 3404);
    if ((_DWORD)v43) {
      id v40 = (id)GPUTools::FB::EncodeGLError((GPUTools::FB *)&v64, v43, v42);
    }
    if (objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v40), "activeCaptureDescriptor"),  "queryDriverEventsOnGraphicsCommands")) {
      encode_driver_events((id *)v13, (uint64_t)&v64);
    }
    id v44 = GPUTools::FB::EncodeThreadQueueInfo( (void *)(v13 + 3480),  (GPUTools::FB::Fbuf *)(v13 + 3520),  (GPUTools::FB *)&v64);
    uint64_t v45 = *(unsigned int *)(v13 + 3404);
    if ((_DWORD)v45 && gBreakOnError)
    {
      uint64_t v58 = 3LL;
      uint64_t v59 = 0xFFFFFFFFLL;
    }

    else
    {
      if ((v27 & 2) == 0) {
        goto LABEL_43;
      }
      uint64_t v58 = 2LL;
      uint64_t v59 = 788LL;
    }

    breakpoint_break((uint64_t)&v64, (volatile int *)v59, v58, v45, v13);
LABEL_43:
    unsigned int v46 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v44) defaultFbufStream];
    int v47 = (unsigned int *)((char *)v46 + 56);
    do
      unsigned int v48 = __ldaxr(v47);
    while (__stlxr(1u, v47));
    if (v48 == 1)
    {
      do
      {
        while (*v47 == 1)
          ;
        do
          unsigned int v49 = __ldaxr(v47);
        while (__stlxr(1u, v47));
      }

      while (v49 == 1);
    }

    GPUTools::FB::Stream::Write_nolock(v46, (GPUTools::FB::Fbuf *)&v64, *(unsigned int *)v64, 1);
    atomic_store(0, v47);
    do
    {
      unsigned int v50 = __ldaxr(v14);
      signed int v51 = v50 - 1;
    }

    while (__stlxr(v51, v14));
    if (gCheckGLErrors) {
      BOOL v52 = v51 < 1;
    }
    else {
      BOOL v52 = 1;
    }
    if (!v52) {
      handle_opengl_thread_conflict((const void **)v13);
    }
    goto LABEL_56;
  }

  do
    unsigned int v53 = __ldaxr(v14);
  while (__stlxr(v53 - 1, v14));
  [(id)DYGetGLGuestAppClient(v19) triggerArmedCapture];
  (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, int *))(*(void *)(v13 + 24) + 7880LL))( a1,  a2,  a3,  a4);
LABEL_56:
  if (v64) {
    free(v64);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  BOOL *v18;
  id v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  char v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  char v34;
  uint64_t v35;
  unint64_t v36;
  void *v37;
  _OWORD *v38;
  uint64_t v39;
  id v40;
  GPUTools::FB::Fbuf *v41;
  unsigned int v42;
  GPUTools::FB::Fbuf *v43;
  dispatch_queue_s *v44;
  uint64_t v45;
  GPUTools::FB::Stream *v46;
  unsigned int *v47;
  unsigned int v48;
  unsigned int v49;
  unsigned int v50;
  signed int v51;
  BOOL v52;
  unsigned int v53;
  uint64_t v54;
  id v55;
  unsigned int v56;
  dispatch_queue_s *v57;
  uint64_t v58;
  uint64_t v59;
  uint64_t v60;
  uint64_t v61;
  __int128 v62;
  _BYTE v63[5];
  void *v64;
  void *v65;
  unsigned int v66;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v55 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v54 = handle_opengl_thread_conflict((const void **)v13);
    id v55 = [(id)DYGetGLGuestAppClient(v54) waitOnGraphicsSemaphoreAssertions];
    if ((int)v55 >= 1)
    {
      do
LABEL_62:
        unsigned int v56 = __ldaxr(v14);
      while (__stlxr(v56 - 1, v14));
      uint64_t v57 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v55) graphicsLockWaitQueue];
      dispatch_sync_f(v57, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, int *))(*(void *)(v13 + 24) + 7880LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  uint64_t v64 = 0LL;
  unsigned int v65 = 0LL;
  unsigned int v66 = 0;
  if ([(id)DYGetGLGuestAppClient(v55) state] != (char *)&dword_0 + 1
    || (id v19 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v19))
  {
    GPUTools::GL::DYGetTextureParameterInfo(a3, &v63[1], (unsigned int *)v63, v18);
    uint64_t v20 = v13 + 4709;
    uint64_t v21 = 101LL;
    if (!v63[0]) {
      uint64_t v21 = 120LL;
    }
    snprintf((char *)(v13 + 4709), 0x40uLL, "Cee@%u%c", *(_DWORD *)&v63[1], v21);
    GPUTools::FB::Encode((uint64_t)&v64, 788LL, 256LL, v13 + 4709, v22, v23, v24, v25, *(void *)v13);
    char v27 = byte_20716C;
    if ((byte_20716C & 1) != 0) {
      breakpoint_break((uint64_t)&v64, (_DWORD *)&stru_2E8.size + 1, 1LL, *(unsigned int *)(v13 + 3404), v13);
    }
    if (!([(id)DYGetGLGuestAppClient(v26) overrideFlags] & 0x10 | v27 & 4))
    {
      uint64_t v32 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, int *))(*(void *)(v13 + 32) + 7880LL))( a1,  a2,  a3,  a4);
      uint64_t v61 = v13;
      uint64_t v33 = v13 + 4709;
      char v34 = v27;
      uint64_t v35 = mach_absolute_time() - v32;
      unint64_t v36 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        unsigned int v37 = v64;
        *((void *)v64 + 3) = v35;
      }

      else
      {
        uint64_t v60 = __udivti3(g_DYTimebaseInfo * v35, (g_DYTimebaseInfo * (unsigned __int128)v35) >> 64);
        unsigned int v37 = v64;
        *((void *)v64 + 3) = v60;
        uint64_t v32 = __udivti3(v36 * v32, (v36 * (unsigned __int128)v32) >> 64);
      }

      v37[2] = v32;
      char v27 = v34;
      uint64_t v20 = v33;
      uint64_t v13 = v61;
      if (gCheckGLErrors) {
        check_errors(v61);
      }
    }

    unsigned int v38 = v64;
    __int128 v62 = *((_OWORD *)v64 + 1);
    unsigned int v65 = v64;
    if (v66 >= 0x24)
    {
      *((_DWORD *)v64 + 8) = 0;
      _OWORD *v38 = 0u;
      v38[1] = 0u;
    }

    GPUTools::FB::Encode((uint64_t)&v64, 788LL, 256LL, v20, v28, v29, v30, v31, *(void *)v13);
    *((_OWORD *)v64 + 1) = v62;
    id v40 = objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v39), "activeCaptureDescriptor"),  "includeBacktraceInFbufs");
    if ((_DWORD)v40) {
      id v40 = (id)GPUTools::FB::EncodeCurrentBacktrace((GPUTools::FB *)&v64, v41);
    }
    uint64_t v43 = (GPUTools::FB::Fbuf *)*(unsigned int *)(v13 + 3404);
    if ((_DWORD)v43) {
      id v40 = (id)GPUTools::FB::EncodeGLError((GPUTools::FB *)&v64, v43, v42);
    }
    if (objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v40), "activeCaptureDescriptor"),  "queryDriverEventsOnGraphicsCommands")) {
      encode_driver_events((id *)v13, (uint64_t)&v64);
    }
    id v44 = GPUTools::FB::EncodeThreadQueueInfo( (void *)(v13 + 3480),  (GPUTools::FB::Fbuf *)(v13 + 3520),  (GPUTools::FB *)&v64);
    uint64_t v45 = *(unsigned int *)(v13 + 3404);
    if ((_DWORD)v45 && gBreakOnError)
    {
      uint64_t v58 = 3LL;
      uint64_t v59 = 0xFFFFFFFFLL;
    }

    else
    {
      if ((v27 & 2) == 0) {
        goto LABEL_43;
      }
      uint64_t v58 = 2LL;
      uint64_t v59 = 788LL;
    }

    breakpoint_break((uint64_t)&v64, (volatile int *)v59, v58, v45, v13);
LABEL_43:
    unsigned int v46 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v44) defaultFbufStream];
    int v47 = (unsigned int *)((char *)v46 + 56);
    do
      unsigned int v48 = __ldaxr(v47);
    while (__stlxr(1u, v47));
    if (v48 == 1)
    {
      do
      {
        while (*v47 == 1)
          ;
        do
          unsigned int v49 = __ldaxr(v47);
        while (__stlxr(1u, v47));
      }

      while (v49 == 1);
    }

    GPUTools::FB::Stream::Write_nolock(v46, (GPUTools::FB::Fbuf *)&v64, *(unsigned int *)v64, 1);
    atomic_store(0, v47);
    do
    {
      unsigned int v50 = __ldaxr(v14);
      signed int v51 = v50 - 1;
    }

    while (__stlxr(v51, v14));
    if (gCheckGLErrors) {
      BOOL v52 = v51 < 1;
    }
    else {
      BOOL v52 = 1;
    }
    if (!v52) {
      handle_opengl_thread_conflict((const void **)v13);
    }
    goto LABEL_56;
  }

  do
    unsigned int v53 = __ldaxr(v14);
  while (__stlxr(v53 - 1, v14));
  [(id)DYGetGLGuestAppClient(v19) triggerArmedCapture];
  (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, int *))(*(void *)(v13 + 24) + 7880LL))( a1,  a2,  a3,  a4);
LABEL_56:
  if (v64) {
    free(v64);
  }
}

void sub_93F88( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void light_modelx(__GLIContextRec *a1, uint64_t a2, uint64_t a3)
{
  if ((_DWORD)a2 == 33272) {
    unint64_t v6 = "Cee";
  }
  else {
    unint64_t v6 = "Cex";
  }
  uint64_t v7 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v7) {
    goto LABEL_15;
  }
  uint64_t v8 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v9 = v7[4];
    BOOL v10 = v9 >= (unint64_t)a1;
    else {
      BOOL v11 = v7 + 1;
    }
    if (v10) {
      uint64_t v8 = (uint64_t)v7;
    }
    uint64_t v7 = (void *)*v11;
  }

  while (*v11);
  if (v8 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v8 + 32) > (unint64_t)a1) {
LABEL_15:
  }
    uint64_t v8 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v12 = *(void *)(v8 + 40);
  uint64_t v13 = (unsigned int *)(v12 + 4640);
  do
  {
    unsigned int v14 = __ldaxr(v13);
    signed int v15 = v14 + 1;
  }

  while (__stlxr(v15, v13));
  if (gCheckGLErrors) {
    BOOL v16 = v15 <= 1;
  }
  else {
    BOOL v16 = 1;
  }
  if (v16)
  {
    id v44 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v43 = handle_opengl_thread_conflict((const void **)v12);
    id v44 = [(id)DYGetGLGuestAppClient(v43) waitOnGraphicsSemaphoreAssertions];
    if ((int)v44 >= 1)
    {
      do
LABEL_59:
        unsigned int v45 = __ldaxr(v13);
      while (__stlxr(v45 - 1, v13));
      unsigned int v46 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v44) graphicsLockWaitQueue];
      dispatch_sync_f(v46, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v12 + 24) + 7888LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v12 + 4838) = 1;
  v51[0] = 0LL;
  v51[1] = 0LL;
  int v52 = 0;
  if ([(id)DYGetGLGuestAppClient(v44) state] != (char *)&dword_0 + 1
    || (id v21 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v21))
  {
    GPUTools::FB::Encode((uint64_t)v51, 789LL, 0LL, (uint64_t)v6, v17, v18, v19, v20, *(void *)v12);
    char v23 = byte_20716D;
    if ((byte_20716D & 1) != 0) {
      breakpoint_break( (uint64_t)v51,  (volatile int *)((char *)&stru_2E8.size + 5),  1LL,  *(unsigned int *)(v12 + 3404),  v12);
    }
    uint64_t v24 = (uint64_t)[(id)DYGetGLGuestAppClient(v22) overrideFlags];
    if (!(v24 & 0x10 | v23 & 4))
    {
      uint64_t v25 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v12 + 32) + 7888LL))(a1, a2, a3);
      uint64_t v24 = mach_absolute_time();
      uint64_t v26 = v24 - v25;
      unint64_t v27 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        uint64_t v28 = v51[0];
        *((void *)v51[0] + 2) = v25;
        v28[3] = v26;
        if (!gCheckGLErrors) {
          goto LABEL_31;
        }
      }

      else
      {
        uint64_t v49 = __udivti3(g_DYTimebaseInfo * v26, (g_DYTimebaseInfo * (unsigned __int128)v26) >> 64);
        unsigned int v50 = v51[0];
        *((void *)v51[0] + 3) = v49;
        uint64_t v24 = __udivti3(v27 * v25, (v27 * (unsigned __int128)v25) >> 64);
        v50[2] = v24;
        if (!gCheckGLErrors) {
          goto LABEL_31;
        }
      }

      uint64_t v24 = check_errors(v12);
    }

{
  const char *v6;
  void *v7;
  uint64_t v8;
  unint64_t v9;
  BOOL v10;
  void *v11;
  uint64_t v12;
  unsigned int *v13;
  unsigned int v14;
  signed int v15;
  BOOL v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  id v21;
  uint64_t v22;
  char v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  unint64_t v27;
  void *v28;
  id v29;
  GPUTools::FB::Fbuf *v30;
  unsigned int v31;
  GPUTools::FB::Fbuf *v32;
  dispatch_queue_s *v33;
  uint64_t v34;
  GPUTools::FB::Stream *v35;
  unsigned int *v36;
  unsigned int v37;
  unsigned int v38;
  unsigned int v39;
  signed int v40;
  BOOL v41;
  unsigned int v42;
  uint64_t v43;
  id v44;
  unsigned int v45;
  dispatch_queue_s *v46;
  uint64_t v47;
  uint64_t v48;
  uint64_t v49;
  void *v50;
  void *v51[2];
  int v52;
  if ((_DWORD)a2 == 33272) {
    unint64_t v6 = "Cee";
  }
  else {
    unint64_t v6 = "Cex";
  }
  uint64_t v7 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v7) {
    goto LABEL_15;
  }
  uint64_t v8 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v9 = v7[4];
    BOOL v10 = v9 >= (unint64_t)a1;
    else {
      BOOL v11 = v7 + 1;
    }
    if (v10) {
      uint64_t v8 = (uint64_t)v7;
    }
    uint64_t v7 = (void *)*v11;
  }

  while (*v11);
  if (v8 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v8 + 32) > (unint64_t)a1) {
LABEL_15:
  }
    uint64_t v8 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v12 = *(void *)(v8 + 40);
  uint64_t v13 = (unsigned int *)(v12 + 4640);
  do
  {
    unsigned int v14 = __ldaxr(v13);
    signed int v15 = v14 + 1;
  }

  while (__stlxr(v15, v13));
  if (gCheckGLErrors) {
    BOOL v16 = v15 <= 1;
  }
  else {
    BOOL v16 = 1;
  }
  if (v16)
  {
    id v44 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v43 = handle_opengl_thread_conflict((const void **)v12);
    id v44 = [(id)DYGetGLGuestAppClient(v43) waitOnGraphicsSemaphoreAssertions];
    if ((int)v44 >= 1)
    {
      do
LABEL_59:
        unsigned int v45 = __ldaxr(v13);
      while (__stlxr(v45 - 1, v13));
      unsigned int v46 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v44) graphicsLockWaitQueue];
      dispatch_sync_f(v46, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v12 + 24) + 7888LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v12 + 4838) = 1;
  v51[0] = 0LL;
  v51[1] = 0LL;
  int v52 = 0;
  if ([(id)DYGetGLGuestAppClient(v44) state] != (char *)&dword_0 + 1
    || (id v21 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v21))
  {
    GPUTools::FB::Encode((uint64_t)v51, 789LL, 0LL, (uint64_t)v6, v17, v18, v19, v20, *(void *)v12);
    char v23 = byte_20716D;
    if ((byte_20716D & 1) != 0) {
      breakpoint_break( (uint64_t)v51,  (volatile int *)((char *)&stru_2E8.size + 5),  1LL,  *(unsigned int *)(v12 + 3404),  v12);
    }
    uint64_t v24 = (uint64_t)[(id)DYGetGLGuestAppClient(v22) overrideFlags];
    if (!(v24 & 0x10 | v23 & 4))
    {
      uint64_t v25 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v12 + 32) + 7888LL))(a1, a2, a3);
      uint64_t v24 = mach_absolute_time();
      uint64_t v26 = v24 - v25;
      unint64_t v27 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        uint64_t v28 = v51[0];
        *((void *)v51[0] + 2) = v25;
        v28[3] = v26;
        if (!gCheckGLErrors) {
          goto LABEL_31;
        }
      }

      else
      {
        uint64_t v49 = __udivti3(g_DYTimebaseInfo * v26, (g_DYTimebaseInfo * (unsigned __int128)v26) >> 64);
        unsigned int v50 = v51[0];
        *((void *)v51[0] + 3) = v49;
        uint64_t v24 = __udivti3(v27 * v25, (v27 * (unsigned __int128)v25) >> 64);
        v50[2] = v24;
        if (!gCheckGLErrors) {
          goto LABEL_31;
        }
      }

      uint64_t v24 = check_errors(v12);
    }

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  unsigned int v20;
  uint64_t v21;
  id v22;
  unsigned int v23;
  dispatch_queue_s *v24;
  uint64_t v25;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    uint64_t v8 = v6[4];
    unint64_t v9 = v8 >= (unint64_t)a1;
    else {
      BOOL v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  BOOL v11 = *(void *)(v7 + 40);
  uint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    uint64_t v13 = __ldaxr(v12);
    unsigned int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    signed int v15 = v14 <= 1;
  }
  else {
    signed int v15 = 1;
  }
  if (v15)
  {
    uint64_t v22 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    id v21 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v22 = [(id)DYGetGLGuestAppClient(v21) waitOnGraphicsSemaphoreAssertions];
    if ((int)v22 >= 1)
    {
      do
LABEL_34:
        char v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      uint64_t v24 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v22) graphicsLockWaitQueue];
      dispatch_sync_f(v24, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 24) + 7888LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v22) state] == (char *)&dword_0 + 1)
  {
    BOOL v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        uint64_t v20 = __ldaxr(v12);
      while (__stlxr(v20 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 32) + 7888LL))(a1, a2, a3);
  ++*(void *)(v11 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v25 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v25) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v25, v11);
      }
    }
  }

  do
  {
    uint64_t v17 = __ldaxr(v12);
    uint64_t v18 = v17 - 1;
  }

  while (__stlxr(v18, v12));
  if (gCheckGLErrors) {
    uint64_t v19 = v18 < 1;
  }
  else {
    uint64_t v19 = 1;
  }
  if (!v19) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  uint64_t v17;
  uint64_t v18;
  int64x2_t v19;
  unsigned int v20;
  signed int v21;
  BOOL v22;
  unsigned int v23;
  uint64_t v24;
  id v25;
  unsigned int v26;
  dispatch_queue_s *v27;
  uint64_t v28;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    uint64_t v8 = v6[4];
    unint64_t v9 = v8 >= (unint64_t)a1;
    else {
      BOOL v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  BOOL v11 = *(void *)(v7 + 40);
  uint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    uint64_t v13 = __ldaxr(v12);
    unsigned int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    signed int v15 = v14 <= 1;
  }
  else {
    signed int v15 = 1;
  }
  if (v15)
  {
    uint64_t v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v24 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        uint64_t v26 = __ldaxr(v12);
      while (__stlxr(v26 - 1, v12));
      unint64_t v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 24) + 7888LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    BOOL v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        char v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v17 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 32) + 7888LL))(a1, a2, a3);
  uint64_t v18 = mach_absolute_time();
  uint64_t v19 = vdupq_n_s64(1uLL);
  v19.i64[0] = v18 - v17;
  *(int64x2_t *)(v11 + 3696) = vaddq_s64(v19, *(int64x2_t *)(v11 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v28 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v11);
      }
    }
  }

  do
  {
    uint64_t v20 = __ldaxr(v12);
    id v21 = v20 - 1;
  }

  while (__stlxr(v21, v12));
  if (gCheckGLErrors) {
    uint64_t v22 = v21 < 1;
  }
  else {
    uint64_t v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

void sub_943B8( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void light_modelxv(__GLIContextRec *a1, GPUTools::GL *a2, const int *a3)
{
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      BOOL v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  uint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v46 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v45 = handle_opengl_thread_conflict((const void **)v11);
    id v46 = [(id)DYGetGLGuestAppClient(v45) waitOnGraphicsSemaphoreAssertions];
    if ((int)v46 >= 1)
    {
      do
LABEL_59:
        unsigned int v47 = __ldaxr(v12);
      while (__stlxr(v47 - 1, v12));
      uint64_t v48 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v46) graphicsLockWaitQueue];
      dispatch_sync_f(v48, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, GPUTools::GL *, const int *))(*(void *)(v11 + 24) + 7896LL))( a1,  a2,  a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  v53[0] = 0LL;
  v53[1] = 0LL;
  int v54 = 0;
  if ([(id)DYGetGLGuestAppClient(v46) state] != (char *)&dword_0 + 1
    || (id v17 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v17))
  {
    int v18 = GPUTools::GL::dy_light_model_param_component_count(a2, v16);
    snprintf((char *)(v11 + 4709), 0x20uLL, "Ce@%d", v18);
    if ((_DWORD)a2 == 33272) {
      uint64_t v19 = "e";
    }
    else {
      uint64_t v19 = "x";
    }
    strlcat((char *)(v11 + 4709), v19, 0x40uLL);
    GPUTools::FB::Encode((uint64_t)v53, 790LL, 0LL, v11 + 4709, v20, v21, v22, v23, *(void *)v11);
    char v25 = byte_20716E;
    if ((byte_20716E & 1) != 0) {
      breakpoint_break( (uint64_t)v53,  (volatile int *)((char *)&stru_2E8.size + 6),  1LL,  *(unsigned int *)(v11 + 3404),  v11);
    }
    uint64_t v26 = (uint64_t)[(id)DYGetGLGuestAppClient(v24) overrideFlags];
    if (!(v26 & 0x10 | v25 & 4))
    {
      uint64_t v27 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, GPUTools::GL *, const int *))(*(void *)(v11 + 32) + 7896LL))( a1,  a2,  a3);
      uint64_t v26 = mach_absolute_time();
      uint64_t v28 = v26 - v27;
      unint64_t v29 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        uint64_t v30 = v53[0];
        *((void *)v53[0] + 2) = v27;
        v30[3] = v28;
        if (!gCheckGLErrors) {
          goto LABEL_31;
        }
      }

      else
      {
        uint64_t v51 = __udivti3(g_DYTimebaseInfo * v28, (g_DYTimebaseInfo * (unsigned __int128)v28) >> 64);
        int v52 = v53[0];
        *((void *)v53[0] + 3) = v51;
        uint64_t v26 = __udivti3(v29 * v27, (v29 * (unsigned __int128)v27) >> 64);
        v52[2] = v26;
        if (!gCheckGLErrors) {
          goto LABEL_31;
        }
      }

      uint64_t v26 = check_errors(v11);
    }

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  unsigned int v16;
  id v17;
  int v18;
  const char *v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  char v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  unint64_t v29;
  void *v30;
  id v31;
  GPUTools::FB::Fbuf *v32;
  unsigned int v33;
  GPUTools::FB::Fbuf *v34;
  dispatch_queue_s *v35;
  uint64_t v36;
  GPUTools::FB::Stream *v37;
  unsigned int *v38;
  unsigned int v39;
  unsigned int v40;
  unsigned int v41;
  signed int v42;
  BOOL v43;
  unsigned int v44;
  uint64_t v45;
  id v46;
  unsigned int v47;
  dispatch_queue_s *v48;
  uint64_t v49;
  uint64_t v50;
  uint64_t v51;
  void *v52;
  void *v53[2];
  int v54;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      BOOL v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  uint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v46 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v45 = handle_opengl_thread_conflict((const void **)v11);
    id v46 = [(id)DYGetGLGuestAppClient(v45) waitOnGraphicsSemaphoreAssertions];
    if ((int)v46 >= 1)
    {
      do
LABEL_59:
        unsigned int v47 = __ldaxr(v12);
      while (__stlxr(v47 - 1, v12));
      uint64_t v48 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v46) graphicsLockWaitQueue];
      dispatch_sync_f(v48, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, GPUTools::GL *, const int *))(*(void *)(v11 + 24) + 7896LL))( a1,  a2,  a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  v53[0] = 0LL;
  v53[1] = 0LL;
  int v54 = 0;
  if ([(id)DYGetGLGuestAppClient(v46) state] != (char *)&dword_0 + 1
    || (id v17 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v17))
  {
    int v18 = GPUTools::GL::dy_light_model_param_component_count(a2, v16);
    snprintf((char *)(v11 + 4709), 0x20uLL, "Ce@%d", v18);
    if ((_DWORD)a2 == 33272) {
      uint64_t v19 = "e";
    }
    else {
      uint64_t v19 = "x";
    }
    strlcat((char *)(v11 + 4709), v19, 0x40uLL);
    GPUTools::FB::Encode((uint64_t)v53, 790LL, 0LL, v11 + 4709, v20, v21, v22, v23, *(void *)v11);
    char v25 = byte_20716E;
    if ((byte_20716E & 1) != 0) {
      breakpoint_break( (uint64_t)v53,  (volatile int *)((char *)&stru_2E8.size + 6),  1LL,  *(unsigned int *)(v11 + 3404),  v11);
    }
    uint64_t v26 = (uint64_t)[(id)DYGetGLGuestAppClient(v24) overrideFlags];
    if (!(v26 & 0x10 | v25 & 4))
    {
      uint64_t v27 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, GPUTools::GL *, const int *))(*(void *)(v11 + 32) + 7896LL))( a1,  a2,  a3);
      uint64_t v26 = mach_absolute_time();
      uint64_t v28 = v26 - v27;
      unint64_t v29 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        uint64_t v30 = v53[0];
        *((void *)v53[0] + 2) = v27;
        v30[3] = v28;
        if (!gCheckGLErrors) {
          goto LABEL_31;
        }
      }

      else
      {
        uint64_t v51 = __udivti3(g_DYTimebaseInfo * v28, (g_DYTimebaseInfo * (unsigned __int128)v28) >> 64);
        int v52 = v53[0];
        *((void *)v53[0] + 3) = v51;
        uint64_t v26 = __udivti3(v29 * v27, (v29 * (unsigned __int128)v27) >> 64);
        v52[2] = v26;
        if (!gCheckGLErrors) {
          goto LABEL_31;
        }
      }

      uint64_t v26 = check_errors(v11);
    }

void sub_94814( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void lightx(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      uint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v46 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v45 = handle_opengl_thread_conflict((const void **)v13);
    id v46 = [(id)DYGetGLGuestAppClient(v45) waitOnGraphicsSemaphoreAssertions];
    if ((int)v46 >= 1)
    {
      do
LABEL_57:
        unsigned int v47 = __ldaxr(v14);
      while (__stlxr(v47 - 1, v14));
      uint64_t v48 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v46) graphicsLockWaitQueue];
      dispatch_sync_f(v48, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 7904LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  id v55 = 0LL;
  unsigned int v56 = 0LL;
  unsigned int v57 = 0;
  if ([(id)DYGetGLGuestAppClient(v46) state] != (char *)&dword_0 + 1
    || (id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v18))
  {
    uint64_t v20 = (char *)v55;
    uint64_t v19 = v56;
    int64_t v21 = v56 - (_BYTE *)v55;
    unsigned int v22 = v57;
    unint64_t v23 = v57 - (v56 - (_BYTE *)v55);
    if (v23 > 0x3F) {
      goto LABEL_24;
    }
    int v49 = (319 - v23) & 0xFFFFFF00;
    v57 += v49;
    uint64_t v20 = (char *)malloc(v49 + v22);
    id v55 = v20;
    if (v20)
    {
      if ((v20 & 3) == 0)
      {
        uint64_t v19 = &v20[v21];
LABEL_24:
        *((_OWORD *)v19 + 2) = 0u;
        *((_OWORD *)v19 + 3) = 0u;
        *(_OWORD *)uint64_t v19 = 0u;
        *((_OWORD *)v19 + 1) = 0u;
        unsigned int v56 = v19 + 64;
        GPUTools::FB::Fbuf::align((char **)&v55);
        *((_DWORD *)v20 + 1) = 791;
        *((_DWORD *)v20 + 8) = 0;
        __uint64_t v54 = 0LL;
        uint64_t v24 = pthread_threadid_np(0LL, &v54);
        *((void *)v20 + 1) = v54;
        strcpy(v20 + 36, "Ceex");
        *(void *)(v20 + 44) = *(void *)v13;
        *((_DWORD *)v20 + 13) = a2;
        *((_DWORD *)v20 + 14) = a3;
        *((_DWORD *)v20 + 15) = a4;
        char v25 = byte_20716F;
        if ((byte_20716F & 1) != 0) {
          breakpoint_break( (uint64_t)&v55,  (volatile int *)((char *)&stru_2E8.size + 7),  1LL,  *(unsigned int *)(v13 + 3404),  v13);
        }
        uint64_t v26 = (uint64_t)[(id)DYGetGLGuestAppClient(v24) overrideFlags];
        if (!(v26 & 0x10 | v25 & 4))
        {
          uint64_t v27 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 7904LL))( a1,  a2,  a3,  a4);
          uint64_t v26 = mach_absolute_time();
          uint64_t v28 = v26 - v27;
          unint64_t v29 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v30 = v55;
            *((void *)v55 + 2) = v27;
            v30[3] = v28;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v52 = __udivti3(g_DYTimebaseInfo * v28, (g_DYTimebaseInfo * (unsigned __int128)v28) >> 64);
            unsigned int v53 = v55;
            *((void *)v55 + 3) = v52;
            uint64_t v26 = __udivti3(v29 * v27, (v29 * (unsigned __int128)v27) >> 64);
            v53[2] = v26;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v26 = check_errors(v13);
        }

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  char *v19;
  char *v20;
  int64_t v21;
  unsigned int v22;
  unint64_t v23;
  uint64_t v24;
  char v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  unint64_t v29;
  void *v30;
  id v31;
  GPUTools::FB::Fbuf *v32;
  unsigned int v33;
  GPUTools::FB::Fbuf *v34;
  dispatch_queue_s *v35;
  uint64_t v36;
  GPUTools::FB::Stream *v37;
  unsigned int *v38;
  unsigned int v39;
  unsigned int v40;
  unsigned int v41;
  signed int v42;
  BOOL v43;
  unsigned int v44;
  uint64_t v45;
  id v46;
  unsigned int v47;
  dispatch_queue_s *v48;
  int v49;
  uint64_t v50;
  uint64_t v51;
  uint64_t v52;
  void *v53;
  __uint64_t v54;
  void *v55;
  char *v56;
  unsigned int v57;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      uint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v46 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v45 = handle_opengl_thread_conflict((const void **)v13);
    id v46 = [(id)DYGetGLGuestAppClient(v45) waitOnGraphicsSemaphoreAssertions];
    if ((int)v46 >= 1)
    {
      do
LABEL_57:
        unsigned int v47 = __ldaxr(v14);
      while (__stlxr(v47 - 1, v14));
      uint64_t v48 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v46) graphicsLockWaitQueue];
      dispatch_sync_f(v48, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 7904LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  id v55 = 0LL;
  unsigned int v56 = 0LL;
  unsigned int v57 = 0;
  if ([(id)DYGetGLGuestAppClient(v46) state] != (char *)&dword_0 + 1
    || (id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v18))
  {
    uint64_t v20 = (char *)v55;
    uint64_t v19 = v56;
    int64_t v21 = v56 - (_BYTE *)v55;
    unsigned int v22 = v57;
    unint64_t v23 = v57 - (v56 - (_BYTE *)v55);
    if (v23 > 0x3F) {
      goto LABEL_24;
    }
    int v49 = (319 - v23) & 0xFFFFFF00;
    v57 += v49;
    uint64_t v20 = (char *)malloc(v49 + v22);
    id v55 = v20;
    if (v20)
    {
      if ((v20 & 3) == 0)
      {
        uint64_t v19 = &v20[v21];
LABEL_24:
        *((_OWORD *)v19 + 2) = 0u;
        *((_OWORD *)v19 + 3) = 0u;
        *(_OWORD *)uint64_t v19 = 0u;
        *((_OWORD *)v19 + 1) = 0u;
        unsigned int v56 = v19 + 64;
        GPUTools::FB::Fbuf::align((char **)&v55);
        *((_DWORD *)v20 + 1) = 791;
        *((_DWORD *)v20 + 8) = 0;
        __uint64_t v54 = 0LL;
        uint64_t v24 = pthread_threadid_np(0LL, &v54);
        *((void *)v20 + 1) = v54;
        strcpy(v20 + 36, "Ceex");
        *(void *)(v20 + 44) = *(void *)v13;
        *((_DWORD *)v20 + 13) = a2;
        *((_DWORD *)v20 + 14) = a3;
        *((_DWORD *)v20 + 15) = a4;
        char v25 = byte_20716F;
        if ((byte_20716F & 1) != 0) {
          breakpoint_break( (uint64_t)&v55,  (volatile int *)((char *)&stru_2E8.size + 7),  1LL,  *(unsigned int *)(v13 + 3404),  v13);
        }
        uint64_t v26 = (uint64_t)[(id)DYGetGLGuestAppClient(v24) overrideFlags];
        if (!(v26 & 0x10 | v25 & 4))
        {
          uint64_t v27 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 7904LL))( a1,  a2,  a3,  a4);
          uint64_t v26 = mach_absolute_time();
          uint64_t v28 = v26 - v27;
          unint64_t v29 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v30 = v55;
            *((void *)v55 + 2) = v27;
            v30[3] = v28;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v52 = __udivti3(g_DYTimebaseInfo * v28, (g_DYTimebaseInfo * (unsigned __int128)v28) >> 64);
            unsigned int v53 = v55;
            *((void *)v55 + 3) = v52;
            uint64_t v26 = __udivti3(v29 * v27, (v29 * (unsigned __int128)v27) >> 64);
            v53[2] = v26;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v26 = check_errors(v13);
        }

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  unsigned int v22;
  uint64_t v23;
  id v24;
  unsigned int v25;
  dispatch_queue_s *v26;
  uint64_t v27;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      uint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        char v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      uint64_t v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 7904LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 7904LL))( a1,  a2,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    uint64_t v19 = __ldaxr(v14);
    uint64_t v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    int64_t v21 = v20 < 1;
  }
  else {
    int64_t v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      uint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        uint64_t v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      unint64_t v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 7904LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        char v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 7904LL))( a1,  a2,  a3,  a4);
  uint64_t v20 = mach_absolute_time();
  int64_t v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    unint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    uint64_t v24 = v23 < 1;
  }
  else {
    uint64_t v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void sub_94D08( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void lightxv(__GLIContextRec *a1, uint64_t a2, GPUTools::GL *a3, const int *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      uint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v47 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v46 = handle_opengl_thread_conflict((const void **)v13);
    id v47 = [(id)DYGetGLGuestAppClient(v46) waitOnGraphicsSemaphoreAssertions];
    if ((int)v47 >= 1)
    {
      do
LABEL_56:
        unsigned int v48 = __ldaxr(v14);
      while (__stlxr(v48 - 1, v14));
      int v49 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v47) graphicsLockWaitQueue];
      dispatch_sync_f(v49, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, const int *))(*(void *)(v13 + 24) + 7912LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  v54[0] = 0LL;
  v54[1] = 0LL;
  int v55 = 0;
  if ([(id)DYGetGLGuestAppClient(v47) state] != (char *)&dword_0 + 1
    || (id v19 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v19))
  {
    int v20 = GPUTools::GL::dy_light_array_size(a3, v18);
    snprintf((char *)(v13 + 4709), 0x40uLL, "Cee@%dx", v20);
    GPUTools::FB::Encode((uint64_t)v54, 792LL, 0LL, v13 + 4709, v21, v22, v23, v24, *(void *)v13);
    char v26 = byte_207170;
    if ((byte_207170 & 1) != 0) {
      breakpoint_break((uint64_t)v54, (volatile int *)&stru_2E8.offset, 1LL, *(unsigned int *)(v13 + 3404), v13);
    }
    uint64_t v27 = (uint64_t)[(id)DYGetGLGuestAppClient(v25) overrideFlags];
    if (!(v27 & 0x10 | v26 & 4))
    {
      uint64_t v28 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, const int *))(*(void *)(v13 + 32) + 7912LL))( a1,  a2,  a3,  a4);
      uint64_t v27 = mach_absolute_time();
      uint64_t v29 = v27 - v28;
      unint64_t v30 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        id v31 = v54[0];
        *((void *)v54[0] + 2) = v28;
        v31[3] = v29;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      else
      {
        uint64_t v52 = __udivti3(g_DYTimebaseInfo * v29, (g_DYTimebaseInfo * (unsigned __int128)v29) >> 64);
        unsigned int v53 = v54[0];
        *((void *)v54[0] + 3) = v52;
        uint64_t v27 = __udivti3(v30 * v28, (v30 * (unsigned __int128)v28) >> 64);
        v53[2] = v27;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      uint64_t v27 = check_errors(v13);
    }

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  unsigned int v18;
  id v19;
  int v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  char v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  unint64_t v30;
  void *v31;
  id v32;
  GPUTools::FB::Fbuf *v33;
  unsigned int v34;
  GPUTools::FB::Fbuf *v35;
  dispatch_queue_s *v36;
  uint64_t v37;
  GPUTools::FB::Stream *v38;
  unsigned int *v39;
  unsigned int v40;
  unsigned int v41;
  unsigned int v42;
  signed int v43;
  BOOL v44;
  unsigned int v45;
  uint64_t v46;
  id v47;
  unsigned int v48;
  dispatch_queue_s *v49;
  uint64_t v50;
  uint64_t v51;
  uint64_t v52;
  void *v53;
  void *v54[2];
  int v55;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      uint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v47 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v46 = handle_opengl_thread_conflict((const void **)v13);
    id v47 = [(id)DYGetGLGuestAppClient(v46) waitOnGraphicsSemaphoreAssertions];
    if ((int)v47 >= 1)
    {
      do
LABEL_56:
        unsigned int v48 = __ldaxr(v14);
      while (__stlxr(v48 - 1, v14));
      int v49 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v47) graphicsLockWaitQueue];
      dispatch_sync_f(v49, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, const int *))(*(void *)(v13 + 24) + 7912LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  v54[0] = 0LL;
  v54[1] = 0LL;
  int v55 = 0;
  if ([(id)DYGetGLGuestAppClient(v47) state] != (char *)&dword_0 + 1
    || (id v19 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v19))
  {
    int v20 = GPUTools::GL::dy_light_array_size(a3, v18);
    snprintf((char *)(v13 + 4709), 0x40uLL, "Cee@%dx", v20);
    GPUTools::FB::Encode((uint64_t)v54, 792LL, 0LL, v13 + 4709, v21, v22, v23, v24, *(void *)v13);
    char v26 = byte_207170;
    if ((byte_207170 & 1) != 0) {
      breakpoint_break((uint64_t)v54, (volatile int *)&stru_2E8.offset, 1LL, *(unsigned int *)(v13 + 3404), v13);
    }
    uint64_t v27 = (uint64_t)[(id)DYGetGLGuestAppClient(v25) overrideFlags];
    if (!(v27 & 0x10 | v26 & 4))
    {
      uint64_t v28 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, const int *))(*(void *)(v13 + 32) + 7912LL))( a1,  a2,  a3,  a4);
      uint64_t v27 = mach_absolute_time();
      uint64_t v29 = v27 - v28;
      unint64_t v30 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        id v31 = v54[0];
        *((void *)v54[0] + 2) = v28;
        v31[3] = v29;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      else
      {
        uint64_t v52 = __udivti3(g_DYTimebaseInfo * v29, (g_DYTimebaseInfo * (unsigned __int128)v29) >> 64);
        unsigned int v53 = v54[0];
        *((void *)v54[0] + 3) = v52;
        uint64_t v27 = __udivti3(v30 * v28, (v30 * (unsigned __int128)v28) >> 64);
        v53[2] = v27;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      uint64_t v27 = check_errors(v13);
    }

void sub_95160( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void line_widthx(__GLIContextRec *a1, uint64_t a2)
{
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  unint64_t v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    id v42 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v41 = handle_opengl_thread_conflict((const void **)v9);
    id v42 = [(id)DYGetGLGuestAppClient(v41) waitOnGraphicsSemaphoreAssertions];
    if ((int)v42 >= 1)
    {
      do
LABEL_57:
        unsigned int v43 = __ldaxr(v10);
      while (__stlxr(v43 - 1, v10));
      BOOL v44 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v42) graphicsLockWaitQueue];
      dispatch_sync_f(v44, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 7920LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  uint64_t v51 = 0LL;
  uint64_t v52 = 0LL;
  unsigned int v53 = 0;
  if ([(id)DYGetGLGuestAppClient(v42) state] != (char *)&dword_0 + 1
    || (id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v14))
  {
    signed int v16 = (char *)v51;
    unsigned int v15 = v52;
    int64_t v17 = v52 - (_BYTE *)v51;
    unsigned int v18 = v53;
    unint64_t v19 = v53 - (v52 - (_BYTE *)v51);
    if (v19 > 0x33) {
      goto LABEL_24;
    }
    int v45 = (307 - v19) & 0xFFFFFF00;
    v53 += v45;
    signed int v16 = (char *)malloc(v45 + v18);
    uint64_t v51 = v16;
    if (v16)
    {
      if ((v16 & 3) == 0)
      {
        unsigned int v15 = &v16[v17];
LABEL_24:
        *((_DWORD *)v15 + 12) = 0;
        *((_OWORD *)v15 + 1) = 0u;
        *((_OWORD *)v15 + 2) = 0u;
        *(_OWORD *)unsigned int v15 = 0u;
        uint64_t v52 = v15 + 52;
        GPUTools::FB::Fbuf::align((char **)&v51);
        *((_DWORD *)v16 + 1) = 793;
        *((_DWORD *)v16 + 8) = 0;
        __uint64_t v50 = 0LL;
        uint64_t v20 = pthread_threadid_np(0LL, &v50);
        *((void *)v16 + 1) = v50;
        strcpy(v16 + 36, "Cx");
        *((void *)v16 + 5) = *(void *)v9;
        *((_DWORD *)v16 + 12) = a2;
        char v21 = byte_207171;
        if ((byte_207171 & 1) != 0) {
          breakpoint_break( (uint64_t)&v51,  (volatile int *)((char *)&stru_2E8.offset + 1),  1LL,  *(unsigned int *)(v9 + 3404),  v9);
        }
        uint64_t v22 = (uint64_t)[(id)DYGetGLGuestAppClient(v20) overrideFlags];
        if (!(v22 & 0x10 | v21 & 4))
        {
          uint64_t v23 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 32) + 7920LL))(a1, a2);
          uint64_t v22 = mach_absolute_time();
          uint64_t v24 = v22 - v23;
          unint64_t v25 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            char v26 = v51;
            *((void *)v51 + 2) = v23;
            v26[3] = v24;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v48 = __udivti3(g_DYTimebaseInfo * v24, (g_DYTimebaseInfo * (unsigned __int128)v24) >> 64);
            int v49 = v51;
            *((void *)v51 + 3) = v48;
            uint64_t v22 = __udivti3(v25 * v23, (v25 * (unsigned __int128)v23) >> 64);
            v49[2] = v22;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v22 = check_errors(v9);
        }

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  char *v15;
  char *v16;
  int64_t v17;
  unsigned int v18;
  unint64_t v19;
  uint64_t v20;
  char v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  unint64_t v25;
  void *v26;
  id v27;
  GPUTools::FB::Fbuf *v28;
  unsigned int v29;
  GPUTools::FB::Fbuf *v30;
  dispatch_queue_s *v31;
  uint64_t v32;
  GPUTools::FB::Stream *v33;
  unsigned int *v34;
  unsigned int v35;
  unsigned int v36;
  unsigned int v37;
  signed int v38;
  BOOL v39;
  unsigned int v40;
  uint64_t v41;
  id v42;
  unsigned int v43;
  dispatch_queue_s *v44;
  int v45;
  uint64_t v46;
  uint64_t v47;
  uint64_t v48;
  void *v49;
  __uint64_t v50;
  void *v51;
  char *v52;
  unsigned int v53;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  unint64_t v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    id v42 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v41 = handle_opengl_thread_conflict((const void **)v9);
    id v42 = [(id)DYGetGLGuestAppClient(v41) waitOnGraphicsSemaphoreAssertions];
    if ((int)v42 >= 1)
    {
      do
LABEL_57:
        unsigned int v43 = __ldaxr(v10);
      while (__stlxr(v43 - 1, v10));
      BOOL v44 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v42) graphicsLockWaitQueue];
      dispatch_sync_f(v44, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 7920LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  uint64_t v51 = 0LL;
  uint64_t v52 = 0LL;
  unsigned int v53 = 0;
  if ([(id)DYGetGLGuestAppClient(v42) state] != (char *)&dword_0 + 1
    || (id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v14))
  {
    signed int v16 = (char *)v51;
    unsigned int v15 = v52;
    int64_t v17 = v52 - (_BYTE *)v51;
    unsigned int v18 = v53;
    unint64_t v19 = v53 - (v52 - (_BYTE *)v51);
    if (v19 > 0x33) {
      goto LABEL_24;
    }
    int v45 = (307 - v19) & 0xFFFFFF00;
    v53 += v45;
    signed int v16 = (char *)malloc(v45 + v18);
    uint64_t v51 = v16;
    if (v16)
    {
      if ((v16 & 3) == 0)
      {
        unsigned int v15 = &v16[v17];
LABEL_24:
        *((_DWORD *)v15 + 12) = 0;
        *((_OWORD *)v15 + 1) = 0u;
        *((_OWORD *)v15 + 2) = 0u;
        *(_OWORD *)unsigned int v15 = 0u;
        uint64_t v52 = v15 + 52;
        GPUTools::FB::Fbuf::align((char **)&v51);
        *((_DWORD *)v16 + 1) = 793;
        *((_DWORD *)v16 + 8) = 0;
        __uint64_t v50 = 0LL;
        uint64_t v20 = pthread_threadid_np(0LL, &v50);
        *((void *)v16 + 1) = v50;
        strcpy(v16 + 36, "Cx");
        *((void *)v16 + 5) = *(void *)v9;
        *((_DWORD *)v16 + 12) = a2;
        char v21 = byte_207171;
        if ((byte_207171 & 1) != 0) {
          breakpoint_break( (uint64_t)&v51,  (volatile int *)((char *)&stru_2E8.offset + 1),  1LL,  *(unsigned int *)(v9 + 3404),  v9);
        }
        uint64_t v22 = (uint64_t)[(id)DYGetGLGuestAppClient(v20) overrideFlags];
        if (!(v22 & 0x10 | v21 & 4))
        {
          uint64_t v23 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 32) + 7920LL))(a1, a2);
          uint64_t v22 = mach_absolute_time();
          uint64_t v24 = v22 - v23;
          unint64_t v25 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            char v26 = v51;
            *((void *)v51 + 2) = v23;
            v26[3] = v24;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v48 = __udivti3(g_DYTimebaseInfo * v24, (g_DYTimebaseInfo * (unsigned __int128)v24) >> 64);
            int v49 = v51;
            *((void *)v51 + 3) = v48;
            uint64_t v22 = __udivti3(v25 * v23, (v25 * (unsigned __int128)v23) >> 64);
            v49[2] = v22;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v22 = check_errors(v9);
        }

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  unsigned int v18;
  uint64_t v19;
  id v20;
  unsigned int v21;
  dispatch_queue_s *v22;
  uint64_t v23;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  unint64_t v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    uint64_t v20 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v19 = handle_opengl_thread_conflict((const void **)v9);
    uint64_t v20 = [(id)DYGetGLGuestAppClient(v19) waitOnGraphicsSemaphoreAssertions];
    if ((int)v20 >= 1)
    {
      do
LABEL_34:
        char v21 = __ldaxr(v10);
      while (__stlxr(v21 - 1, v10));
      uint64_t v22 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v20) graphicsLockWaitQueue];
      dispatch_sync_f(v22, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 7920LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v20) state] == (char *)&dword_0 + 1)
  {
    id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v14)
    {
      do
        unsigned int v18 = __ldaxr(v10);
      while (__stlxr(v18 - 1, v10));
      [(id)DYGetGLGuestAppClient(v14) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 32) + 7920LL))(a1, a2);
  ++*(void *)(v9 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v9);
    if (gBreakOnError)
    {
      uint64_t v23 = *(unsigned int *)(v9 + 3404);
      if ((_DWORD)v23) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v23, v9);
      }
    }
  }

  do
  {
    unsigned int v15 = __ldaxr(v10);
    signed int v16 = v15 - 1;
  }

  while (__stlxr(v16, v10));
  if (gCheckGLErrors) {
    int64_t v17 = v16 < 1;
  }
  else {
    int64_t v17 = 1;
  }
  if (!v17) {
    handle_opengl_thread_conflict((const void **)v9);
  }
}

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  uint64_t v15;
  uint64_t v16;
  int64x2_t v17;
  unsigned int v18;
  signed int v19;
  BOOL v20;
  unsigned int v21;
  uint64_t v22;
  id v23;
  unsigned int v24;
  dispatch_queue_s *v25;
  uint64_t v26;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  unint64_t v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    uint64_t v23 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v22 = handle_opengl_thread_conflict((const void **)v9);
    uint64_t v23 = [(id)DYGetGLGuestAppClient(v22) waitOnGraphicsSemaphoreAssertions];
    if ((int)v23 >= 1)
    {
      do
LABEL_34:
        uint64_t v24 = __ldaxr(v10);
      while (__stlxr(v24 - 1, v10));
      unint64_t v25 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v23) graphicsLockWaitQueue];
      dispatch_sync_f(v25, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 7920LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v23) state] == (char *)&dword_0 + 1)
  {
    id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v14)
    {
      do
        char v21 = __ldaxr(v10);
      while (__stlxr(v21 - 1, v10));
      [(id)DYGetGLGuestAppClient(v14) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v15 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 32) + 7920LL))(a1, a2);
  signed int v16 = mach_absolute_time();
  int64_t v17 = vdupq_n_s64(1uLL);
  v17.i64[0] = v16 - v15;
  *(int64x2_t *)(v9 + 3696) = vaddq_s64(v17, *(int64x2_t *)(v9 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v9);
    if (gBreakOnError)
    {
      char v26 = *(unsigned int *)(v9 + 3404);
      if ((_DWORD)v26) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v26, v9);
      }
    }
  }

  do
  {
    unsigned int v18 = __ldaxr(v10);
    unint64_t v19 = v18 - 1;
  }

  while (__stlxr(v19, v10));
  if (gCheckGLErrors) {
    uint64_t v20 = v19 < 1;
  }
  else {
    uint64_t v20 = 1;
  }
  if (!v20) {
    handle_opengl_thread_conflict((const void **)v9);
  }
}

void sub_95624( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void load_matrixx(__GLIContextRec *a1, const int *a2)
{
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  unint64_t v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    id v45 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v44 = handle_opengl_thread_conflict((const void **)v9);
    id v45 = [(id)DYGetGLGuestAppClient(v44) waitOnGraphicsSemaphoreAssertions];
    if ((int)v45 >= 1)
    {
      do
LABEL_57:
        unsigned int v46 = __ldaxr(v10);
      while (__stlxr(v46 - 1, v10));
      uint64_t v47 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v45) graphicsLockWaitQueue];
      dispatch_sync_f(v47, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, const int *))(*(void *)(v9 + 24) + 7928LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  __uint64_t v54 = 0LL;
  int v55 = 0LL;
  unsigned int v56 = 0;
  if ([(id)DYGetGLGuestAppClient(v45) state] != (char *)&dword_0 + 1
    || (id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v14))
  {
    signed int v16 = (char *)v54;
    unsigned int v15 = v55;
    int64_t v17 = v55 - (_BYTE *)v54;
    unsigned int v18 = v56;
    unint64_t v19 = v56 - (v55 - (_BYTE *)v54);
    if (v19 > 0x73) {
      goto LABEL_24;
    }
    int v48 = (371 - v19) & 0xFFFFFF00;
    v56 += v48;
    signed int v16 = (char *)malloc(v48 + v18);
    __uint64_t v54 = v16;
    if (v16)
    {
      if ((v16 & 3) == 0)
      {
        unsigned int v15 = &v16[v17];
LABEL_24:
        *((_DWORD *)v15 + 28) = 0;
        *((_OWORD *)v15 + 5) = 0u;
        *((_OWORD *)v15 + 6) = 0u;
        *((_OWORD *)v15 + 3) = 0u;
        *((_OWORD *)v15 + 4) = 0u;
        *((_OWORD *)v15 + 1) = 0u;
        *((_OWORD *)v15 + 2) = 0u;
        *(_OWORD *)unsigned int v15 = 0u;
        int v55 = v15 + 116;
        GPUTools::FB::Fbuf::align((char **)&v54);
        *((_DWORD *)v16 + 1) = 794;
        *((_DWORD *)v16 + 8) = 0;
        __uint64_t v53 = 0LL;
        uint64_t v20 = pthread_threadid_np(0LL, &v53);
        *((void *)v16 + 1) = v53;
        strcpy(v16 + 36, "C@16x");
        *(void *)(v16 + 44) = *(void *)v9;
        __int128 v21 = *(_OWORD *)a2;
        __int128 v22 = *((_OWORD *)a2 + 1);
        __int128 v23 = *((_OWORD *)a2 + 2);
        *(_OWORD *)(v16 + 100) = *((_OWORD *)a2 + 3);
        *(_OWORD *)(v16 + 84) = v23;
        *(_OWORD *)(v16 + 68) = v22;
        *(_OWORD *)(v16 + 52) = v21;
        char v24 = byte_207172;
        if ((byte_207172 & 1) != 0) {
          breakpoint_break( (uint64_t)&v54,  (volatile int *)((char *)&stru_2E8.offset + 2),  1LL,  *(unsigned int *)(v9 + 3404),  v9);
        }
        uint64_t v25 = (uint64_t)[(id)DYGetGLGuestAppClient(v20) overrideFlags];
        if (!(v25 & 0x10 | v24 & 4))
        {
          uint64_t v26 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, const int *))(*(void *)(v9 + 32) + 7928LL))(a1, a2);
          uint64_t v25 = mach_absolute_time();
          uint64_t v27 = v25 - v26;
          unint64_t v28 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unsigned int v29 = v54;
            *((void *)v54 + 2) = v26;
            v29[3] = v27;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v51 = __udivti3(g_DYTimebaseInfo * v27, (g_DYTimebaseInfo * (unsigned __int128)v27) >> 64);
            uint64_t v52 = v54;
            *((void *)v54 + 3) = v51;
            uint64_t v25 = __udivti3(v28 * v26, (v28 * (unsigned __int128)v26) >> 64);
            v52[2] = v25;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v25 = check_errors(v9);
        }

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  char *v15;
  char *v16;
  int64_t v17;
  unsigned int v18;
  unint64_t v19;
  uint64_t v20;
  __int128 v21;
  __int128 v22;
  __int128 v23;
  char v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  unint64_t v28;
  void *v29;
  id v30;
  GPUTools::FB::Fbuf *v31;
  unsigned int v32;
  GPUTools::FB::Fbuf *v33;
  dispatch_queue_s *v34;
  uint64_t v35;
  GPUTools::FB::Stream *v36;
  unsigned int *v37;
  unsigned int v38;
  unsigned int v39;
  unsigned int v40;
  signed int v41;
  BOOL v42;
  unsigned int v43;
  uint64_t v44;
  id v45;
  unsigned int v46;
  dispatch_queue_s *v47;
  int v48;
  uint64_t v49;
  uint64_t v50;
  uint64_t v51;
  void *v52;
  __uint64_t v53;
  void *v54;
  char *v55;
  unsigned int v56;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  unint64_t v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    id v45 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v44 = handle_opengl_thread_conflict((const void **)v9);
    id v45 = [(id)DYGetGLGuestAppClient(v44) waitOnGraphicsSemaphoreAssertions];
    if ((int)v45 >= 1)
    {
      do
LABEL_57:
        unsigned int v46 = __ldaxr(v10);
      while (__stlxr(v46 - 1, v10));
      uint64_t v47 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v45) graphicsLockWaitQueue];
      dispatch_sync_f(v47, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, const int *))(*(void *)(v9 + 24) + 7928LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  __uint64_t v54 = 0LL;
  int v55 = 0LL;
  unsigned int v56 = 0;
  if ([(id)DYGetGLGuestAppClient(v45) state] != (char *)&dword_0 + 1
    || (id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v14))
  {
    signed int v16 = (char *)v54;
    unsigned int v15 = v55;
    int64_t v17 = v55 - (_BYTE *)v54;
    unsigned int v18 = v56;
    unint64_t v19 = v56 - (v55 - (_BYTE *)v54);
    if (v19 > 0x73) {
      goto LABEL_24;
    }
    int v48 = (371 - v19) & 0xFFFFFF00;
    v56 += v48;
    signed int v16 = (char *)malloc(v48 + v18);
    __uint64_t v54 = v16;
    if (v16)
    {
      if ((v16 & 3) == 0)
      {
        unsigned int v15 = &v16[v17];
LABEL_24:
        *((_DWORD *)v15 + 28) = 0;
        *((_OWORD *)v15 + 5) = 0u;
        *((_OWORD *)v15 + 6) = 0u;
        *((_OWORD *)v15 + 3) = 0u;
        *((_OWORD *)v15 + 4) = 0u;
        *((_OWORD *)v15 + 1) = 0u;
        *((_OWORD *)v15 + 2) = 0u;
        *(_OWORD *)unsigned int v15 = 0u;
        int v55 = v15 + 116;
        GPUTools::FB::Fbuf::align((char **)&v54);
        *((_DWORD *)v16 + 1) = 794;
        *((_DWORD *)v16 + 8) = 0;
        __uint64_t v53 = 0LL;
        uint64_t v20 = pthread_threadid_np(0LL, &v53);
        *((void *)v16 + 1) = v53;
        strcpy(v16 + 36, "C@16x");
        *(void *)(v16 + 44) = *(void *)v9;
        __int128 v21 = *(_OWORD *)a2;
        __int128 v22 = *((_OWORD *)a2 + 1);
        __int128 v23 = *((_OWORD *)a2 + 2);
        *(_OWORD *)(v16 + 100) = *((_OWORD *)a2 + 3);
        *(_OWORD *)(v16 + 84) = v23;
        *(_OWORD *)(v16 + 68) = v22;
        *(_OWORD *)(v16 + 52) = v21;
        char v24 = byte_207172;
        if ((byte_207172 & 1) != 0) {
          breakpoint_break( (uint64_t)&v54,  (volatile int *)((char *)&stru_2E8.offset + 2),  1LL,  *(unsigned int *)(v9 + 3404),  v9);
        }
        uint64_t v25 = (uint64_t)[(id)DYGetGLGuestAppClient(v20) overrideFlags];
        if (!(v25 & 0x10 | v24 & 4))
        {
          uint64_t v26 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, const int *))(*(void *)(v9 + 32) + 7928LL))(a1, a2);
          uint64_t v25 = mach_absolute_time();
          uint64_t v27 = v25 - v26;
          unint64_t v28 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unsigned int v29 = v54;
            *((void *)v54 + 2) = v26;
            v29[3] = v27;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v51 = __udivti3(g_DYTimebaseInfo * v27, (g_DYTimebaseInfo * (unsigned __int128)v27) >> 64);
            uint64_t v52 = v54;
            *((void *)v54 + 3) = v51;
            uint64_t v25 = __udivti3(v28 * v26, (v28 * (unsigned __int128)v26) >> 64);
            v52[2] = v25;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v25 = check_errors(v9);
        }

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  unsigned int v18;
  uint64_t v19;
  id v20;
  unsigned int v21;
  dispatch_queue_s *v22;
  uint64_t v23;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  unint64_t v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    uint64_t v20 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v19 = handle_opengl_thread_conflict((const void **)v9);
    uint64_t v20 = [(id)DYGetGLGuestAppClient(v19) waitOnGraphicsSemaphoreAssertions];
    if ((int)v20 >= 1)
    {
      do
LABEL_34:
        __int128 v21 = __ldaxr(v10);
      while (__stlxr(v21 - 1, v10));
      __int128 v22 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v20) graphicsLockWaitQueue];
      dispatch_sync_f(v22, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, const int *))(*(void *)(v9 + 24) + 7928LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v20) state] == (char *)&dword_0 + 1)
  {
    id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v14)
    {
      do
        unsigned int v18 = __ldaxr(v10);
      while (__stlxr(v18 - 1, v10));
      [(id)DYGetGLGuestAppClient(v14) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, const int *))(*(void *)(v9 + 32) + 7928LL))(a1, a2);
  ++*(void *)(v9 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v9);
    if (gBreakOnError)
    {
      __int128 v23 = *(unsigned int *)(v9 + 3404);
      if ((_DWORD)v23) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v23, v9);
      }
    }
  }

  do
  {
    unsigned int v15 = __ldaxr(v10);
    signed int v16 = v15 - 1;
  }

  while (__stlxr(v16, v10));
  if (gCheckGLErrors) {
    int64_t v17 = v16 < 1;
  }
  else {
    int64_t v17 = 1;
  }
  if (!v17) {
    handle_opengl_thread_conflict((const void **)v9);
  }
}

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  uint64_t v15;
  uint64_t v16;
  int64x2_t v17;
  unsigned int v18;
  signed int v19;
  BOOL v20;
  unsigned int v21;
  uint64_t v22;
  id v23;
  unsigned int v24;
  dispatch_queue_s *v25;
  uint64_t v26;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  unint64_t v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    __int128 v23 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    __int128 v22 = handle_opengl_thread_conflict((const void **)v9);
    __int128 v23 = [(id)DYGetGLGuestAppClient(v22) waitOnGraphicsSemaphoreAssertions];
    if ((int)v23 >= 1)
    {
      do
LABEL_34:
        char v24 = __ldaxr(v10);
      while (__stlxr(v24 - 1, v10));
      uint64_t v25 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v23) graphicsLockWaitQueue];
      dispatch_sync_f(v25, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, const int *))(*(void *)(v9 + 24) + 7928LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v23) state] == (char *)&dword_0 + 1)
  {
    id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v14)
    {
      do
        __int128 v21 = __ldaxr(v10);
      while (__stlxr(v21 - 1, v10));
      [(id)DYGetGLGuestAppClient(v14) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v15 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, const int *))(*(void *)(v9 + 32) + 7928LL))(a1, a2);
  signed int v16 = mach_absolute_time();
  int64_t v17 = vdupq_n_s64(1uLL);
  v17.i64[0] = v16 - v15;
  *(int64x2_t *)(v9 + 3696) = vaddq_s64(v17, *(int64x2_t *)(v9 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v9);
    if (gBreakOnError)
    {
      uint64_t v26 = *(unsigned int *)(v9 + 3404);
      if ((_DWORD)v26) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v26, v9);
      }
    }
  }

  do
  {
    unsigned int v18 = __ldaxr(v10);
    unint64_t v19 = v18 - 1;
  }

  while (__stlxr(v19, v10));
  if (gCheckGLErrors) {
    uint64_t v20 = v19 < 1;
  }
  else {
    uint64_t v20 = 1;
  }
  if (!v20) {
    handle_opengl_thread_conflict((const void **)v9);
  }
}

void sub_95B14( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void materialx(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  id v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v46 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v45 = handle_opengl_thread_conflict((const void **)v13);
    id v46 = [(id)DYGetGLGuestAppClient(v45) waitOnGraphicsSemaphoreAssertions];
    if ((int)v46 >= 1)
    {
      do
LABEL_57:
        unsigned int v47 = __ldaxr(v14);
      while (__stlxr(v47 - 1, v14));
      int v48 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v46) graphicsLockWaitQueue];
      dispatch_sync_f(v48, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 7936LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  int v55 = 0LL;
  unsigned int v56 = 0LL;
  unsigned int v57 = 0;
  if ([(id)DYGetGLGuestAppClient(v46) state] != (char *)&dword_0 + 1
    || (id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v18))
  {
    uint64_t v20 = (char *)v55;
    unint64_t v19 = v56;
    int64_t v21 = v56 - (_BYTE *)v55;
    unsigned int v22 = v57;
    unint64_t v23 = v57 - (v56 - (_BYTE *)v55);
    if (v23 > 0x3F) {
      goto LABEL_24;
    }
    int v49 = (319 - v23) & 0xFFFFFF00;
    v57 += v49;
    uint64_t v20 = (char *)malloc(v49 + v22);
    int v55 = v20;
    if (v20)
    {
      if ((v20 & 3) == 0)
      {
        unint64_t v19 = &v20[v21];
LABEL_24:
        *((_OWORD *)v19 + 2) = 0u;
        *((_OWORD *)v19 + 3) = 0u;
        *(_OWORD *)unint64_t v19 = 0u;
        *((_OWORD *)v19 + 1) = 0u;
        unsigned int v56 = v19 + 64;
        GPUTools::FB::Fbuf::align((char **)&v55);
        *((_DWORD *)v20 + 1) = 796;
        *((_DWORD *)v20 + 8) = 0;
        __uint64_t v54 = 0LL;
        uint64_t v24 = pthread_threadid_np(0LL, &v54);
        *((void *)v20 + 1) = v54;
        strcpy(v20 + 36, "Ceex");
        *(void *)(v20 + 44) = *(void *)v13;
        *((_DWORD *)v20 + 13) = a2;
        *((_DWORD *)v20 + 14) = a3;
        *((_DWORD *)v20 + 15) = a4;
        char v25 = byte_207174;
        if ((byte_207174 & 1) != 0) {
          breakpoint_break((uint64_t)&v55, (volatile int *)&stru_2E8.align, 1LL, *(unsigned int *)(v13 + 3404), v13);
        }
        uint64_t v26 = (uint64_t)[(id)DYGetGLGuestAppClient(v24) overrideFlags];
        if (!(v26 & 0x10 | v25 & 4))
        {
          uint64_t v27 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 7936LL))( a1,  a2,  a3,  a4);
          uint64_t v26 = mach_absolute_time();
          uint64_t v28 = v26 - v27;
          unint64_t v29 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            id v30 = v55;
            *((void *)v55 + 2) = v27;
            v30[3] = v28;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v52 = __udivti3(g_DYTimebaseInfo * v28, (g_DYTimebaseInfo * (unsigned __int128)v28) >> 64);
            __uint64_t v53 = v55;
            *((void *)v55 + 3) = v52;
            uint64_t v26 = __udivti3(v29 * v27, (v29 * (unsigned __int128)v27) >> 64);
            v53[2] = v26;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v26 = check_errors(v13);
        }

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  char *v19;
  char *v20;
  int64_t v21;
  unsigned int v22;
  unint64_t v23;
  uint64_t v24;
  char v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  unint64_t v29;
  void *v30;
  id v31;
  GPUTools::FB::Fbuf *v32;
  unsigned int v33;
  GPUTools::FB::Fbuf *v34;
  dispatch_queue_s *v35;
  uint64_t v36;
  GPUTools::FB::Stream *v37;
  unsigned int *v38;
  unsigned int v39;
  unsigned int v40;
  unsigned int v41;
  signed int v42;
  BOOL v43;
  unsigned int v44;
  uint64_t v45;
  id v46;
  unsigned int v47;
  dispatch_queue_s *v48;
  int v49;
  uint64_t v50;
  uint64_t v51;
  uint64_t v52;
  void *v53;
  __uint64_t v54;
  void *v55;
  char *v56;
  unsigned int v57;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  id v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v46 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v45 = handle_opengl_thread_conflict((const void **)v13);
    id v46 = [(id)DYGetGLGuestAppClient(v45) waitOnGraphicsSemaphoreAssertions];
    if ((int)v46 >= 1)
    {
      do
LABEL_57:
        unsigned int v47 = __ldaxr(v14);
      while (__stlxr(v47 - 1, v14));
      int v48 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v46) graphicsLockWaitQueue];
      dispatch_sync_f(v48, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 7936LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  int v55 = 0LL;
  unsigned int v56 = 0LL;
  unsigned int v57 = 0;
  if ([(id)DYGetGLGuestAppClient(v46) state] != (char *)&dword_0 + 1
    || (id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v18))
  {
    uint64_t v20 = (char *)v55;
    unint64_t v19 = v56;
    int64_t v21 = v56 - (_BYTE *)v55;
    unsigned int v22 = v57;
    unint64_t v23 = v57 - (v56 - (_BYTE *)v55);
    if (v23 > 0x3F) {
      goto LABEL_24;
    }
    int v49 = (319 - v23) & 0xFFFFFF00;
    v57 += v49;
    uint64_t v20 = (char *)malloc(v49 + v22);
    int v55 = v20;
    if (v20)
    {
      if ((v20 & 3) == 0)
      {
        unint64_t v19 = &v20[v21];
LABEL_24:
        *((_OWORD *)v19 + 2) = 0u;
        *((_OWORD *)v19 + 3) = 0u;
        *(_OWORD *)unint64_t v19 = 0u;
        *((_OWORD *)v19 + 1) = 0u;
        unsigned int v56 = v19 + 64;
        GPUTools::FB::Fbuf::align((char **)&v55);
        *((_DWORD *)v20 + 1) = 796;
        *((_DWORD *)v20 + 8) = 0;
        __uint64_t v54 = 0LL;
        uint64_t v24 = pthread_threadid_np(0LL, &v54);
        *((void *)v20 + 1) = v54;
        strcpy(v20 + 36, "Ceex");
        *(void *)(v20 + 44) = *(void *)v13;
        *((_DWORD *)v20 + 13) = a2;
        *((_DWORD *)v20 + 14) = a3;
        *((_DWORD *)v20 + 15) = a4;
        char v25 = byte_207174;
        if ((byte_207174 & 1) != 0) {
          breakpoint_break((uint64_t)&v55, (volatile int *)&stru_2E8.align, 1LL, *(unsigned int *)(v13 + 3404), v13);
        }
        uint64_t v26 = (uint64_t)[(id)DYGetGLGuestAppClient(v24) overrideFlags];
        if (!(v26 & 0x10 | v25 & 4))
        {
          uint64_t v27 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 7936LL))( a1,  a2,  a3,  a4);
          uint64_t v26 = mach_absolute_time();
          uint64_t v28 = v26 - v27;
          unint64_t v29 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            id v30 = v55;
            *((void *)v55 + 2) = v27;
            v30[3] = v28;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v52 = __udivti3(g_DYTimebaseInfo * v28, (g_DYTimebaseInfo * (unsigned __int128)v28) >> 64);
            __uint64_t v53 = v55;
            *((void *)v55 + 3) = v52;
            uint64_t v26 = __udivti3(v29 * v27, (v29 * (unsigned __int128)v27) >> 64);
            v53[2] = v26;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v26 = check_errors(v13);
        }

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  unsigned int v22;
  uint64_t v23;
  id v24;
  unsigned int v25;
  dispatch_queue_s *v26;
  uint64_t v27;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  id v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        char v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      uint64_t v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 7936LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 7936LL))( a1,  a2,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    unint64_t v19 = __ldaxr(v14);
    uint64_t v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    int64_t v21 = v20 < 1;
  }
  else {
    int64_t v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  id v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        uint64_t v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      unint64_t v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 7936LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        char v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unint64_t v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 7936LL))( a1,  a2,  a3,  a4);
  uint64_t v20 = mach_absolute_time();
  int64_t v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      id v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    unint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    uint64_t v24 = v23 < 1;
  }
  else {
    uint64_t v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void sub_96010( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void materialxv(__GLIContextRec *a1, uint64_t a2, GPUTools::GL *a3, const int *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  id v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v47 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v46 = handle_opengl_thread_conflict((const void **)v13);
    id v47 = [(id)DYGetGLGuestAppClient(v46) waitOnGraphicsSemaphoreAssertions];
    if ((int)v47 >= 1)
    {
      do
LABEL_56:
        unsigned int v48 = __ldaxr(v14);
      while (__stlxr(v48 - 1, v14));
      int v49 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v47) graphicsLockWaitQueue];
      dispatch_sync_f(v49, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, const int *))(*(void *)(v13 + 24) + 7944LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  v54[0] = 0LL;
  v54[1] = 0LL;
  int v55 = 0;
  if ([(id)DYGetGLGuestAppClient(v47) state] != (char *)&dword_0 + 1
    || (id v19 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v19))
  {
    int v20 = GPUTools::GL::DYMaterialParameterComponentCount(a3, v18);
    snprintf((char *)(v13 + 4709), 0x40uLL, "Cee@%dx", v20);
    GPUTools::FB::Encode((uint64_t)v54, 797LL, 0LL, v13 + 4709, v21, v22, v23, v24, *(void *)v13);
    char v26 = byte_207175;
    if ((byte_207175 & 1) != 0) {
      breakpoint_break( (uint64_t)v54,  (volatile int *)((char *)&stru_2E8.align + 1),  1LL,  *(unsigned int *)(v13 + 3404),  v13);
    }
    uint64_t v27 = (uint64_t)[(id)DYGetGLGuestAppClient(v25) overrideFlags];
    if (!(v27 & 0x10 | v26 & 4))
    {
      uint64_t v28 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, const int *))(*(void *)(v13 + 32) + 7944LL))( a1,  a2,  a3,  a4);
      uint64_t v27 = mach_absolute_time();
      uint64_t v29 = v27 - v28;
      unint64_t v30 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        id v31 = v54[0];
        *((void *)v54[0] + 2) = v28;
        v31[3] = v29;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      else
      {
        uint64_t v52 = __udivti3(g_DYTimebaseInfo * v29, (g_DYTimebaseInfo * (unsigned __int128)v29) >> 64);
        __uint64_t v53 = v54[0];
        *((void *)v54[0] + 3) = v52;
        uint64_t v27 = __udivti3(v30 * v28, (v30 * (unsigned __int128)v28) >> 64);
        v53[2] = v27;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      uint64_t v27 = check_errors(v13);
    }

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  unsigned int v18;
  id v19;
  int v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  char v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  unint64_t v30;
  void *v31;
  id v32;
  GPUTools::FB::Fbuf *v33;
  unsigned int v34;
  GPUTools::FB::Fbuf *v35;
  dispatch_queue_s *v36;
  uint64_t v37;
  GPUTools::FB::Stream *v38;
  unsigned int *v39;
  unsigned int v40;
  unsigned int v41;
  unsigned int v42;
  signed int v43;
  BOOL v44;
  unsigned int v45;
  uint64_t v46;
  id v47;
  unsigned int v48;
  dispatch_queue_s *v49;
  uint64_t v50;
  uint64_t v51;
  uint64_t v52;
  void *v53;
  void *v54[2];
  int v55;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  id v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v47 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v46 = handle_opengl_thread_conflict((const void **)v13);
    id v47 = [(id)DYGetGLGuestAppClient(v46) waitOnGraphicsSemaphoreAssertions];
    if ((int)v47 >= 1)
    {
      do
LABEL_56:
        unsigned int v48 = __ldaxr(v14);
      while (__stlxr(v48 - 1, v14));
      int v49 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v47) graphicsLockWaitQueue];
      dispatch_sync_f(v49, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, const int *))(*(void *)(v13 + 24) + 7944LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  v54[0] = 0LL;
  v54[1] = 0LL;
  int v55 = 0;
  if ([(id)DYGetGLGuestAppClient(v47) state] != (char *)&dword_0 + 1
    || (id v19 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v19))
  {
    int v20 = GPUTools::GL::DYMaterialParameterComponentCount(a3, v18);
    snprintf((char *)(v13 + 4709), 0x40uLL, "Cee@%dx", v20);
    GPUTools::FB::Encode((uint64_t)v54, 797LL, 0LL, v13 + 4709, v21, v22, v23, v24, *(void *)v13);
    char v26 = byte_207175;
    if ((byte_207175 & 1) != 0) {
      breakpoint_break( (uint64_t)v54,  (volatile int *)((char *)&stru_2E8.align + 1),  1LL,  *(unsigned int *)(v13 + 3404),  v13);
    }
    uint64_t v27 = (uint64_t)[(id)DYGetGLGuestAppClient(v25) overrideFlags];
    if (!(v27 & 0x10 | v26 & 4))
    {
      uint64_t v28 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, const int *))(*(void *)(v13 + 32) + 7944LL))( a1,  a2,  a3,  a4);
      uint64_t v27 = mach_absolute_time();
      uint64_t v29 = v27 - v28;
      unint64_t v30 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        id v31 = v54[0];
        *((void *)v54[0] + 2) = v28;
        v31[3] = v29;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      else
      {
        uint64_t v52 = __udivti3(g_DYTimebaseInfo * v29, (g_DYTimebaseInfo * (unsigned __int128)v29) >> 64);
        __uint64_t v53 = v54[0];
        *((void *)v54[0] + 3) = v52;
        uint64_t v27 = __udivti3(v30 * v28, (v30 * (unsigned __int128)v28) >> 64);
        v53[2] = v27;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      uint64_t v27 = check_errors(v13);
    }

void sub_96468( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void mult_matrixx(__GLIContextRec *a1, const int *a2)
{
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  unint64_t v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    id v45 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v44 = handle_opengl_thread_conflict((const void **)v9);
    id v45 = [(id)DYGetGLGuestAppClient(v44) waitOnGraphicsSemaphoreAssertions];
    if ((int)v45 >= 1)
    {
      do
LABEL_57:
        unsigned int v46 = __ldaxr(v10);
      while (__stlxr(v46 - 1, v10));
      id v47 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v45) graphicsLockWaitQueue];
      dispatch_sync_f(v47, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, const int *))(*(void *)(v9 + 24) + 7952LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  __uint64_t v54 = 0LL;
  int v55 = 0LL;
  unsigned int v56 = 0;
  if ([(id)DYGetGLGuestAppClient(v45) state] != (char *)&dword_0 + 1
    || (id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v14))
  {
    signed int v16 = (char *)v54;
    unsigned int v15 = v55;
    int64_t v17 = v55 - (_BYTE *)v54;
    unsigned int v18 = v56;
    unint64_t v19 = v56 - (v55 - (_BYTE *)v54);
    if (v19 > 0x73) {
      goto LABEL_24;
    }
    int v48 = (371 - v19) & 0xFFFFFF00;
    v56 += v48;
    signed int v16 = (char *)malloc(v48 + v18);
    __uint64_t v54 = v16;
    if (v16)
    {
      if ((v16 & 3) == 0)
      {
        unsigned int v15 = &v16[v17];
LABEL_24:
        *((_DWORD *)v15 + 28) = 0;
        *((_OWORD *)v15 + 5) = 0u;
        *((_OWORD *)v15 + 6) = 0u;
        *((_OWORD *)v15 + 3) = 0u;
        *((_OWORD *)v15 + 4) = 0u;
        *((_OWORD *)v15 + 1) = 0u;
        *((_OWORD *)v15 + 2) = 0u;
        *(_OWORD *)unsigned int v15 = 0u;
        int v55 = v15 + 116;
        GPUTools::FB::Fbuf::align((char **)&v54);
        *((_DWORD *)v16 + 1) = 799;
        *((_DWORD *)v16 + 8) = 0;
        __uint64_t v53 = 0LL;
        uint64_t v20 = pthread_threadid_np(0LL, &v53);
        *((void *)v16 + 1) = v53;
        strcpy(v16 + 36, "C@16x");
        *(void *)(v16 + 44) = *(void *)v9;
        __int128 v21 = *(_OWORD *)a2;
        __int128 v22 = *((_OWORD *)a2 + 1);
        __int128 v23 = *((_OWORD *)a2 + 2);
        *(_OWORD *)(v16 + 100) = *((_OWORD *)a2 + 3);
        *(_OWORD *)(v16 + 84) = v23;
        *(_OWORD *)(v16 + 68) = v22;
        *(_OWORD *)(v16 + 52) = v21;
        char v24 = byte_207177;
        if ((byte_207177 & 1) != 0) {
          breakpoint_break( (uint64_t)&v54,  (volatile int *)((char *)&stru_2E8.align + 3),  1LL,  *(unsigned int *)(v9 + 3404),  v9);
        }
        uint64_t v25 = (uint64_t)[(id)DYGetGLGuestAppClient(v20) overrideFlags];
        if (!(v25 & 0x10 | v24 & 4))
        {
          uint64_t v26 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, const int *))(*(void *)(v9 + 32) + 7952LL))(a1, a2);
          uint64_t v25 = mach_absolute_time();
          uint64_t v27 = v25 - v26;
          unint64_t v28 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v29 = v54;
            *((void *)v54 + 2) = v26;
            v29[3] = v27;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v51 = __udivti3(g_DYTimebaseInfo * v27, (g_DYTimebaseInfo * (unsigned __int128)v27) >> 64);
            uint64_t v52 = v54;
            *((void *)v54 + 3) = v51;
            uint64_t v25 = __udivti3(v28 * v26, (v28 * (unsigned __int128)v26) >> 64);
            v52[2] = v25;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v25 = check_errors(v9);
        }

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  char *v15;
  char *v16;
  int64_t v17;
  unsigned int v18;
  unint64_t v19;
  uint64_t v20;
  __int128 v21;
  __int128 v22;
  __int128 v23;
  char v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  unint64_t v28;
  void *v29;
  id v30;
  GPUTools::FB::Fbuf *v31;
  unsigned int v32;
  GPUTools::FB::Fbuf *v33;
  dispatch_queue_s *v34;
  uint64_t v35;
  GPUTools::FB::Stream *v36;
  unsigned int *v37;
  unsigned int v38;
  unsigned int v39;
  unsigned int v40;
  signed int v41;
  BOOL v42;
  unsigned int v43;
  uint64_t v44;
  id v45;
  unsigned int v46;
  dispatch_queue_s *v47;
  int v48;
  uint64_t v49;
  uint64_t v50;
  uint64_t v51;
  void *v52;
  __uint64_t v53;
  void *v54;
  char *v55;
  unsigned int v56;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  unint64_t v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    id v45 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v44 = handle_opengl_thread_conflict((const void **)v9);
    id v45 = [(id)DYGetGLGuestAppClient(v44) waitOnGraphicsSemaphoreAssertions];
    if ((int)v45 >= 1)
    {
      do
LABEL_57:
        unsigned int v46 = __ldaxr(v10);
      while (__stlxr(v46 - 1, v10));
      id v47 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v45) graphicsLockWaitQueue];
      dispatch_sync_f(v47, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, const int *))(*(void *)(v9 + 24) + 7952LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  __uint64_t v54 = 0LL;
  int v55 = 0LL;
  unsigned int v56 = 0;
  if ([(id)DYGetGLGuestAppClient(v45) state] != (char *)&dword_0 + 1
    || (id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v14))
  {
    signed int v16 = (char *)v54;
    unsigned int v15 = v55;
    int64_t v17 = v55 - (_BYTE *)v54;
    unsigned int v18 = v56;
    unint64_t v19 = v56 - (v55 - (_BYTE *)v54);
    if (v19 > 0x73) {
      goto LABEL_24;
    }
    int v48 = (371 - v19) & 0xFFFFFF00;
    v56 += v48;
    signed int v16 = (char *)malloc(v48 + v18);
    __uint64_t v54 = v16;
    if (v16)
    {
      if ((v16 & 3) == 0)
      {
        unsigned int v15 = &v16[v17];
LABEL_24:
        *((_DWORD *)v15 + 28) = 0;
        *((_OWORD *)v15 + 5) = 0u;
        *((_OWORD *)v15 + 6) = 0u;
        *((_OWORD *)v15 + 3) = 0u;
        *((_OWORD *)v15 + 4) = 0u;
        *((_OWORD *)v15 + 1) = 0u;
        *((_OWORD *)v15 + 2) = 0u;
        *(_OWORD *)unsigned int v15 = 0u;
        int v55 = v15 + 116;
        GPUTools::FB::Fbuf::align((char **)&v54);
        *((_DWORD *)v16 + 1) = 799;
        *((_DWORD *)v16 + 8) = 0;
        __uint64_t v53 = 0LL;
        uint64_t v20 = pthread_threadid_np(0LL, &v53);
        *((void *)v16 + 1) = v53;
        strcpy(v16 + 36, "C@16x");
        *(void *)(v16 + 44) = *(void *)v9;
        __int128 v21 = *(_OWORD *)a2;
        __int128 v22 = *((_OWORD *)a2 + 1);
        __int128 v23 = *((_OWORD *)a2 + 2);
        *(_OWORD *)(v16 + 100) = *((_OWORD *)a2 + 3);
        *(_OWORD *)(v16 + 84) = v23;
        *(_OWORD *)(v16 + 68) = v22;
        *(_OWORD *)(v16 + 52) = v21;
        char v24 = byte_207177;
        if ((byte_207177 & 1) != 0) {
          breakpoint_break( (uint64_t)&v54,  (volatile int *)((char *)&stru_2E8.align + 3),  1LL,  *(unsigned int *)(v9 + 3404),  v9);
        }
        uint64_t v25 = (uint64_t)[(id)DYGetGLGuestAppClient(v20) overrideFlags];
        if (!(v25 & 0x10 | v24 & 4))
        {
          uint64_t v26 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, const int *))(*(void *)(v9 + 32) + 7952LL))(a1, a2);
          uint64_t v25 = mach_absolute_time();
          uint64_t v27 = v25 - v26;
          unint64_t v28 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v29 = v54;
            *((void *)v54 + 2) = v26;
            v29[3] = v27;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v51 = __udivti3(g_DYTimebaseInfo * v27, (g_DYTimebaseInfo * (unsigned __int128)v27) >> 64);
            uint64_t v52 = v54;
            *((void *)v54 + 3) = v51;
            uint64_t v25 = __udivti3(v28 * v26, (v28 * (unsigned __int128)v26) >> 64);
            v52[2] = v25;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v25 = check_errors(v9);
        }

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  unsigned int v18;
  uint64_t v19;
  id v20;
  unsigned int v21;
  dispatch_queue_s *v22;
  uint64_t v23;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  unint64_t v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    uint64_t v20 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v19 = handle_opengl_thread_conflict((const void **)v9);
    uint64_t v20 = [(id)DYGetGLGuestAppClient(v19) waitOnGraphicsSemaphoreAssertions];
    if ((int)v20 >= 1)
    {
      do
LABEL_34:
        __int128 v21 = __ldaxr(v10);
      while (__stlxr(v21 - 1, v10));
      __int128 v22 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v20) graphicsLockWaitQueue];
      dispatch_sync_f(v22, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, const int *))(*(void *)(v9 + 24) + 7952LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v20) state] == (char *)&dword_0 + 1)
  {
    id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v14)
    {
      do
        unsigned int v18 = __ldaxr(v10);
      while (__stlxr(v18 - 1, v10));
      [(id)DYGetGLGuestAppClient(v14) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, const int *))(*(void *)(v9 + 32) + 7952LL))(a1, a2);
  ++*(void *)(v9 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v9);
    if (gBreakOnError)
    {
      __int128 v23 = *(unsigned int *)(v9 + 3404);
      if ((_DWORD)v23) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v23, v9);
      }
    }
  }

  do
  {
    unsigned int v15 = __ldaxr(v10);
    signed int v16 = v15 - 1;
  }

  while (__stlxr(v16, v10));
  if (gCheckGLErrors) {
    int64_t v17 = v16 < 1;
  }
  else {
    int64_t v17 = 1;
  }
  if (!v17) {
    handle_opengl_thread_conflict((const void **)v9);
  }
}

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  uint64_t v15;
  uint64_t v16;
  int64x2_t v17;
  unsigned int v18;
  signed int v19;
  BOOL v20;
  unsigned int v21;
  uint64_t v22;
  id v23;
  unsigned int v24;
  dispatch_queue_s *v25;
  uint64_t v26;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  unint64_t v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    __int128 v23 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    __int128 v22 = handle_opengl_thread_conflict((const void **)v9);
    __int128 v23 = [(id)DYGetGLGuestAppClient(v22) waitOnGraphicsSemaphoreAssertions];
    if ((int)v23 >= 1)
    {
      do
LABEL_34:
        char v24 = __ldaxr(v10);
      while (__stlxr(v24 - 1, v10));
      uint64_t v25 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v23) graphicsLockWaitQueue];
      dispatch_sync_f(v25, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, const int *))(*(void *)(v9 + 24) + 7952LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v23) state] == (char *)&dword_0 + 1)
  {
    id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v14)
    {
      do
        __int128 v21 = __ldaxr(v10);
      while (__stlxr(v21 - 1, v10));
      [(id)DYGetGLGuestAppClient(v14) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v15 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, const int *))(*(void *)(v9 + 32) + 7952LL))(a1, a2);
  signed int v16 = mach_absolute_time();
  int64_t v17 = vdupq_n_s64(1uLL);
  v17.i64[0] = v16 - v15;
  *(int64x2_t *)(v9 + 3696) = vaddq_s64(v17, *(int64x2_t *)(v9 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v9);
    if (gBreakOnError)
    {
      uint64_t v26 = *(unsigned int *)(v9 + 3404);
      if ((_DWORD)v26) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v26, v9);
      }
    }
  }

  do
  {
    unsigned int v18 = __ldaxr(v10);
    unint64_t v19 = v18 - 1;
  }

  while (__stlxr(v19, v10));
  if (gCheckGLErrors) {
    uint64_t v20 = v19 < 1;
  }
  else {
    uint64_t v20 = 1;
  }
  if (!v20) {
    handle_opengl_thread_conflict((const void **)v9);
  }
}

void sub_96950( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void normal3x(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  id v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v46 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v45 = handle_opengl_thread_conflict((const void **)v13);
    id v46 = [(id)DYGetGLGuestAppClient(v45) waitOnGraphicsSemaphoreAssertions];
    if ((int)v46 >= 1)
    {
      do
LABEL_57:
        unsigned int v47 = __ldaxr(v14);
      while (__stlxr(v47 - 1, v14));
      int v48 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v46) graphicsLockWaitQueue];
      dispatch_sync_f(v48, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 7960LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  int v55 = 0LL;
  unsigned int v56 = 0LL;
  unsigned int v57 = 0;
  if ([(id)DYGetGLGuestAppClient(v46) state] != (char *)&dword_0 + 1
    || (id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v18))
  {
    uint64_t v20 = (char *)v55;
    unint64_t v19 = v56;
    int64_t v21 = v56 - (_BYTE *)v55;
    unsigned int v22 = v57;
    unint64_t v23 = v57 - (v56 - (_BYTE *)v55);
    if (v23 > 0x3F) {
      goto LABEL_24;
    }
    int v49 = (319 - v23) & 0xFFFFFF00;
    v57 += v49;
    uint64_t v20 = (char *)malloc(v49 + v22);
    int v55 = v20;
    if (v20)
    {
      if ((v20 & 3) == 0)
      {
        unint64_t v19 = &v20[v21];
LABEL_24:
        *((_OWORD *)v19 + 2) = 0u;
        *((_OWORD *)v19 + 3) = 0u;
        *(_OWORD *)unint64_t v19 = 0u;
        *((_OWORD *)v19 + 1) = 0u;
        unsigned int v56 = v19 + 64;
        GPUTools::FB::Fbuf::align((char **)&v55);
        *((_DWORD *)v20 + 1) = 801;
        *((_DWORD *)v20 + 8) = 0;
        __uint64_t v54 = 0LL;
        uint64_t v24 = pthread_threadid_np(0LL, &v54);
        *((void *)v20 + 1) = v54;
        strcpy(v20 + 36, "Cxxx");
        *(void *)(v20 + 44) = *(void *)v13;
        *((_DWORD *)v20 + 13) = a2;
        *((_DWORD *)v20 + 14) = a3;
        *((_DWORD *)v20 + 15) = a4;
        char v25 = byte_207179;
        if ((byte_207179 & 1) != 0) {
          breakpoint_break( (uint64_t)&v55,  (volatile int *)((char *)&stru_2E8.reloff + 1),  1LL,  *(unsigned int *)(v13 + 3404),  v13);
        }
        uint64_t v26 = (uint64_t)[(id)DYGetGLGuestAppClient(v24) overrideFlags];
        if (!(v26 & 0x10 | v25 & 4))
        {
          uint64_t v27 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 7960LL))( a1,  a2,  a3,  a4);
          uint64_t v26 = mach_absolute_time();
          uint64_t v28 = v26 - v27;
          unint64_t v29 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            id v30 = v55;
            *((void *)v55 + 2) = v27;
            v30[3] = v28;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v52 = __udivti3(g_DYTimebaseInfo * v28, (g_DYTimebaseInfo * (unsigned __int128)v28) >> 64);
            __uint64_t v53 = v55;
            *((void *)v55 + 3) = v52;
            uint64_t v26 = __udivti3(v29 * v27, (v29 * (unsigned __int128)v27) >> 64);
            v53[2] = v26;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v26 = check_errors(v13);
        }

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  char *v19;
  char *v20;
  int64_t v21;
  unsigned int v22;
  unint64_t v23;
  uint64_t v24;
  char v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  unint64_t v29;
  void *v30;
  id v31;
  GPUTools::FB::Fbuf *v32;
  unsigned int v33;
  GPUTools::FB::Fbuf *v34;
  dispatch_queue_s *v35;
  uint64_t v36;
  GPUTools::FB::Stream *v37;
  unsigned int *v38;
  unsigned int v39;
  unsigned int v40;
  unsigned int v41;
  signed int v42;
  BOOL v43;
  unsigned int v44;
  uint64_t v45;
  id v46;
  unsigned int v47;
  dispatch_queue_s *v48;
  int v49;
  uint64_t v50;
  uint64_t v51;
  uint64_t v52;
  void *v53;
  __uint64_t v54;
  void *v55;
  char *v56;
  unsigned int v57;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  id v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v46 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v45 = handle_opengl_thread_conflict((const void **)v13);
    id v46 = [(id)DYGetGLGuestAppClient(v45) waitOnGraphicsSemaphoreAssertions];
    if ((int)v46 >= 1)
    {
      do
LABEL_57:
        unsigned int v47 = __ldaxr(v14);
      while (__stlxr(v47 - 1, v14));
      int v48 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v46) graphicsLockWaitQueue];
      dispatch_sync_f(v48, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 7960LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  int v55 = 0LL;
  unsigned int v56 = 0LL;
  unsigned int v57 = 0;
  if ([(id)DYGetGLGuestAppClient(v46) state] != (char *)&dword_0 + 1
    || (id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v18))
  {
    uint64_t v20 = (char *)v55;
    unint64_t v19 = v56;
    int64_t v21 = v56 - (_BYTE *)v55;
    unsigned int v22 = v57;
    unint64_t v23 = v57 - (v56 - (_BYTE *)v55);
    if (v23 > 0x3F) {
      goto LABEL_24;
    }
    int v49 = (319 - v23) & 0xFFFFFF00;
    v57 += v49;
    uint64_t v20 = (char *)malloc(v49 + v22);
    int v55 = v20;
    if (v20)
    {
      if ((v20 & 3) == 0)
      {
        unint64_t v19 = &v20[v21];
LABEL_24:
        *((_OWORD *)v19 + 2) = 0u;
        *((_OWORD *)v19 + 3) = 0u;
        *(_OWORD *)unint64_t v19 = 0u;
        *((_OWORD *)v19 + 1) = 0u;
        unsigned int v56 = v19 + 64;
        GPUTools::FB::Fbuf::align((char **)&v55);
        *((_DWORD *)v20 + 1) = 801;
        *((_DWORD *)v20 + 8) = 0;
        __uint64_t v54 = 0LL;
        uint64_t v24 = pthread_threadid_np(0LL, &v54);
        *((void *)v20 + 1) = v54;
        strcpy(v20 + 36, "Cxxx");
        *(void *)(v20 + 44) = *(void *)v13;
        *((_DWORD *)v20 + 13) = a2;
        *((_DWORD *)v20 + 14) = a3;
        *((_DWORD *)v20 + 15) = a4;
        char v25 = byte_207179;
        if ((byte_207179 & 1) != 0) {
          breakpoint_break( (uint64_t)&v55,  (volatile int *)((char *)&stru_2E8.reloff + 1),  1LL,  *(unsigned int *)(v13 + 3404),  v13);
        }
        uint64_t v26 = (uint64_t)[(id)DYGetGLGuestAppClient(v24) overrideFlags];
        if (!(v26 & 0x10 | v25 & 4))
        {
          uint64_t v27 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 7960LL))( a1,  a2,  a3,  a4);
          uint64_t v26 = mach_absolute_time();
          uint64_t v28 = v26 - v27;
          unint64_t v29 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            id v30 = v55;
            *((void *)v55 + 2) = v27;
            v30[3] = v28;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v52 = __udivti3(g_DYTimebaseInfo * v28, (g_DYTimebaseInfo * (unsigned __int128)v28) >> 64);
            __uint64_t v53 = v55;
            *((void *)v55 + 3) = v52;
            uint64_t v26 = __udivti3(v29 * v27, (v29 * (unsigned __int128)v27) >> 64);
            v53[2] = v26;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v26 = check_errors(v13);
        }

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  unsigned int v22;
  uint64_t v23;
  id v24;
  unsigned int v25;
  dispatch_queue_s *v26;
  uint64_t v27;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  id v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        char v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      uint64_t v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 7960LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 7960LL))( a1,  a2,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    unint64_t v19 = __ldaxr(v14);
    uint64_t v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    int64_t v21 = v20 < 1;
  }
  else {
    int64_t v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  id v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        uint64_t v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      unint64_t v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 7960LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        char v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unint64_t v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 7960LL))( a1,  a2,  a3,  a4);
  uint64_t v20 = mach_absolute_time();
  int64_t v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      id v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    unint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    uint64_t v24 = v23 < 1;
  }
  else {
    uint64_t v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void sub_96E4C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void orthof(__GLIContextRec *a1, float a2, float a3, float a4, float a5, float a6, float a7)
{
  id v14 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v14) {
    goto LABEL_12;
  }
  uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v16 = v14[4];
    BOOL v17 = v16 >= (unint64_t)a1;
    else {
      id v18 = v14 + 1;
    }
    if (v17) {
      uint64_t v15 = (uint64_t)v14;
    }
    id v14 = (void *)*v18;
  }

  while (*v18);
  if (v15 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v15 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v19 = *(void *)(v15 + 40);
  uint64_t v20 = (unsigned int *)(v19 + 4640);
  do
  {
    unsigned int v21 = __ldaxr(v20);
    signed int v22 = v21 + 1;
  }

  while (__stlxr(v22, v20));
  if (gCheckGLErrors) {
    BOOL v23 = v22 <= 1;
  }
  else {
    BOOL v23 = 1;
  }
  if (v23)
  {
    id v52 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v51 = handle_opengl_thread_conflict((const void **)v19);
    id v52 = [(id)DYGetGLGuestAppClient(v51) waitOnGraphicsSemaphoreAssertions];
    if ((int)v52 >= 1)
    {
      do
LABEL_57:
        unsigned int v53 = __ldaxr(v20);
      while (__stlxr(v53 - 1, v20));
      __uint64_t v54 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v52) graphicsLockWaitQueue];
      dispatch_sync_f(v54, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, float, float, float, float, float, float))(*(void *)(v19 + 24)
                                                                                          + 7968LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
      return;
    }
  }

  *(_BYTE *)(v19 + 4838) = 1;
  uint64_t v61 = 0LL;
  __int128 v62 = 0LL;
  unsigned int v63 = 0;
  if ([(id)DYGetGLGuestAppClient(v52) state] != (char *)&dword_0 + 1
    || (id v24 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v24))
  {
    uint64_t v26 = (char *)v61;
    char v25 = v62;
    int64_t v27 = v62 - (_BYTE *)v61;
    unsigned int v28 = v63;
    unint64_t v29 = v63 - (v62 - (_BYTE *)v61);
    if (v29 > 0x4B) {
      goto LABEL_24;
    }
    int v55 = (331 - v29) & 0xFFFFFF00;
    v63 += v55;
    uint64_t v26 = (char *)malloc(v55 + v28);
    uint64_t v61 = v26;
    if (v26)
    {
      if ((v26 & 3) == 0)
      {
        char v25 = &v26[v27];
LABEL_24:
        *(_OWORD *)(v25 + 60) = 0u;
        *((_OWORD *)v25 + 2) = 0u;
        *((_OWORD *)v25 + 3) = 0u;
        *(_OWORD *)char v25 = 0u;
        *((_OWORD *)v25 + 1) = 0u;
        __int128 v62 = v25 + 76;
        GPUTools::FB::Fbuf::align((char **)&v61);
        *((_DWORD *)v26 + 1) = 802;
        *((_DWORD *)v26 + 8) = 0;
        __uint64_t v60 = 0LL;
        uint64_t v30 = pthread_threadid_np(0LL, &v60);
        *((void *)v26 + 1) = v60;
        *(void *)(v26 + 36) = 0x66666666666643LL;
        *(void *)(v26 + 44) = *(void *)v19;
        *((float *)v26 + 13) = a2;
        *((float *)v26 + 14) = a3;
        *((float *)v26 + 15) = a4;
        *((float *)v26 + 16) = a5;
        *((float *)v26 + 17) = a6;
        *((float *)v26 + 18) = a7;
        char v31 = byte_20717A;
        if ((byte_20717A & 1) != 0) {
          breakpoint_break( (uint64_t)&v61,  (volatile int *)((char *)&stru_2E8.reloff + 2),  1LL,  *(unsigned int *)(v19 + 3404),  v19);
        }
        uint64_t v32 = (uint64_t)[(id)DYGetGLGuestAppClient(v30) overrideFlags];
        if (!(v32 & 0x10 | v31 & 4))
        {
          uint64_t v33 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, float, float, float, float, float, float))(*(void *)(v19 + 32)
                                                                                              + 7968LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
          uint64_t v32 = mach_absolute_time();
          uint64_t v34 = v32 - v33;
          unint64_t v35 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v36 = v61;
            *((void *)v61 + 2) = v33;
            v36[3] = v34;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v58 = __udivti3(g_DYTimebaseInfo * v34, (g_DYTimebaseInfo * (unsigned __int128)v34) >> 64);
            uint64_t v59 = v61;
            *((void *)v61 + 3) = v58;
            uint64_t v32 = __udivti3(v35 * v33, (v35 * (unsigned __int128)v33) >> 64);
            v59[2] = v32;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v32 = check_errors(v19);
        }

{
  void *v14;
  uint64_t v15;
  unint64_t v16;
  BOOL v17;
  void *v18;
  uint64_t v19;
  unsigned int *v20;
  unsigned int v21;
  signed int v22;
  BOOL v23;
  id v24;
  char *v25;
  char *v26;
  int64_t v27;
  unsigned int v28;
  unint64_t v29;
  uint64_t v30;
  char v31;
  uint64_t v32;
  uint64_t v33;
  uint64_t v34;
  unint64_t v35;
  void *v36;
  id v37;
  GPUTools::FB::Fbuf *v38;
  unsigned int v39;
  GPUTools::FB::Fbuf *v40;
  dispatch_queue_s *v41;
  uint64_t v42;
  GPUTools::FB::Stream *v43;
  unsigned int *v44;
  unsigned int v45;
  unsigned int v46;
  unsigned int v47;
  signed int v48;
  BOOL v49;
  unsigned int v50;
  uint64_t v51;
  id v52;
  unsigned int v53;
  dispatch_queue_s *v54;
  int v55;
  uint64_t v56;
  uint64_t v57;
  uint64_t v58;
  void *v59;
  __uint64_t v60;
  void *v61;
  char *v62;
  unsigned int v63;
  id v14 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v14) {
    goto LABEL_12;
  }
  uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v16 = v14[4];
    BOOL v17 = v16 >= (unint64_t)a1;
    else {
      id v18 = v14 + 1;
    }
    if (v17) {
      uint64_t v15 = (uint64_t)v14;
    }
    id v14 = (void *)*v18;
  }

  while (*v18);
  if (v15 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v15 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v19 = *(void *)(v15 + 40);
  uint64_t v20 = (unsigned int *)(v19 + 4640);
  do
  {
    unsigned int v21 = __ldaxr(v20);
    signed int v22 = v21 + 1;
  }

  while (__stlxr(v22, v20));
  if (gCheckGLErrors) {
    BOOL v23 = v22 <= 1;
  }
  else {
    BOOL v23 = 1;
  }
  if (v23)
  {
    id v52 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v51 = handle_opengl_thread_conflict((const void **)v19);
    id v52 = [(id)DYGetGLGuestAppClient(v51) waitOnGraphicsSemaphoreAssertions];
    if ((int)v52 >= 1)
    {
      do
LABEL_57:
        unsigned int v53 = __ldaxr(v20);
      while (__stlxr(v53 - 1, v20));
      __uint64_t v54 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v52) graphicsLockWaitQueue];
      dispatch_sync_f(v54, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, float, float, float, float, float, float))(*(void *)(v19 + 24)
                                                                                          + 7968LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
      return;
    }
  }

  *(_BYTE *)(v19 + 4838) = 1;
  uint64_t v61 = 0LL;
  __int128 v62 = 0LL;
  unsigned int v63 = 0;
  if ([(id)DYGetGLGuestAppClient(v52) state] != (char *)&dword_0 + 1
    || (id v24 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v24))
  {
    uint64_t v26 = (char *)v61;
    char v25 = v62;
    int64_t v27 = v62 - (_BYTE *)v61;
    unsigned int v28 = v63;
    unint64_t v29 = v63 - (v62 - (_BYTE *)v61);
    if (v29 > 0x4B) {
      goto LABEL_24;
    }
    int v55 = (331 - v29) & 0xFFFFFF00;
    v63 += v55;
    uint64_t v26 = (char *)malloc(v55 + v28);
    uint64_t v61 = v26;
    if (v26)
    {
      if ((v26 & 3) == 0)
      {
        char v25 = &v26[v27];
LABEL_24:
        *(_OWORD *)(v25 + 60) = 0u;
        *((_OWORD *)v25 + 2) = 0u;
        *((_OWORD *)v25 + 3) = 0u;
        *(_OWORD *)char v25 = 0u;
        *((_OWORD *)v25 + 1) = 0u;
        __int128 v62 = v25 + 76;
        GPUTools::FB::Fbuf::align((char **)&v61);
        *((_DWORD *)v26 + 1) = 802;
        *((_DWORD *)v26 + 8) = 0;
        __uint64_t v60 = 0LL;
        uint64_t v30 = pthread_threadid_np(0LL, &v60);
        *((void *)v26 + 1) = v60;
        *(void *)(v26 + 36) = 0x66666666666643LL;
        *(void *)(v26 + 44) = *(void *)v19;
        *((float *)v26 + 13) = a2;
        *((float *)v26 + 14) = a3;
        *((float *)v26 + 15) = a4;
        *((float *)v26 + 16) = a5;
        *((float *)v26 + 17) = a6;
        *((float *)v26 + 18) = a7;
        char v31 = byte_20717A;
        if ((byte_20717A & 1) != 0) {
          breakpoint_break( (uint64_t)&v61,  (volatile int *)((char *)&stru_2E8.reloff + 2),  1LL,  *(unsigned int *)(v19 + 3404),  v19);
        }
        uint64_t v32 = (uint64_t)[(id)DYGetGLGuestAppClient(v30) overrideFlags];
        if (!(v32 & 0x10 | v31 & 4))
        {
          uint64_t v33 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, float, float, float, float, float, float))(*(void *)(v19 + 32)
                                                                                              + 7968LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
          uint64_t v32 = mach_absolute_time();
          uint64_t v34 = v32 - v33;
          unint64_t v35 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v36 = v61;
            *((void *)v61 + 2) = v33;
            v36[3] = v34;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v58 = __udivti3(g_DYTimebaseInfo * v34, (g_DYTimebaseInfo * (unsigned __int128)v34) >> 64);
            uint64_t v59 = v61;
            *((void *)v61 + 3) = v58;
            uint64_t v32 = __udivti3(v35 * v33, (v35 * (unsigned __int128)v33) >> 64);
            v59[2] = v32;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v32 = check_errors(v19);
        }

{
  void *v14;
  uint64_t v15;
  unint64_t v16;
  BOOL v17;
  void *v18;
  uint64_t v19;
  unsigned int *v20;
  unsigned int v21;
  signed int v22;
  BOOL v23;
  id v24;
  unsigned int v25;
  signed int v26;
  BOOL v27;
  unsigned int v28;
  uint64_t v29;
  id v30;
  unsigned int v31;
  dispatch_queue_s *v32;
  uint64_t v33;
  id v14 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v14) {
    goto LABEL_12;
  }
  uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v16 = v14[4];
    BOOL v17 = v16 >= (unint64_t)a1;
    else {
      id v18 = v14 + 1;
    }
    if (v17) {
      uint64_t v15 = (uint64_t)v14;
    }
    id v14 = (void *)*v18;
  }

  while (*v18);
  if (v15 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v15 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v19 = *(void *)(v15 + 40);
  uint64_t v20 = (unsigned int *)(v19 + 4640);
  do
  {
    unsigned int v21 = __ldaxr(v20);
    signed int v22 = v21 + 1;
  }

  while (__stlxr(v22, v20));
  if (gCheckGLErrors) {
    BOOL v23 = v22 <= 1;
  }
  else {
    BOOL v23 = 1;
  }
  if (v23)
  {
    uint64_t v30 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v29 = handle_opengl_thread_conflict((const void **)v19);
    uint64_t v30 = [(id)DYGetGLGuestAppClient(v29) waitOnGraphicsSemaphoreAssertions];
    if ((int)v30 >= 1)
    {
      do
LABEL_34:
        char v31 = __ldaxr(v20);
      while (__stlxr(v31 - 1, v20));
      uint64_t v32 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v30) graphicsLockWaitQueue];
      dispatch_sync_f(v32, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, float, float, float, float, float, float))(*(void *)(v19 + 24)
                                                                                          + 7968LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
      return;
    }
  }

  *(_BYTE *)(v19 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v30) state] == (char *)&dword_0 + 1)
  {
    id v24 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v24)
    {
      do
        unsigned int v28 = __ldaxr(v20);
      while (__stlxr(v28 - 1, v20));
      [(id)DYGetGLGuestAppClient(v24) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, float, float, float, float, float, float))(*(void *)(v19 + 32) + 7968LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
  ++*(void *)(v19 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v19);
    if (gBreakOnError)
    {
      uint64_t v33 = *(unsigned int *)(v19 + 3404);
      if ((_DWORD)v33) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v33, v19);
      }
    }
  }

  do
  {
    char v25 = __ldaxr(v20);
    uint64_t v26 = v25 - 1;
  }

  while (__stlxr(v26, v20));
  if (gCheckGLErrors) {
    int64_t v27 = v26 < 1;
  }
  else {
    int64_t v27 = 1;
  }
  if (!v27) {
    handle_opengl_thread_conflict((const void **)v19);
  }
}

{
  void *v14;
  uint64_t v15;
  unint64_t v16;
  BOOL v17;
  void *v18;
  uint64_t v19;
  unsigned int *v20;
  unsigned int v21;
  signed int v22;
  BOOL v23;
  id v24;
  uint64_t v25;
  uint64_t v26;
  int64x2_t v27;
  unsigned int v28;
  signed int v29;
  BOOL v30;
  unsigned int v31;
  uint64_t v32;
  id v33;
  unsigned int v34;
  dispatch_queue_s *v35;
  uint64_t v36;
  id v14 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v14) {
    goto LABEL_12;
  }
  uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v16 = v14[4];
    BOOL v17 = v16 >= (unint64_t)a1;
    else {
      id v18 = v14 + 1;
    }
    if (v17) {
      uint64_t v15 = (uint64_t)v14;
    }
    id v14 = (void *)*v18;
  }

  while (*v18);
  if (v15 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v15 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v19 = *(void *)(v15 + 40);
  uint64_t v20 = (unsigned int *)(v19 + 4640);
  do
  {
    unsigned int v21 = __ldaxr(v20);
    signed int v22 = v21 + 1;
  }

  while (__stlxr(v22, v20));
  if (gCheckGLErrors) {
    BOOL v23 = v22 <= 1;
  }
  else {
    BOOL v23 = 1;
  }
  if (v23)
  {
    uint64_t v33 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v32 = handle_opengl_thread_conflict((const void **)v19);
    uint64_t v33 = [(id)DYGetGLGuestAppClient(v32) waitOnGraphicsSemaphoreAssertions];
    if ((int)v33 >= 1)
    {
      do
LABEL_34:
        uint64_t v34 = __ldaxr(v20);
      while (__stlxr(v34 - 1, v20));
      unint64_t v35 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v33) graphicsLockWaitQueue];
      dispatch_sync_f(v35, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, float, float, float, float, float, float))(*(void *)(v19 + 24)
                                                                                          + 7968LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
      return;
    }
  }

  *(_BYTE *)(v19 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v33) state] == (char *)&dword_0 + 1)
  {
    id v24 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v24)
    {
      do
        char v31 = __ldaxr(v20);
      while (__stlxr(v31 - 1, v20));
      [(id)DYGetGLGuestAppClient(v24) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  char v25 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, float, float, float, float, float, float))(*(void *)(v19 + 32) + 7968LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
  uint64_t v26 = mach_absolute_time();
  int64_t v27 = vdupq_n_s64(1uLL);
  v27.i64[0] = v26 - v25;
  *(int64x2_t *)(v19 + 3696) = vaddq_s64(v27, *(int64x2_t *)(v19 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v19);
    if (gBreakOnError)
    {
      uint64_t v36 = *(unsigned int *)(v19 + 3404);
      if ((_DWORD)v36) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v36, v19);
      }
    }
  }

  do
  {
    unsigned int v28 = __ldaxr(v20);
    unint64_t v29 = v28 - 1;
  }

  while (__stlxr(v29, v20));
  if (gCheckGLErrors) {
    uint64_t v30 = v29 < 1;
  }
  else {
    uint64_t v30 = 1;
  }
  if (!v30) {
    handle_opengl_thread_conflict((const void **)v19);
  }
}

void sub_9739C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void orthox( __GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, unsigned int a7)
{
  uint64_t v13 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v13) {
    goto LABEL_12;
  }
  uint64_t v14 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v15 = v13[4];
    BOOL v16 = v15 >= (unint64_t)a1;
    else {
      BOOL v17 = v13 + 1;
    }
    if (v16) {
      uint64_t v14 = (uint64_t)v13;
    }
    uint64_t v13 = (void *)*v17;
  }

  while (*v17);
  if (v14 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v14 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v14 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v18 = *(void *)(v14 + 40);
  uint64_t v19 = (unsigned int *)(v18 + 4640);
  do
  {
    unsigned int v20 = __ldaxr(v19);
    signed int v21 = v20 + 1;
  }

  while (__stlxr(v21, v19));
  if (gCheckGLErrors) {
    BOOL v22 = v21 <= 1;
  }
  else {
    BOOL v22 = 1;
  }
  if (v22)
  {
    id v51 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v50 = handle_opengl_thread_conflict((const void **)v18);
    id v51 = [(id)DYGetGLGuestAppClient(v50) waitOnGraphicsSemaphoreAssertions];
    if ((int)v51 >= 1)
    {
      do
LABEL_57:
        unsigned int v52 = __ldaxr(v19);
      while (__stlxr(v52 - 1, v19));
      unsigned int v53 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v51) graphicsLockWaitQueue];
      dispatch_sync_f(v53, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, void))(*(void *)(v18 + 24) + 7976LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
      return;
    }
  }

  *(_BYTE *)(v18 + 4838) = 1;
  uint64_t v61 = 0LL;
  __int128 v62 = 0LL;
  unsigned int v63 = 0;
  if ([(id)DYGetGLGuestAppClient(v51) state] != (char *)&dword_0 + 1
    || (id v23 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v23))
  {
    char v25 = (char *)v61;
    id v24 = v62;
    int64_t v26 = v62 - (_BYTE *)v61;
    unsigned int v27 = v63;
    unint64_t v28 = v63 - (v62 - (_BYTE *)v61);
    if (v28 > 0x4B) {
      goto LABEL_24;
    }
    int v54 = (331 - v28) & 0xFFFFFF00;
    v63 += v54;
    char v25 = (char *)malloc(v54 + v27);
    uint64_t v61 = v25;
    if (v25)
    {
      if ((v25 & 3) == 0)
      {
        id v24 = &v25[v26];
LABEL_24:
        *(_OWORD *)(v24 + 60) = 0u;
        *((_OWORD *)v24 + 2) = 0u;
        *((_OWORD *)v24 + 3) = 0u;
        *(_OWORD *)id v24 = 0u;
        *((_OWORD *)v24 + 1) = 0u;
        __int128 v62 = v24 + 76;
        GPUTools::FB::Fbuf::align((char **)&v61);
        *((_DWORD *)v25 + 1) = 803;
        *((_DWORD *)v25 + 8) = 0;
        __uint64_t v60 = 0LL;
        uint64_t v29 = pthread_threadid_np(0LL, &v60);
        *((void *)v25 + 1) = v60;
        *(void *)(v25 + 36) = 0x78787878787843LL;
        *(void *)(v25 + 44) = *(void *)v18;
        *((_DWORD *)v25 + 13) = a2;
        *((_DWORD *)v25 + 14) = a3;
        *((_DWORD *)v25 + 15) = a4;
        *((_DWORD *)v25 + 16) = a5;
        *((_DWORD *)v25 + 17) = a6;
        *((_DWORD *)v25 + 18) = a7;
        char v30 = byte_20717B;
        if ((byte_20717B & 1) != 0) {
          breakpoint_break( (uint64_t)&v61,  (volatile int *)((char *)&stru_2E8.reloff + 3),  1LL,  *(unsigned int *)(v18 + 3404),  v18);
        }
        uint64_t v31 = (uint64_t)[(id)DYGetGLGuestAppClient(v29) overrideFlags];
        if (!(v31 & 0x10 | v30 & 4))
        {
          uint64_t v32 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, void))(*(void *)(v18 + 32) + 7976LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
          uint64_t v31 = mach_absolute_time();
          uint64_t v33 = v31 - v32;
          unint64_t v34 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unint64_t v35 = v61;
            *((void *)v61 + 2) = v32;
            v35[3] = v33;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v57 = __udivti3(g_DYTimebaseInfo * v33, (g_DYTimebaseInfo * (unsigned __int128)v33) >> 64);
            uint64_t v58 = v61;
            *((void *)v61 + 3) = v57;
            uint64_t v31 = __udivti3(v34 * v32, (v34 * (unsigned __int128)v32) >> 64);
            v58[2] = v31;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v31 = check_errors(v18);
        }

{
  void *v13;
  uint64_t v14;
  unint64_t v15;
  BOOL v16;
  void *v17;
  uint64_t v18;
  unsigned int *v19;
  unsigned int v20;
  signed int v21;
  BOOL v22;
  id v23;
  char *v24;
  char *v25;
  int64_t v26;
  unsigned int v27;
  unint64_t v28;
  uint64_t v29;
  char v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  unint64_t v34;
  void *v35;
  id v36;
  GPUTools::FB::Fbuf *v37;
  unsigned int v38;
  GPUTools::FB::Fbuf *v39;
  dispatch_queue_s *v40;
  uint64_t v41;
  GPUTools::FB::Stream *v42;
  unsigned int *v43;
  unsigned int v44;
  unsigned int v45;
  unsigned int v46;
  signed int v47;
  BOOL v48;
  unsigned int v49;
  uint64_t v50;
  id v51;
  unsigned int v52;
  dispatch_queue_s *v53;
  int v54;
  uint64_t v55;
  uint64_t v56;
  uint64_t v57;
  void *v58;
  __uint64_t v60;
  void *v61;
  char *v62;
  unsigned int v63;
  uint64_t v13 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v13) {
    goto LABEL_12;
  }
  uint64_t v14 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v15 = v13[4];
    BOOL v16 = v15 >= (unint64_t)a1;
    else {
      BOOL v17 = v13 + 1;
    }
    if (v16) {
      uint64_t v14 = (uint64_t)v13;
    }
    uint64_t v13 = (void *)*v17;
  }

  while (*v17);
  if (v14 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v14 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v14 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v18 = *(void *)(v14 + 40);
  uint64_t v19 = (unsigned int *)(v18 + 4640);
  do
  {
    unsigned int v20 = __ldaxr(v19);
    signed int v21 = v20 + 1;
  }

  while (__stlxr(v21, v19));
  if (gCheckGLErrors) {
    BOOL v22 = v21 <= 1;
  }
  else {
    BOOL v22 = 1;
  }
  if (v22)
  {
    id v51 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v50 = handle_opengl_thread_conflict((const void **)v18);
    id v51 = [(id)DYGetGLGuestAppClient(v50) waitOnGraphicsSemaphoreAssertions];
    if ((int)v51 >= 1)
    {
      do
LABEL_57:
        unsigned int v52 = __ldaxr(v19);
      while (__stlxr(v52 - 1, v19));
      unsigned int v53 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v51) graphicsLockWaitQueue];
      dispatch_sync_f(v53, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, void))(*(void *)(v18 + 24) + 7976LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
      return;
    }
  }

  *(_BYTE *)(v18 + 4838) = 1;
  uint64_t v61 = 0LL;
  __int128 v62 = 0LL;
  unsigned int v63 = 0;
  if ([(id)DYGetGLGuestAppClient(v51) state] != (char *)&dword_0 + 1
    || (id v23 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v23))
  {
    char v25 = (char *)v61;
    id v24 = v62;
    int64_t v26 = v62 - (_BYTE *)v61;
    unsigned int v27 = v63;
    unint64_t v28 = v63 - (v62 - (_BYTE *)v61);
    if (v28 > 0x4B) {
      goto LABEL_24;
    }
    int v54 = (331 - v28) & 0xFFFFFF00;
    v63 += v54;
    char v25 = (char *)malloc(v54 + v27);
    uint64_t v61 = v25;
    if (v25)
    {
      if ((v25 & 3) == 0)
      {
        id v24 = &v25[v26];
LABEL_24:
        *(_OWORD *)(v24 + 60) = 0u;
        *((_OWORD *)v24 + 2) = 0u;
        *((_OWORD *)v24 + 3) = 0u;
        *(_OWORD *)id v24 = 0u;
        *((_OWORD *)v24 + 1) = 0u;
        __int128 v62 = v24 + 76;
        GPUTools::FB::Fbuf::align((char **)&v61);
        *((_DWORD *)v25 + 1) = 803;
        *((_DWORD *)v25 + 8) = 0;
        __uint64_t v60 = 0LL;
        uint64_t v29 = pthread_threadid_np(0LL, &v60);
        *((void *)v25 + 1) = v60;
        *(void *)(v25 + 36) = 0x78787878787843LL;
        *(void *)(v25 + 44) = *(void *)v18;
        *((_DWORD *)v25 + 13) = a2;
        *((_DWORD *)v25 + 14) = a3;
        *((_DWORD *)v25 + 15) = a4;
        *((_DWORD *)v25 + 16) = a5;
        *((_DWORD *)v25 + 17) = a6;
        *((_DWORD *)v25 + 18) = a7;
        char v30 = byte_20717B;
        if ((byte_20717B & 1) != 0) {
          breakpoint_break( (uint64_t)&v61,  (volatile int *)((char *)&stru_2E8.reloff + 3),  1LL,  *(unsigned int *)(v18 + 3404),  v18);
        }
        uint64_t v31 = (uint64_t)[(id)DYGetGLGuestAppClient(v29) overrideFlags];
        if (!(v31 & 0x10 | v30 & 4))
        {
          uint64_t v32 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, void))(*(void *)(v18 + 32) + 7976LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
          uint64_t v31 = mach_absolute_time();
          uint64_t v33 = v31 - v32;
          unint64_t v34 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unint64_t v35 = v61;
            *((void *)v61 + 2) = v32;
            v35[3] = v33;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v57 = __udivti3(g_DYTimebaseInfo * v33, (g_DYTimebaseInfo * (unsigned __int128)v33) >> 64);
            uint64_t v58 = v61;
            *((void *)v61 + 3) = v57;
            uint64_t v31 = __udivti3(v34 * v32, (v34 * (unsigned __int128)v32) >> 64);
            v58[2] = v31;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v31 = check_errors(v18);
        }

void sub_978F0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void point_sizex(__GLIContextRec *a1, uint64_t a2)
{
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  unint64_t v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    id v42 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v41 = handle_opengl_thread_conflict((const void **)v9);
    id v42 = [(id)DYGetGLGuestAppClient(v41) waitOnGraphicsSemaphoreAssertions];
    if ((int)v42 >= 1)
    {
      do
LABEL_57:
        unsigned int v43 = __ldaxr(v10);
      while (__stlxr(v43 - 1, v10));
      unsigned int v44 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v42) graphicsLockWaitQueue];
      dispatch_sync_f(v44, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 7984LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  id v51 = 0LL;
  unsigned int v52 = 0LL;
  unsigned int v53 = 0;
  if ([(id)DYGetGLGuestAppClient(v42) state] != (char *)&dword_0 + 1
    || (id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v14))
  {
    BOOL v16 = (char *)v51;
    unint64_t v15 = v52;
    int64_t v17 = v52 - (_BYTE *)v51;
    unsigned int v18 = v53;
    unint64_t v19 = v53 - (v52 - (_BYTE *)v51);
    if (v19 > 0x33) {
      goto LABEL_24;
    }
    int v45 = (307 - v19) & 0xFFFFFF00;
    v53 += v45;
    BOOL v16 = (char *)malloc(v45 + v18);
    id v51 = v16;
    if (v16)
    {
      if ((v16 & 3) == 0)
      {
        unint64_t v15 = &v16[v17];
LABEL_24:
        *((_DWORD *)v15 + 12) = 0;
        *((_OWORD *)v15 + 1) = 0u;
        *((_OWORD *)v15 + 2) = 0u;
        *(_OWORD *)unint64_t v15 = 0u;
        unsigned int v52 = v15 + 52;
        GPUTools::FB::Fbuf::align((char **)&v51);
        *((_DWORD *)v16 + 1) = 807;
        *((_DWORD *)v16 + 8) = 0;
        __uint64_t v50 = 0LL;
        uint64_t v20 = pthread_threadid_np(0LL, &v50);
        *((void *)v16 + 1) = v50;
        strcpy(v16 + 36, "Cx");
        *((void *)v16 + 5) = *(void *)v9;
        *((_DWORD *)v16 + 12) = a2;
        char v21 = byte_20717F;
        if ((byte_20717F & 1) != 0) {
          breakpoint_break( (uint64_t)&v51,  (volatile int *)((char *)&stru_2E8.nreloc + 3),  1LL,  *(unsigned int *)(v9 + 3404),  v9);
        }
        uint64_t v22 = (uint64_t)[(id)DYGetGLGuestAppClient(v20) overrideFlags];
        if (!(v22 & 0x10 | v21 & 4))
        {
          uint64_t v23 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 32) + 7984LL))(a1, a2);
          uint64_t v22 = mach_absolute_time();
          uint64_t v24 = v22 - v23;
          unint64_t v25 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            int64_t v26 = v51;
            *((void *)v51 + 2) = v23;
            v26[3] = v24;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v48 = __udivti3(g_DYTimebaseInfo * v24, (g_DYTimebaseInfo * (unsigned __int128)v24) >> 64);
            unsigned int v49 = v51;
            *((void *)v51 + 3) = v48;
            uint64_t v22 = __udivti3(v25 * v23, (v25 * (unsigned __int128)v23) >> 64);
            v49[2] = v22;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v22 = check_errors(v9);
        }

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  char *v15;
  char *v16;
  int64_t v17;
  unsigned int v18;
  unint64_t v19;
  uint64_t v20;
  char v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  unint64_t v25;
  void *v26;
  id v27;
  GPUTools::FB::Fbuf *v28;
  unsigned int v29;
  GPUTools::FB::Fbuf *v30;
  dispatch_queue_s *v31;
  uint64_t v32;
  GPUTools::FB::Stream *v33;
  unsigned int *v34;
  unsigned int v35;
  unsigned int v36;
  unsigned int v37;
  signed int v38;
  BOOL v39;
  unsigned int v40;
  uint64_t v41;
  id v42;
  unsigned int v43;
  dispatch_queue_s *v44;
  int v45;
  uint64_t v46;
  uint64_t v47;
  uint64_t v48;
  void *v49;
  __uint64_t v50;
  void *v51;
  char *v52;
  unsigned int v53;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  unint64_t v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    id v42 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v41 = handle_opengl_thread_conflict((const void **)v9);
    id v42 = [(id)DYGetGLGuestAppClient(v41) waitOnGraphicsSemaphoreAssertions];
    if ((int)v42 >= 1)
    {
      do
LABEL_57:
        unsigned int v43 = __ldaxr(v10);
      while (__stlxr(v43 - 1, v10));
      unsigned int v44 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v42) graphicsLockWaitQueue];
      dispatch_sync_f(v44, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 7984LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  id v51 = 0LL;
  unsigned int v52 = 0LL;
  unsigned int v53 = 0;
  if ([(id)DYGetGLGuestAppClient(v42) state] != (char *)&dword_0 + 1
    || (id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v14))
  {
    BOOL v16 = (char *)v51;
    unint64_t v15 = v52;
    int64_t v17 = v52 - (_BYTE *)v51;
    unsigned int v18 = v53;
    unint64_t v19 = v53 - (v52 - (_BYTE *)v51);
    if (v19 > 0x33) {
      goto LABEL_24;
    }
    int v45 = (307 - v19) & 0xFFFFFF00;
    v53 += v45;
    BOOL v16 = (char *)malloc(v45 + v18);
    id v51 = v16;
    if (v16)
    {
      if ((v16 & 3) == 0)
      {
        unint64_t v15 = &v16[v17];
LABEL_24:
        *((_DWORD *)v15 + 12) = 0;
        *((_OWORD *)v15 + 1) = 0u;
        *((_OWORD *)v15 + 2) = 0u;
        *(_OWORD *)unint64_t v15 = 0u;
        unsigned int v52 = v15 + 52;
        GPUTools::FB::Fbuf::align((char **)&v51);
        *((_DWORD *)v16 + 1) = 807;
        *((_DWORD *)v16 + 8) = 0;
        __uint64_t v50 = 0LL;
        uint64_t v20 = pthread_threadid_np(0LL, &v50);
        *((void *)v16 + 1) = v50;
        strcpy(v16 + 36, "Cx");
        *((void *)v16 + 5) = *(void *)v9;
        *((_DWORD *)v16 + 12) = a2;
        char v21 = byte_20717F;
        if ((byte_20717F & 1) != 0) {
          breakpoint_break( (uint64_t)&v51,  (volatile int *)((char *)&stru_2E8.nreloc + 3),  1LL,  *(unsigned int *)(v9 + 3404),  v9);
        }
        uint64_t v22 = (uint64_t)[(id)DYGetGLGuestAppClient(v20) overrideFlags];
        if (!(v22 & 0x10 | v21 & 4))
        {
          uint64_t v23 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 32) + 7984LL))(a1, a2);
          uint64_t v22 = mach_absolute_time();
          uint64_t v24 = v22 - v23;
          unint64_t v25 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            int64_t v26 = v51;
            *((void *)v51 + 2) = v23;
            v26[3] = v24;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v48 = __udivti3(g_DYTimebaseInfo * v24, (g_DYTimebaseInfo * (unsigned __int128)v24) >> 64);
            unsigned int v49 = v51;
            *((void *)v51 + 3) = v48;
            uint64_t v22 = __udivti3(v25 * v23, (v25 * (unsigned __int128)v23) >> 64);
            v49[2] = v22;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v22 = check_errors(v9);
        }

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  unsigned int v18;
  uint64_t v19;
  id v20;
  unsigned int v21;
  dispatch_queue_s *v22;
  uint64_t v23;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  unint64_t v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    uint64_t v20 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v19 = handle_opengl_thread_conflict((const void **)v9);
    uint64_t v20 = [(id)DYGetGLGuestAppClient(v19) waitOnGraphicsSemaphoreAssertions];
    if ((int)v20 >= 1)
    {
      do
LABEL_34:
        char v21 = __ldaxr(v10);
      while (__stlxr(v21 - 1, v10));
      uint64_t v22 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v20) graphicsLockWaitQueue];
      dispatch_sync_f(v22, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 7984LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v20) state] == (char *)&dword_0 + 1)
  {
    id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v14)
    {
      do
        unsigned int v18 = __ldaxr(v10);
      while (__stlxr(v18 - 1, v10));
      [(id)DYGetGLGuestAppClient(v14) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 32) + 7984LL))(a1, a2);
  ++*(void *)(v9 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v9);
    if (gBreakOnError)
    {
      uint64_t v23 = *(unsigned int *)(v9 + 3404);
      if ((_DWORD)v23) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v23, v9);
      }
    }
  }

  do
  {
    unint64_t v15 = __ldaxr(v10);
    BOOL v16 = v15 - 1;
  }

  while (__stlxr(v16, v10));
  if (gCheckGLErrors) {
    int64_t v17 = v16 < 1;
  }
  else {
    int64_t v17 = 1;
  }
  if (!v17) {
    handle_opengl_thread_conflict((const void **)v9);
  }
}

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  uint64_t v15;
  uint64_t v16;
  int64x2_t v17;
  unsigned int v18;
  signed int v19;
  BOOL v20;
  unsigned int v21;
  uint64_t v22;
  id v23;
  unsigned int v24;
  dispatch_queue_s *v25;
  uint64_t v26;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  unint64_t v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    uint64_t v23 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v22 = handle_opengl_thread_conflict((const void **)v9);
    uint64_t v23 = [(id)DYGetGLGuestAppClient(v22) waitOnGraphicsSemaphoreAssertions];
    if ((int)v23 >= 1)
    {
      do
LABEL_34:
        uint64_t v24 = __ldaxr(v10);
      while (__stlxr(v24 - 1, v10));
      unint64_t v25 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v23) graphicsLockWaitQueue];
      dispatch_sync_f(v25, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 7984LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v23) state] == (char *)&dword_0 + 1)
  {
    id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v14)
    {
      do
        char v21 = __ldaxr(v10);
      while (__stlxr(v21 - 1, v10));
      [(id)DYGetGLGuestAppClient(v14) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unint64_t v15 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 32) + 7984LL))(a1, a2);
  BOOL v16 = mach_absolute_time();
  int64_t v17 = vdupq_n_s64(1uLL);
  v17.i64[0] = v16 - v15;
  *(int64x2_t *)(v9 + 3696) = vaddq_s64(v17, *(int64x2_t *)(v9 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v9);
    if (gBreakOnError)
    {
      int64_t v26 = *(unsigned int *)(v9 + 3404);
      if ((_DWORD)v26) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v26, v9);
      }
    }
  }

  do
  {
    unsigned int v18 = __ldaxr(v10);
    unint64_t v19 = v18 - 1;
  }

  while (__stlxr(v19, v10));
  if (gCheckGLErrors) {
    uint64_t v20 = v19 < 1;
  }
  else {
    uint64_t v20 = 1;
  }
  if (!v20) {
    handle_opengl_thread_conflict((const void **)v9);
  }
}

void sub_97DBC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void polygon_offsetx(__GLIContextRec *a1, uint64_t a2, uint64_t a3)
{
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  signed int v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v44 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v43 = handle_opengl_thread_conflict((const void **)v11);
    id v44 = [(id)DYGetGLGuestAppClient(v43) waitOnGraphicsSemaphoreAssertions];
    if ((int)v44 >= 1)
    {
      do
LABEL_57:
        unsigned int v45 = __ldaxr(v12);
      while (__stlxr(v45 - 1, v12));
      uint64_t v46 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v44) graphicsLockWaitQueue];
      dispatch_sync_f(v46, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 24) + 7992LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  unsigned int v53 = 0LL;
  int v54 = 0LL;
  unsigned int v55 = 0;
  if ([(id)DYGetGLGuestAppClient(v44) state] != (char *)&dword_0 + 1
    || (id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v16))
  {
    unsigned int v18 = (char *)v53;
    int64_t v17 = v54;
    int64_t v19 = v54 - (_BYTE *)v53;
    unsigned int v20 = v55;
    unint64_t v21 = v55 - (v54 - (_BYTE *)v53);
    if (v21 > 0x37) {
      goto LABEL_24;
    }
    int v47 = (311 - v21) & 0xFFFFFF00;
    v55 += v47;
    unsigned int v18 = (char *)malloc(v47 + v20);
    unsigned int v53 = v18;
    if (v18)
    {
      if ((v18 & 3) == 0)
      {
        int64_t v17 = &v18[v19];
LABEL_24:
        *((void *)v17 + 6) = 0LL;
        *((_OWORD *)v17 + 1) = 0u;
        *((_OWORD *)v17 + 2) = 0u;
        *(_OWORD *)int64_t v17 = 0u;
        int v54 = v17 + 56;
        GPUTools::FB::Fbuf::align((char **)&v53);
        *((_DWORD *)v18 + 1) = 808;
        *((_DWORD *)v18 + 8) = 0;
        __uint64_t v52 = 0LL;
        uint64_t v22 = pthread_threadid_np(0LL, &v52);
        *((void *)v18 + 1) = v52;
        *((_DWORD *)v18 + 9) = 7895107;
        *((void *)v18 + 5) = *(void *)v11;
        *((_DWORD *)v18 + 12) = a2;
        *((_DWORD *)v18 + 13) = a3;
        char v23 = byte_207180;
        if ((byte_207180 & 1) != 0) {
          breakpoint_break((uint64_t)&v53, (volatile int *)&stru_2E8.flags, 1LL, *(unsigned int *)(v11 + 3404), v11);
        }
        uint64_t v24 = (uint64_t)[(id)DYGetGLGuestAppClient(v22) overrideFlags];
        if (!(v24 & 0x10 | v23 & 4))
        {
          uint64_t v25 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 32) + 7992LL))(a1, a2, a3);
          uint64_t v24 = mach_absolute_time();
          uint64_t v26 = v24 - v25;
          unint64_t v27 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unint64_t v28 = v53;
            *((void *)v53 + 2) = v25;
            v28[3] = v26;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v50 = __udivti3(g_DYTimebaseInfo * v26, (g_DYTimebaseInfo * (unsigned __int128)v26) >> 64);
            id v51 = v53;
            *((void *)v53 + 3) = v50;
            uint64_t v24 = __udivti3(v27 * v25, (v27 * (unsigned __int128)v25) >> 64);
            v51[2] = v24;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v24 = check_errors(v11);
        }

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  char *v17;
  char *v18;
  int64_t v19;
  unsigned int v20;
  unint64_t v21;
  uint64_t v22;
  char v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  unint64_t v27;
  void *v28;
  id v29;
  GPUTools::FB::Fbuf *v30;
  unsigned int v31;
  GPUTools::FB::Fbuf *v32;
  dispatch_queue_s *v33;
  uint64_t v34;
  GPUTools::FB::Stream *v35;
  unsigned int *v36;
  unsigned int v37;
  unsigned int v38;
  unsigned int v39;
  signed int v40;
  BOOL v41;
  unsigned int v42;
  uint64_t v43;
  id v44;
  unsigned int v45;
  dispatch_queue_s *v46;
  int v47;
  uint64_t v48;
  uint64_t v49;
  uint64_t v50;
  void *v51;
  __uint64_t v52;
  void *v53;
  char *v54;
  unsigned int v55;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  signed int v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v44 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v43 = handle_opengl_thread_conflict((const void **)v11);
    id v44 = [(id)DYGetGLGuestAppClient(v43) waitOnGraphicsSemaphoreAssertions];
    if ((int)v44 >= 1)
    {
      do
LABEL_57:
        unsigned int v45 = __ldaxr(v12);
      while (__stlxr(v45 - 1, v12));
      uint64_t v46 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v44) graphicsLockWaitQueue];
      dispatch_sync_f(v46, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 24) + 7992LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  unsigned int v53 = 0LL;
  int v54 = 0LL;
  unsigned int v55 = 0;
  if ([(id)DYGetGLGuestAppClient(v44) state] != (char *)&dword_0 + 1
    || (id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v16))
  {
    unsigned int v18 = (char *)v53;
    int64_t v17 = v54;
    int64_t v19 = v54 - (_BYTE *)v53;
    unsigned int v20 = v55;
    unint64_t v21 = v55 - (v54 - (_BYTE *)v53);
    if (v21 > 0x37) {
      goto LABEL_24;
    }
    int v47 = (311 - v21) & 0xFFFFFF00;
    v55 += v47;
    unsigned int v18 = (char *)malloc(v47 + v20);
    unsigned int v53 = v18;
    if (v18)
    {
      if ((v18 & 3) == 0)
      {
        int64_t v17 = &v18[v19];
LABEL_24:
        *((void *)v17 + 6) = 0LL;
        *((_OWORD *)v17 + 1) = 0u;
        *((_OWORD *)v17 + 2) = 0u;
        *(_OWORD *)int64_t v17 = 0u;
        int v54 = v17 + 56;
        GPUTools::FB::Fbuf::align((char **)&v53);
        *((_DWORD *)v18 + 1) = 808;
        *((_DWORD *)v18 + 8) = 0;
        __uint64_t v52 = 0LL;
        uint64_t v22 = pthread_threadid_np(0LL, &v52);
        *((void *)v18 + 1) = v52;
        *((_DWORD *)v18 + 9) = 7895107;
        *((void *)v18 + 5) = *(void *)v11;
        *((_DWORD *)v18 + 12) = a2;
        *((_DWORD *)v18 + 13) = a3;
        char v23 = byte_207180;
        if ((byte_207180 & 1) != 0) {
          breakpoint_break((uint64_t)&v53, (volatile int *)&stru_2E8.flags, 1LL, *(unsigned int *)(v11 + 3404), v11);
        }
        uint64_t v24 = (uint64_t)[(id)DYGetGLGuestAppClient(v22) overrideFlags];
        if (!(v24 & 0x10 | v23 & 4))
        {
          uint64_t v25 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 32) + 7992LL))(a1, a2, a3);
          uint64_t v24 = mach_absolute_time();
          uint64_t v26 = v24 - v25;
          unint64_t v27 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unint64_t v28 = v53;
            *((void *)v53 + 2) = v25;
            v28[3] = v26;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v50 = __udivti3(g_DYTimebaseInfo * v26, (g_DYTimebaseInfo * (unsigned __int128)v26) >> 64);
            id v51 = v53;
            *((void *)v53 + 3) = v50;
            uint64_t v24 = __udivti3(v27 * v25, (v27 * (unsigned __int128)v25) >> 64);
            v51[2] = v24;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v24 = check_errors(v11);
        }

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  unsigned int v20;
  uint64_t v21;
  id v22;
  unsigned int v23;
  dispatch_queue_s *v24;
  uint64_t v25;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  signed int v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v22 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v21 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v22 = [(id)DYGetGLGuestAppClient(v21) waitOnGraphicsSemaphoreAssertions];
    if ((int)v22 >= 1)
    {
      do
LABEL_34:
        char v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      uint64_t v24 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v22) graphicsLockWaitQueue];
      dispatch_sync_f(v24, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 24) + 7992LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v22) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v20 = __ldaxr(v12);
      while (__stlxr(v20 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 32) + 7992LL))(a1, a2, a3);
  ++*(void *)(v11 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v25 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v25) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v25, v11);
      }
    }
  }

  do
  {
    int64_t v17 = __ldaxr(v12);
    unsigned int v18 = v17 - 1;
  }

  while (__stlxr(v18, v12));
  if (gCheckGLErrors) {
    int64_t v19 = v18 < 1;
  }
  else {
    int64_t v19 = 1;
  }
  if (!v19) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  uint64_t v17;
  uint64_t v18;
  int64x2_t v19;
  unsigned int v20;
  signed int v21;
  BOOL v22;
  unsigned int v23;
  uint64_t v24;
  id v25;
  unsigned int v26;
  dispatch_queue_s *v27;
  uint64_t v28;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  signed int v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v24 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        uint64_t v26 = __ldaxr(v12);
      while (__stlxr(v26 - 1, v12));
      unint64_t v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 24) + 7992LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        char v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  int64_t v17 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 32) + 7992LL))(a1, a2, a3);
  unsigned int v18 = mach_absolute_time();
  int64_t v19 = vdupq_n_s64(1uLL);
  v19.i64[0] = v18 - v17;
  *(int64x2_t *)(v11 + 3696) = vaddq_s64(v19, *(int64x2_t *)(v11 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      unint64_t v28 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v11);
      }
    }
  }

  do
  {
    unsigned int v20 = __ldaxr(v12);
    unint64_t v21 = v20 - 1;
  }

  while (__stlxr(v21, v12));
  if (gCheckGLErrors) {
    uint64_t v22 = v21 < 1;
  }
  else {
    uint64_t v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

void sub_98298( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void rotatex(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      signed int v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  id v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    id v48 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v47 = handle_opengl_thread_conflict((const void **)v15);
    id v48 = [(id)DYGetGLGuestAppClient(v47) waitOnGraphicsSemaphoreAssertions];
    if ((int)v48 >= 1)
    {
      do
LABEL_57:
        unsigned int v49 = __ldaxr(v16);
      while (__stlxr(v49 - 1, v16));
      uint64_t v50 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v48) graphicsLockWaitQueue];
      dispatch_sync_f(v50, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 24) + 8000LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  uint64_t v57 = 0LL;
  uint64_t v58 = 0LL;
  unsigned int v59 = 0;
  if ([(id)DYGetGLGuestAppClient(v48) state] != (char *)&dword_0 + 1
    || (id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v20))
  {
    uint64_t v22 = (char *)v57;
    unint64_t v21 = v58;
    int64_t v23 = v58 - (_BYTE *)v57;
    unsigned int v24 = v59;
    unint64_t v25 = v59 - (v58 - (_BYTE *)v57);
    if (v25 > 0x43) {
      goto LABEL_24;
    }
    int v51 = (323 - v25) & 0xFFFFFF00;
    v59 += v51;
    uint64_t v22 = (char *)malloc(v51 + v24);
    uint64_t v57 = v22;
    if (v22)
    {
      if ((v22 & 3) == 0)
      {
        unint64_t v21 = &v22[v23];
LABEL_24:
        *((_DWORD *)v21 + 16) = 0;
        *((_OWORD *)v21 + 2) = 0u;
        *((_OWORD *)v21 + 3) = 0u;
        *(_OWORD *)unint64_t v21 = 0u;
        *((_OWORD *)v21 + 1) = 0u;
        uint64_t v58 = v21 + 68;
        GPUTools::FB::Fbuf::align((char **)&v57);
        *((_DWORD *)v22 + 1) = 810;
        *((_DWORD *)v22 + 8) = 0;
        __uint64_t v56 = 0LL;
        uint64_t v26 = pthread_threadid_np(0LL, &v56);
        *((void *)v22 + 1) = v56;
        strcpy(v22 + 36, "Cxxxx");
        *(void *)(v22 + 44) = *(void *)v15;
        *((_DWORD *)v22 + 13) = a2;
        *((_DWORD *)v22 + 14) = a3;
        *((_DWORD *)v22 + 15) = a4;
        *((_DWORD *)v22 + 16) = a5;
        char v27 = byte_207182;
        if ((byte_207182 & 1) != 0) {
          breakpoint_break( (uint64_t)&v57,  (volatile int *)((char *)&stru_2E8.flags + 2),  1LL,  *(unsigned int *)(v15 + 3404),  v15);
        }
        uint64_t v28 = (uint64_t)[(id)DYGetGLGuestAppClient(v26) overrideFlags];
        if (!(v28 & 0x10 | v27 & 4))
        {
          uint64_t v29 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 32) + 8000LL))( a1,  a2,  a3,  a4,  a5);
          uint64_t v28 = mach_absolute_time();
          uint64_t v30 = v28 - v29;
          unint64_t v31 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v32 = v57;
            *((void *)v57 + 2) = v29;
            v32[3] = v30;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v54 = __udivti3(g_DYTimebaseInfo * v30, (g_DYTimebaseInfo * (unsigned __int128)v30) >> 64);
            unsigned int v55 = v57;
            *((void *)v57 + 3) = v54;
            uint64_t v28 = __udivti3(v31 * v29, (v31 * (unsigned __int128)v29) >> 64);
            v55[2] = v28;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v28 = check_errors(v15);
        }

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  id v20;
  char *v21;
  char *v22;
  int64_t v23;
  unsigned int v24;
  unint64_t v25;
  uint64_t v26;
  char v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  unint64_t v31;
  void *v32;
  id v33;
  GPUTools::FB::Fbuf *v34;
  unsigned int v35;
  GPUTools::FB::Fbuf *v36;
  dispatch_queue_s *v37;
  uint64_t v38;
  GPUTools::FB::Stream *v39;
  unsigned int *v40;
  unsigned int v41;
  unsigned int v42;
  unsigned int v43;
  signed int v44;
  BOOL v45;
  unsigned int v46;
  uint64_t v47;
  id v48;
  unsigned int v49;
  dispatch_queue_s *v50;
  int v51;
  uint64_t v52;
  uint64_t v53;
  uint64_t v54;
  void *v55;
  __uint64_t v56;
  void *v57;
  char *v58;
  unsigned int v59;
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      signed int v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  id v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    id v48 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v47 = handle_opengl_thread_conflict((const void **)v15);
    id v48 = [(id)DYGetGLGuestAppClient(v47) waitOnGraphicsSemaphoreAssertions];
    if ((int)v48 >= 1)
    {
      do
LABEL_57:
        unsigned int v49 = __ldaxr(v16);
      while (__stlxr(v49 - 1, v16));
      uint64_t v50 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v48) graphicsLockWaitQueue];
      dispatch_sync_f(v50, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 24) + 8000LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  uint64_t v57 = 0LL;
  uint64_t v58 = 0LL;
  unsigned int v59 = 0;
  if ([(id)DYGetGLGuestAppClient(v48) state] != (char *)&dword_0 + 1
    || (id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v20))
  {
    uint64_t v22 = (char *)v57;
    unint64_t v21 = v58;
    int64_t v23 = v58 - (_BYTE *)v57;
    unsigned int v24 = v59;
    unint64_t v25 = v59 - (v58 - (_BYTE *)v57);
    if (v25 > 0x43) {
      goto LABEL_24;
    }
    int v51 = (323 - v25) & 0xFFFFFF00;
    v59 += v51;
    uint64_t v22 = (char *)malloc(v51 + v24);
    uint64_t v57 = v22;
    if (v22)
    {
      if ((v22 & 3) == 0)
      {
        unint64_t v21 = &v22[v23];
LABEL_24:
        *((_DWORD *)v21 + 16) = 0;
        *((_OWORD *)v21 + 2) = 0u;
        *((_OWORD *)v21 + 3) = 0u;
        *(_OWORD *)unint64_t v21 = 0u;
        *((_OWORD *)v21 + 1) = 0u;
        uint64_t v58 = v21 + 68;
        GPUTools::FB::Fbuf::align((char **)&v57);
        *((_DWORD *)v22 + 1) = 810;
        *((_DWORD *)v22 + 8) = 0;
        __uint64_t v56 = 0LL;
        uint64_t v26 = pthread_threadid_np(0LL, &v56);
        *((void *)v22 + 1) = v56;
        strcpy(v22 + 36, "Cxxxx");
        *(void *)(v22 + 44) = *(void *)v15;
        *((_DWORD *)v22 + 13) = a2;
        *((_DWORD *)v22 + 14) = a3;
        *((_DWORD *)v22 + 15) = a4;
        *((_DWORD *)v22 + 16) = a5;
        char v27 = byte_207182;
        if ((byte_207182 & 1) != 0) {
          breakpoint_break( (uint64_t)&v57,  (volatile int *)((char *)&stru_2E8.flags + 2),  1LL,  *(unsigned int *)(v15 + 3404),  v15);
        }
        uint64_t v28 = (uint64_t)[(id)DYGetGLGuestAppClient(v26) overrideFlags];
        if (!(v28 & 0x10 | v27 & 4))
        {
          uint64_t v29 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 32) + 8000LL))( a1,  a2,  a3,  a4,  a5);
          uint64_t v28 = mach_absolute_time();
          uint64_t v30 = v28 - v29;
          unint64_t v31 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v32 = v57;
            *((void *)v57 + 2) = v29;
            v32[3] = v30;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v54 = __udivti3(g_DYTimebaseInfo * v30, (g_DYTimebaseInfo * (unsigned __int128)v30) >> 64);
            unsigned int v55 = v57;
            *((void *)v57 + 3) = v54;
            uint64_t v28 = __udivti3(v31 * v29, (v31 * (unsigned __int128)v29) >> 64);
            v55[2] = v28;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v28 = check_errors(v15);
        }

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  id v20;
  unsigned int v21;
  signed int v22;
  BOOL v23;
  unsigned int v24;
  uint64_t v25;
  id v26;
  unsigned int v27;
  dispatch_queue_s *v28;
  uint64_t v29;
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      signed int v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  id v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    uint64_t v26 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v25 = handle_opengl_thread_conflict((const void **)v15);
    uint64_t v26 = [(id)DYGetGLGuestAppClient(v25) waitOnGraphicsSemaphoreAssertions];
    if ((int)v26 >= 1)
    {
      do
LABEL_34:
        char v27 = __ldaxr(v16);
      while (__stlxr(v27 - 1, v16));
      uint64_t v28 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v26) graphicsLockWaitQueue];
      dispatch_sync_f(v28, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 24) + 8000LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v26) state] == (char *)&dword_0 + 1)
  {
    id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        unsigned int v24 = __ldaxr(v16);
      while (__stlxr(v24 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 32) + 8000LL))( a1,  a2,  a3,  a4,  a5);
  ++*(void *)(v15 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v29 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v29) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v29, v15);
      }
    }
  }

  do
  {
    unint64_t v21 = __ldaxr(v16);
    uint64_t v22 = v21 - 1;
  }

  while (__stlxr(v22, v16));
  if (gCheckGLErrors) {
    int64_t v23 = v22 < 1;
  }
  else {
    int64_t v23 = 1;
  }
  if (!v23) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  id v20;
  uint64_t v21;
  uint64_t v22;
  int64x2_t v23;
  unsigned int v24;
  signed int v25;
  BOOL v26;
  unsigned int v27;
  uint64_t v28;
  id v29;
  unsigned int v30;
  dispatch_queue_s *v31;
  uint64_t v32;
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      signed int v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  id v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    uint64_t v29 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v28 = handle_opengl_thread_conflict((const void **)v15);
    uint64_t v29 = [(id)DYGetGLGuestAppClient(v28) waitOnGraphicsSemaphoreAssertions];
    if ((int)v29 >= 1)
    {
      do
LABEL_34:
        uint64_t v30 = __ldaxr(v16);
      while (__stlxr(v30 - 1, v16));
      unint64_t v31 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v29) graphicsLockWaitQueue];
      dispatch_sync_f(v31, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 24) + 8000LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v29) state] == (char *)&dword_0 + 1)
  {
    id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        char v27 = __ldaxr(v16);
      while (__stlxr(v27 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unint64_t v21 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 32) + 8000LL))( a1,  a2,  a3,  a4,  a5);
  uint64_t v22 = mach_absolute_time();
  int64_t v23 = vdupq_n_s64(1uLL);
  v23.i64[0] = v22 - v21;
  *(int64x2_t *)(v15 + 3696) = vaddq_s64(v23, *(int64x2_t *)(v15 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v32 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v32) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v32, v15);
      }
    }
  }

  do
  {
    unsigned int v24 = __ldaxr(v16);
    unint64_t v25 = v24 - 1;
  }

  while (__stlxr(v25, v16));
  if (gCheckGLErrors) {
    uint64_t v26 = v25 < 1;
  }
  else {
    uint64_t v26 = 1;
  }
  if (!v26) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

void sub_987B0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void scalex(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v46 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v45 = handle_opengl_thread_conflict((const void **)v13);
    id v46 = [(id)DYGetGLGuestAppClient(v45) waitOnGraphicsSemaphoreAssertions];
    if ((int)v46 >= 1)
    {
      do
LABEL_57:
        unsigned int v47 = __ldaxr(v14);
      while (__stlxr(v47 - 1, v14));
      id v48 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v46) graphicsLockWaitQueue];
      dispatch_sync_f(v48, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 8008LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  unsigned int v55 = 0LL;
  __uint64_t v56 = 0LL;
  unsigned int v57 = 0;
  if ([(id)DYGetGLGuestAppClient(v46) state] != (char *)&dword_0 + 1
    || (id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v18))
  {
    id v20 = (char *)v55;
    BOOL v19 = v56;
    int64_t v21 = v56 - (_BYTE *)v55;
    unsigned int v22 = v57;
    unint64_t v23 = v57 - (v56 - (_BYTE *)v55);
    if (v23 > 0x3F) {
      goto LABEL_24;
    }
    int v49 = (319 - v23) & 0xFFFFFF00;
    v57 += v49;
    id v20 = (char *)malloc(v49 + v22);
    unsigned int v55 = v20;
    if (v20)
    {
      if ((v20 & 3) == 0)
      {
        BOOL v19 = &v20[v21];
LABEL_24:
        *((_OWORD *)v19 + 2) = 0u;
        *((_OWORD *)v19 + 3) = 0u;
        *(_OWORD *)BOOL v19 = 0u;
        *((_OWORD *)v19 + 1) = 0u;
        __uint64_t v56 = v19 + 64;
        GPUTools::FB::Fbuf::align((char **)&v55);
        *((_DWORD *)v20 + 1) = 812;
        *((_DWORD *)v20 + 8) = 0;
        __uint64_t v54 = 0LL;
        uint64_t v24 = pthread_threadid_np(0LL, &v54);
        *((void *)v20 + 1) = v54;
        strcpy(v20 + 36, "Cxxx");
        *(void *)(v20 + 44) = *(void *)v13;
        *((_DWORD *)v20 + 13) = a2;
        *((_DWORD *)v20 + 14) = a3;
        *((_DWORD *)v20 + 15) = a4;
        char v25 = byte_207184;
        if ((byte_207184 & 1) != 0) {
          breakpoint_break((uint64_t)&v55, (volatile int *)&stru_2E8.reserved1, 1LL, *(unsigned int *)(v13 + 3404), v13);
        }
        uint64_t v26 = (uint64_t)[(id)DYGetGLGuestAppClient(v24) overrideFlags];
        if (!(v26 & 0x10 | v25 & 4))
        {
          uint64_t v27 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 8008LL))( a1,  a2,  a3,  a4);
          uint64_t v26 = mach_absolute_time();
          uint64_t v28 = v26 - v27;
          unint64_t v29 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v30 = v55;
            *((void *)v55 + 2) = v27;
            v30[3] = v28;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v52 = __udivti3(g_DYTimebaseInfo * v28, (g_DYTimebaseInfo * (unsigned __int128)v28) >> 64);
            uint64_t v53 = v55;
            *((void *)v55 + 3) = v52;
            uint64_t v26 = __udivti3(v29 * v27, (v29 * (unsigned __int128)v27) >> 64);
            v53[2] = v26;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v26 = check_errors(v13);
        }

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  char *v19;
  char *v20;
  int64_t v21;
  unsigned int v22;
  unint64_t v23;
  uint64_t v24;
  char v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  unint64_t v29;
  void *v30;
  id v31;
  GPUTools::FB::Fbuf *v32;
  unsigned int v33;
  GPUTools::FB::Fbuf *v34;
  dispatch_queue_s *v35;
  uint64_t v36;
  GPUTools::FB::Stream *v37;
  unsigned int *v38;
  unsigned int v39;
  unsigned int v40;
  unsigned int v41;
  signed int v42;
  BOOL v43;
  unsigned int v44;
  uint64_t v45;
  id v46;
  unsigned int v47;
  dispatch_queue_s *v48;
  int v49;
  uint64_t v50;
  uint64_t v51;
  uint64_t v52;
  void *v53;
  __uint64_t v54;
  void *v55;
  char *v56;
  unsigned int v57;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v46 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v45 = handle_opengl_thread_conflict((const void **)v13);
    id v46 = [(id)DYGetGLGuestAppClient(v45) waitOnGraphicsSemaphoreAssertions];
    if ((int)v46 >= 1)
    {
      do
LABEL_57:
        unsigned int v47 = __ldaxr(v14);
      while (__stlxr(v47 - 1, v14));
      id v48 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v46) graphicsLockWaitQueue];
      dispatch_sync_f(v48, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 8008LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  unsigned int v55 = 0LL;
  __uint64_t v56 = 0LL;
  unsigned int v57 = 0;
  if ([(id)DYGetGLGuestAppClient(v46) state] != (char *)&dword_0 + 1
    || (id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v18))
  {
    id v20 = (char *)v55;
    BOOL v19 = v56;
    int64_t v21 = v56 - (_BYTE *)v55;
    unsigned int v22 = v57;
    unint64_t v23 = v57 - (v56 - (_BYTE *)v55);
    if (v23 > 0x3F) {
      goto LABEL_24;
    }
    int v49 = (319 - v23) & 0xFFFFFF00;
    v57 += v49;
    id v20 = (char *)malloc(v49 + v22);
    unsigned int v55 = v20;
    if (v20)
    {
      if ((v20 & 3) == 0)
      {
        BOOL v19 = &v20[v21];
LABEL_24:
        *((_OWORD *)v19 + 2) = 0u;
        *((_OWORD *)v19 + 3) = 0u;
        *(_OWORD *)BOOL v19 = 0u;
        *((_OWORD *)v19 + 1) = 0u;
        __uint64_t v56 = v19 + 64;
        GPUTools::FB::Fbuf::align((char **)&v55);
        *((_DWORD *)v20 + 1) = 812;
        *((_DWORD *)v20 + 8) = 0;
        __uint64_t v54 = 0LL;
        uint64_t v24 = pthread_threadid_np(0LL, &v54);
        *((void *)v20 + 1) = v54;
        strcpy(v20 + 36, "Cxxx");
        *(void *)(v20 + 44) = *(void *)v13;
        *((_DWORD *)v20 + 13) = a2;
        *((_DWORD *)v20 + 14) = a3;
        *((_DWORD *)v20 + 15) = a4;
        char v25 = byte_207184;
        if ((byte_207184 & 1) != 0) {
          breakpoint_break((uint64_t)&v55, (volatile int *)&stru_2E8.reserved1, 1LL, *(unsigned int *)(v13 + 3404), v13);
        }
        uint64_t v26 = (uint64_t)[(id)DYGetGLGuestAppClient(v24) overrideFlags];
        if (!(v26 & 0x10 | v25 & 4))
        {
          uint64_t v27 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 8008LL))( a1,  a2,  a3,  a4);
          uint64_t v26 = mach_absolute_time();
          uint64_t v28 = v26 - v27;
          unint64_t v29 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v30 = v55;
            *((void *)v55 + 2) = v27;
            v30[3] = v28;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v52 = __udivti3(g_DYTimebaseInfo * v28, (g_DYTimebaseInfo * (unsigned __int128)v28) >> 64);
            uint64_t v53 = v55;
            *((void *)v55 + 3) = v52;
            uint64_t v26 = __udivti3(v29 * v27, (v29 * (unsigned __int128)v27) >> 64);
            v53[2] = v26;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v26 = check_errors(v13);
        }

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  unsigned int v22;
  uint64_t v23;
  id v24;
  unsigned int v25;
  dispatch_queue_s *v26;
  uint64_t v27;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        char v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      uint64_t v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 8008LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 8008LL))( a1,  a2,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    BOOL v19 = __ldaxr(v14);
    id v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    int64_t v21 = v20 < 1;
  }
  else {
    int64_t v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        uint64_t v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      unint64_t v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 8008LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        char v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  BOOL v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 8008LL))( a1,  a2,  a3,  a4);
  id v20 = mach_absolute_time();
  int64_t v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    unint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    uint64_t v24 = v23 < 1;
  }
  else {
    uint64_t v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void sub_98CAC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void tex_envx(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  unint64_t v8 = "Ceee";
  if ((_DWORD)a3 == 34163) {
    unint64_t v8 = "Ceex";
  }
  if ((_DWORD)a3 == 34049) {
    uint64_t v9 = "Ceex";
  }
  else {
    uint64_t v9 = v8;
  }
  if ((_DWORD)a3 == 3356) {
    unint64_t v10 = "Ceex";
  }
  else {
    unint64_t v10 = v9;
  }
  BOOL v11 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v11) {
    goto LABEL_20;
  }
  uint64_t v12 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v13 = v11[4];
    BOOL v14 = v13 >= (unint64_t)a1;
    else {
      unsigned int v15 = v11 + 1;
    }
    if (v14) {
      uint64_t v12 = (uint64_t)v11;
    }
    BOOL v11 = (void *)*v15;
  }

  while (*v15);
  if (v12 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v12 + 32) > (unint64_t)a1) {
LABEL_20:
  }
    uint64_t v12 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v16 = *(void *)(v12 + 40);
  BOOL v17 = (unsigned int *)(v16 + 4640);
  do
  {
    unsigned int v18 = __ldaxr(v17);
    signed int v19 = v18 + 1;
  }

  while (__stlxr(v19, v17));
  if (gCheckGLErrors) {
    BOOL v20 = v19 <= 1;
  }
  else {
    BOOL v20 = 1;
  }
  if (v20)
  {
    id v48 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v47 = handle_opengl_thread_conflict((const void **)v16);
    id v48 = [(id)DYGetGLGuestAppClient(v47) waitOnGraphicsSemaphoreAssertions];
    if ((int)v48 >= 1)
    {
      do
LABEL_64:
        unsigned int v49 = __ldaxr(v17);
      while (__stlxr(v49 - 1, v17));
      uint64_t v50 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v48) graphicsLockWaitQueue];
      dispatch_sync_f(v50, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v16 + 24) + 8016LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v16 + 4838) = 1;
  v55[0] = 0LL;
  v55[1] = 0LL;
  int v56 = 0;
  if ([(id)DYGetGLGuestAppClient(v48) state] != (char *)&dword_0 + 1
    || (id v25 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v25))
  {
    GPUTools::FB::Encode((uint64_t)v55, 814LL, 0LL, (uint64_t)v10, v21, v22, v23, v24, *(void *)v16);
    char v27 = byte_207186;
    if ((byte_207186 & 1) != 0) {
      breakpoint_break( (uint64_t)v55,  (volatile int *)((char *)&stru_2E8.reserved1 + 2),  1LL,  *(unsigned int *)(v16 + 3404),  v16);
    }
    uint64_t v28 = (uint64_t)[(id)DYGetGLGuestAppClient(v26) overrideFlags];
    if (!(v28 & 0x10 | v27 & 4))
    {
      uint64_t v29 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v16 + 32) + 8016LL))( a1,  a2,  a3,  a4);
      uint64_t v28 = mach_absolute_time();
      uint64_t v30 = v28 - v29;
      unint64_t v31 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        uint64_t v32 = v55[0];
        *((void *)v55[0] + 2) = v29;
        v32[3] = v30;
        if (!gCheckGLErrors) {
          goto LABEL_36;
        }
      }

      else
      {
        uint64_t v53 = __udivti3(g_DYTimebaseInfo * v30, (g_DYTimebaseInfo * (unsigned __int128)v30) >> 64);
        __uint64_t v54 = v55[0];
        *((void *)v55[0] + 3) = v53;
        uint64_t v28 = __udivti3(v31 * v29, (v31 * (unsigned __int128)v29) >> 64);
        v54[2] = v28;
        if (!gCheckGLErrors) {
          goto LABEL_36;
        }
      }

      uint64_t v28 = check_errors(v16);
    }

{
  const char *v8;
  const char *v9;
  const char *v10;
  void *v11;
  uint64_t v12;
  unint64_t v13;
  BOOL v14;
  void *v15;
  uint64_t v16;
  unsigned int *v17;
  unsigned int v18;
  signed int v19;
  BOOL v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  id v25;
  uint64_t v26;
  char v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  unint64_t v31;
  void *v32;
  id v33;
  GPUTools::FB::Fbuf *v34;
  unsigned int v35;
  GPUTools::FB::Fbuf *v36;
  dispatch_queue_s *v37;
  uint64_t v38;
  GPUTools::FB::Stream *v39;
  unsigned int *v40;
  unsigned int v41;
  unsigned int v42;
  unsigned int v43;
  signed int v44;
  BOOL v45;
  unsigned int v46;
  uint64_t v47;
  id v48;
  unsigned int v49;
  dispatch_queue_s *v50;
  uint64_t v51;
  uint64_t v52;
  uint64_t v53;
  void *v54;
  void *v55[2];
  int v56;
  unint64_t v8 = "Ceee";
  if ((_DWORD)a3 == 34163) {
    unint64_t v8 = "Ceex";
  }
  if ((_DWORD)a3 == 34049) {
    uint64_t v9 = "Ceex";
  }
  else {
    uint64_t v9 = v8;
  }
  if ((_DWORD)a3 == 3356) {
    unint64_t v10 = "Ceex";
  }
  else {
    unint64_t v10 = v9;
  }
  BOOL v11 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v11) {
    goto LABEL_20;
  }
  uint64_t v12 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v13 = v11[4];
    BOOL v14 = v13 >= (unint64_t)a1;
    else {
      unsigned int v15 = v11 + 1;
    }
    if (v14) {
      uint64_t v12 = (uint64_t)v11;
    }
    BOOL v11 = (void *)*v15;
  }

  while (*v15);
  if (v12 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v12 + 32) > (unint64_t)a1) {
LABEL_20:
  }
    uint64_t v12 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v16 = *(void *)(v12 + 40);
  BOOL v17 = (unsigned int *)(v16 + 4640);
  do
  {
    unsigned int v18 = __ldaxr(v17);
    signed int v19 = v18 + 1;
  }

  while (__stlxr(v19, v17));
  if (gCheckGLErrors) {
    BOOL v20 = v19 <= 1;
  }
  else {
    BOOL v20 = 1;
  }
  if (v20)
  {
    id v48 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v47 = handle_opengl_thread_conflict((const void **)v16);
    id v48 = [(id)DYGetGLGuestAppClient(v47) waitOnGraphicsSemaphoreAssertions];
    if ((int)v48 >= 1)
    {
      do
LABEL_64:
        unsigned int v49 = __ldaxr(v17);
      while (__stlxr(v49 - 1, v17));
      uint64_t v50 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v48) graphicsLockWaitQueue];
      dispatch_sync_f(v50, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v16 + 24) + 8016LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v16 + 4838) = 1;
  v55[0] = 0LL;
  v55[1] = 0LL;
  int v56 = 0;
  if ([(id)DYGetGLGuestAppClient(v48) state] != (char *)&dword_0 + 1
    || (id v25 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v25))
  {
    GPUTools::FB::Encode((uint64_t)v55, 814LL, 0LL, (uint64_t)v10, v21, v22, v23, v24, *(void *)v16);
    char v27 = byte_207186;
    if ((byte_207186 & 1) != 0) {
      breakpoint_break( (uint64_t)v55,  (volatile int *)((char *)&stru_2E8.reserved1 + 2),  1LL,  *(unsigned int *)(v16 + 3404),  v16);
    }
    uint64_t v28 = (uint64_t)[(id)DYGetGLGuestAppClient(v26) overrideFlags];
    if (!(v28 & 0x10 | v27 & 4))
    {
      uint64_t v29 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v16 + 32) + 8016LL))( a1,  a2,  a3,  a4);
      uint64_t v28 = mach_absolute_time();
      uint64_t v30 = v28 - v29;
      unint64_t v31 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        uint64_t v32 = v55[0];
        *((void *)v55[0] + 2) = v29;
        v32[3] = v30;
        if (!gCheckGLErrors) {
          goto LABEL_36;
        }
      }

      else
      {
        uint64_t v53 = __udivti3(g_DYTimebaseInfo * v30, (g_DYTimebaseInfo * (unsigned __int128)v30) >> 64);
        __uint64_t v54 = v55[0];
        *((void *)v55[0] + 3) = v53;
        uint64_t v28 = __udivti3(v31 * v29, (v31 * (unsigned __int128)v29) >> 64);
        v54[2] = v28;
        if (!gCheckGLErrors) {
          goto LABEL_36;
        }
      }

      uint64_t v28 = check_errors(v16);
    }

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  unsigned int v22;
  uint64_t v23;
  id v24;
  unsigned int v25;
  dispatch_queue_s *v26;
  uint64_t v27;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      uint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  unint64_t v13 = *(void *)(v9 + 40);
  BOOL v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    uint64_t v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        id v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      uint64_t v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 8016LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    unsigned int v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        uint64_t v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 8016LL))( a1,  a2,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      char v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    signed int v19 = __ldaxr(v14);
    BOOL v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    uint64_t v21 = v20 < 1;
  }
  else {
    uint64_t v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      uint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  unint64_t v13 = *(void *)(v9 + 40);
  BOOL v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    uint64_t v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    char v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v26 = handle_opengl_thread_conflict((const void **)v13);
    char v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        uint64_t v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      uint64_t v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 8016LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    unsigned int v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        id v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  signed int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 8016LL))( a1,  a2,  a3,  a4);
  BOOL v20 = mach_absolute_time();
  uint64_t v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    uint64_t v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    uint64_t v24 = v23 < 1;
  }
  else {
    uint64_t v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

LABEL_36:
    id v33 = objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v28), "activeCaptureDescriptor"),  "includeBacktraceInFbufs");
    if ((_DWORD)v33) {
      id v33 = (id)GPUTools::FB::EncodeCurrentBacktrace((GPUTools::FB *)v55, v34);
    }
    uint64_t v36 = (GPUTools::FB::Fbuf *)*(unsigned int *)(v16 + 3404);
    if ((_DWORD)v36) {
      id v33 = (id)GPUTools::FB::EncodeGLError((GPUTools::FB *)v55, v36, v35);
    }
    if (objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v33), "activeCaptureDescriptor"),  "queryDriverEventsOnGraphicsCommands")) {
      encode_driver_events((id *)v16, (uint64_t)v55);
    }
    unsigned int v37 = GPUTools::FB::EncodeThreadQueueInfo( (void *)(v16 + 3480),  (GPUTools::FB::Fbuf *)(v16 + 3520),  (GPUTools::FB *)v55);
    uint64_t v38 = *(unsigned int *)(v16 + 3404);
    if ((_DWORD)v38 && gBreakOnError)
    {
      uint64_t v51 = 3LL;
      uint64_t v52 = 0xFFFFFFFFLL;
    }

    else
    {
      if ((v27 & 2) == 0) {
        goto LABEL_45;
      }
      uint64_t v51 = 2LL;
      uint64_t v52 = 814LL;
    }

    breakpoint_break((uint64_t)v55, (volatile int *)v52, v51, v38, v16);
LABEL_45:
    unsigned int v39 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v37) defaultFbufStream];
    unsigned int v40 = (unsigned int *)((char *)v39 + 56);
    do
      unsigned int v41 = __ldaxr(v40);
    while (__stlxr(1u, v40));
    if (v41 == 1)
    {
      do
      {
        while (*v40 == 1)
          ;
        do
          unsigned int v42 = __ldaxr(v40);
        while (__stlxr(1u, v40));
      }

      while (v42 == 1);
    }

    GPUTools::FB::Stream::Write_nolock(v39, (GPUTools::FB::Fbuf *)v55, *(unsigned int *)v55[0], 1);
    atomic_store(0, v40);
    do
    {
      unsigned int v43 = __ldaxr(v17);
      signed int v44 = v43 - 1;
    }

    while (__stlxr(v44, v17));
    if (gCheckGLErrors) {
      BOOL v45 = v44 < 1;
    }
    else {
      BOOL v45 = 1;
    }
    if (!v45) {
      handle_opengl_thread_conflict((const void **)v16);
    }
    goto LABEL_58;
  }

  do
    unsigned int v46 = __ldaxr(v17);
  while (__stlxr(v46 - 1, v17));
  [(id)DYGetGLGuestAppClient(v25) triggerArmedCapture];
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v16 + 24) + 8016LL))( a1,  a2,  a3,  a4);
LABEL_58:
  if (v55[0]) {
    free(v55[0]);
  }
}

    id v33 = objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v28), "activeCaptureDescriptor"),  "includeBacktraceInFbufs");
    if ((_DWORD)v33) {
      id v33 = (id)GPUTools::FB::EncodeCurrentBacktrace((GPUTools::FB *)v55, v34);
    }
    uint64_t v36 = (GPUTools::FB::Fbuf *)*(unsigned int *)(v16 + 3404);
    if ((_DWORD)v36) {
      id v33 = (id)GPUTools::FB::EncodeGLError((GPUTools::FB *)v55, v36, v35);
    }
    if (objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v33), "activeCaptureDescriptor"),  "queryDriverEventsOnGraphicsCommands")) {
      encode_driver_events((id *)v16, (uint64_t)v55);
    }
    unsigned int v37 = GPUTools::FB::EncodeThreadQueueInfo( (void *)(v16 + 3480),  (GPUTools::FB::Fbuf *)(v16 + 3520),  (GPUTools::FB *)v55);
    uint64_t v38 = *(unsigned int *)(v16 + 3404);
    if ((_DWORD)v38 && gBreakOnError)
    {
      uint64_t v51 = 3LL;
      uint64_t v52 = 0xFFFFFFFFLL;
    }

    else
    {
      if ((v27 & 2) == 0) {
        goto LABEL_45;
      }
      uint64_t v51 = 2LL;
      uint64_t v52 = 814LL;
    }

    breakpoint_break((uint64_t)v55, (volatile int *)v52, v51, v38, v16);
LABEL_45:
    unsigned int v39 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v37) defaultFbufStream];
    unsigned int v40 = (unsigned int *)((char *)v39 + 56);
    do
      unsigned int v41 = __ldaxr(v40);
    while (__stlxr(1u, v40));
    if (v41 == 1)
    {
      do
      {
        while (*v40 == 1)
          ;
        do
          unsigned int v42 = __ldaxr(v40);
        while (__stlxr(1u, v40));
      }

      while (v42 == 1);
    }

    GPUTools::FB::Stream::Write_nolock(v39, (GPUTools::FB::Fbuf *)v55, *(unsigned int *)v55[0], 1);
    atomic_store(0, v40);
    do
    {
      unsigned int v43 = __ldaxr(v17);
      signed int v44 = v43 - 1;
    }

    while (__stlxr(v44, v17));
    if (gCheckGLErrors) {
      BOOL v45 = v44 < 1;
    }
    else {
      BOOL v45 = 1;
    }
    if (!v45) {
      handle_opengl_thread_conflict((const void **)v16);
    }
    goto LABEL_58;
  }

  do
    unsigned int v46 = __ldaxr(v17);
  while (__stlxr(v46 - 1, v17));
  [(id)DYGetGLGuestAppClient(v25) triggerArmedCapture];
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v16 + 24) + 8016LL))( a1,  a2,  a3,  a4);
LABEL_58:
  if (v55[0]) {
    free(v55[0]);
  }
}

void sub_9910C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void tex_envxv(__GLIContextRec *a1, uint64_t a2, GPUTools::GL *a3, const int *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      uint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  BOOL v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v47 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v46 = handle_opengl_thread_conflict((const void **)v13);
    id v47 = [(id)DYGetGLGuestAppClient(v46) waitOnGraphicsSemaphoreAssertions];
    if ((int)v47 >= 1)
    {
      do
LABEL_58:
        unsigned int v48 = __ldaxr(v14);
      while (__stlxr(v48 - 1, v14));
      unsigned int v49 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v47) graphicsLockWaitQueue];
      dispatch_sync_f(v49, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, const int *))(*(void *)(v13 + 24) + 8024LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  v55[0] = 0LL;
  v55[1] = 0LL;
  int v56 = 0;
  if ([(id)DYGetGLGuestAppClient(v47) state] != (char *)&dword_0 + 1
    || (id v19 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v19))
  {
    GPUTools::GL::DYGetTexEnvParameterInfo(a3, &v54[1], (unsigned int *)v54, v18);
    uint64_t v20 = 101LL;
    if (!v54[0]) {
      uint64_t v20 = 120LL;
    }
    snprintf((char *)(v13 + 4709), 0x40uLL, "Cee@%u%c", *(_DWORD *)&v54[1], v20);
    GPUTools::FB::Encode((uint64_t)v55, 815LL, 0LL, v13 + 4709, v21, v22, v23, v24, *(void *)v13);
    char v26 = byte_207187;
    if ((byte_207187 & 1) != 0) {
      breakpoint_break( (uint64_t)v55,  (volatile int *)((char *)&stru_2E8.reserved1 + 3),  1LL,  *(unsigned int *)(v13 + 3404),  v13);
    }
    uint64_t v27 = (uint64_t)[(id)DYGetGLGuestAppClient(v25) overrideFlags];
    if (!(v27 & 0x10 | v26 & 4))
    {
      uint64_t v28 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, const int *))(*(void *)(v13 + 32) + 8024LL))( a1,  a2,  a3,  a4);
      uint64_t v27 = mach_absolute_time();
      uint64_t v29 = v27 - v28;
      unint64_t v30 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        unint64_t v31 = v55[0];
        *((void *)v55[0] + 2) = v28;
        v31[3] = v29;
        if (!gCheckGLErrors) {
          goto LABEL_30;
        }
      }

      else
      {
        uint64_t v52 = __udivti3(g_DYTimebaseInfo * v29, (g_DYTimebaseInfo * (unsigned __int128)v29) >> 64);
        uint64_t v53 = v55[0];
        *((void *)v55[0] + 3) = v52;
        uint64_t v27 = __udivti3(v30 * v28, (v30 * (unsigned __int128)v28) >> 64);
        v53[2] = v27;
        if (!gCheckGLErrors) {
          goto LABEL_30;
        }
      }

      uint64_t v27 = check_errors(v13);
    }

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  BOOL *v18;
  id v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  char v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  unint64_t v30;
  void *v31;
  id v32;
  GPUTools::FB::Fbuf *v33;
  unsigned int v34;
  GPUTools::FB::Fbuf *v35;
  dispatch_queue_s *v36;
  uint64_t v37;
  GPUTools::FB::Stream *v38;
  unsigned int *v39;
  unsigned int v40;
  unsigned int v41;
  unsigned int v42;
  signed int v43;
  BOOL v44;
  unsigned int v45;
  uint64_t v46;
  id v47;
  unsigned int v48;
  dispatch_queue_s *v49;
  uint64_t v50;
  uint64_t v51;
  uint64_t v52;
  void *v53;
  _BYTE v54[5];
  void *v55[2];
  int v56;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      uint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  BOOL v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v47 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v46 = handle_opengl_thread_conflict((const void **)v13);
    id v47 = [(id)DYGetGLGuestAppClient(v46) waitOnGraphicsSemaphoreAssertions];
    if ((int)v47 >= 1)
    {
      do
LABEL_58:
        unsigned int v48 = __ldaxr(v14);
      while (__stlxr(v48 - 1, v14));
      unsigned int v49 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v47) graphicsLockWaitQueue];
      dispatch_sync_f(v49, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, const int *))(*(void *)(v13 + 24) + 8024LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  v55[0] = 0LL;
  v55[1] = 0LL;
  int v56 = 0;
  if ([(id)DYGetGLGuestAppClient(v47) state] != (char *)&dword_0 + 1
    || (id v19 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v19))
  {
    GPUTools::GL::DYGetTexEnvParameterInfo(a3, &v54[1], (unsigned int *)v54, v18);
    uint64_t v20 = 101LL;
    if (!v54[0]) {
      uint64_t v20 = 120LL;
    }
    snprintf((char *)(v13 + 4709), 0x40uLL, "Cee@%u%c", *(_DWORD *)&v54[1], v20);
    GPUTools::FB::Encode((uint64_t)v55, 815LL, 0LL, v13 + 4709, v21, v22, v23, v24, *(void *)v13);
    char v26 = byte_207187;
    if ((byte_207187 & 1) != 0) {
      breakpoint_break( (uint64_t)v55,  (volatile int *)((char *)&stru_2E8.reserved1 + 3),  1LL,  *(unsigned int *)(v13 + 3404),  v13);
    }
    uint64_t v27 = (uint64_t)[(id)DYGetGLGuestAppClient(v25) overrideFlags];
    if (!(v27 & 0x10 | v26 & 4))
    {
      uint64_t v28 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, const int *))(*(void *)(v13 + 32) + 8024LL))( a1,  a2,  a3,  a4);
      uint64_t v27 = mach_absolute_time();
      uint64_t v29 = v27 - v28;
      unint64_t v30 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        unint64_t v31 = v55[0];
        *((void *)v55[0] + 2) = v28;
        v31[3] = v29;
        if (!gCheckGLErrors) {
          goto LABEL_30;
        }
      }

      else
      {
        uint64_t v52 = __udivti3(g_DYTimebaseInfo * v29, (g_DYTimebaseInfo * (unsigned __int128)v29) >> 64);
        uint64_t v53 = v55[0];
        *((void *)v55[0] + 3) = v52;
        uint64_t v27 = __udivti3(v30 * v28, (v30 * (unsigned __int128)v28) >> 64);
        v53[2] = v27;
        if (!gCheckGLErrors) {
          goto LABEL_30;
        }
      }

      uint64_t v27 = check_errors(v13);
    }

void sub_9957C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void tex_parameterx(__GLIContextRec *a1, uint64_t a2, GPUTools::GL *a3, uint64_t a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      uint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  BOOL v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v47 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v46 = handle_opengl_thread_conflict((const void **)v13);
    id v47 = [(id)DYGetGLGuestAppClient(v46) waitOnGraphicsSemaphoreAssertions];
    if ((int)v47 >= 1)
    {
      do
LABEL_58:
        unsigned int v48 = __ldaxr(v14);
      while (__stlxr(v48 - 1, v14));
      unsigned int v49 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v47) graphicsLockWaitQueue];
      dispatch_sync_f(v49, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, uint64_t))(*(void *)(v13 + 24) + 8032LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  v55[0] = 0LL;
  v55[1] = 0LL;
  int v56 = 0;
  if ([(id)DYGetGLGuestAppClient(v47) state] != (char *)&dword_0 + 1
    || (id v19 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v19))
  {
    GPUTools::GL::DYGetTextureParameterInfo(a3, 0, (unsigned int *)&v54, v18);
    uint64_t v20 = 101LL;
    if (!v54) {
      uint64_t v20 = 120LL;
    }
    snprintf((char *)(v13 + 4709), 0x40uLL, "Cee%c", v20);
    GPUTools::FB::Encode((uint64_t)v55, 816LL, 0LL, v13 + 4709, v21, v22, v23, v24, *(void *)v13);
    char v26 = byte_207188;
    if ((byte_207188 & 1) != 0) {
      breakpoint_break((uint64_t)v55, (volatile int *)&stru_2E8.reserved2, 1LL, *(unsigned int *)(v13 + 3404), v13);
    }
    uint64_t v27 = (uint64_t)[(id)DYGetGLGuestAppClient(v25) overrideFlags];
    if (!(v27 & 0x10 | v26 & 4))
    {
      uint64_t v28 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, uint64_t))(*(void *)(v13 + 32) + 8032LL))( a1,  a2,  a3,  a4);
      uint64_t v27 = mach_absolute_time();
      uint64_t v29 = v27 - v28;
      unint64_t v30 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        unint64_t v31 = v55[0];
        *((void *)v55[0] + 2) = v28;
        v31[3] = v29;
        if (!gCheckGLErrors) {
          goto LABEL_30;
        }
      }

      else
      {
        uint64_t v52 = __udivti3(g_DYTimebaseInfo * v29, (g_DYTimebaseInfo * (unsigned __int128)v29) >> 64);
        uint64_t v53 = v55[0];
        *((void *)v55[0] + 3) = v52;
        uint64_t v27 = __udivti3(v30 * v28, (v30 * (unsigned __int128)v28) >> 64);
        v53[2] = v27;
        if (!gCheckGLErrors) {
          goto LABEL_30;
        }
      }

      uint64_t v27 = check_errors(v13);
    }

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  BOOL *v18;
  id v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  char v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  unint64_t v30;
  void *v31;
  id v32;
  GPUTools::FB::Fbuf *v33;
  unsigned int v34;
  GPUTools::FB::Fbuf *v35;
  dispatch_queue_s *v36;
  uint64_t v37;
  GPUTools::FB::Stream *v38;
  unsigned int *v39;
  unsigned int v40;
  unsigned int v41;
  unsigned int v42;
  signed int v43;
  BOOL v44;
  unsigned int v45;
  uint64_t v46;
  id v47;
  unsigned int v48;
  dispatch_queue_s *v49;
  uint64_t v50;
  uint64_t v51;
  uint64_t v52;
  void *v53;
  char v54;
  void *v55[2];
  int v56;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      uint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  BOOL v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v47 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v46 = handle_opengl_thread_conflict((const void **)v13);
    id v47 = [(id)DYGetGLGuestAppClient(v46) waitOnGraphicsSemaphoreAssertions];
    if ((int)v47 >= 1)
    {
      do
LABEL_58:
        unsigned int v48 = __ldaxr(v14);
      while (__stlxr(v48 - 1, v14));
      unsigned int v49 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v47) graphicsLockWaitQueue];
      dispatch_sync_f(v49, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, uint64_t))(*(void *)(v13 + 24) + 8032LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  v55[0] = 0LL;
  v55[1] = 0LL;
  int v56 = 0;
  if ([(id)DYGetGLGuestAppClient(v47) state] != (char *)&dword_0 + 1
    || (id v19 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v19))
  {
    GPUTools::GL::DYGetTextureParameterInfo(a3, 0, (unsigned int *)&v54, v18);
    uint64_t v20 = 101LL;
    if (!v54) {
      uint64_t v20 = 120LL;
    }
    snprintf((char *)(v13 + 4709), 0x40uLL, "Cee%c", v20);
    GPUTools::FB::Encode((uint64_t)v55, 816LL, 0LL, v13 + 4709, v21, v22, v23, v24, *(void *)v13);
    char v26 = byte_207188;
    if ((byte_207188 & 1) != 0) {
      breakpoint_break((uint64_t)v55, (volatile int *)&stru_2E8.reserved2, 1LL, *(unsigned int *)(v13 + 3404), v13);
    }
    uint64_t v27 = (uint64_t)[(id)DYGetGLGuestAppClient(v25) overrideFlags];
    if (!(v27 & 0x10 | v26 & 4))
    {
      uint64_t v28 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, uint64_t))(*(void *)(v13 + 32) + 8032LL))( a1,  a2,  a3,  a4);
      uint64_t v27 = mach_absolute_time();
      uint64_t v29 = v27 - v28;
      unint64_t v30 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        unint64_t v31 = v55[0];
        *((void *)v55[0] + 2) = v28;
        v31[3] = v29;
        if (!gCheckGLErrors) {
          goto LABEL_30;
        }
      }

      else
      {
        uint64_t v52 = __udivti3(g_DYTimebaseInfo * v29, (g_DYTimebaseInfo * (unsigned __int128)v29) >> 64);
        uint64_t v53 = v55[0];
        *((void *)v55[0] + 3) = v52;
        uint64_t v27 = __udivti3(v30 * v28, (v30 * (unsigned __int128)v28) >> 64);
        v53[2] = v27;
        if (!gCheckGLErrors) {
          goto LABEL_30;
        }
      }

      uint64_t v27 = check_errors(v13);
    }

void sub_999EC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void tex_parameterxv(__GLIContextRec *a1, uint64_t a2, GPUTools::GL *a3, const int *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      uint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  BOOL v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v47 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v46 = handle_opengl_thread_conflict((const void **)v13);
    id v47 = [(id)DYGetGLGuestAppClient(v46) waitOnGraphicsSemaphoreAssertions];
    if ((int)v47 >= 1)
    {
      do
LABEL_58:
        unsigned int v48 = __ldaxr(v14);
      while (__stlxr(v48 - 1, v14));
      unsigned int v49 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v47) graphicsLockWaitQueue];
      dispatch_sync_f(v49, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, const int *))(*(void *)(v13 + 24) + 8040LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  v55[0] = 0LL;
  v55[1] = 0LL;
  int v56 = 0;
  if ([(id)DYGetGLGuestAppClient(v47) state] != (char *)&dword_0 + 1
    || (id v19 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v19))
  {
    GPUTools::GL::DYGetTextureParameterInfo(a3, &v54[1], (unsigned int *)v54, v18);
    uint64_t v20 = 101LL;
    if (!v54[0]) {
      uint64_t v20 = 120LL;
    }
    snprintf((char *)(v13 + 4709), 0x40uLL, "Cee@%u%c", *(_DWORD *)&v54[1], v20);
    GPUTools::FB::Encode((uint64_t)v55, 817LL, 0LL, v13 + 4709, v21, v22, v23, v24, *(void *)v13);
    char v26 = byte_207189;
    if ((byte_207189 & 1) != 0) {
      breakpoint_break( (uint64_t)v55,  (volatile int *)((char *)&stru_2E8.reserved2 + 1),  1LL,  *(unsigned int *)(v13 + 3404),  v13);
    }
    uint64_t v27 = (uint64_t)[(id)DYGetGLGuestAppClient(v25) overrideFlags];
    if (!(v27 & 0x10 | v26 & 4))
    {
      uint64_t v28 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, const int *))(*(void *)(v13 + 32) + 8040LL))( a1,  a2,  a3,  a4);
      uint64_t v27 = mach_absolute_time();
      uint64_t v29 = v27 - v28;
      unint64_t v30 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        unint64_t v31 = v55[0];
        *((void *)v55[0] + 2) = v28;
        v31[3] = v29;
        if (!gCheckGLErrors) {
          goto LABEL_30;
        }
      }

      else
      {
        uint64_t v52 = __udivti3(g_DYTimebaseInfo * v29, (g_DYTimebaseInfo * (unsigned __int128)v29) >> 64);
        uint64_t v53 = v55[0];
        *((void *)v55[0] + 3) = v52;
        uint64_t v27 = __udivti3(v30 * v28, (v30 * (unsigned __int128)v28) >> 64);
        v53[2] = v27;
        if (!gCheckGLErrors) {
          goto LABEL_30;
        }
      }

      uint64_t v27 = check_errors(v13);
    }

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  BOOL *v18;
  id v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  char v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  unint64_t v30;
  void *v31;
  id v32;
  GPUTools::FB::Fbuf *v33;
  unsigned int v34;
  GPUTools::FB::Fbuf *v35;
  dispatch_queue_s *v36;
  uint64_t v37;
  GPUTools::FB::Stream *v38;
  unsigned int *v39;
  unsigned int v40;
  unsigned int v41;
  unsigned int v42;
  signed int v43;
  BOOL v44;
  unsigned int v45;
  uint64_t v46;
  id v47;
  unsigned int v48;
  dispatch_queue_s *v49;
  uint64_t v50;
  uint64_t v51;
  uint64_t v52;
  void *v53;
  _BYTE v54[5];
  void *v55[2];
  int v56;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      uint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  BOOL v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v47 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v46 = handle_opengl_thread_conflict((const void **)v13);
    id v47 = [(id)DYGetGLGuestAppClient(v46) waitOnGraphicsSemaphoreAssertions];
    if ((int)v47 >= 1)
    {
      do
LABEL_58:
        unsigned int v48 = __ldaxr(v14);
      while (__stlxr(v48 - 1, v14));
      unsigned int v49 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v47) graphicsLockWaitQueue];
      dispatch_sync_f(v49, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, const int *))(*(void *)(v13 + 24) + 8040LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  v55[0] = 0LL;
  v55[1] = 0LL;
  int v56 = 0;
  if ([(id)DYGetGLGuestAppClient(v47) state] != (char *)&dword_0 + 1
    || (id v19 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v19))
  {
    GPUTools::GL::DYGetTextureParameterInfo(a3, &v54[1], (unsigned int *)v54, v18);
    uint64_t v20 = 101LL;
    if (!v54[0]) {
      uint64_t v20 = 120LL;
    }
    snprintf((char *)(v13 + 4709), 0x40uLL, "Cee@%u%c", *(_DWORD *)&v54[1], v20);
    GPUTools::FB::Encode((uint64_t)v55, 817LL, 0LL, v13 + 4709, v21, v22, v23, v24, *(void *)v13);
    char v26 = byte_207189;
    if ((byte_207189 & 1) != 0) {
      breakpoint_break( (uint64_t)v55,  (volatile int *)((char *)&stru_2E8.reserved2 + 1),  1LL,  *(unsigned int *)(v13 + 3404),  v13);
    }
    uint64_t v27 = (uint64_t)[(id)DYGetGLGuestAppClient(v25) overrideFlags];
    if (!(v27 & 0x10 | v26 & 4))
    {
      uint64_t v28 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, GPUTools::GL *, const int *))(*(void *)(v13 + 32) + 8040LL))( a1,  a2,  a3,  a4);
      uint64_t v27 = mach_absolute_time();
      uint64_t v29 = v27 - v28;
      unint64_t v30 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        unint64_t v31 = v55[0];
        *((void *)v55[0] + 2) = v28;
        v31[3] = v29;
        if (!gCheckGLErrors) {
          goto LABEL_30;
        }
      }

      else
      {
        uint64_t v52 = __udivti3(g_DYTimebaseInfo * v29, (g_DYTimebaseInfo * (unsigned __int128)v29) >> 64);
        uint64_t v53 = v55[0];
        *((void *)v55[0] + 3) = v52;
        uint64_t v27 = __udivti3(v30 * v28, (v30 * (unsigned __int128)v28) >> 64);
        v53[2] = v27;
        if (!gCheckGLErrors) {
          goto LABEL_30;
        }
      }

      uint64_t v27 = check_errors(v13);
    }

void sub_99E60( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void translatex(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      uint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  BOOL v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v46 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v45 = handle_opengl_thread_conflict((const void **)v13);
    id v46 = [(id)DYGetGLGuestAppClient(v45) waitOnGraphicsSemaphoreAssertions];
    if ((int)v46 >= 1)
    {
      do
LABEL_57:
        unsigned int v47 = __ldaxr(v14);
      while (__stlxr(v47 - 1, v14));
      unsigned int v48 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v46) graphicsLockWaitQueue];
      dispatch_sync_f(v48, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 8048LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  unsigned int v55 = 0LL;
  int v56 = 0LL;
  unsigned int v57 = 0;
  if ([(id)DYGetGLGuestAppClient(v46) state] != (char *)&dword_0 + 1
    || (id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v18))
  {
    uint64_t v20 = (char *)v55;
    id v19 = v56;
    int64_t v21 = v56 - (_BYTE *)v55;
    unsigned int v22 = v57;
    unint64_t v23 = v57 - (v56 - (_BYTE *)v55);
    if (v23 > 0x3F) {
      goto LABEL_24;
    }
    int v49 = (319 - v23) & 0xFFFFFF00;
    v57 += v49;
    uint64_t v20 = (char *)malloc(v49 + v22);
    unsigned int v55 = v20;
    if (v20)
    {
      if ((v20 & 3) == 0)
      {
        id v19 = &v20[v21];
LABEL_24:
        *((_OWORD *)v19 + 2) = 0u;
        *((_OWORD *)v19 + 3) = 0u;
        *(_OWORD *)id v19 = 0u;
        *((_OWORD *)v19 + 1) = 0u;
        int v56 = v19 + 64;
        GPUTools::FB::Fbuf::align((char **)&v55);
        *((_DWORD *)v20 + 1) = 818;
        *((_DWORD *)v20 + 8) = 0;
        __uint64_t v54 = 0LL;
        uint64_t v24 = pthread_threadid_np(0LL, &v54);
        *((void *)v20 + 1) = v54;
        strcpy(v20 + 36, "Cxxx");
        *(void *)(v20 + 44) = *(void *)v13;
        *((_DWORD *)v20 + 13) = a2;
        *((_DWORD *)v20 + 14) = a3;
        *((_DWORD *)v20 + 15) = a4;
        char v25 = byte_20718A;
        if ((byte_20718A & 1) != 0) {
          breakpoint_break( (uint64_t)&v55,  (volatile int *)((char *)&stru_2E8.reserved2 + 2),  1LL,  *(unsigned int *)(v13 + 3404),  v13);
        }
        uint64_t v26 = (uint64_t)[(id)DYGetGLGuestAppClient(v24) overrideFlags];
        if (!(v26 & 0x10 | v25 & 4))
        {
          uint64_t v27 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 8048LL))( a1,  a2,  a3,  a4);
          uint64_t v26 = mach_absolute_time();
          uint64_t v28 = v26 - v27;
          unint64_t v29 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unint64_t v30 = v55;
            *((void *)v55 + 2) = v27;
            v30[3] = v28;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v52 = __udivti3(g_DYTimebaseInfo * v28, (g_DYTimebaseInfo * (unsigned __int128)v28) >> 64);
            uint64_t v53 = v55;
            *((void *)v55 + 3) = v52;
            uint64_t v26 = __udivti3(v29 * v27, (v29 * (unsigned __int128)v27) >> 64);
            v53[2] = v26;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v26 = check_errors(v13);
        }

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  char *v19;
  char *v20;
  int64_t v21;
  unsigned int v22;
  unint64_t v23;
  uint64_t v24;
  char v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  unint64_t v29;
  void *v30;
  id v31;
  GPUTools::FB::Fbuf *v32;
  unsigned int v33;
  GPUTools::FB::Fbuf *v34;
  dispatch_queue_s *v35;
  uint64_t v36;
  GPUTools::FB::Stream *v37;
  unsigned int *v38;
  unsigned int v39;
  unsigned int v40;
  unsigned int v41;
  signed int v42;
  BOOL v43;
  unsigned int v44;
  uint64_t v45;
  id v46;
  unsigned int v47;
  dispatch_queue_s *v48;
  int v49;
  uint64_t v50;
  uint64_t v51;
  uint64_t v52;
  void *v53;
  __uint64_t v54;
  void *v55;
  char *v56;
  unsigned int v57;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      uint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  BOOL v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v46 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v45 = handle_opengl_thread_conflict((const void **)v13);
    id v46 = [(id)DYGetGLGuestAppClient(v45) waitOnGraphicsSemaphoreAssertions];
    if ((int)v46 >= 1)
    {
      do
LABEL_57:
        unsigned int v47 = __ldaxr(v14);
      while (__stlxr(v47 - 1, v14));
      unsigned int v48 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v46) graphicsLockWaitQueue];
      dispatch_sync_f(v48, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 8048LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  unsigned int v55 = 0LL;
  int v56 = 0LL;
  unsigned int v57 = 0;
  if ([(id)DYGetGLGuestAppClient(v46) state] != (char *)&dword_0 + 1
    || (id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v18))
  {
    uint64_t v20 = (char *)v55;
    id v19 = v56;
    int64_t v21 = v56 - (_BYTE *)v55;
    unsigned int v22 = v57;
    unint64_t v23 = v57 - (v56 - (_BYTE *)v55);
    if (v23 > 0x3F) {
      goto LABEL_24;
    }
    int v49 = (319 - v23) & 0xFFFFFF00;
    v57 += v49;
    uint64_t v20 = (char *)malloc(v49 + v22);
    unsigned int v55 = v20;
    if (v20)
    {
      if ((v20 & 3) == 0)
      {
        id v19 = &v20[v21];
LABEL_24:
        *((_OWORD *)v19 + 2) = 0u;
        *((_OWORD *)v19 + 3) = 0u;
        *(_OWORD *)id v19 = 0u;
        *((_OWORD *)v19 + 1) = 0u;
        int v56 = v19 + 64;
        GPUTools::FB::Fbuf::align((char **)&v55);
        *((_DWORD *)v20 + 1) = 818;
        *((_DWORD *)v20 + 8) = 0;
        __uint64_t v54 = 0LL;
        uint64_t v24 = pthread_threadid_np(0LL, &v54);
        *((void *)v20 + 1) = v54;
        strcpy(v20 + 36, "Cxxx");
        *(void *)(v20 + 44) = *(void *)v13;
        *((_DWORD *)v20 + 13) = a2;
        *((_DWORD *)v20 + 14) = a3;
        *((_DWORD *)v20 + 15) = a4;
        char v25 = byte_20718A;
        if ((byte_20718A & 1) != 0) {
          breakpoint_break( (uint64_t)&v55,  (volatile int *)((char *)&stru_2E8.reserved2 + 2),  1LL,  *(unsigned int *)(v13 + 3404),  v13);
        }
        uint64_t v26 = (uint64_t)[(id)DYGetGLGuestAppClient(v24) overrideFlags];
        if (!(v26 & 0x10 | v25 & 4))
        {
          uint64_t v27 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 8048LL))( a1,  a2,  a3,  a4);
          uint64_t v26 = mach_absolute_time();
          uint64_t v28 = v26 - v27;
          unint64_t v29 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unint64_t v30 = v55;
            *((void *)v55 + 2) = v27;
            v30[3] = v28;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v52 = __udivti3(g_DYTimebaseInfo * v28, (g_DYTimebaseInfo * (unsigned __int128)v28) >> 64);
            uint64_t v53 = v55;
            *((void *)v55 + 3) = v52;
            uint64_t v26 = __udivti3(v29 * v27, (v29 * (unsigned __int128)v27) >> 64);
            v53[2] = v26;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v26 = check_errors(v13);
        }

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  unsigned int v22;
  uint64_t v23;
  id v24;
  unsigned int v25;
  dispatch_queue_s *v26;
  uint64_t v27;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      uint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  BOOL v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        char v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      uint64_t v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 8048LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 8048LL))( a1,  a2,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    id v19 = __ldaxr(v14);
    uint64_t v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    int64_t v21 = v20 < 1;
  }
  else {
    int64_t v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      uint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  BOOL v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        uint64_t v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      unint64_t v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 8048LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        char v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  id v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 8048LL))( a1,  a2,  a3,  a4);
  uint64_t v20 = mach_absolute_time();
  int64_t v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      unint64_t v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    unint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    uint64_t v24 = v23 < 1;
  }
  else {
    uint64_t v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void sub_9A358( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void multi_tex_coord4x(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  uint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      signed int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    uint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  id v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    id v50 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v49 = handle_opengl_thread_conflict((const void **)v17);
    id v50 = [(id)DYGetGLGuestAppClient(v49) waitOnGraphicsSemaphoreAssertions];
    if ((int)v50 >= 1)
    {
      do
LABEL_57:
        unsigned int v51 = __ldaxr(v18);
      while (__stlxr(v51 - 1, v18));
      uint64_t v52 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v50) graphicsLockWaitQueue];
      dispatch_sync_f(v52, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24)
                                                                                             + 8056LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  unsigned int v59 = 0LL;
  __uint64_t v60 = 0LL;
  unsigned int v61 = 0;
  if ([(id)DYGetGLGuestAppClient(v50) state] != (char *)&dword_0 + 1
    || (id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v22))
  {
    uint64_t v24 = (char *)v59;
    unint64_t v23 = v60;
    int64_t v25 = v60 - (_BYTE *)v59;
    unsigned int v26 = v61;
    unint64_t v27 = v61 - (v60 - (_BYTE *)v59);
    if (v27 > 0x47) {
      goto LABEL_24;
    }
    int v53 = (327 - v27) & 0xFFFFFF00;
    v61 += v53;
    uint64_t v24 = (char *)malloc(v53 + v26);
    unsigned int v59 = v24;
    if (v24)
    {
      if ((v24 & 3) == 0)
      {
        unint64_t v23 = &v24[v25];
LABEL_24:
        *((void *)v23 + 8) = 0LL;
        *((_OWORD *)v23 + 2) = 0u;
        *((_OWORD *)v23 + 3) = 0u;
        *(_OWORD *)unint64_t v23 = 0u;
        *((_OWORD *)v23 + 1) = 0u;
        __uint64_t v60 = v23 + 72;
        GPUTools::FB::Fbuf::align((char **)&v59);
        *((_DWORD *)v24 + 1) = 800;
        *((_DWORD *)v24 + 8) = 0;
        __uint64_t v58 = 0LL;
        uint64_t v28 = pthread_threadid_np(0LL, &v58);
        *((void *)v24 + 1) = v58;
        strcpy(v24 + 36, "Cexxxx");
        *(void *)(v24 + 44) = *(void *)v17;
        *((_DWORD *)v24 + 13) = a2;
        *((_DWORD *)v24 + 14) = a3;
        *((_DWORD *)v24 + 15) = a4;
        *((_DWORD *)v24 + 16) = a5;
        *((_DWORD *)v24 + 17) = a6;
        char v29 = byte_207178;
        if ((byte_207178 & 1) != 0) {
          breakpoint_break((uint64_t)&v59, (volatile int *)&stru_2E8.reloff, 1LL, *(unsigned int *)(v17 + 3404), v17);
        }
        uint64_t v30 = (uint64_t)[(id)DYGetGLGuestAppClient(v28) overrideFlags];
        if (!(v30 & 0x10 | v29 & 4))
        {
          uint64_t v31 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 32)
                                                                                                 + 8056LL))( a1,  a2,  a3,  a4,  a5,  a6);
          uint64_t v30 = mach_absolute_time();
          uint64_t v32 = v30 - v31;
          unint64_t v33 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unsigned int v34 = v59;
            *((void *)v59 + 2) = v31;
            v34[3] = v32;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v56 = __udivti3(g_DYTimebaseInfo * v32, (g_DYTimebaseInfo * (unsigned __int128)v32) >> 64);
            unsigned int v57 = v59;
            *((void *)v59 + 3) = v56;
            uint64_t v30 = __udivti3(v33 * v31, (v33 * (unsigned __int128)v31) >> 64);
            v57[2] = v30;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v30 = check_errors(v17);
        }

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  id v22;
  char *v23;
  char *v24;
  int64_t v25;
  unsigned int v26;
  unint64_t v27;
  uint64_t v28;
  char v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  unint64_t v33;
  void *v34;
  id v35;
  GPUTools::FB::Fbuf *v36;
  unsigned int v37;
  GPUTools::FB::Fbuf *v38;
  dispatch_queue_s *v39;
  uint64_t v40;
  GPUTools::FB::Stream *v41;
  unsigned int *v42;
  unsigned int v43;
  unsigned int v44;
  unsigned int v45;
  signed int v46;
  BOOL v47;
  unsigned int v48;
  uint64_t v49;
  id v50;
  unsigned int v51;
  dispatch_queue_s *v52;
  int v53;
  uint64_t v54;
  uint64_t v55;
  uint64_t v56;
  void *v57;
  __uint64_t v58;
  void *v59;
  char *v60;
  unsigned int v61;
  uint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      signed int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    uint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  id v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    id v50 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v49 = handle_opengl_thread_conflict((const void **)v17);
    id v50 = [(id)DYGetGLGuestAppClient(v49) waitOnGraphicsSemaphoreAssertions];
    if ((int)v50 >= 1)
    {
      do
LABEL_57:
        unsigned int v51 = __ldaxr(v18);
      while (__stlxr(v51 - 1, v18));
      uint64_t v52 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v50) graphicsLockWaitQueue];
      dispatch_sync_f(v52, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24)
                                                                                             + 8056LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  unsigned int v59 = 0LL;
  __uint64_t v60 = 0LL;
  unsigned int v61 = 0;
  if ([(id)DYGetGLGuestAppClient(v50) state] != (char *)&dword_0 + 1
    || (id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v22))
  {
    uint64_t v24 = (char *)v59;
    unint64_t v23 = v60;
    int64_t v25 = v60 - (_BYTE *)v59;
    unsigned int v26 = v61;
    unint64_t v27 = v61 - (v60 - (_BYTE *)v59);
    if (v27 > 0x47) {
      goto LABEL_24;
    }
    int v53 = (327 - v27) & 0xFFFFFF00;
    v61 += v53;
    uint64_t v24 = (char *)malloc(v53 + v26);
    unsigned int v59 = v24;
    if (v24)
    {
      if ((v24 & 3) == 0)
      {
        unint64_t v23 = &v24[v25];
LABEL_24:
        *((void *)v23 + 8) = 0LL;
        *((_OWORD *)v23 + 2) = 0u;
        *((_OWORD *)v23 + 3) = 0u;
        *(_OWORD *)unint64_t v23 = 0u;
        *((_OWORD *)v23 + 1) = 0u;
        __uint64_t v60 = v23 + 72;
        GPUTools::FB::Fbuf::align((char **)&v59);
        *((_DWORD *)v24 + 1) = 800;
        *((_DWORD *)v24 + 8) = 0;
        __uint64_t v58 = 0LL;
        uint64_t v28 = pthread_threadid_np(0LL, &v58);
        *((void *)v24 + 1) = v58;
        strcpy(v24 + 36, "Cexxxx");
        *(void *)(v24 + 44) = *(void *)v17;
        *((_DWORD *)v24 + 13) = a2;
        *((_DWORD *)v24 + 14) = a3;
        *((_DWORD *)v24 + 15) = a4;
        *((_DWORD *)v24 + 16) = a5;
        *((_DWORD *)v24 + 17) = a6;
        char v29 = byte_207178;
        if ((byte_207178 & 1) != 0) {
          breakpoint_break((uint64_t)&v59, (volatile int *)&stru_2E8.reloff, 1LL, *(unsigned int *)(v17 + 3404), v17);
        }
        uint64_t v30 = (uint64_t)[(id)DYGetGLGuestAppClient(v28) overrideFlags];
        if (!(v30 & 0x10 | v29 & 4))
        {
          uint64_t v31 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 32)
                                                                                                 + 8056LL))( a1,  a2,  a3,  a4,  a5,  a6);
          uint64_t v30 = mach_absolute_time();
          uint64_t v32 = v30 - v31;
          unint64_t v33 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unsigned int v34 = v59;
            *((void *)v59 + 2) = v31;
            v34[3] = v32;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v56 = __udivti3(g_DYTimebaseInfo * v32, (g_DYTimebaseInfo * (unsigned __int128)v32) >> 64);
            unsigned int v57 = v59;
            *((void *)v59 + 3) = v56;
            uint64_t v30 = __udivti3(v33 * v31, (v33 * (unsigned __int128)v31) >> 64);
            v57[2] = v30;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v30 = check_errors(v17);
        }

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  id v22;
  unsigned int v23;
  signed int v24;
  BOOL v25;
  unsigned int v26;
  uint64_t v27;
  id v28;
  unsigned int v29;
  dispatch_queue_s *v30;
  uint64_t v31;
  uint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      signed int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    uint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  id v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    uint64_t v28 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v27 = handle_opengl_thread_conflict((const void **)v17);
    uint64_t v28 = [(id)DYGetGLGuestAppClient(v27) waitOnGraphicsSemaphoreAssertions];
    if ((int)v28 >= 1)
    {
      do
LABEL_34:
        char v29 = __ldaxr(v18);
      while (__stlxr(v29 - 1, v18));
      uint64_t v30 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v28) graphicsLockWaitQueue];
      dispatch_sync_f(v30, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24)
                                                                                             + 8056LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v28) state] == (char *)&dword_0 + 1)
  {
    id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v22)
    {
      do
        unsigned int v26 = __ldaxr(v18);
      while (__stlxr(v26 - 1, v18));
      [(id)DYGetGLGuestAppClient(v22) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 32) + 8056LL))( a1,  a2,  a3,  a4,  a5,  a6);
  ++*(void *)(v17 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v17);
    if (gBreakOnError)
    {
      uint64_t v31 = *(unsigned int *)(v17 + 3404);
      if ((_DWORD)v31) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v31, v17);
      }
    }
  }

  do
  {
    unint64_t v23 = __ldaxr(v18);
    uint64_t v24 = v23 - 1;
  }

  while (__stlxr(v24, v18));
  if (gCheckGLErrors) {
    int64_t v25 = v24 < 1;
  }
  else {
    int64_t v25 = 1;
  }
  if (!v25) {
    handle_opengl_thread_conflict((const void **)v17);
  }
}

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  id v22;
  uint64_t v23;
  uint64_t v24;
  int64x2_t v25;
  unsigned int v26;
  signed int v27;
  BOOL v28;
  unsigned int v29;
  uint64_t v30;
  id v31;
  unsigned int v32;
  dispatch_queue_s *v33;
  uint64_t v34;
  uint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      signed int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    uint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  id v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    uint64_t v31 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v30 = handle_opengl_thread_conflict((const void **)v17);
    uint64_t v31 = [(id)DYGetGLGuestAppClient(v30) waitOnGraphicsSemaphoreAssertions];
    if ((int)v31 >= 1)
    {
      do
LABEL_34:
        uint64_t v32 = __ldaxr(v18);
      while (__stlxr(v32 - 1, v18));
      unint64_t v33 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v31) graphicsLockWaitQueue];
      dispatch_sync_f(v33, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24)
                                                                                             + 8056LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v31) state] == (char *)&dword_0 + 1)
  {
    id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v22)
    {
      do
        char v29 = __ldaxr(v18);
      while (__stlxr(v29 - 1, v18));
      [(id)DYGetGLGuestAppClient(v22) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unint64_t v23 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 32) + 8056LL))( a1,  a2,  a3,  a4,  a5,  a6);
  uint64_t v24 = mach_absolute_time();
  int64_t v25 = vdupq_n_s64(1uLL);
  v25.i64[0] = v24 - v23;
  *(int64x2_t *)(v17 + 3696) = vaddq_s64(v25, *(int64x2_t *)(v17 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v17);
    if (gBreakOnError)
    {
      unsigned int v34 = *(unsigned int *)(v17 + 3404);
      if ((_DWORD)v34) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v34, v17);
      }
    }
  }

  do
  {
    unsigned int v26 = __ldaxr(v18);
    unint64_t v27 = v26 - 1;
  }

  while (__stlxr(v27, v18));
  if (gCheckGLErrors) {
    uint64_t v28 = v27 < 1;
  }
  else {
    uint64_t v28 = 1;
  }
  if (!v28) {
    handle_opengl_thread_conflict((const void **)v17);
  }
}

void sub_9A8A0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sample_coveragex(__GLIContextRec *a1, uint64_t a2, uint64_t a3)
{
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  uint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v44 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v43 = handle_opengl_thread_conflict((const void **)v11);
    id v44 = [(id)DYGetGLGuestAppClient(v43) waitOnGraphicsSemaphoreAssertions];
    if ((int)v44 >= 1)
    {
      do
LABEL_57:
        unsigned int v45 = __ldaxr(v12);
      while (__stlxr(v45 - 1, v12));
      signed int v46 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v44) graphicsLockWaitQueue];
      dispatch_sync_f(v46, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 24) + 8064LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  int v53 = 0LL;
  uint64_t v54 = 0LL;
  unsigned int v55 = 0;
  if ([(id)DYGetGLGuestAppClient(v44) state] != (char *)&dword_0 + 1
    || (id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v16))
  {
    id v18 = (char *)v53;
    uint64_t v17 = v54;
    int64_t v19 = v54 - (_BYTE *)v53;
    unsigned int v20 = v55;
    unint64_t v21 = v55 - (v54 - (_BYTE *)v53);
    if (v21 > 0x3B) {
      goto LABEL_24;
    }
    int v47 = (315 - v21) & 0xFFFFFF00;
    v55 += v47;
    id v18 = (char *)malloc(v47 + v20);
    int v53 = v18;
    if (v18)
    {
      if ((v18 & 3) == 0)
      {
        uint64_t v17 = &v18[v19];
LABEL_24:
        *(_OWORD *)(v17 + 44) = 0u;
        *((_OWORD *)v17 + 1) = 0u;
        *((_OWORD *)v17 + 2) = 0u;
        *(_OWORD *)uint64_t v17 = 0u;
        uint64_t v54 = v17 + 60;
        GPUTools::FB::Fbuf::align((char **)&v53);
        *((_DWORD *)v18 + 1) = 811;
        *((_DWORD *)v18 + 8) = 0;
        __uint64_t v52 = 0LL;
        uint64_t v22 = pthread_threadid_np(0LL, &v52);
        *((void *)v18 + 1) = v52;
        strcpy(v18 + 36, "Cxub");
        *(void *)(v18 + 44) = *(void *)v11;
        *((_DWORD *)v18 + 13) = a2;
        v18[56] = a3;
        char v23 = byte_207183;
        if ((byte_207183 & 1) != 0) {
          breakpoint_break( (uint64_t)&v53,  (volatile int *)((char *)&stru_2E8.flags + 3),  1LL,  *(unsigned int *)(v11 + 3404),  v11);
        }
        uint64_t v24 = (uint64_t)[(id)DYGetGLGuestAppClient(v22) overrideFlags];
        if (!(v24 & 0x10 | v23 & 4))
        {
          uint64_t v25 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 32) + 8064LL))(a1, a2, a3);
          uint64_t v24 = mach_absolute_time();
          uint64_t v26 = v24 - v25;
          unint64_t v27 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v28 = v53;
            *((void *)v53 + 2) = v25;
            v28[3] = v26;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v50 = __udivti3(g_DYTimebaseInfo * v26, (g_DYTimebaseInfo * (unsigned __int128)v26) >> 64);
            unsigned int v51 = v53;
            *((void *)v53 + 3) = v50;
            uint64_t v24 = __udivti3(v27 * v25, (v27 * (unsigned __int128)v25) >> 64);
            v51[2] = v24;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v24 = check_errors(v11);
        }

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  char *v17;
  char *v18;
  int64_t v19;
  unsigned int v20;
  unint64_t v21;
  uint64_t v22;
  char v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  unint64_t v27;
  void *v28;
  id v29;
  GPUTools::FB::Fbuf *v30;
  unsigned int v31;
  GPUTools::FB::Fbuf *v32;
  dispatch_queue_s *v33;
  uint64_t v34;
  GPUTools::FB::Stream *v35;
  unsigned int *v36;
  unsigned int v37;
  unsigned int v38;
  unsigned int v39;
  signed int v40;
  BOOL v41;
  unsigned int v42;
  uint64_t v43;
  id v44;
  unsigned int v45;
  dispatch_queue_s *v46;
  int v47;
  uint64_t v48;
  uint64_t v49;
  uint64_t v50;
  void *v51;
  __uint64_t v52;
  void *v53;
  char *v54;
  unsigned int v55;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  uint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v44 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v43 = handle_opengl_thread_conflict((const void **)v11);
    id v44 = [(id)DYGetGLGuestAppClient(v43) waitOnGraphicsSemaphoreAssertions];
    if ((int)v44 >= 1)
    {
      do
LABEL_57:
        unsigned int v45 = __ldaxr(v12);
      while (__stlxr(v45 - 1, v12));
      signed int v46 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v44) graphicsLockWaitQueue];
      dispatch_sync_f(v46, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 24) + 8064LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  int v53 = 0LL;
  uint64_t v54 = 0LL;
  unsigned int v55 = 0;
  if ([(id)DYGetGLGuestAppClient(v44) state] != (char *)&dword_0 + 1
    || (id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v16))
  {
    id v18 = (char *)v53;
    uint64_t v17 = v54;
    int64_t v19 = v54 - (_BYTE *)v53;
    unsigned int v20 = v55;
    unint64_t v21 = v55 - (v54 - (_BYTE *)v53);
    if (v21 > 0x3B) {
      goto LABEL_24;
    }
    int v47 = (315 - v21) & 0xFFFFFF00;
    v55 += v47;
    id v18 = (char *)malloc(v47 + v20);
    int v53 = v18;
    if (v18)
    {
      if ((v18 & 3) == 0)
      {
        uint64_t v17 = &v18[v19];
LABEL_24:
        *(_OWORD *)(v17 + 44) = 0u;
        *((_OWORD *)v17 + 1) = 0u;
        *((_OWORD *)v17 + 2) = 0u;
        *(_OWORD *)uint64_t v17 = 0u;
        uint64_t v54 = v17 + 60;
        GPUTools::FB::Fbuf::align((char **)&v53);
        *((_DWORD *)v18 + 1) = 811;
        *((_DWORD *)v18 + 8) = 0;
        __uint64_t v52 = 0LL;
        uint64_t v22 = pthread_threadid_np(0LL, &v52);
        *((void *)v18 + 1) = v52;
        strcpy(v18 + 36, "Cxub");
        *(void *)(v18 + 44) = *(void *)v11;
        *((_DWORD *)v18 + 13) = a2;
        v18[56] = a3;
        char v23 = byte_207183;
        if ((byte_207183 & 1) != 0) {
          breakpoint_break( (uint64_t)&v53,  (volatile int *)((char *)&stru_2E8.flags + 3),  1LL,  *(unsigned int *)(v11 + 3404),  v11);
        }
        uint64_t v24 = (uint64_t)[(id)DYGetGLGuestAppClient(v22) overrideFlags];
        if (!(v24 & 0x10 | v23 & 4))
        {
          uint64_t v25 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 32) + 8064LL))(a1, a2, a3);
          uint64_t v24 = mach_absolute_time();
          uint64_t v26 = v24 - v25;
          unint64_t v27 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v28 = v53;
            *((void *)v53 + 2) = v25;
            v28[3] = v26;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v50 = __udivti3(g_DYTimebaseInfo * v26, (g_DYTimebaseInfo * (unsigned __int128)v26) >> 64);
            unsigned int v51 = v53;
            *((void *)v53 + 3) = v50;
            uint64_t v24 = __udivti3(v27 * v25, (v27 * (unsigned __int128)v25) >> 64);
            v51[2] = v24;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v24 = check_errors(v11);
        }

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  unsigned int v20;
  uint64_t v21;
  id v22;
  unsigned int v23;
  dispatch_queue_s *v24;
  uint64_t v25;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  uint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v22 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v21 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v22 = [(id)DYGetGLGuestAppClient(v21) waitOnGraphicsSemaphoreAssertions];
    if ((int)v22 >= 1)
    {
      do
LABEL_34:
        char v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      uint64_t v24 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v22) graphicsLockWaitQueue];
      dispatch_sync_f(v24, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 24) + 8064LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v22) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v20 = __ldaxr(v12);
      while (__stlxr(v20 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 32) + 8064LL))(a1, a2, a3);
  ++*(void *)(v11 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v25 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v25) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v25, v11);
      }
    }
  }

  do
  {
    uint64_t v17 = __ldaxr(v12);
    id v18 = v17 - 1;
  }

  while (__stlxr(v18, v12));
  if (gCheckGLErrors) {
    int64_t v19 = v18 < 1;
  }
  else {
    int64_t v19 = 1;
  }
  if (!v19) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  uint64_t v17;
  uint64_t v18;
  int64x2_t v19;
  unsigned int v20;
  signed int v21;
  BOOL v22;
  unsigned int v23;
  uint64_t v24;
  id v25;
  unsigned int v26;
  dispatch_queue_s *v27;
  uint64_t v28;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  uint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v24 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        uint64_t v26 = __ldaxr(v12);
      while (__stlxr(v26 - 1, v12));
      unint64_t v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 24) + 8064LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        char v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v17 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 32) + 8064LL))(a1, a2, a3);
  id v18 = mach_absolute_time();
  int64_t v19 = vdupq_n_s64(1uLL);
  v19.i64[0] = v18 - v17;
  *(int64x2_t *)(v11 + 3696) = vaddq_s64(v19, *(int64x2_t *)(v11 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v28 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v11);
      }
    }
  }

  do
  {
    unsigned int v20 = __ldaxr(v12);
    unint64_t v21 = v20 - 1;
  }

  while (__stlxr(v21, v12));
  if (gCheckGLErrors) {
    uint64_t v22 = v21 < 1;
  }
  else {
    uint64_t v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

void sub_9AD84( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void point_parameterx(__GLIContextRec *a1, uint64_t a2, uint64_t a3)
{
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  uint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v44 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v43 = handle_opengl_thread_conflict((const void **)v11);
    id v44 = [(id)DYGetGLGuestAppClient(v43) waitOnGraphicsSemaphoreAssertions];
    if ((int)v44 >= 1)
    {
      do
LABEL_57:
        unsigned int v45 = __ldaxr(v12);
      while (__stlxr(v45 - 1, v12));
      signed int v46 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v44) graphicsLockWaitQueue];
      dispatch_sync_f(v46, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 24) + 8072LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  int v53 = 0LL;
  uint64_t v54 = 0LL;
  unsigned int v55 = 0;
  if ([(id)DYGetGLGuestAppClient(v44) state] != (char *)&dword_0 + 1
    || (id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v16))
  {
    id v18 = (char *)v53;
    uint64_t v17 = v54;
    int64_t v19 = v54 - (_BYTE *)v53;
    unsigned int v20 = v55;
    unint64_t v21 = v55 - (v54 - (_BYTE *)v53);
    if (v21 > 0x37) {
      goto LABEL_24;
    }
    int v47 = (311 - v21) & 0xFFFFFF00;
    v55 += v47;
    id v18 = (char *)malloc(v47 + v20);
    int v53 = v18;
    if (v18)
    {
      if ((v18 & 3) == 0)
      {
        uint64_t v17 = &v18[v19];
LABEL_24:
        *((void *)v17 + 6) = 0LL;
        *((_OWORD *)v17 + 1) = 0u;
        *((_OWORD *)v17 + 2) = 0u;
        *(_OWORD *)uint64_t v17 = 0u;
        uint64_t v54 = v17 + 56;
        GPUTools::FB::Fbuf::align((char **)&v53);
        *((_DWORD *)v18 + 1) = 804;
        *((_DWORD *)v18 + 8) = 0;
        __uint64_t v52 = 0LL;
        uint64_t v22 = pthread_threadid_np(0LL, &v52);
        *((void *)v18 + 1) = v52;
        *((_DWORD *)v18 + 9) = 7890243;
        *((void *)v18 + 5) = *(void *)v11;
        *((_DWORD *)v18 + 12) = a2;
        *((_DWORD *)v18 + 13) = a3;
        char v23 = byte_20717C;
        if ((byte_20717C & 1) != 0) {
          breakpoint_break((uint64_t)&v53, (volatile int *)&stru_2E8.nreloc, 1LL, *(unsigned int *)(v11 + 3404), v11);
        }
        uint64_t v24 = (uint64_t)[(id)DYGetGLGuestAppClient(v22) overrideFlags];
        if (!(v24 & 0x10 | v23 & 4))
        {
          uint64_t v25 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 32) + 8072LL))(a1, a2, a3);
          uint64_t v24 = mach_absolute_time();
          uint64_t v26 = v24 - v25;
          unint64_t v27 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v28 = v53;
            *((void *)v53 + 2) = v25;
            v28[3] = v26;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v50 = __udivti3(g_DYTimebaseInfo * v26, (g_DYTimebaseInfo * (unsigned __int128)v26) >> 64);
            unsigned int v51 = v53;
            *((void *)v53 + 3) = v50;
            uint64_t v24 = __udivti3(v27 * v25, (v27 * (unsigned __int128)v25) >> 64);
            v51[2] = v24;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v24 = check_errors(v11);
        }

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  char *v17;
  char *v18;
  int64_t v19;
  unsigned int v20;
  unint64_t v21;
  uint64_t v22;
  char v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  unint64_t v27;
  void *v28;
  id v29;
  GPUTools::FB::Fbuf *v30;
  unsigned int v31;
  GPUTools::FB::Fbuf *v32;
  dispatch_queue_s *v33;
  uint64_t v34;
  GPUTools::FB::Stream *v35;
  unsigned int *v36;
  unsigned int v37;
  unsigned int v38;
  unsigned int v39;
  signed int v40;
  BOOL v41;
  unsigned int v42;
  uint64_t v43;
  id v44;
  unsigned int v45;
  dispatch_queue_s *v46;
  int v47;
  uint64_t v48;
  uint64_t v49;
  uint64_t v50;
  void *v51;
  __uint64_t v52;
  void *v53;
  char *v54;
  unsigned int v55;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  uint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v44 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v43 = handle_opengl_thread_conflict((const void **)v11);
    id v44 = [(id)DYGetGLGuestAppClient(v43) waitOnGraphicsSemaphoreAssertions];
    if ((int)v44 >= 1)
    {
      do
LABEL_57:
        unsigned int v45 = __ldaxr(v12);
      while (__stlxr(v45 - 1, v12));
      signed int v46 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v44) graphicsLockWaitQueue];
      dispatch_sync_f(v46, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 24) + 8072LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  int v53 = 0LL;
  uint64_t v54 = 0LL;
  unsigned int v55 = 0;
  if ([(id)DYGetGLGuestAppClient(v44) state] != (char *)&dword_0 + 1
    || (id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v16))
  {
    id v18 = (char *)v53;
    uint64_t v17 = v54;
    int64_t v19 = v54 - (_BYTE *)v53;
    unsigned int v20 = v55;
    unint64_t v21 = v55 - (v54 - (_BYTE *)v53);
    if (v21 > 0x37) {
      goto LABEL_24;
    }
    int v47 = (311 - v21) & 0xFFFFFF00;
    v55 += v47;
    id v18 = (char *)malloc(v47 + v20);
    int v53 = v18;
    if (v18)
    {
      if ((v18 & 3) == 0)
      {
        uint64_t v17 = &v18[v19];
LABEL_24:
        *((void *)v17 + 6) = 0LL;
        *((_OWORD *)v17 + 1) = 0u;
        *((_OWORD *)v17 + 2) = 0u;
        *(_OWORD *)uint64_t v17 = 0u;
        uint64_t v54 = v17 + 56;
        GPUTools::FB::Fbuf::align((char **)&v53);
        *((_DWORD *)v18 + 1) = 804;
        *((_DWORD *)v18 + 8) = 0;
        __uint64_t v52 = 0LL;
        uint64_t v22 = pthread_threadid_np(0LL, &v52);
        *((void *)v18 + 1) = v52;
        *((_DWORD *)v18 + 9) = 7890243;
        *((void *)v18 + 5) = *(void *)v11;
        *((_DWORD *)v18 + 12) = a2;
        *((_DWORD *)v18 + 13) = a3;
        char v23 = byte_20717C;
        if ((byte_20717C & 1) != 0) {
          breakpoint_break((uint64_t)&v53, (volatile int *)&stru_2E8.nreloc, 1LL, *(unsigned int *)(v11 + 3404), v11);
        }
        uint64_t v24 = (uint64_t)[(id)DYGetGLGuestAppClient(v22) overrideFlags];
        if (!(v24 & 0x10 | v23 & 4))
        {
          uint64_t v25 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 32) + 8072LL))(a1, a2, a3);
          uint64_t v24 = mach_absolute_time();
          uint64_t v26 = v24 - v25;
          unint64_t v27 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v28 = v53;
            *((void *)v53 + 2) = v25;
            v28[3] = v26;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v50 = __udivti3(g_DYTimebaseInfo * v26, (g_DYTimebaseInfo * (unsigned __int128)v26) >> 64);
            unsigned int v51 = v53;
            *((void *)v53 + 3) = v50;
            uint64_t v24 = __udivti3(v27 * v25, (v27 * (unsigned __int128)v25) >> 64);
            v51[2] = v24;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v24 = check_errors(v11);
        }

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  unsigned int v20;
  uint64_t v21;
  id v22;
  unsigned int v23;
  dispatch_queue_s *v24;
  uint64_t v25;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  uint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v22 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v21 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v22 = [(id)DYGetGLGuestAppClient(v21) waitOnGraphicsSemaphoreAssertions];
    if ((int)v22 >= 1)
    {
      do
LABEL_34:
        char v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      uint64_t v24 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v22) graphicsLockWaitQueue];
      dispatch_sync_f(v24, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 24) + 8072LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v22) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v20 = __ldaxr(v12);
      while (__stlxr(v20 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 32) + 8072LL))(a1, a2, a3);
  ++*(void *)(v11 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v25 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v25) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v25, v11);
      }
    }
  }

  do
  {
    uint64_t v17 = __ldaxr(v12);
    id v18 = v17 - 1;
  }

  while (__stlxr(v18, v12));
  if (gCheckGLErrors) {
    int64_t v19 = v18 < 1;
  }
  else {
    int64_t v19 = 1;
  }
  if (!v19) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  uint64_t v17;
  uint64_t v18;
  int64x2_t v19;
  unsigned int v20;
  signed int v21;
  BOOL v22;
  unsigned int v23;
  uint64_t v24;
  id v25;
  unsigned int v26;
  dispatch_queue_s *v27;
  uint64_t v28;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  uint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v24 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        uint64_t v26 = __ldaxr(v12);
      while (__stlxr(v26 - 1, v12));
      unint64_t v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 24) + 8072LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        char v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v17 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t))(*(void *)(v11 + 32) + 8072LL))(a1, a2, a3);
  id v18 = mach_absolute_time();
  int64_t v19 = vdupq_n_s64(1uLL);
  v19.i64[0] = v18 - v17;
  *(int64x2_t *)(v11 + 3696) = vaddq_s64(v19, *(int64x2_t *)(v11 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v28 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v11);
      }
    }
  }

  do
  {
    unsigned int v20 = __ldaxr(v12);
    unint64_t v21 = v20 - 1;
  }

  while (__stlxr(v21, v12));
  if (gCheckGLErrors) {
    uint64_t v22 = v21 < 1;
  }
  else {
    uint64_t v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

void sub_9B260( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void point_parameterxv(__GLIContextRec *a1, uint64_t a2, const int *a3)
{
  if ((_DWORD)a2 == 33065) {
    unint64_t v6 = "Ce@3x";
  }
  else {
    unint64_t v6 = "Ce@1x";
  }
  uint64_t v7 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v7) {
    goto LABEL_15;
  }
  uint64_t v8 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v9 = v7[4];
    BOOL v10 = v9 >= (unint64_t)a1;
    else {
      uint64_t v11 = v7 + 1;
    }
    if (v10) {
      uint64_t v8 = (uint64_t)v7;
    }
    uint64_t v7 = (void *)*v11;
  }

  while (*v11);
  if (v8 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v8 + 32) > (unint64_t)a1) {
LABEL_15:
  }
    uint64_t v8 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v12 = *(void *)(v8 + 40);
  unsigned int v13 = (unsigned int *)(v12 + 4640);
  do
  {
    unsigned int v14 = __ldaxr(v13);
    signed int v15 = v14 + 1;
  }

  while (__stlxr(v15, v13));
  if (gCheckGLErrors) {
    BOOL v16 = v15 <= 1;
  }
  else {
    BOOL v16 = 1;
  }
  if (v16)
  {
    id v44 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v43 = handle_opengl_thread_conflict((const void **)v12);
    id v44 = [(id)DYGetGLGuestAppClient(v43) waitOnGraphicsSemaphoreAssertions];
    if ((int)v44 >= 1)
    {
      do
LABEL_59:
        unsigned int v45 = __ldaxr(v13);
      while (__stlxr(v45 - 1, v13));
      signed int v46 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v44) graphicsLockWaitQueue];
      dispatch_sync_f(v46, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, const int *))(*(void *)(v12 + 24) + 8080LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v12 + 4838) = 1;
  v51[0] = 0LL;
  v51[1] = 0LL;
  int v52 = 0;
  if ([(id)DYGetGLGuestAppClient(v44) state] != (char *)&dword_0 + 1
    || (id v21 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v21))
  {
    GPUTools::FB::Encode((uint64_t)v51, 805LL, 0LL, (uint64_t)v6, v17, v18, v19, v20, *(void *)v12);
    char v23 = byte_20717D;
    if ((byte_20717D & 1) != 0) {
      breakpoint_break( (uint64_t)v51,  (volatile int *)((char *)&stru_2E8.nreloc + 1),  1LL,  *(unsigned int *)(v12 + 3404),  v12);
    }
    uint64_t v24 = (uint64_t)[(id)DYGetGLGuestAppClient(v22) overrideFlags];
    if (!(v24 & 0x10 | v23 & 4))
    {
      uint64_t v25 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, const int *))(*(void *)(v12 + 32) + 8080LL))(a1, a2, a3);
      uint64_t v24 = mach_absolute_time();
      uint64_t v26 = v24 - v25;
      unint64_t v27 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        uint64_t v28 = v51[0];
        *((void *)v51[0] + 2) = v25;
        v28[3] = v26;
        if (!gCheckGLErrors) {
          goto LABEL_31;
        }
      }

      else
      {
        uint64_t v49 = __udivti3(g_DYTimebaseInfo * v26, (g_DYTimebaseInfo * (unsigned __int128)v26) >> 64);
        uint64_t v50 = v51[0];
        *((void *)v51[0] + 3) = v49;
        uint64_t v24 = __udivti3(v27 * v25, (v27 * (unsigned __int128)v25) >> 64);
        v50[2] = v24;
        if (!gCheckGLErrors) {
          goto LABEL_31;
        }
      }

      uint64_t v24 = check_errors(v12);
    }

{
  const char *v6;
  void *v7;
  uint64_t v8;
  unint64_t v9;
  BOOL v10;
  void *v11;
  uint64_t v12;
  unsigned int *v13;
  unsigned int v14;
  signed int v15;
  BOOL v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  id v21;
  uint64_t v22;
  char v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  unint64_t v27;
  void *v28;
  id v29;
  GPUTools::FB::Fbuf *v30;
  unsigned int v31;
  GPUTools::FB::Fbuf *v32;
  dispatch_queue_s *v33;
  uint64_t v34;
  GPUTools::FB::Stream *v35;
  unsigned int *v36;
  unsigned int v37;
  unsigned int v38;
  unsigned int v39;
  signed int v40;
  BOOL v41;
  unsigned int v42;
  uint64_t v43;
  id v44;
  unsigned int v45;
  dispatch_queue_s *v46;
  uint64_t v47;
  uint64_t v48;
  uint64_t v49;
  void *v50;
  void *v51[2];
  int v52;
  if ((_DWORD)a2 == 33065) {
    unint64_t v6 = "Ce@3x";
  }
  else {
    unint64_t v6 = "Ce@1x";
  }
  uint64_t v7 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v7) {
    goto LABEL_15;
  }
  uint64_t v8 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v9 = v7[4];
    BOOL v10 = v9 >= (unint64_t)a1;
    else {
      uint64_t v11 = v7 + 1;
    }
    if (v10) {
      uint64_t v8 = (uint64_t)v7;
    }
    uint64_t v7 = (void *)*v11;
  }

  while (*v11);
  if (v8 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v8 + 32) > (unint64_t)a1) {
LABEL_15:
  }
    uint64_t v8 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v12 = *(void *)(v8 + 40);
  unsigned int v13 = (unsigned int *)(v12 + 4640);
  do
  {
    unsigned int v14 = __ldaxr(v13);
    signed int v15 = v14 + 1;
  }

  while (__stlxr(v15, v13));
  if (gCheckGLErrors) {
    BOOL v16 = v15 <= 1;
  }
  else {
    BOOL v16 = 1;
  }
  if (v16)
  {
    id v44 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v43 = handle_opengl_thread_conflict((const void **)v12);
    id v44 = [(id)DYGetGLGuestAppClient(v43) waitOnGraphicsSemaphoreAssertions];
    if ((int)v44 >= 1)
    {
      do
LABEL_59:
        unsigned int v45 = __ldaxr(v13);
      while (__stlxr(v45 - 1, v13));
      signed int v46 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v44) graphicsLockWaitQueue];
      dispatch_sync_f(v46, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, const int *))(*(void *)(v12 + 24) + 8080LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v12 + 4838) = 1;
  v51[0] = 0LL;
  v51[1] = 0LL;
  int v52 = 0;
  if ([(id)DYGetGLGuestAppClient(v44) state] != (char *)&dword_0 + 1
    || (id v21 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v21))
  {
    GPUTools::FB::Encode((uint64_t)v51, 805LL, 0LL, (uint64_t)v6, v17, v18, v19, v20, *(void *)v12);
    char v23 = byte_20717D;
    if ((byte_20717D & 1) != 0) {
      breakpoint_break( (uint64_t)v51,  (volatile int *)((char *)&stru_2E8.nreloc + 1),  1LL,  *(unsigned int *)(v12 + 3404),  v12);
    }
    uint64_t v24 = (uint64_t)[(id)DYGetGLGuestAppClient(v22) overrideFlags];
    if (!(v24 & 0x10 | v23 & 4))
    {
      uint64_t v25 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, const int *))(*(void *)(v12 + 32) + 8080LL))(a1, a2, a3);
      uint64_t v24 = mach_absolute_time();
      uint64_t v26 = v24 - v25;
      unint64_t v27 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        uint64_t v28 = v51[0];
        *((void *)v51[0] + 2) = v25;
        v28[3] = v26;
        if (!gCheckGLErrors) {
          goto LABEL_31;
        }
      }

      else
      {
        uint64_t v49 = __udivti3(g_DYTimebaseInfo * v26, (g_DYTimebaseInfo * (unsigned __int128)v26) >> 64);
        uint64_t v50 = v51[0];
        *((void *)v51[0] + 3) = v49;
        uint64_t v24 = __udivti3(v27 * v25, (v27 * (unsigned __int128)v25) >> 64);
        v50[2] = v24;
        if (!gCheckGLErrors) {
          goto LABEL_31;
        }
      }

      uint64_t v24 = check_errors(v12);
    }

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  unsigned int v20;
  uint64_t v21;
  id v22;
  unsigned int v23;
  dispatch_queue_s *v24;
  uint64_t v25;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    uint64_t v8 = v6[4];
    unint64_t v9 = v8 >= (unint64_t)a1;
    else {
      BOOL v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  uint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    unsigned int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    signed int v15 = v14 <= 1;
  }
  else {
    signed int v15 = 1;
  }
  if (v15)
  {
    uint64_t v22 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    id v21 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v22 = [(id)DYGetGLGuestAppClient(v21) waitOnGraphicsSemaphoreAssertions];
    if ((int)v22 >= 1)
    {
      do
LABEL_34:
        char v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      uint64_t v24 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v22) graphicsLockWaitQueue];
      dispatch_sync_f(v24, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, const int *))(*(void *)(v11 + 24) + 8080LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v22) state] == (char *)&dword_0 + 1)
  {
    BOOL v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        uint64_t v20 = __ldaxr(v12);
      while (__stlxr(v20 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, const int *))(*(void *)(v11 + 32) + 8080LL))(a1, a2, a3);
  ++*(void *)(v11 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v25 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v25) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v25, v11);
      }
    }
  }

  do
  {
    uint64_t v17 = __ldaxr(v12);
    uint64_t v18 = v17 - 1;
  }

  while (__stlxr(v18, v12));
  if (gCheckGLErrors) {
    uint64_t v19 = v18 < 1;
  }
  else {
    uint64_t v19 = 1;
  }
  if (!v19) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  uint64_t v17;
  uint64_t v18;
  int64x2_t v19;
  unsigned int v20;
  signed int v21;
  BOOL v22;
  unsigned int v23;
  uint64_t v24;
  id v25;
  unsigned int v26;
  dispatch_queue_s *v27;
  uint64_t v28;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    uint64_t v8 = v6[4];
    unint64_t v9 = v8 >= (unint64_t)a1;
    else {
      BOOL v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  uint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    unsigned int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    signed int v15 = v14 <= 1;
  }
  else {
    signed int v15 = 1;
  }
  if (v15)
  {
    uint64_t v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v24 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        uint64_t v26 = __ldaxr(v12);
      while (__stlxr(v26 - 1, v12));
      unint64_t v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, const int *))(*(void *)(v11 + 24) + 8080LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    BOOL v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        char v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v17 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, const int *))(*(void *)(v11 + 32) + 8080LL))(a1, a2, a3);
  uint64_t v18 = mach_absolute_time();
  uint64_t v19 = vdupq_n_s64(1uLL);
  v19.i64[0] = v18 - v17;
  *(int64x2_t *)(v11 + 3696) = vaddq_s64(v19, *(int64x2_t *)(v11 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v28 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v11);
      }
    }
  }

  do
  {
    uint64_t v20 = __ldaxr(v12);
    id v21 = v20 - 1;
  }

  while (__stlxr(v21, v12));
  if (gCheckGLErrors) {
    uint64_t v22 = v21 < 1;
  }
  else {
    uint64_t v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

void sub_9B690( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void current_palette_matrix_OES(__GLIContextRec *a1, uint64_t a2)
{
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      uint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  BOOL v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    id v42 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v41 = handle_opengl_thread_conflict((const void **)v9);
    id v42 = [(id)DYGetGLGuestAppClient(v41) waitOnGraphicsSemaphoreAssertions];
    if ((int)v42 >= 1)
    {
      do
LABEL_57:
        unsigned int v43 = __ldaxr(v10);
      while (__stlxr(v43 - 1, v10));
      id v44 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v42) graphicsLockWaitQueue];
      dispatch_sync_f(v44, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 8088LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  unsigned int v51 = 0LL;
  int v52 = 0LL;
  unsigned int v53 = 0;
  if ([(id)DYGetGLGuestAppClient(v42) state] != (char *)&dword_0 + 1
    || (id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v14))
  {
    BOOL v16 = (char *)v51;
    signed int v15 = v52;
    int64_t v17 = v52 - (_BYTE *)v51;
    unsigned int v18 = v53;
    unint64_t v19 = v53 - (v52 - (_BYTE *)v51);
    if (v19 > 0x33) {
      goto LABEL_24;
    }
    int v45 = (307 - v19) & 0xFFFFFF00;
    v53 += v45;
    BOOL v16 = (char *)malloc(v45 + v18);
    unsigned int v51 = v16;
    if (v16)
    {
      if ((v16 & 3) == 0)
      {
        signed int v15 = &v16[v17];
LABEL_24:
        *((_DWORD *)v15 + 12) = 0;
        *((_OWORD *)v15 + 1) = 0u;
        *((_OWORD *)v15 + 2) = 0u;
        *(_OWORD *)signed int v15 = 0u;
        int v52 = v15 + 52;
        GPUTools::FB::Fbuf::align((char **)&v51);
        *((_DWORD *)v16 + 1) = 766;
        *((_DWORD *)v16 + 8) = 0;
        __uint64_t v50 = 0LL;
        uint64_t v20 = pthread_threadid_np(0LL, &v50);
        *((void *)v16 + 1) = v50;
        *((_DWORD *)v16 + 9) = 6911299;
        *((void *)v16 + 5) = *(void *)v9;
        *((_DWORD *)v16 + 12) = a2;
        char v21 = byte_207156;
        if ((byte_207156 & 1) != 0) {
          breakpoint_break((uint64_t)&v51, (volatile int *)&stru_2E8.segname[6], 1LL, *(unsigned int *)(v9 + 3404), v9);
        }
        uint64_t v22 = (uint64_t)[(id)DYGetGLGuestAppClient(v20) overrideFlags];
        if (!(v22 & 0x10 | v21 & 4))
        {
          uint64_t v23 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 32) + 8088LL))(a1, a2);
          uint64_t v22 = mach_absolute_time();
          uint64_t v24 = v22 - v23;
          unint64_t v25 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v26 = v51;
            *((void *)v51 + 2) = v23;
            v26[3] = v24;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v48 = __udivti3(g_DYTimebaseInfo * v24, (g_DYTimebaseInfo * (unsigned __int128)v24) >> 64);
            uint64_t v49 = v51;
            *((void *)v51 + 3) = v48;
            uint64_t v22 = __udivti3(v25 * v23, (v25 * (unsigned __int128)v23) >> 64);
            v49[2] = v22;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v22 = check_errors(v9);
        }

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  char *v15;
  char *v16;
  int64_t v17;
  unsigned int v18;
  unint64_t v19;
  uint64_t v20;
  char v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  unint64_t v25;
  void *v26;
  id v27;
  GPUTools::FB::Fbuf *v28;
  unsigned int v29;
  GPUTools::FB::Fbuf *v30;
  dispatch_queue_s *v31;
  uint64_t v32;
  GPUTools::FB::Stream *v33;
  unsigned int *v34;
  unsigned int v35;
  unsigned int v36;
  unsigned int v37;
  signed int v38;
  BOOL v39;
  unsigned int v40;
  uint64_t v41;
  id v42;
  unsigned int v43;
  dispatch_queue_s *v44;
  int v45;
  uint64_t v46;
  uint64_t v47;
  uint64_t v48;
  void *v49;
  __uint64_t v50;
  void *v51;
  char *v52;
  unsigned int v53;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      uint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  BOOL v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    id v42 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v41 = handle_opengl_thread_conflict((const void **)v9);
    id v42 = [(id)DYGetGLGuestAppClient(v41) waitOnGraphicsSemaphoreAssertions];
    if ((int)v42 >= 1)
    {
      do
LABEL_57:
        unsigned int v43 = __ldaxr(v10);
      while (__stlxr(v43 - 1, v10));
      id v44 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v42) graphicsLockWaitQueue];
      dispatch_sync_f(v44, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 8088LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  unsigned int v51 = 0LL;
  int v52 = 0LL;
  unsigned int v53 = 0;
  if ([(id)DYGetGLGuestAppClient(v42) state] != (char *)&dword_0 + 1
    || (id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v14))
  {
    BOOL v16 = (char *)v51;
    signed int v15 = v52;
    int64_t v17 = v52 - (_BYTE *)v51;
    unsigned int v18 = v53;
    unint64_t v19 = v53 - (v52 - (_BYTE *)v51);
    if (v19 > 0x33) {
      goto LABEL_24;
    }
    int v45 = (307 - v19) & 0xFFFFFF00;
    v53 += v45;
    BOOL v16 = (char *)malloc(v45 + v18);
    unsigned int v51 = v16;
    if (v16)
    {
      if ((v16 & 3) == 0)
      {
        signed int v15 = &v16[v17];
LABEL_24:
        *((_DWORD *)v15 + 12) = 0;
        *((_OWORD *)v15 + 1) = 0u;
        *((_OWORD *)v15 + 2) = 0u;
        *(_OWORD *)signed int v15 = 0u;
        int v52 = v15 + 52;
        GPUTools::FB::Fbuf::align((char **)&v51);
        *((_DWORD *)v16 + 1) = 766;
        *((_DWORD *)v16 + 8) = 0;
        __uint64_t v50 = 0LL;
        uint64_t v20 = pthread_threadid_np(0LL, &v50);
        *((void *)v16 + 1) = v50;
        *((_DWORD *)v16 + 9) = 6911299;
        *((void *)v16 + 5) = *(void *)v9;
        *((_DWORD *)v16 + 12) = a2;
        char v21 = byte_207156;
        if ((byte_207156 & 1) != 0) {
          breakpoint_break((uint64_t)&v51, (volatile int *)&stru_2E8.segname[6], 1LL, *(unsigned int *)(v9 + 3404), v9);
        }
        uint64_t v22 = (uint64_t)[(id)DYGetGLGuestAppClient(v20) overrideFlags];
        if (!(v22 & 0x10 | v21 & 4))
        {
          uint64_t v23 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 32) + 8088LL))(a1, a2);
          uint64_t v22 = mach_absolute_time();
          uint64_t v24 = v22 - v23;
          unint64_t v25 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v26 = v51;
            *((void *)v51 + 2) = v23;
            v26[3] = v24;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v48 = __udivti3(g_DYTimebaseInfo * v24, (g_DYTimebaseInfo * (unsigned __int128)v24) >> 64);
            uint64_t v49 = v51;
            *((void *)v51 + 3) = v48;
            uint64_t v22 = __udivti3(v25 * v23, (v25 * (unsigned __int128)v23) >> 64);
            v49[2] = v22;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v22 = check_errors(v9);
        }

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  unsigned int v18;
  uint64_t v19;
  id v20;
  unsigned int v21;
  dispatch_queue_s *v22;
  uint64_t v23;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      uint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  BOOL v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    uint64_t v20 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v19 = handle_opengl_thread_conflict((const void **)v9);
    uint64_t v20 = [(id)DYGetGLGuestAppClient(v19) waitOnGraphicsSemaphoreAssertions];
    if ((int)v20 >= 1)
    {
      do
LABEL_34:
        char v21 = __ldaxr(v10);
      while (__stlxr(v21 - 1, v10));
      uint64_t v22 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v20) graphicsLockWaitQueue];
      dispatch_sync_f(v22, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 8088LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v20) state] == (char *)&dword_0 + 1)
  {
    id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v14)
    {
      do
        unsigned int v18 = __ldaxr(v10);
      while (__stlxr(v18 - 1, v10));
      [(id)DYGetGLGuestAppClient(v14) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 32) + 8088LL))(a1, a2);
  ++*(void *)(v9 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v9);
    if (gBreakOnError)
    {
      uint64_t v23 = *(unsigned int *)(v9 + 3404);
      if ((_DWORD)v23) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v23, v9);
      }
    }
  }

  do
  {
    signed int v15 = __ldaxr(v10);
    BOOL v16 = v15 - 1;
  }

  while (__stlxr(v16, v10));
  if (gCheckGLErrors) {
    int64_t v17 = v16 < 1;
  }
  else {
    int64_t v17 = 1;
  }
  if (!v17) {
    handle_opengl_thread_conflict((const void **)v9);
  }
}

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  uint64_t v15;
  uint64_t v16;
  int64x2_t v17;
  unsigned int v18;
  signed int v19;
  BOOL v20;
  unsigned int v21;
  uint64_t v22;
  id v23;
  unsigned int v24;
  dispatch_queue_s *v25;
  uint64_t v26;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      uint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  BOOL v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    uint64_t v23 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v22 = handle_opengl_thread_conflict((const void **)v9);
    uint64_t v23 = [(id)DYGetGLGuestAppClient(v22) waitOnGraphicsSemaphoreAssertions];
    if ((int)v23 >= 1)
    {
      do
LABEL_34:
        uint64_t v24 = __ldaxr(v10);
      while (__stlxr(v24 - 1, v10));
      unint64_t v25 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v23) graphicsLockWaitQueue];
      dispatch_sync_f(v25, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 8088LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v23) state] == (char *)&dword_0 + 1)
  {
    id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v14)
    {
      do
        char v21 = __ldaxr(v10);
      while (__stlxr(v21 - 1, v10));
      [(id)DYGetGLGuestAppClient(v14) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  signed int v15 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 32) + 8088LL))(a1, a2);
  BOOL v16 = mach_absolute_time();
  int64_t v17 = vdupq_n_s64(1uLL);
  v17.i64[0] = v16 - v15;
  *(int64x2_t *)(v9 + 3696) = vaddq_s64(v17, *(int64x2_t *)(v9 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v9);
    if (gBreakOnError)
    {
      uint64_t v26 = *(unsigned int *)(v9 + 3404);
      if ((_DWORD)v26) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v26, v9);
      }
    }
  }

  do
  {
    unsigned int v18 = __ldaxr(v10);
    unint64_t v19 = v18 - 1;
  }

  while (__stlxr(v19, v10));
  if (gCheckGLErrors) {
    uint64_t v20 = v19 < 1;
  }
  else {
    uint64_t v20 = 1;
  }
  if (!v20) {
    handle_opengl_thread_conflict((const void **)v9);
  }
}

void sub_9BB54( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void load_palette_from_modelview_matrix_OES(__GLIContextRec *a1)
{
  v2 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v2) {
    goto LABEL_12;
  }
  uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v4 = v2[4];
    BOOL v5 = v4 >= (unint64_t)a1;
    else {
      unint64_t v6 = v2 + 1;
    }
    if (v5) {
      uint64_t v3 = (uint64_t)v2;
    }
    v2 = (void *)*v6;
  }

  while (*v6);
  if (v3 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v3 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v7 = *(void *)(v3 + 40);
  uint64_t v8 = (unsigned int *)(v7 + 4640);
  do
  {
    unsigned int v9 = __ldaxr(v8);
    signed int v10 = v9 + 1;
  }

  while (__stlxr(v10, v8));
  if (gCheckGLErrors) {
    BOOL v11 = v10 <= 1;
  }
  else {
    BOOL v11 = 1;
  }
  if (v11)
  {
    id v40 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v39 = handle_opengl_thread_conflict((const void **)v7);
    id v40 = [(id)DYGetGLGuestAppClient(v39) waitOnGraphicsSemaphoreAssertions];
    if ((int)v40 >= 1)
    {
      do
LABEL_57:
        unsigned int v41 = __ldaxr(v8);
      while (__stlxr(v41 - 1, v8));
      id v42 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v40) graphicsLockWaitQueue];
      dispatch_sync_f(v42, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 24) + 8096LL))(a1);
      return;
    }
  }

  *(_BYTE *)(v7 + 4838) = 1;
  uint64_t v49 = 0LL;
  __uint64_t v50 = 0LL;
  unsigned int v51 = 0;
  if ([(id)DYGetGLGuestAppClient(v40) state] != (char *)&dword_0 + 1
    || (id v12 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v12))
  {
    id v14 = (char *)v49;
    BOOL v13 = v50;
    int64_t v15 = v50 - (_BYTE *)v49;
    unsigned int v16 = v51;
    unint64_t v17 = v51 - (v50 - (_BYTE *)v49);
    if (v17 > 0x2F) {
      goto LABEL_24;
    }
    int v43 = (303 - v17) & 0xFFFFFF00;
    v51 += v43;
    id v14 = (char *)malloc(v43 + v16);
    uint64_t v49 = v14;
    if (v14)
    {
      if ((v14 & 3) == 0)
      {
        BOOL v13 = &v14[v15];
LABEL_24:
        *((_OWORD *)v13 + 1) = 0u;
        *((_OWORD *)v13 + 2) = 0u;
        *(_OWORD *)BOOL v13 = 0u;
        __uint64_t v50 = v13 + 48;
        GPUTools::FB::Fbuf::align((char **)&v49);
        *((_DWORD *)v14 + 1) = 795;
        *((_DWORD *)v14 + 8) = 0;
        __uint64_t v48 = 0LL;
        uint64_t v18 = pthread_threadid_np(0LL, &v48);
        *((void *)v14 + 1) = v48;
        *((_WORD *)v14 + 18) = 67;
        *((void *)v14 + 5) = *(void *)v7;
        char v19 = byte_207173;
        if ((byte_207173 & 1) != 0) {
          breakpoint_break( (uint64_t)&v49,  (volatile int *)((char *)&stru_2E8.offset + 3),  1LL,  *(unsigned int *)(v7 + 3404),  v7);
        }
        uint64_t v20 = (uint64_t)[(id)DYGetGLGuestAppClient(v18) overrideFlags];
        if (!(v20 & 0x10 | v19 & 4))
        {
          uint64_t v21 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 32) + 8096LL))(a1);
          uint64_t v20 = mach_absolute_time();
          uint64_t v22 = v20 - v21;
          unint64_t v23 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v24 = v49;
            *((void *)v49 + 2) = v21;
            v24[3] = v22;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v46 = __udivti3(g_DYTimebaseInfo * v22, (g_DYTimebaseInfo * (unsigned __int128)v22) >> 64);
            uint64_t v47 = v49;
            *((void *)v49 + 3) = v46;
            uint64_t v20 = __udivti3(v23 * v21, (v23 * (unsigned __int128)v21) >> 64);
            v47[2] = v20;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v20 = check_errors(v7);
        }

{
  void *v2;
  uint64_t v3;
  unint64_t v4;
  BOOL v5;
  void *v6;
  uint64_t v7;
  unsigned int *v8;
  unsigned int v9;
  signed int v10;
  BOOL v11;
  id v12;
  char *v13;
  char *v14;
  int64_t v15;
  unsigned int v16;
  unint64_t v17;
  uint64_t v18;
  char v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  unint64_t v23;
  void *v24;
  id v25;
  GPUTools::FB::Fbuf *v26;
  unsigned int v27;
  GPUTools::FB::Fbuf *v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  GPUTools::FB::Stream *v31;
  unsigned int *v32;
  unsigned int v33;
  unsigned int v34;
  unsigned int v35;
  signed int v36;
  BOOL v37;
  unsigned int v38;
  uint64_t v39;
  id v40;
  unsigned int v41;
  dispatch_queue_s *v42;
  int v43;
  uint64_t v44;
  uint64_t v45;
  uint64_t v46;
  void *v47;
  __uint64_t v48;
  void *v49;
  char *v50;
  unsigned int v51;
  v2 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v2) {
    goto LABEL_12;
  }
  uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v4 = v2[4];
    BOOL v5 = v4 >= (unint64_t)a1;
    else {
      unint64_t v6 = v2 + 1;
    }
    if (v5) {
      uint64_t v3 = (uint64_t)v2;
    }
    v2 = (void *)*v6;
  }

  while (*v6);
  if (v3 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v3 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v7 = *(void *)(v3 + 40);
  uint64_t v8 = (unsigned int *)(v7 + 4640);
  do
  {
    unsigned int v9 = __ldaxr(v8);
    signed int v10 = v9 + 1;
  }

  while (__stlxr(v10, v8));
  if (gCheckGLErrors) {
    BOOL v11 = v10 <= 1;
  }
  else {
    BOOL v11 = 1;
  }
  if (v11)
  {
    id v40 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v39 = handle_opengl_thread_conflict((const void **)v7);
    id v40 = [(id)DYGetGLGuestAppClient(v39) waitOnGraphicsSemaphoreAssertions];
    if ((int)v40 >= 1)
    {
      do
LABEL_57:
        unsigned int v41 = __ldaxr(v8);
      while (__stlxr(v41 - 1, v8));
      id v42 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v40) graphicsLockWaitQueue];
      dispatch_sync_f(v42, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 24) + 8096LL))(a1);
      return;
    }
  }

  *(_BYTE *)(v7 + 4838) = 1;
  uint64_t v49 = 0LL;
  __uint64_t v50 = 0LL;
  unsigned int v51 = 0;
  if ([(id)DYGetGLGuestAppClient(v40) state] != (char *)&dword_0 + 1
    || (id v12 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v12))
  {
    id v14 = (char *)v49;
    BOOL v13 = v50;
    int64_t v15 = v50 - (_BYTE *)v49;
    unsigned int v16 = v51;
    unint64_t v17 = v51 - (v50 - (_BYTE *)v49);
    if (v17 > 0x2F) {
      goto LABEL_24;
    }
    int v43 = (303 - v17) & 0xFFFFFF00;
    v51 += v43;
    id v14 = (char *)malloc(v43 + v16);
    uint64_t v49 = v14;
    if (v14)
    {
      if ((v14 & 3) == 0)
      {
        BOOL v13 = &v14[v15];
LABEL_24:
        *((_OWORD *)v13 + 1) = 0u;
        *((_OWORD *)v13 + 2) = 0u;
        *(_OWORD *)BOOL v13 = 0u;
        __uint64_t v50 = v13 + 48;
        GPUTools::FB::Fbuf::align((char **)&v49);
        *((_DWORD *)v14 + 1) = 795;
        *((_DWORD *)v14 + 8) = 0;
        __uint64_t v48 = 0LL;
        uint64_t v18 = pthread_threadid_np(0LL, &v48);
        *((void *)v14 + 1) = v48;
        *((_WORD *)v14 + 18) = 67;
        *((void *)v14 + 5) = *(void *)v7;
        char v19 = byte_207173;
        if ((byte_207173 & 1) != 0) {
          breakpoint_break( (uint64_t)&v49,  (volatile int *)((char *)&stru_2E8.offset + 3),  1LL,  *(unsigned int *)(v7 + 3404),  v7);
        }
        uint64_t v20 = (uint64_t)[(id)DYGetGLGuestAppClient(v18) overrideFlags];
        if (!(v20 & 0x10 | v19 & 4))
        {
          uint64_t v21 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 32) + 8096LL))(a1);
          uint64_t v20 = mach_absolute_time();
          uint64_t v22 = v20 - v21;
          unint64_t v23 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v24 = v49;
            *((void *)v49 + 2) = v21;
            v24[3] = v22;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v46 = __udivti3(g_DYTimebaseInfo * v22, (g_DYTimebaseInfo * (unsigned __int128)v22) >> 64);
            uint64_t v47 = v49;
            *((void *)v49 + 3) = v46;
            uint64_t v20 = __udivti3(v23 * v21, (v23 * (unsigned __int128)v21) >> 64);
            v47[2] = v20;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v20 = check_errors(v7);
        }

{
  void *v2;
  uint64_t v3;
  unint64_t v4;
  BOOL v5;
  void *v6;
  uint64_t v7;
  unsigned int *v8;
  unsigned int v9;
  signed int v10;
  BOOL v11;
  id v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  unsigned int v16;
  uint64_t v17;
  id v18;
  unsigned int v19;
  dispatch_queue_s *v20;
  uint64_t v21;
  v2 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v2) {
    goto LABEL_12;
  }
  uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v4 = v2[4];
    BOOL v5 = v4 >= (unint64_t)a1;
    else {
      unint64_t v6 = v2 + 1;
    }
    if (v5) {
      uint64_t v3 = (uint64_t)v2;
    }
    v2 = (void *)*v6;
  }

  while (*v6);
  if (v3 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v3 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v7 = *(void *)(v3 + 40);
  uint64_t v8 = (unsigned int *)(v7 + 4640);
  do
  {
    unsigned int v9 = __ldaxr(v8);
    signed int v10 = v9 + 1;
  }

  while (__stlxr(v10, v8));
  if (gCheckGLErrors) {
    BOOL v11 = v10 <= 1;
  }
  else {
    BOOL v11 = 1;
  }
  if (v11)
  {
    uint64_t v18 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v17 = handle_opengl_thread_conflict((const void **)v7);
    uint64_t v18 = [(id)DYGetGLGuestAppClient(v17) waitOnGraphicsSemaphoreAssertions];
    if ((int)v18 >= 1)
    {
      do
LABEL_34:
        char v19 = __ldaxr(v8);
      while (__stlxr(v19 - 1, v8));
      uint64_t v20 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v18) graphicsLockWaitQueue];
      dispatch_sync_f(v20, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 24) + 8096LL))(a1);
      return;
    }
  }

  *(_BYTE *)(v7 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v18) state] == (char *)&dword_0 + 1)
  {
    id v12 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v12)
    {
      do
        unsigned int v16 = __ldaxr(v8);
      while (__stlxr(v16 - 1, v8));
      [(id)DYGetGLGuestAppClient(v12) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 32) + 8096LL))(a1);
  ++*(void *)(v7 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v7);
    if (gBreakOnError)
    {
      uint64_t v21 = *(unsigned int *)(v7 + 3404);
      if ((_DWORD)v21) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v21, v7);
      }
    }
  }

  do
  {
    BOOL v13 = __ldaxr(v8);
    id v14 = v13 - 1;
  }

  while (__stlxr(v14, v8));
  if (gCheckGLErrors) {
    int64_t v15 = v14 < 1;
  }
  else {
    int64_t v15 = 1;
  }
  if (!v15) {
    handle_opengl_thread_conflict((const void **)v7);
  }
}

{
  void *v2;
  uint64_t v3;
  unint64_t v4;
  BOOL v5;
  void *v6;
  uint64_t v7;
  unsigned int *v8;
  unsigned int v9;
  signed int v10;
  BOOL v11;
  id v12;
  uint64_t v13;
  uint64_t v14;
  int64x2_t v15;
  unsigned int v16;
  signed int v17;
  BOOL v18;
  unsigned int v19;
  uint64_t v20;
  id v21;
  unsigned int v22;
  dispatch_queue_s *v23;
  uint64_t v24;
  v2 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v2) {
    goto LABEL_12;
  }
  uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v4 = v2[4];
    BOOL v5 = v4 >= (unint64_t)a1;
    else {
      unint64_t v6 = v2 + 1;
    }
    if (v5) {
      uint64_t v3 = (uint64_t)v2;
    }
    v2 = (void *)*v6;
  }

  while (*v6);
  if (v3 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v3 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v7 = *(void *)(v3 + 40);
  uint64_t v8 = (unsigned int *)(v7 + 4640);
  do
  {
    unsigned int v9 = __ldaxr(v8);
    signed int v10 = v9 + 1;
  }

  while (__stlxr(v10, v8));
  if (gCheckGLErrors) {
    BOOL v11 = v10 <= 1;
  }
  else {
    BOOL v11 = 1;
  }
  if (v11)
  {
    uint64_t v21 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v20 = handle_opengl_thread_conflict((const void **)v7);
    uint64_t v21 = [(id)DYGetGLGuestAppClient(v20) waitOnGraphicsSemaphoreAssertions];
    if ((int)v21 >= 1)
    {
      do
LABEL_34:
        uint64_t v22 = __ldaxr(v8);
      while (__stlxr(v22 - 1, v8));
      unint64_t v23 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v21) graphicsLockWaitQueue];
      dispatch_sync_f(v23, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 24) + 8096LL))(a1);
      return;
    }
  }

  *(_BYTE *)(v7 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v21) state] == (char *)&dword_0 + 1)
  {
    id v12 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v12)
    {
      do
        char v19 = __ldaxr(v8);
      while (__stlxr(v19 - 1, v8));
      [(id)DYGetGLGuestAppClient(v12) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  BOOL v13 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 32) + 8096LL))(a1);
  id v14 = mach_absolute_time();
  int64_t v15 = vdupq_n_s64(1uLL);
  v15.i64[0] = v14 - v13;
  *(int64x2_t *)(v7 + 3696) = vaddq_s64(v15, *(int64x2_t *)(v7 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v7);
    if (gBreakOnError)
    {
      uint64_t v24 = *(unsigned int *)(v7 + 3404);
      if ((_DWORD)v24) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v24, v7);
      }
    }
  }

  do
  {
    unsigned int v16 = __ldaxr(v8);
    unint64_t v17 = v16 - 1;
  }

  while (__stlxr(v17, v8));
  if (gCheckGLErrors) {
    uint64_t v18 = v17 < 1;
  }
  else {
    uint64_t v18 = 1;
  }
  if (!v18) {
    handle_opengl_thread_conflict((const void **)v7);
  }
}

void sub_9C004( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void matrix_index_pointer_OES(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, const void *a5)
{
  signed int v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      id v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    signed int v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  unsigned int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    id v48 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v47 = handle_opengl_thread_conflict((const void **)v15);
    id v48 = [(id)DYGetGLGuestAppClient(v47) waitOnGraphicsSemaphoreAssertions];
    if ((int)v48 >= 1)
    {
      do
LABEL_56:
        unsigned int v49 = __ldaxr(v16);
      while (__stlxr(v49 - 1, v16));
      __uint64_t v50 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v48) graphicsLockWaitQueue];
      dispatch_sync_f(v50, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const void *))(*(void *)(v15 + 24) + 8104LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  v55[0] = 0LL;
  v55[1] = 0LL;
  int v56 = 0;
  if ([(id)DYGetGLGuestAppClient(v48) state] != (char *)&dword_0 + 1
    || (id v24 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v24))
  {
    int v25 = *(_DWORD *)(v15 + 2032);
    *(_DWORD *)(v15 + 2016) = a2;
    *(_DWORD *)(v15 + 2012) = a3;
    *(_DWORD *)(v15 + 2020) = a4;
    *(void *)(v15 + 2000) = a5;
    *(_DWORD *)(v15 + 2008) = v25;
    GPUTools::FB::Encode( (uint64_t)v55,  798LL,  2 * (v25 == 0),  (uint64_t)"Cieit",  v20,  v21,  v22,  v23,  *(void *)v15);
    char v27 = byte_207176;
    if ((byte_207176 & 1) != 0) {
      breakpoint_break( (uint64_t)v55,  (volatile int *)((char *)&stru_2E8.align + 2),  1LL,  *(unsigned int *)(v15 + 3404),  v15);
    }
    uint64_t v28 = (uint64_t)[(id)DYGetGLGuestAppClient(v26) overrideFlags];
    if (!(v28 & 0x10 | v27 & 4))
    {
      uint64_t v29 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const void *))(*(void *)(v15 + 32) + 8104LL))( a1,  a2,  a3,  a4,  a5);
      uint64_t v28 = mach_absolute_time();
      uint64_t v30 = v28 - v29;
      unint64_t v31 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        uint64_t v32 = v55[0];
        *((void *)v55[0] + 2) = v29;
        v32[3] = v30;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      else
      {
        uint64_t v53 = __udivti3(g_DYTimebaseInfo * v30, (g_DYTimebaseInfo * (unsigned __int128)v30) >> 64);
        uint64_t v54 = v55[0];
        *((void *)v55[0] + 3) = v53;
        uint64_t v28 = __udivti3(v31 * v29, (v31 * (unsigned __int128)v29) >> 64);
        v54[2] = v28;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      uint64_t v28 = check_errors(v15);
    }

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  id v24;
  int v25;
  uint64_t v26;
  char v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  unint64_t v31;
  void *v32;
  id v33;
  GPUTools::FB::Fbuf *v34;
  unsigned int v35;
  GPUTools::FB::Fbuf *v36;
  dispatch_queue_s *v37;
  uint64_t v38;
  GPUTools::FB::Stream *v39;
  unsigned int *v40;
  unsigned int v41;
  unsigned int v42;
  unsigned int v43;
  signed int v44;
  BOOL v45;
  unsigned int v46;
  uint64_t v47;
  id v48;
  unsigned int v49;
  dispatch_queue_s *v50;
  uint64_t v51;
  uint64_t v52;
  uint64_t v53;
  void *v54;
  void *v55[2];
  int v56;
  signed int v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      id v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    signed int v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  unsigned int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    id v48 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v47 = handle_opengl_thread_conflict((const void **)v15);
    id v48 = [(id)DYGetGLGuestAppClient(v47) waitOnGraphicsSemaphoreAssertions];
    if ((int)v48 >= 1)
    {
      do
LABEL_56:
        unsigned int v49 = __ldaxr(v16);
      while (__stlxr(v49 - 1, v16));
      __uint64_t v50 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v48) graphicsLockWaitQueue];
      dispatch_sync_f(v50, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const void *))(*(void *)(v15 + 24) + 8104LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  v55[0] = 0LL;
  v55[1] = 0LL;
  int v56 = 0;
  if ([(id)DYGetGLGuestAppClient(v48) state] != (char *)&dword_0 + 1
    || (id v24 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v24))
  {
    int v25 = *(_DWORD *)(v15 + 2032);
    *(_DWORD *)(v15 + 2016) = a2;
    *(_DWORD *)(v15 + 2012) = a3;
    *(_DWORD *)(v15 + 2020) = a4;
    *(void *)(v15 + 2000) = a5;
    *(_DWORD *)(v15 + 2008) = v25;
    GPUTools::FB::Encode( (uint64_t)v55,  798LL,  2 * (v25 == 0),  (uint64_t)"Cieit",  v20,  v21,  v22,  v23,  *(void *)v15);
    char v27 = byte_207176;
    if ((byte_207176 & 1) != 0) {
      breakpoint_break( (uint64_t)v55,  (volatile int *)((char *)&stru_2E8.align + 2),  1LL,  *(unsigned int *)(v15 + 3404),  v15);
    }
    uint64_t v28 = (uint64_t)[(id)DYGetGLGuestAppClient(v26) overrideFlags];
    if (!(v28 & 0x10 | v27 & 4))
    {
      uint64_t v29 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const void *))(*(void *)(v15 + 32) + 8104LL))( a1,  a2,  a3,  a4,  a5);
      uint64_t v28 = mach_absolute_time();
      uint64_t v30 = v28 - v29;
      unint64_t v31 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        uint64_t v32 = v55[0];
        *((void *)v55[0] + 2) = v29;
        v32[3] = v30;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      else
      {
        uint64_t v53 = __udivti3(g_DYTimebaseInfo * v30, (g_DYTimebaseInfo * (unsigned __int128)v30) >> 64);
        uint64_t v54 = v55[0];
        *((void *)v55[0] + 3) = v53;
        uint64_t v28 = __udivti3(v31 * v29, (v31 * (unsigned __int128)v29) >> 64);
        v54[2] = v28;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      uint64_t v28 = check_errors(v15);
    }

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  id v20;
  unsigned int v21;
  signed int v22;
  BOOL v23;
  unsigned int v24;
  uint64_t v25;
  id v26;
  unsigned int v27;
  dispatch_queue_s *v28;
  uint64_t v29;
  signed int v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      id v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    signed int v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  unsigned int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    uint64_t v26 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    int v25 = handle_opengl_thread_conflict((const void **)v15);
    uint64_t v26 = [(id)DYGetGLGuestAppClient(v25) waitOnGraphicsSemaphoreAssertions];
    if ((int)v26 >= 1)
    {
      do
LABEL_34:
        char v27 = __ldaxr(v16);
      while (__stlxr(v27 - 1, v16));
      uint64_t v28 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v26) graphicsLockWaitQueue];
      dispatch_sync_f(v28, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const void *))(*(void *)(v15 + 24) + 8104LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v26) state] == (char *)&dword_0 + 1)
  {
    uint64_t v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        id v24 = __ldaxr(v16);
      while (__stlxr(v24 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const void *))(*(void *)(v15 + 32) + 8104LL))( a1,  a2,  a3,  a4,  a5);
  ++*(void *)(v15 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v29 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v29) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v29, v15);
      }
    }
  }

  do
  {
    uint64_t v21 = __ldaxr(v16);
    uint64_t v22 = v21 - 1;
  }

  while (__stlxr(v22, v16));
  if (gCheckGLErrors) {
    uint64_t v23 = v22 < 1;
  }
  else {
    uint64_t v23 = 1;
  }
  if (!v23) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  id v20;
  uint64_t v21;
  uint64_t v22;
  int64x2_t v23;
  unsigned int v24;
  signed int v25;
  BOOL v26;
  unsigned int v27;
  uint64_t v28;
  id v29;
  unsigned int v30;
  dispatch_queue_s *v31;
  uint64_t v32;
  signed int v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      id v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    signed int v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  unsigned int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    uint64_t v29 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v28 = handle_opengl_thread_conflict((const void **)v15);
    uint64_t v29 = [(id)DYGetGLGuestAppClient(v28) waitOnGraphicsSemaphoreAssertions];
    if ((int)v29 >= 1)
    {
      do
LABEL_34:
        uint64_t v30 = __ldaxr(v16);
      while (__stlxr(v30 - 1, v16));
      unint64_t v31 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v29) graphicsLockWaitQueue];
      dispatch_sync_f(v31, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const void *))(*(void *)(v15 + 24) + 8104LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v29) state] == (char *)&dword_0 + 1)
  {
    uint64_t v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        char v27 = __ldaxr(v16);
      while (__stlxr(v27 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v21 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const void *))(*(void *)(v15 + 32) + 8104LL))( a1,  a2,  a3,  a4,  a5);
  uint64_t v22 = mach_absolute_time();
  uint64_t v23 = vdupq_n_s64(1uLL);
  v23.i64[0] = v22 - v21;
  *(int64x2_t *)(v15 + 3696) = vaddq_s64(v23, *(int64x2_t *)(v15 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v32 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v32) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v32, v15);
      }
    }
  }

  do
  {
    id v24 = __ldaxr(v16);
    int v25 = v24 - 1;
  }

  while (__stlxr(v25, v16));
  if (gCheckGLErrors) {
    uint64_t v26 = v25 < 1;
  }
  else {
    uint64_t v26 = 1;
  }
  if (!v26) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

void sub_9C46C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void weight_pointer_OES(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, const void *a5)
{
  signed int v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      id v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    signed int v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  unsigned int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    id v48 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v47 = handle_opengl_thread_conflict((const void **)v15);
    id v48 = [(id)DYGetGLGuestAppClient(v47) waitOnGraphicsSemaphoreAssertions];
    if ((int)v48 >= 1)
    {
      do
LABEL_56:
        unsigned int v49 = __ldaxr(v16);
      while (__stlxr(v49 - 1, v16));
      __uint64_t v50 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v48) graphicsLockWaitQueue];
      dispatch_sync_f(v50, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const void *))(*(void *)(v15 + 24) + 8112LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  v55[0] = 0LL;
  v55[1] = 0LL;
  int v56 = 0;
  if ([(id)DYGetGLGuestAppClient(v48) state] != (char *)&dword_0 + 1
    || (id v24 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v24))
  {
    int v25 = *(_DWORD *)(v15 + 2032);
    *(_DWORD *)(v15 + 1952) = a2;
    *(_DWORD *)(v15 + 1948) = a3;
    *(_DWORD *)(v15 + 1956) = a4;
    *(void *)(v15 + 1936) = a5;
    *(_DWORD *)(v15 + 1944) = v25;
    GPUTools::FB::Encode( (uint64_t)v55,  819LL,  2 * (v25 == 0),  (uint64_t)"Cieit",  v20,  v21,  v22,  v23,  *(void *)v15);
    char v27 = byte_20718B;
    if ((byte_20718B & 1) != 0) {
      breakpoint_break( (uint64_t)v55,  (volatile int *)((char *)&stru_2E8.reserved2 + 3),  1LL,  *(unsigned int *)(v15 + 3404),  v15);
    }
    uint64_t v28 = (uint64_t)[(id)DYGetGLGuestAppClient(v26) overrideFlags];
    if (!(v28 & 0x10 | v27 & 4))
    {
      uint64_t v29 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const void *))(*(void *)(v15 + 32) + 8112LL))( a1,  a2,  a3,  a4,  a5);
      uint64_t v28 = mach_absolute_time();
      uint64_t v30 = v28 - v29;
      unint64_t v31 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        uint64_t v32 = v55[0];
        *((void *)v55[0] + 2) = v29;
        v32[3] = v30;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      else
      {
        uint64_t v53 = __udivti3(g_DYTimebaseInfo * v30, (g_DYTimebaseInfo * (unsigned __int128)v30) >> 64);
        uint64_t v54 = v55[0];
        *((void *)v55[0] + 3) = v53;
        uint64_t v28 = __udivti3(v31 * v29, (v31 * (unsigned __int128)v29) >> 64);
        v54[2] = v28;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      uint64_t v28 = check_errors(v15);
    }

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  id v24;
  int v25;
  uint64_t v26;
  char v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  unint64_t v31;
  void *v32;
  id v33;
  GPUTools::FB::Fbuf *v34;
  unsigned int v35;
  GPUTools::FB::Fbuf *v36;
  dispatch_queue_s *v37;
  uint64_t v38;
  GPUTools::FB::Stream *v39;
  unsigned int *v40;
  unsigned int v41;
  unsigned int v42;
  unsigned int v43;
  signed int v44;
  BOOL v45;
  unsigned int v46;
  uint64_t v47;
  id v48;
  unsigned int v49;
  dispatch_queue_s *v50;
  uint64_t v51;
  uint64_t v52;
  uint64_t v53;
  void *v54;
  void *v55[2];
  int v56;
  signed int v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      id v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    signed int v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  unsigned int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    id v48 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v47 = handle_opengl_thread_conflict((const void **)v15);
    id v48 = [(id)DYGetGLGuestAppClient(v47) waitOnGraphicsSemaphoreAssertions];
    if ((int)v48 >= 1)
    {
      do
LABEL_56:
        unsigned int v49 = __ldaxr(v16);
      while (__stlxr(v49 - 1, v16));
      __uint64_t v50 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v48) graphicsLockWaitQueue];
      dispatch_sync_f(v50, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const void *))(*(void *)(v15 + 24) + 8112LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  v55[0] = 0LL;
  v55[1] = 0LL;
  int v56 = 0;
  if ([(id)DYGetGLGuestAppClient(v48) state] != (char *)&dword_0 + 1
    || (id v24 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v24))
  {
    int v25 = *(_DWORD *)(v15 + 2032);
    *(_DWORD *)(v15 + 1952) = a2;
    *(_DWORD *)(v15 + 1948) = a3;
    *(_DWORD *)(v15 + 1956) = a4;
    *(void *)(v15 + 1936) = a5;
    *(_DWORD *)(v15 + 1944) = v25;
    GPUTools::FB::Encode( (uint64_t)v55,  819LL,  2 * (v25 == 0),  (uint64_t)"Cieit",  v20,  v21,  v22,  v23,  *(void *)v15);
    char v27 = byte_20718B;
    if ((byte_20718B & 1) != 0) {
      breakpoint_break( (uint64_t)v55,  (volatile int *)((char *)&stru_2E8.reserved2 + 3),  1LL,  *(unsigned int *)(v15 + 3404),  v15);
    }
    uint64_t v28 = (uint64_t)[(id)DYGetGLGuestAppClient(v26) overrideFlags];
    if (!(v28 & 0x10 | v27 & 4))
    {
      uint64_t v29 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const void *))(*(void *)(v15 + 32) + 8112LL))( a1,  a2,  a3,  a4,  a5);
      uint64_t v28 = mach_absolute_time();
      uint64_t v30 = v28 - v29;
      unint64_t v31 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        uint64_t v32 = v55[0];
        *((void *)v55[0] + 2) = v29;
        v32[3] = v30;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      else
      {
        uint64_t v53 = __udivti3(g_DYTimebaseInfo * v30, (g_DYTimebaseInfo * (unsigned __int128)v30) >> 64);
        uint64_t v54 = v55[0];
        *((void *)v55[0] + 3) = v53;
        uint64_t v28 = __udivti3(v31 * v29, (v31 * (unsigned __int128)v29) >> 64);
        v54[2] = v28;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      uint64_t v28 = check_errors(v15);
    }

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  id v20;
  unsigned int v21;
  signed int v22;
  BOOL v23;
  unsigned int v24;
  uint64_t v25;
  id v26;
  unsigned int v27;
  dispatch_queue_s *v28;
  uint64_t v29;
  signed int v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      id v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    signed int v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  unsigned int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    uint64_t v26 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    int v25 = handle_opengl_thread_conflict((const void **)v15);
    uint64_t v26 = [(id)DYGetGLGuestAppClient(v25) waitOnGraphicsSemaphoreAssertions];
    if ((int)v26 >= 1)
    {
      do
LABEL_34:
        char v27 = __ldaxr(v16);
      while (__stlxr(v27 - 1, v16));
      uint64_t v28 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v26) graphicsLockWaitQueue];
      dispatch_sync_f(v28, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const void *))(*(void *)(v15 + 24) + 8112LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v26) state] == (char *)&dword_0 + 1)
  {
    uint64_t v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        id v24 = __ldaxr(v16);
      while (__stlxr(v24 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const void *))(*(void *)(v15 + 32) + 8112LL))( a1,  a2,  a3,  a4,  a5);
  ++*(void *)(v15 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v29 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v29) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v29, v15);
      }
    }
  }

  do
  {
    uint64_t v21 = __ldaxr(v16);
    uint64_t v22 = v21 - 1;
  }

  while (__stlxr(v22, v16));
  if (gCheckGLErrors) {
    uint64_t v23 = v22 < 1;
  }
  else {
    uint64_t v23 = 1;
  }
  if (!v23) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  id v20;
  uint64_t v21;
  uint64_t v22;
  int64x2_t v23;
  unsigned int v24;
  signed int v25;
  BOOL v26;
  unsigned int v27;
  uint64_t v28;
  id v29;
  unsigned int v30;
  dispatch_queue_s *v31;
  uint64_t v32;
  signed int v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      id v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    signed int v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  unsigned int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    uint64_t v29 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v28 = handle_opengl_thread_conflict((const void **)v15);
    uint64_t v29 = [(id)DYGetGLGuestAppClient(v28) waitOnGraphicsSemaphoreAssertions];
    if ((int)v29 >= 1)
    {
      do
LABEL_34:
        uint64_t v30 = __ldaxr(v16);
      while (__stlxr(v30 - 1, v16));
      unint64_t v31 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v29) graphicsLockWaitQueue];
      dispatch_sync_f(v31, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const void *))(*(void *)(v15 + 24) + 8112LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v29) state] == (char *)&dword_0 + 1)
  {
    uint64_t v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        char v27 = __ldaxr(v16);
      while (__stlxr(v27 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v21 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const void *))(*(void *)(v15 + 32) + 8112LL))( a1,  a2,  a3,  a4,  a5);
  uint64_t v22 = mach_absolute_time();
  uint64_t v23 = vdupq_n_s64(1uLL);
  v23.i64[0] = v22 - v21;
  *(int64x2_t *)(v15 + 3696) = vaddq_s64(v23, *(int64x2_t *)(v15 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v32 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v32) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v32, v15);
      }
    }
  }

  do
  {
    id v24 = __ldaxr(v16);
    int v25 = v24 - 1;
  }

  while (__stlxr(v25, v16));
  if (gCheckGLErrors) {
    uint64_t v26 = v25 < 1;
  }
  else {
    uint64_t v26 = 1;
  }
  if (!v26) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

void sub_9C8D0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void drawtexs_OES(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      unsigned int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  signed int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    id v50 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v49 = handle_opengl_thread_conflict((const void **)v17);
    id v50 = [(id)DYGetGLGuestAppClient(v49) waitOnGraphicsSemaphoreAssertions];
    if ((int)v50 >= 1)
    {
      do
LABEL_57:
        unsigned int v51 = __ldaxr(v18);
      while (__stlxr(v51 - 1, v18));
      uint64_t v52 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v50) graphicsLockWaitQueue];
      dispatch_sync_f(v52, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24)
                                                                                             + 8120LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  unsigned int v59 = 0LL;
  __uint64_t v60 = 0LL;
  unsigned int v61 = 0;
  if ([(id)DYGetGLGuestAppClient(v50) state] != (char *)&dword_0 + 1
    || (id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v22))
  {
    id v24 = (char *)v59;
    uint64_t v23 = v60;
    int64_t v25 = v60 - (_BYTE *)v59;
    unsigned int v26 = v61;
    unint64_t v27 = v61 - (v60 - (_BYTE *)v59);
    if (v27 > 0x3F) {
      goto LABEL_24;
    }
    int v53 = (319 - v27) & 0xFFFFFF00;
    v61 += v53;
    id v24 = (char *)malloc(v53 + v26);
    unsigned int v59 = v24;
    if (v24)
    {
      if ((v24 & 3) == 0)
      {
        uint64_t v23 = &v24[v25];
LABEL_24:
        *((_OWORD *)v23 + 2) = 0u;
        *((_OWORD *)v23 + 3) = 0u;
        *(_OWORD *)uint64_t v23 = 0u;
        *((_OWORD *)v23 + 1) = 0u;
        __uint64_t v60 = v23 + 64;
        GPUTools::FB::Fbuf::align((char **)&v59);
        *((_DWORD *)v24 + 1) = 773;
        *((_DWORD *)v24 + 8) = 0;
        __uint64_t v58 = 0LL;
        uint64_t v28 = pthread_threadid_np(0LL, &v58);
        *((void *)v24 + 1) = v58;
        strcpy(v24 + 36, "Csssss");
        *(void *)(v24 + 44) = *(void *)v17;
        *((_WORD *)v24 + 26) = a2;
        *((_WORD *)v24 + 27) = a3;
        *((_WORD *)v24 + 28) = a4;
        *((_WORD *)v24 + 29) = a5;
        *((_WORD *)v24 + 30) = a6;
        char v29 = byte_20715D;
        if ((byte_20715D & 1) != 0) {
          breakpoint_break( (uint64_t)&v59,  (volatile int *)&stru_2E8.segname[13],  1LL,  *(unsigned int *)(v17 + 3404),  v17);
        }
        uint64_t v30 = (uint64_t)[(id)DYGetGLGuestAppClient(v28) overrideFlags];
        if (!(v30 & 0x10 | v29 & 4))
        {
          uint64_t v31 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 32)
                                                                                                 + 8120LL))( a1,  a2,  a3,  a4,  a5,  a6);
          uint64_t v30 = mach_absolute_time();
          uint64_t v32 = v30 - v31;
          unint64_t v33 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unsigned int v34 = v59;
            *((void *)v59 + 2) = v31;
            v34[3] = v32;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v56 = __udivti3(g_DYTimebaseInfo * v32, (g_DYTimebaseInfo * (unsigned __int128)v32) >> 64);
            unsigned int v57 = v59;
            *((void *)v59 + 3) = v56;
            uint64_t v30 = __udivti3(v33 * v31, (v33 * (unsigned __int128)v31) >> 64);
            v57[2] = v30;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v30 = check_errors(v17);
        }

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  id v22;
  char *v23;
  char *v24;
  int64_t v25;
  unsigned int v26;
  unint64_t v27;
  uint64_t v28;
  char v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  unint64_t v33;
  void *v34;
  id v35;
  GPUTools::FB::Fbuf *v36;
  unsigned int v37;
  GPUTools::FB::Fbuf *v38;
  dispatch_queue_s *v39;
  uint64_t v40;
  GPUTools::FB::Stream *v41;
  unsigned int *v42;
  unsigned int v43;
  unsigned int v44;
  unsigned int v45;
  signed int v46;
  BOOL v47;
  unsigned int v48;
  uint64_t v49;
  id v50;
  unsigned int v51;
  dispatch_queue_s *v52;
  int v53;
  uint64_t v54;
  uint64_t v55;
  uint64_t v56;
  void *v57;
  __uint64_t v58;
  void *v59;
  char *v60;
  unsigned int v61;
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      unsigned int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  signed int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    id v50 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v49 = handle_opengl_thread_conflict((const void **)v17);
    id v50 = [(id)DYGetGLGuestAppClient(v49) waitOnGraphicsSemaphoreAssertions];
    if ((int)v50 >= 1)
    {
      do
LABEL_57:
        unsigned int v51 = __ldaxr(v18);
      while (__stlxr(v51 - 1, v18));
      uint64_t v52 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v50) graphicsLockWaitQueue];
      dispatch_sync_f(v52, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24)
                                                                                             + 8120LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  unsigned int v59 = 0LL;
  __uint64_t v60 = 0LL;
  unsigned int v61 = 0;
  if ([(id)DYGetGLGuestAppClient(v50) state] != (char *)&dword_0 + 1
    || (id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v22))
  {
    id v24 = (char *)v59;
    uint64_t v23 = v60;
    int64_t v25 = v60 - (_BYTE *)v59;
    unsigned int v26 = v61;
    unint64_t v27 = v61 - (v60 - (_BYTE *)v59);
    if (v27 > 0x3F) {
      goto LABEL_24;
    }
    int v53 = (319 - v27) & 0xFFFFFF00;
    v61 += v53;
    id v24 = (char *)malloc(v53 + v26);
    unsigned int v59 = v24;
    if (v24)
    {
      if ((v24 & 3) == 0)
      {
        uint64_t v23 = &v24[v25];
LABEL_24:
        *((_OWORD *)v23 + 2) = 0u;
        *((_OWORD *)v23 + 3) = 0u;
        *(_OWORD *)uint64_t v23 = 0u;
        *((_OWORD *)v23 + 1) = 0u;
        __uint64_t v60 = v23 + 64;
        GPUTools::FB::Fbuf::align((char **)&v59);
        *((_DWORD *)v24 + 1) = 773;
        *((_DWORD *)v24 + 8) = 0;
        __uint64_t v58 = 0LL;
        uint64_t v28 = pthread_threadid_np(0LL, &v58);
        *((void *)v24 + 1) = v58;
        strcpy(v24 + 36, "Csssss");
        *(void *)(v24 + 44) = *(void *)v17;
        *((_WORD *)v24 + 26) = a2;
        *((_WORD *)v24 + 27) = a3;
        *((_WORD *)v24 + 28) = a4;
        *((_WORD *)v24 + 29) = a5;
        *((_WORD *)v24 + 30) = a6;
        char v29 = byte_20715D;
        if ((byte_20715D & 1) != 0) {
          breakpoint_break( (uint64_t)&v59,  (volatile int *)&stru_2E8.segname[13],  1LL,  *(unsigned int *)(v17 + 3404),  v17);
        }
        uint64_t v30 = (uint64_t)[(id)DYGetGLGuestAppClient(v28) overrideFlags];
        if (!(v30 & 0x10 | v29 & 4))
        {
          uint64_t v31 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 32)
                                                                                                 + 8120LL))( a1,  a2,  a3,  a4,  a5,  a6);
          uint64_t v30 = mach_absolute_time();
          uint64_t v32 = v30 - v31;
          unint64_t v33 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unsigned int v34 = v59;
            *((void *)v59 + 2) = v31;
            v34[3] = v32;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v56 = __udivti3(g_DYTimebaseInfo * v32, (g_DYTimebaseInfo * (unsigned __int128)v32) >> 64);
            unsigned int v57 = v59;
            *((void *)v59 + 3) = v56;
            uint64_t v30 = __udivti3(v33 * v31, (v33 * (unsigned __int128)v31) >> 64);
            v57[2] = v30;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v30 = check_errors(v17);
        }

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  id v22;
  unsigned int v23;
  signed int v24;
  BOOL v25;
  unsigned int v26;
  uint64_t v27;
  id v28;
  unsigned int v29;
  dispatch_queue_s *v30;
  uint64_t v31;
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      unsigned int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  signed int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    uint64_t v28 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v27 = handle_opengl_thread_conflict((const void **)v17);
    uint64_t v28 = [(id)DYGetGLGuestAppClient(v27) waitOnGraphicsSemaphoreAssertions];
    if ((int)v28 >= 1)
    {
      do
LABEL_34:
        char v29 = __ldaxr(v18);
      while (__stlxr(v29 - 1, v18));
      uint64_t v30 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v28) graphicsLockWaitQueue];
      dispatch_sync_f(v30, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24)
                                                                                             + 8120LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v28) state] == (char *)&dword_0 + 1)
  {
    id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v22)
    {
      do
        unsigned int v26 = __ldaxr(v18);
      while (__stlxr(v26 - 1, v18));
      [(id)DYGetGLGuestAppClient(v22) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 32) + 8120LL))( a1,  a2,  a3,  a4,  a5,  a6);
  ++*(void *)(v17 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v17);
    if (gBreakOnError)
    {
      uint64_t v31 = *(unsigned int *)(v17 + 3404);
      if ((_DWORD)v31) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v31, v17);
      }
    }
  }

  do
  {
    uint64_t v23 = __ldaxr(v18);
    id v24 = v23 - 1;
  }

  while (__stlxr(v24, v18));
  if (gCheckGLErrors) {
    int64_t v25 = v24 < 1;
  }
  else {
    int64_t v25 = 1;
  }
  if (!v25) {
    handle_opengl_thread_conflict((const void **)v17);
  }
}

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  id v22;
  uint64_t v23;
  uint64_t v24;
  int64x2_t v25;
  unsigned int v26;
  signed int v27;
  BOOL v28;
  unsigned int v29;
  uint64_t v30;
  id v31;
  unsigned int v32;
  dispatch_queue_s *v33;
  uint64_t v34;
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      unsigned int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  signed int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    uint64_t v31 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v30 = handle_opengl_thread_conflict((const void **)v17);
    uint64_t v31 = [(id)DYGetGLGuestAppClient(v30) waitOnGraphicsSemaphoreAssertions];
    if ((int)v31 >= 1)
    {
      do
LABEL_34:
        uint64_t v32 = __ldaxr(v18);
      while (__stlxr(v32 - 1, v18));
      unint64_t v33 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v31) graphicsLockWaitQueue];
      dispatch_sync_f(v33, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24)
                                                                                             + 8120LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v31) state] == (char *)&dword_0 + 1)
  {
    id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v22)
    {
      do
        char v29 = __ldaxr(v18);
      while (__stlxr(v29 - 1, v18));
      [(id)DYGetGLGuestAppClient(v22) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v23 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 32) + 8120LL))( a1,  a2,  a3,  a4,  a5,  a6);
  id v24 = mach_absolute_time();
  int64_t v25 = vdupq_n_s64(1uLL);
  v25.i64[0] = v24 - v23;
  *(int64x2_t *)(v17 + 3696) = vaddq_s64(v25, *(int64x2_t *)(v17 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v17);
    if (gBreakOnError)
    {
      unsigned int v34 = *(unsigned int *)(v17 + 3404);
      if ((_DWORD)v34) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v34, v17);
      }
    }
  }

  do
  {
    unsigned int v26 = __ldaxr(v18);
    unint64_t v27 = v26 - 1;
  }

  while (__stlxr(v27, v18));
  if (gCheckGLErrors) {
    uint64_t v28 = v27 < 1;
  }
  else {
    uint64_t v28 = 1;
  }
  if (!v28) {
    handle_opengl_thread_conflict((const void **)v17);
  }
}

void sub_9CE14( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void drawtexi_OES(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      unsigned int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  signed int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    id v50 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v49 = handle_opengl_thread_conflict((const void **)v17);
    id v50 = [(id)DYGetGLGuestAppClient(v49) waitOnGraphicsSemaphoreAssertions];
    if ((int)v50 >= 1)
    {
      do
LABEL_57:
        unsigned int v51 = __ldaxr(v18);
      while (__stlxr(v51 - 1, v18));
      uint64_t v52 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v50) graphicsLockWaitQueue];
      dispatch_sync_f(v52, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24)
                                                                                             + 8128LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  unsigned int v59 = 0LL;
  __uint64_t v60 = 0LL;
  unsigned int v61 = 0;
  if ([(id)DYGetGLGuestAppClient(v50) state] != (char *)&dword_0 + 1
    || (id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v22))
  {
    id v24 = (char *)v59;
    uint64_t v23 = v60;
    int64_t v25 = v60 - (_BYTE *)v59;
    unsigned int v26 = v61;
    unint64_t v27 = v61 - (v60 - (_BYTE *)v59);
    if (v27 > 0x47) {
      goto LABEL_24;
    }
    int v53 = (327 - v27) & 0xFFFFFF00;
    v61 += v53;
    id v24 = (char *)malloc(v53 + v26);
    unsigned int v59 = v24;
    if (v24)
    {
      if ((v24 & 3) == 0)
      {
        uint64_t v23 = &v24[v25];
LABEL_24:
        *((void *)v23 + 8) = 0LL;
        *((_OWORD *)v23 + 2) = 0u;
        *((_OWORD *)v23 + 3) = 0u;
        *(_OWORD *)uint64_t v23 = 0u;
        *((_OWORD *)v23 + 1) = 0u;
        __uint64_t v60 = v23 + 72;
        GPUTools::FB::Fbuf::align((char **)&v59);
        *((_DWORD *)v24 + 1) = 771;
        *((_DWORD *)v24 + 8) = 0;
        __uint64_t v58 = 0LL;
        uint64_t v28 = pthread_threadid_np(0LL, &v58);
        *((void *)v24 + 1) = v58;
        strcpy(v24 + 36, "Ciiiii");
        *(void *)(v24 + 44) = *(void *)v17;
        *((_DWORD *)v24 + 13) = a2;
        *((_DWORD *)v24 + 14) = a3;
        *((_DWORD *)v24 + 15) = a4;
        *((_DWORD *)v24 + 16) = a5;
        *((_DWORD *)v24 + 17) = a6;
        char v29 = byte_20715B;
        if ((byte_20715B & 1) != 0) {
          breakpoint_break( (uint64_t)&v59,  (volatile int *)&stru_2E8.segname[11],  1LL,  *(unsigned int *)(v17 + 3404),  v17);
        }
        uint64_t v30 = (uint64_t)[(id)DYGetGLGuestAppClient(v28) overrideFlags];
        if (!(v30 & 0x10 | v29 & 4))
        {
          uint64_t v31 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 32)
                                                                                                 + 8128LL))( a1,  a2,  a3,  a4,  a5,  a6);
          uint64_t v30 = mach_absolute_time();
          uint64_t v32 = v30 - v31;
          unint64_t v33 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unsigned int v34 = v59;
            *((void *)v59 + 2) = v31;
            v34[3] = v32;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v56 = __udivti3(g_DYTimebaseInfo * v32, (g_DYTimebaseInfo * (unsigned __int128)v32) >> 64);
            unsigned int v57 = v59;
            *((void *)v59 + 3) = v56;
            uint64_t v30 = __udivti3(v33 * v31, (v33 * (unsigned __int128)v31) >> 64);
            v57[2] = v30;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v30 = check_errors(v17);
        }

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  id v22;
  char *v23;
  char *v24;
  int64_t v25;
  unsigned int v26;
  unint64_t v27;
  uint64_t v28;
  char v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  unint64_t v33;
  void *v34;
  id v35;
  GPUTools::FB::Fbuf *v36;
  unsigned int v37;
  GPUTools::FB::Fbuf *v38;
  dispatch_queue_s *v39;
  uint64_t v40;
  GPUTools::FB::Stream *v41;
  unsigned int *v42;
  unsigned int v43;
  unsigned int v44;
  unsigned int v45;
  signed int v46;
  BOOL v47;
  unsigned int v48;
  uint64_t v49;
  id v50;
  unsigned int v51;
  dispatch_queue_s *v52;
  int v53;
  uint64_t v54;
  uint64_t v55;
  uint64_t v56;
  void *v57;
  __uint64_t v58;
  void *v59;
  char *v60;
  unsigned int v61;
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      unsigned int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  signed int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    id v50 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v49 = handle_opengl_thread_conflict((const void **)v17);
    id v50 = [(id)DYGetGLGuestAppClient(v49) waitOnGraphicsSemaphoreAssertions];
    if ((int)v50 >= 1)
    {
      do
LABEL_57:
        unsigned int v51 = __ldaxr(v18);
      while (__stlxr(v51 - 1, v18));
      uint64_t v52 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v50) graphicsLockWaitQueue];
      dispatch_sync_f(v52, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24)
                                                                                             + 8128LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  unsigned int v59 = 0LL;
  __uint64_t v60 = 0LL;
  unsigned int v61 = 0;
  if ([(id)DYGetGLGuestAppClient(v50) state] != (char *)&dword_0 + 1
    || (id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v22))
  {
    id v24 = (char *)v59;
    uint64_t v23 = v60;
    int64_t v25 = v60 - (_BYTE *)v59;
    unsigned int v26 = v61;
    unint64_t v27 = v61 - (v60 - (_BYTE *)v59);
    if (v27 > 0x47) {
      goto LABEL_24;
    }
    int v53 = (327 - v27) & 0xFFFFFF00;
    v61 += v53;
    id v24 = (char *)malloc(v53 + v26);
    unsigned int v59 = v24;
    if (v24)
    {
      if ((v24 & 3) == 0)
      {
        uint64_t v23 = &v24[v25];
LABEL_24:
        *((void *)v23 + 8) = 0LL;
        *((_OWORD *)v23 + 2) = 0u;
        *((_OWORD *)v23 + 3) = 0u;
        *(_OWORD *)uint64_t v23 = 0u;
        *((_OWORD *)v23 + 1) = 0u;
        __uint64_t v60 = v23 + 72;
        GPUTools::FB::Fbuf::align((char **)&v59);
        *((_DWORD *)v24 + 1) = 771;
        *((_DWORD *)v24 + 8) = 0;
        __uint64_t v58 = 0LL;
        uint64_t v28 = pthread_threadid_np(0LL, &v58);
        *((void *)v24 + 1) = v58;
        strcpy(v24 + 36, "Ciiiii");
        *(void *)(v24 + 44) = *(void *)v17;
        *((_DWORD *)v24 + 13) = a2;
        *((_DWORD *)v24 + 14) = a3;
        *((_DWORD *)v24 + 15) = a4;
        *((_DWORD *)v24 + 16) = a5;
        *((_DWORD *)v24 + 17) = a6;
        char v29 = byte_20715B;
        if ((byte_20715B & 1) != 0) {
          breakpoint_break( (uint64_t)&v59,  (volatile int *)&stru_2E8.segname[11],  1LL,  *(unsigned int *)(v17 + 3404),  v17);
        }
        uint64_t v30 = (uint64_t)[(id)DYGetGLGuestAppClient(v28) overrideFlags];
        if (!(v30 & 0x10 | v29 & 4))
        {
          uint64_t v31 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 32)
                                                                                                 + 8128LL))( a1,  a2,  a3,  a4,  a5,  a6);
          uint64_t v30 = mach_absolute_time();
          uint64_t v32 = v30 - v31;
          unint64_t v33 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unsigned int v34 = v59;
            *((void *)v59 + 2) = v31;
            v34[3] = v32;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v56 = __udivti3(g_DYTimebaseInfo * v32, (g_DYTimebaseInfo * (unsigned __int128)v32) >> 64);
            unsigned int v57 = v59;
            *((void *)v59 + 3) = v56;
            uint64_t v30 = __udivti3(v33 * v31, (v33 * (unsigned __int128)v31) >> 64);
            v57[2] = v30;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v30 = check_errors(v17);
        }

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  id v22;
  unsigned int v23;
  signed int v24;
  BOOL v25;
  unsigned int v26;
  uint64_t v27;
  id v28;
  unsigned int v29;
  dispatch_queue_s *v30;
  uint64_t v31;
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      unsigned int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  signed int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    uint64_t v28 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v27 = handle_opengl_thread_conflict((const void **)v17);
    uint64_t v28 = [(id)DYGetGLGuestAppClient(v27) waitOnGraphicsSemaphoreAssertions];
    if ((int)v28 >= 1)
    {
      do
LABEL_34:
        char v29 = __ldaxr(v18);
      while (__stlxr(v29 - 1, v18));
      uint64_t v30 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v28) graphicsLockWaitQueue];
      dispatch_sync_f(v30, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24)
                                                                                             + 8128LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v28) state] == (char *)&dword_0 + 1)
  {
    id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v22)
    {
      do
        unsigned int v26 = __ldaxr(v18);
      while (__stlxr(v26 - 1, v18));
      [(id)DYGetGLGuestAppClient(v22) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 32) + 8128LL))( a1,  a2,  a3,  a4,  a5,  a6);
  ++*(void *)(v17 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v17);
    if (gBreakOnError)
    {
      uint64_t v31 = *(unsigned int *)(v17 + 3404);
      if ((_DWORD)v31) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v31, v17);
      }
    }
  }

  do
  {
    uint64_t v23 = __ldaxr(v18);
    id v24 = v23 - 1;
  }

  while (__stlxr(v24, v18));
  if (gCheckGLErrors) {
    int64_t v25 = v24 < 1;
  }
  else {
    int64_t v25 = 1;
  }
  if (!v25) {
    handle_opengl_thread_conflict((const void **)v17);
  }
}

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  id v22;
  uint64_t v23;
  uint64_t v24;
  int64x2_t v25;
  unsigned int v26;
  signed int v27;
  BOOL v28;
  unsigned int v29;
  uint64_t v30;
  id v31;
  unsigned int v32;
  dispatch_queue_s *v33;
  uint64_t v34;
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      unsigned int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  signed int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    uint64_t v31 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v30 = handle_opengl_thread_conflict((const void **)v17);
    uint64_t v31 = [(id)DYGetGLGuestAppClient(v30) waitOnGraphicsSemaphoreAssertions];
    if ((int)v31 >= 1)
    {
      do
LABEL_34:
        uint64_t v32 = __ldaxr(v18);
      while (__stlxr(v32 - 1, v18));
      unint64_t v33 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v31) graphicsLockWaitQueue];
      dispatch_sync_f(v33, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24)
                                                                                             + 8128LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v31) state] == (char *)&dword_0 + 1)
  {
    id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v22)
    {
      do
        char v29 = __ldaxr(v18);
      while (__stlxr(v29 - 1, v18));
      [(id)DYGetGLGuestAppClient(v22) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v23 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 32) + 8128LL))( a1,  a2,  a3,  a4,  a5,  a6);
  id v24 = mach_absolute_time();
  int64_t v25 = vdupq_n_s64(1uLL);
  v25.i64[0] = v24 - v23;
  *(int64x2_t *)(v17 + 3696) = vaddq_s64(v25, *(int64x2_t *)(v17 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v17);
    if (gBreakOnError)
    {
      unsigned int v34 = *(unsigned int *)(v17 + 3404);
      if ((_DWORD)v34) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v34, v17);
      }
    }
  }

  do
  {
    unsigned int v26 = __ldaxr(v18);
    unint64_t v27 = v26 - 1;
  }

  while (__stlxr(v27, v18));
  if (gCheckGLErrors) {
    uint64_t v28 = v27 < 1;
  }
  else {
    uint64_t v28 = 1;
  }
  if (!v28) {
    handle_opengl_thread_conflict((const void **)v17);
  }
}

void sub_9D35C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void drawtexx_OES(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      unsigned int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  signed int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    id v50 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v49 = handle_opengl_thread_conflict((const void **)v17);
    id v50 = [(id)DYGetGLGuestAppClient(v49) waitOnGraphicsSemaphoreAssertions];
    if ((int)v50 >= 1)
    {
      do
LABEL_57:
        unsigned int v51 = __ldaxr(v18);
      while (__stlxr(v51 - 1, v18));
      uint64_t v52 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v50) graphicsLockWaitQueue];
      dispatch_sync_f(v52, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24)
                                                                                             + 8136LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  unsigned int v59 = 0LL;
  __uint64_t v60 = 0LL;
  unsigned int v61 = 0;
  if ([(id)DYGetGLGuestAppClient(v50) state] != (char *)&dword_0 + 1
    || (id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v22))
  {
    id v24 = (char *)v59;
    uint64_t v23 = v60;
    int64_t v25 = v60 - (_BYTE *)v59;
    unsigned int v26 = v61;
    unint64_t v27 = v61 - (v60 - (_BYTE *)v59);
    if (v27 > 0x47) {
      goto LABEL_24;
    }
    int v53 = (327 - v27) & 0xFFFFFF00;
    v61 += v53;
    id v24 = (char *)malloc(v53 + v26);
    unsigned int v59 = v24;
    if (v24)
    {
      if ((v24 & 3) == 0)
      {
        uint64_t v23 = &v24[v25];
LABEL_24:
        *((void *)v23 + 8) = 0LL;
        *((_OWORD *)v23 + 2) = 0u;
        *((_OWORD *)v23 + 3) = 0u;
        *(_OWORD *)uint64_t v23 = 0u;
        *((_OWORD *)v23 + 1) = 0u;
        __uint64_t v60 = v23 + 72;
        GPUTools::FB::Fbuf::align((char **)&v59);
        *((_DWORD *)v24 + 1) = 775;
        *((_DWORD *)v24 + 8) = 0;
        __uint64_t v58 = 0LL;
        uint64_t v28 = pthread_threadid_np(0LL, &v58);
        *((void *)v24 + 1) = v58;
        strcpy(v24 + 36, "Cxxxxx");
        *(void *)(v24 + 44) = *(void *)v17;
        *((_DWORD *)v24 + 13) = a2;
        *((_DWORD *)v24 + 14) = a3;
        *((_DWORD *)v24 + 15) = a4;
        *((_DWORD *)v24 + 16) = a5;
        *((_DWORD *)v24 + 17) = a6;
        char v29 = byte_20715F;
        if ((byte_20715F & 1) != 0) {
          breakpoint_break( (uint64_t)&v59,  (volatile int *)&stru_2E8.segname[15],  1LL,  *(unsigned int *)(v17 + 3404),  v17);
        }
        uint64_t v30 = (uint64_t)[(id)DYGetGLGuestAppClient(v28) overrideFlags];
        if (!(v30 & 0x10 | v29 & 4))
        {
          uint64_t v31 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 32)
                                                                                                 + 8136LL))( a1,  a2,  a3,  a4,  a5,  a6);
          uint64_t v30 = mach_absolute_time();
          uint64_t v32 = v30 - v31;
          unint64_t v33 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unsigned int v34 = v59;
            *((void *)v59 + 2) = v31;
            v34[3] = v32;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v56 = __udivti3(g_DYTimebaseInfo * v32, (g_DYTimebaseInfo * (unsigned __int128)v32) >> 64);
            unsigned int v57 = v59;
            *((void *)v59 + 3) = v56;
            uint64_t v30 = __udivti3(v33 * v31, (v33 * (unsigned __int128)v31) >> 64);
            v57[2] = v30;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v30 = check_errors(v17);
        }

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  id v22;
  char *v23;
  char *v24;
  int64_t v25;
  unsigned int v26;
  unint64_t v27;
  uint64_t v28;
  char v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  unint64_t v33;
  void *v34;
  id v35;
  GPUTools::FB::Fbuf *v36;
  unsigned int v37;
  GPUTools::FB::Fbuf *v38;
  dispatch_queue_s *v39;
  uint64_t v40;
  GPUTools::FB::Stream *v41;
  unsigned int *v42;
  unsigned int v43;
  unsigned int v44;
  unsigned int v45;
  signed int v46;
  BOOL v47;
  unsigned int v48;
  uint64_t v49;
  id v50;
  unsigned int v51;
  dispatch_queue_s *v52;
  int v53;
  uint64_t v54;
  uint64_t v55;
  uint64_t v56;
  void *v57;
  __uint64_t v58;
  void *v59;
  char *v60;
  unsigned int v61;
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      unsigned int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  signed int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    id v50 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v49 = handle_opengl_thread_conflict((const void **)v17);
    id v50 = [(id)DYGetGLGuestAppClient(v49) waitOnGraphicsSemaphoreAssertions];
    if ((int)v50 >= 1)
    {
      do
LABEL_57:
        unsigned int v51 = __ldaxr(v18);
      while (__stlxr(v51 - 1, v18));
      uint64_t v52 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v50) graphicsLockWaitQueue];
      dispatch_sync_f(v52, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24)
                                                                                             + 8136LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  unsigned int v59 = 0LL;
  __uint64_t v60 = 0LL;
  unsigned int v61 = 0;
  if ([(id)DYGetGLGuestAppClient(v50) state] != (char *)&dword_0 + 1
    || (id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v22))
  {
    id v24 = (char *)v59;
    uint64_t v23 = v60;
    int64_t v25 = v60 - (_BYTE *)v59;
    unsigned int v26 = v61;
    unint64_t v27 = v61 - (v60 - (_BYTE *)v59);
    if (v27 > 0x47) {
      goto LABEL_24;
    }
    int v53 = (327 - v27) & 0xFFFFFF00;
    v61 += v53;
    id v24 = (char *)malloc(v53 + v26);
    unsigned int v59 = v24;
    if (v24)
    {
      if ((v24 & 3) == 0)
      {
        uint64_t v23 = &v24[v25];
LABEL_24:
        *((void *)v23 + 8) = 0LL;
        *((_OWORD *)v23 + 2) = 0u;
        *((_OWORD *)v23 + 3) = 0u;
        *(_OWORD *)uint64_t v23 = 0u;
        *((_OWORD *)v23 + 1) = 0u;
        __uint64_t v60 = v23 + 72;
        GPUTools::FB::Fbuf::align((char **)&v59);
        *((_DWORD *)v24 + 1) = 775;
        *((_DWORD *)v24 + 8) = 0;
        __uint64_t v58 = 0LL;
        uint64_t v28 = pthread_threadid_np(0LL, &v58);
        *((void *)v24 + 1) = v58;
        strcpy(v24 + 36, "Cxxxxx");
        *(void *)(v24 + 44) = *(void *)v17;
        *((_DWORD *)v24 + 13) = a2;
        *((_DWORD *)v24 + 14) = a3;
        *((_DWORD *)v24 + 15) = a4;
        *((_DWORD *)v24 + 16) = a5;
        *((_DWORD *)v24 + 17) = a6;
        char v29 = byte_20715F;
        if ((byte_20715F & 1) != 0) {
          breakpoint_break( (uint64_t)&v59,  (volatile int *)&stru_2E8.segname[15],  1LL,  *(unsigned int *)(v17 + 3404),  v17);
        }
        uint64_t v30 = (uint64_t)[(id)DYGetGLGuestAppClient(v28) overrideFlags];
        if (!(v30 & 0x10 | v29 & 4))
        {
          uint64_t v31 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 32)
                                                                                                 + 8136LL))( a1,  a2,  a3,  a4,  a5,  a6);
          uint64_t v30 = mach_absolute_time();
          uint64_t v32 = v30 - v31;
          unint64_t v33 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unsigned int v34 = v59;
            *((void *)v59 + 2) = v31;
            v34[3] = v32;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v56 = __udivti3(g_DYTimebaseInfo * v32, (g_DYTimebaseInfo * (unsigned __int128)v32) >> 64);
            unsigned int v57 = v59;
            *((void *)v59 + 3) = v56;
            uint64_t v30 = __udivti3(v33 * v31, (v33 * (unsigned __int128)v31) >> 64);
            v57[2] = v30;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v30 = check_errors(v17);
        }

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  id v22;
  unsigned int v23;
  signed int v24;
  BOOL v25;
  unsigned int v26;
  uint64_t v27;
  id v28;
  unsigned int v29;
  dispatch_queue_s *v30;
  uint64_t v31;
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      unsigned int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  signed int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    uint64_t v28 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v27 = handle_opengl_thread_conflict((const void **)v17);
    uint64_t v28 = [(id)DYGetGLGuestAppClient(v27) waitOnGraphicsSemaphoreAssertions];
    if ((int)v28 >= 1)
    {
      do
LABEL_34:
        char v29 = __ldaxr(v18);
      while (__stlxr(v29 - 1, v18));
      uint64_t v30 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v28) graphicsLockWaitQueue];
      dispatch_sync_f(v30, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24)
                                                                                             + 8136LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v28) state] == (char *)&dword_0 + 1)
  {
    id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v22)
    {
      do
        unsigned int v26 = __ldaxr(v18);
      while (__stlxr(v26 - 1, v18));
      [(id)DYGetGLGuestAppClient(v22) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 32) + 8136LL))( a1,  a2,  a3,  a4,  a5,  a6);
  ++*(void *)(v17 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v17);
    if (gBreakOnError)
    {
      uint64_t v31 = *(unsigned int *)(v17 + 3404);
      if ((_DWORD)v31) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v31, v17);
      }
    }
  }

  do
  {
    uint64_t v23 = __ldaxr(v18);
    id v24 = v23 - 1;
  }

  while (__stlxr(v24, v18));
  if (gCheckGLErrors) {
    int64_t v25 = v24 < 1;
  }
  else {
    int64_t v25 = 1;
  }
  if (!v25) {
    handle_opengl_thread_conflict((const void **)v17);
  }
}

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  id v22;
  uint64_t v23;
  uint64_t v24;
  int64x2_t v25;
  unsigned int v26;
  signed int v27;
  BOOL v28;
  unsigned int v29;
  uint64_t v30;
  id v31;
  unsigned int v32;
  dispatch_queue_s *v33;
  uint64_t v34;
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      unsigned int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  signed int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    uint64_t v31 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v30 = handle_opengl_thread_conflict((const void **)v17);
    uint64_t v31 = [(id)DYGetGLGuestAppClient(v30) waitOnGraphicsSemaphoreAssertions];
    if ((int)v31 >= 1)
    {
      do
LABEL_34:
        uint64_t v32 = __ldaxr(v18);
      while (__stlxr(v32 - 1, v18));
      unint64_t v33 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v31) graphicsLockWaitQueue];
      dispatch_sync_f(v33, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24)
                                                                                             + 8136LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v31) state] == (char *)&dword_0 + 1)
  {
    id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v22)
    {
      do
        char v29 = __ldaxr(v18);
      while (__stlxr(v29 - 1, v18));
      [(id)DYGetGLGuestAppClient(v22) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v23 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 32) + 8136LL))( a1,  a2,  a3,  a4,  a5,  a6);
  id v24 = mach_absolute_time();
  int64_t v25 = vdupq_n_s64(1uLL);
  v25.i64[0] = v24 - v23;
  *(int64x2_t *)(v17 + 3696) = vaddq_s64(v25, *(int64x2_t *)(v17 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v17);
    if (gBreakOnError)
    {
      unsigned int v34 = *(unsigned int *)(v17 + 3404);
      if ((_DWORD)v34) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v34, v17);
      }
    }
  }

  do
  {
    unsigned int v26 = __ldaxr(v18);
    unint64_t v27 = v26 - 1;
  }

  while (__stlxr(v27, v18));
  if (gCheckGLErrors) {
    uint64_t v28 = v27 < 1;
  }
  else {
    uint64_t v28 = 1;
  }
  if (!v28) {
    handle_opengl_thread_conflict((const void **)v17);
  }
}

void sub_9D8A4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void drawtexsv_OES(__GLIContextRec *a1, const __int16 *a2)
{
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      uint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  signed int v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    id v43 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v42 = handle_opengl_thread_conflict((const void **)v9);
    id v43 = [(id)DYGetGLGuestAppClient(v42) waitOnGraphicsSemaphoreAssertions];
    if ((int)v43 >= 1)
    {
      do
LABEL_57:
        unsigned int v44 = __ldaxr(v10);
      while (__stlxr(v44 - 1, v10));
      unsigned int v45 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v43) graphicsLockWaitQueue];
      dispatch_sync_f(v45, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, const __int16 *))(*(void *)(v9 + 24) + 8144LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  uint64_t v52 = 0LL;
  int v53 = 0LL;
  unsigned int v54 = 0;
  if ([(id)DYGetGLGuestAppClient(v43) state] != (char *)&dword_0 + 1
    || (id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v14))
  {
    unsigned int v16 = (char *)v52;
    BOOL v15 = v53;
    int64_t v17 = v53 - (_BYTE *)v52;
    unsigned int v18 = v54;
    unint64_t v19 = v54 - (v53 - (_BYTE *)v52);
    if (v19 > 0x3F) {
      goto LABEL_24;
    }
    int v46 = (319 - v19) & 0xFFFFFF00;
    v54 += v46;
    unsigned int v16 = (char *)malloc(v46 + v18);
    uint64_t v52 = v16;
    if (v16)
    {
      if ((v16 & 3) == 0)
      {
        BOOL v15 = &v16[v17];
LABEL_24:
        *((_OWORD *)v15 + 2) = 0u;
        *((_OWORD *)v15 + 3) = 0u;
        *(_OWORD *)BOOL v15 = 0u;
        *((_OWORD *)v15 + 1) = 0u;
        int v53 = v15 + 64;
        GPUTools::FB::Fbuf::align((char **)&v52);
        *((_DWORD *)v16 + 1) = 774;
        *((_DWORD *)v16 + 8) = 0;
        __uint64_t v51 = 0LL;
        uint64_t v20 = pthread_threadid_np(0LL, &v51);
        *((void *)v16 + 1) = v51;
        strcpy(v16 + 36, "C@5s");
        *(void *)(v16 + 44) = *(void *)v9;
        uint64_t v21 = *(void *)a2;
        *((_WORD *)v16 + 30) = a2[4];
        *(void *)(v16 + 52) = v21;
        char v22 = byte_20715E;
        if ((byte_20715E & 1) != 0) {
          breakpoint_break((uint64_t)&v52, (volatile int *)&stru_2E8.segname[14], 1LL, *(unsigned int *)(v9 + 3404), v9);
        }
        uint64_t v23 = (uint64_t)[(id)DYGetGLGuestAppClient(v20) overrideFlags];
        if (!(v23 & 0x10 | v22 & 4))
        {
          uint64_t v24 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, const __int16 *))(*(void *)(v9 + 32) + 8144LL))(a1, a2);
          uint64_t v23 = mach_absolute_time();
          uint64_t v25 = v23 - v24;
          unint64_t v26 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unint64_t v27 = v52;
            *((void *)v52 + 2) = v24;
            v27[3] = v25;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v49 = __udivti3(g_DYTimebaseInfo * v25, (g_DYTimebaseInfo * (unsigned __int128)v25) >> 64);
            id v50 = v52;
            *((void *)v52 + 3) = v49;
            uint64_t v23 = __udivti3(v26 * v24, (v26 * (unsigned __int128)v24) >> 64);
            v50[2] = v23;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v23 = check_errors(v9);
        }

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  char *v15;
  char *v16;
  int64_t v17;
  unsigned int v18;
  unint64_t v19;
  uint64_t v20;
  uint64_t v21;
  char v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  unint64_t v26;
  void *v27;
  id v28;
  GPUTools::FB::Fbuf *v29;
  unsigned int v30;
  GPUTools::FB::Fbuf *v31;
  dispatch_queue_s *v32;
  uint64_t v33;
  GPUTools::FB::Stream *v34;
  unsigned int *v35;
  unsigned int v36;
  unsigned int v37;
  unsigned int v38;
  signed int v39;
  BOOL v40;
  unsigned int v41;
  uint64_t v42;
  id v43;
  unsigned int v44;
  dispatch_queue_s *v45;
  int v46;
  uint64_t v47;
  uint64_t v48;
  uint64_t v49;
  void *v50;
  __uint64_t v51;
  void *v52;
  char *v53;
  unsigned int v54;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      uint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  signed int v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    id v43 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v42 = handle_opengl_thread_conflict((const void **)v9);
    id v43 = [(id)DYGetGLGuestAppClient(v42) waitOnGraphicsSemaphoreAssertions];
    if ((int)v43 >= 1)
    {
      do
LABEL_57:
        unsigned int v44 = __ldaxr(v10);
      while (__stlxr(v44 - 1, v10));
      unsigned int v45 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v43) graphicsLockWaitQueue];
      dispatch_sync_f(v45, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, const __int16 *))(*(void *)(v9 + 24) + 8144LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  uint64_t v52 = 0LL;
  int v53 = 0LL;
  unsigned int v54 = 0;
  if ([(id)DYGetGLGuestAppClient(v43) state] != (char *)&dword_0 + 1
    || (id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v14))
  {
    unsigned int v16 = (char *)v52;
    BOOL v15 = v53;
    int64_t v17 = v53 - (_BYTE *)v52;
    unsigned int v18 = v54;
    unint64_t v19 = v54 - (v53 - (_BYTE *)v52);
    if (v19 > 0x3F) {
      goto LABEL_24;
    }
    int v46 = (319 - v19) & 0xFFFFFF00;
    v54 += v46;
    unsigned int v16 = (char *)malloc(v46 + v18);
    uint64_t v52 = v16;
    if (v16)
    {
      if ((v16 & 3) == 0)
      {
        BOOL v15 = &v16[v17];
LABEL_24:
        *((_OWORD *)v15 + 2) = 0u;
        *((_OWORD *)v15 + 3) = 0u;
        *(_OWORD *)BOOL v15 = 0u;
        *((_OWORD *)v15 + 1) = 0u;
        int v53 = v15 + 64;
        GPUTools::FB::Fbuf::align((char **)&v52);
        *((_DWORD *)v16 + 1) = 774;
        *((_DWORD *)v16 + 8) = 0;
        __uint64_t v51 = 0LL;
        uint64_t v20 = pthread_threadid_np(0LL, &v51);
        *((void *)v16 + 1) = v51;
        strcpy(v16 + 36, "C@5s");
        *(void *)(v16 + 44) = *(void *)v9;
        uint64_t v21 = *(void *)a2;
        *((_WORD *)v16 + 30) = a2[4];
        *(void *)(v16 + 52) = v21;
        char v22 = byte_20715E;
        if ((byte_20715E & 1) != 0) {
          breakpoint_break((uint64_t)&v52, (volatile int *)&stru_2E8.segname[14], 1LL, *(unsigned int *)(v9 + 3404), v9);
        }
        uint64_t v23 = (uint64_t)[(id)DYGetGLGuestAppClient(v20) overrideFlags];
        if (!(v23 & 0x10 | v22 & 4))
        {
          uint64_t v24 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, const __int16 *))(*(void *)(v9 + 32) + 8144LL))(a1, a2);
          uint64_t v23 = mach_absolute_time();
          uint64_t v25 = v23 - v24;
          unint64_t v26 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unint64_t v27 = v52;
            *((void *)v52 + 2) = v24;
            v27[3] = v25;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v49 = __udivti3(g_DYTimebaseInfo * v25, (g_DYTimebaseInfo * (unsigned __int128)v25) >> 64);
            id v50 = v52;
            *((void *)v52 + 3) = v49;
            uint64_t v23 = __udivti3(v26 * v24, (v26 * (unsigned __int128)v24) >> 64);
            v50[2] = v23;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v23 = check_errors(v9);
        }

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  unsigned int v18;
  uint64_t v19;
  id v20;
  unsigned int v21;
  dispatch_queue_s *v22;
  uint64_t v23;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      uint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  signed int v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    uint64_t v20 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v19 = handle_opengl_thread_conflict((const void **)v9);
    uint64_t v20 = [(id)DYGetGLGuestAppClient(v19) waitOnGraphicsSemaphoreAssertions];
    if ((int)v20 >= 1)
    {
      do
LABEL_34:
        uint64_t v21 = __ldaxr(v10);
      while (__stlxr(v21 - 1, v10));
      char v22 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v20) graphicsLockWaitQueue];
      dispatch_sync_f(v22, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, const __int16 *))(*(void *)(v9 + 24) + 8144LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v20) state] == (char *)&dword_0 + 1)
  {
    id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v14)
    {
      do
        unsigned int v18 = __ldaxr(v10);
      while (__stlxr(v18 - 1, v10));
      [(id)DYGetGLGuestAppClient(v14) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, const __int16 *))(*(void *)(v9 + 32) + 8144LL))(a1, a2);
  ++*(void *)(v9 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v9);
    if (gBreakOnError)
    {
      uint64_t v23 = *(unsigned int *)(v9 + 3404);
      if ((_DWORD)v23) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v23, v9);
      }
    }
  }

  do
  {
    BOOL v15 = __ldaxr(v10);
    unsigned int v16 = v15 - 1;
  }

  while (__stlxr(v16, v10));
  if (gCheckGLErrors) {
    int64_t v17 = v16 < 1;
  }
  else {
    int64_t v17 = 1;
  }
  if (!v17) {
    handle_opengl_thread_conflict((const void **)v9);
  }
}

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  uint64_t v15;
  uint64_t v16;
  int64x2_t v17;
  unsigned int v18;
  signed int v19;
  BOOL v20;
  unsigned int v21;
  uint64_t v22;
  id v23;
  unsigned int v24;
  dispatch_queue_s *v25;
  uint64_t v26;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      uint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  signed int v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    uint64_t v23 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    char v22 = handle_opengl_thread_conflict((const void **)v9);
    uint64_t v23 = [(id)DYGetGLGuestAppClient(v22) waitOnGraphicsSemaphoreAssertions];
    if ((int)v23 >= 1)
    {
      do
LABEL_34:
        uint64_t v24 = __ldaxr(v10);
      while (__stlxr(v24 - 1, v10));
      uint64_t v25 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v23) graphicsLockWaitQueue];
      dispatch_sync_f(v25, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, const __int16 *))(*(void *)(v9 + 24) + 8144LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v23) state] == (char *)&dword_0 + 1)
  {
    id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v14)
    {
      do
        uint64_t v21 = __ldaxr(v10);
      while (__stlxr(v21 - 1, v10));
      [(id)DYGetGLGuestAppClient(v14) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  BOOL v15 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, const __int16 *))(*(void *)(v9 + 32) + 8144LL))(a1, a2);
  unsigned int v16 = mach_absolute_time();
  int64_t v17 = vdupq_n_s64(1uLL);
  v17.i64[0] = v16 - v15;
  *(int64x2_t *)(v9 + 3696) = vaddq_s64(v17, *(int64x2_t *)(v9 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v9);
    if (gBreakOnError)
    {
      unint64_t v26 = *(unsigned int *)(v9 + 3404);
      if ((_DWORD)v26) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v26, v9);
      }
    }
  }

  do
  {
    unsigned int v18 = __ldaxr(v10);
    unint64_t v19 = v18 - 1;
  }

  while (__stlxr(v19, v10));
  if (gCheckGLErrors) {
    uint64_t v20 = v19 < 1;
  }
  else {
    uint64_t v20 = 1;
  }
  if (!v20) {
    handle_opengl_thread_conflict((const void **)v9);
  }
}

void sub_9DD7C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void drawtexiv_OES(__GLIContextRec *a1, const int *a2)
{
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      uint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  signed int v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    id v43 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v42 = handle_opengl_thread_conflict((const void **)v9);
    id v43 = [(id)DYGetGLGuestAppClient(v42) waitOnGraphicsSemaphoreAssertions];
    if ((int)v43 >= 1)
    {
      do
LABEL_57:
        unsigned int v44 = __ldaxr(v10);
      while (__stlxr(v44 - 1, v10));
      unsigned int v45 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v43) graphicsLockWaitQueue];
      dispatch_sync_f(v45, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, const int *))(*(void *)(v9 + 24) + 8152LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  uint64_t v52 = 0LL;
  int v53 = 0LL;
  unsigned int v54 = 0;
  if ([(id)DYGetGLGuestAppClient(v43) state] != (char *)&dword_0 + 1
    || (id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v14))
  {
    unsigned int v16 = (char *)v52;
    BOOL v15 = v53;
    int64_t v17 = v53 - (_BYTE *)v52;
    unsigned int v18 = v54;
    unint64_t v19 = v54 - (v53 - (_BYTE *)v52);
    if (v19 > 0x47) {
      goto LABEL_24;
    }
    int v46 = (327 - v19) & 0xFFFFFF00;
    v54 += v46;
    unsigned int v16 = (char *)malloc(v46 + v18);
    uint64_t v52 = v16;
    if (v16)
    {
      if ((v16 & 3) == 0)
      {
        BOOL v15 = &v16[v17];
LABEL_24:
        *((void *)v15 + 8) = 0LL;
        *((_OWORD *)v15 + 2) = 0u;
        *((_OWORD *)v15 + 3) = 0u;
        *(_OWORD *)BOOL v15 = 0u;
        *((_OWORD *)v15 + 1) = 0u;
        int v53 = v15 + 72;
        GPUTools::FB::Fbuf::align((char **)&v52);
        *((_DWORD *)v16 + 1) = 772;
        *((_DWORD *)v16 + 8) = 0;
        __uint64_t v51 = 0LL;
        uint64_t v20 = pthread_threadid_np(0LL, &v51);
        *((void *)v16 + 1) = v51;
        strcpy(v16 + 36, "C@5i");
        *(void *)(v16 + 44) = *(void *)v9;
        __int128 v21 = *(_OWORD *)a2;
        *((_DWORD *)v16 + 17) = a2[4];
        *(_OWORD *)(v16 + 52) = v21;
        char v22 = byte_20715C;
        if ((byte_20715C & 1) != 0) {
          breakpoint_break((uint64_t)&v52, (volatile int *)&stru_2E8.segname[12], 1LL, *(unsigned int *)(v9 + 3404), v9);
        }
        uint64_t v23 = (uint64_t)[(id)DYGetGLGuestAppClient(v20) overrideFlags];
        if (!(v23 & 0x10 | v22 & 4))
        {
          uint64_t v24 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, const int *))(*(void *)(v9 + 32) + 8152LL))(a1, a2);
          uint64_t v23 = mach_absolute_time();
          uint64_t v25 = v23 - v24;
          unint64_t v26 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unint64_t v27 = v52;
            *((void *)v52 + 2) = v24;
            v27[3] = v25;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v49 = __udivti3(g_DYTimebaseInfo * v25, (g_DYTimebaseInfo * (unsigned __int128)v25) >> 64);
            id v50 = v52;
            *((void *)v52 + 3) = v49;
            uint64_t v23 = __udivti3(v26 * v24, (v26 * (unsigned __int128)v24) >> 64);
            v50[2] = v23;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v23 = check_errors(v9);
        }

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  char *v15;
  char *v16;
  int64_t v17;
  unsigned int v18;
  unint64_t v19;
  uint64_t v20;
  __int128 v21;
  char v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  unint64_t v26;
  void *v27;
  id v28;
  GPUTools::FB::Fbuf *v29;
  unsigned int v30;
  GPUTools::FB::Fbuf *v31;
  dispatch_queue_s *v32;
  uint64_t v33;
  GPUTools::FB::Stream *v34;
  unsigned int *v35;
  unsigned int v36;
  unsigned int v37;
  unsigned int v38;
  signed int v39;
  BOOL v40;
  unsigned int v41;
  uint64_t v42;
  id v43;
  unsigned int v44;
  dispatch_queue_s *v45;
  int v46;
  uint64_t v47;
  uint64_t v48;
  uint64_t v49;
  void *v50;
  __uint64_t v51;
  void *v52;
  char *v53;
  unsigned int v54;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      uint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  signed int v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    id v43 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v42 = handle_opengl_thread_conflict((const void **)v9);
    id v43 = [(id)DYGetGLGuestAppClient(v42) waitOnGraphicsSemaphoreAssertions];
    if ((int)v43 >= 1)
    {
      do
LABEL_57:
        unsigned int v44 = __ldaxr(v10);
      while (__stlxr(v44 - 1, v10));
      unsigned int v45 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v43) graphicsLockWaitQueue];
      dispatch_sync_f(v45, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, const int *))(*(void *)(v9 + 24) + 8152LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  uint64_t v52 = 0LL;
  int v53 = 0LL;
  unsigned int v54 = 0;
  if ([(id)DYGetGLGuestAppClient(v43) state] != (char *)&dword_0 + 1
    || (id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v14))
  {
    unsigned int v16 = (char *)v52;
    BOOL v15 = v53;
    int64_t v17 = v53 - (_BYTE *)v52;
    unsigned int v18 = v54;
    unint64_t v19 = v54 - (v53 - (_BYTE *)v52);
    if (v19 > 0x47) {
      goto LABEL_24;
    }
    int v46 = (327 - v19) & 0xFFFFFF00;
    v54 += v46;
    unsigned int v16 = (char *)malloc(v46 + v18);
    uint64_t v52 = v16;
    if (v16)
    {
      if ((v16 & 3) == 0)
      {
        BOOL v15 = &v16[v17];
LABEL_24:
        *((void *)v15 + 8) = 0LL;
        *((_OWORD *)v15 + 2) = 0u;
        *((_OWORD *)v15 + 3) = 0u;
        *(_OWORD *)BOOL v15 = 0u;
        *((_OWORD *)v15 + 1) = 0u;
        int v53 = v15 + 72;
        GPUTools::FB::Fbuf::align((char **)&v52);
        *((_DWORD *)v16 + 1) = 772;
        *((_DWORD *)v16 + 8) = 0;
        __uint64_t v51 = 0LL;
        uint64_t v20 = pthread_threadid_np(0LL, &v51);
        *((void *)v16 + 1) = v51;
        strcpy(v16 + 36, "C@5i");
        *(void *)(v16 + 44) = *(void *)v9;
        __int128 v21 = *(_OWORD *)a2;
        *((_DWORD *)v16 + 17) = a2[4];
        *(_OWORD *)(v16 + 52) = v21;
        char v22 = byte_20715C;
        if ((byte_20715C & 1) != 0) {
          breakpoint_break((uint64_t)&v52, (volatile int *)&stru_2E8.segname[12], 1LL, *(unsigned int *)(v9 + 3404), v9);
        }
        uint64_t v23 = (uint64_t)[(id)DYGetGLGuestAppClient(v20) overrideFlags];
        if (!(v23 & 0x10 | v22 & 4))
        {
          uint64_t v24 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, const int *))(*(void *)(v9 + 32) + 8152LL))(a1, a2);
          uint64_t v23 = mach_absolute_time();
          uint64_t v25 = v23 - v24;
          unint64_t v26 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unint64_t v27 = v52;
            *((void *)v52 + 2) = v24;
            v27[3] = v25;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v49 = __udivti3(g_DYTimebaseInfo * v25, (g_DYTimebaseInfo * (unsigned __int128)v25) >> 64);
            id v50 = v52;
            *((void *)v52 + 3) = v49;
            uint64_t v23 = __udivti3(v26 * v24, (v26 * (unsigned __int128)v24) >> 64);
            v50[2] = v23;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v23 = check_errors(v9);
        }

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  unsigned int v18;
  uint64_t v19;
  id v20;
  unsigned int v21;
  dispatch_queue_s *v22;
  uint64_t v23;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      uint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  signed int v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    uint64_t v20 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v19 = handle_opengl_thread_conflict((const void **)v9);
    uint64_t v20 = [(id)DYGetGLGuestAppClient(v19) waitOnGraphicsSemaphoreAssertions];
    if ((int)v20 >= 1)
    {
      do
LABEL_34:
        __int128 v21 = __ldaxr(v10);
      while (__stlxr(v21 - 1, v10));
      char v22 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v20) graphicsLockWaitQueue];
      dispatch_sync_f(v22, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, const int *))(*(void *)(v9 + 24) + 8152LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v20) state] == (char *)&dword_0 + 1)
  {
    id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v14)
    {
      do
        unsigned int v18 = __ldaxr(v10);
      while (__stlxr(v18 - 1, v10));
      [(id)DYGetGLGuestAppClient(v14) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, const int *))(*(void *)(v9 + 32) + 8152LL))(a1, a2);
  ++*(void *)(v9 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v9);
    if (gBreakOnError)
    {
      uint64_t v23 = *(unsigned int *)(v9 + 3404);
      if ((_DWORD)v23) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v23, v9);
      }
    }
  }

  do
  {
    BOOL v15 = __ldaxr(v10);
    unsigned int v16 = v15 - 1;
  }

  while (__stlxr(v16, v10));
  if (gCheckGLErrors) {
    int64_t v17 = v16 < 1;
  }
  else {
    int64_t v17 = 1;
  }
  if (!v17) {
    handle_opengl_thread_conflict((const void **)v9);
  }
}

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  uint64_t v15;
  uint64_t v16;
  int64x2_t v17;
  unsigned int v18;
  signed int v19;
  BOOL v20;
  unsigned int v21;
  uint64_t v22;
  id v23;
  unsigned int v24;
  dispatch_queue_s *v25;
  uint64_t v26;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      uint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  signed int v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    uint64_t v23 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    char v22 = handle_opengl_thread_conflict((const void **)v9);
    uint64_t v23 = [(id)DYGetGLGuestAppClient(v22) waitOnGraphicsSemaphoreAssertions];
    if ((int)v23 >= 1)
    {
      do
LABEL_34:
        uint64_t v24 = __ldaxr(v10);
      while (__stlxr(v24 - 1, v10));
      uint64_t v25 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v23) graphicsLockWaitQueue];
      dispatch_sync_f(v25, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, const int *))(*(void *)(v9 + 24) + 8152LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v23) state] == (char *)&dword_0 + 1)
  {
    id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v14)
    {
      do
        __int128 v21 = __ldaxr(v10);
      while (__stlxr(v21 - 1, v10));
      [(id)DYGetGLGuestAppClient(v14) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  BOOL v15 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, const int *))(*(void *)(v9 + 32) + 8152LL))(a1, a2);
  unsigned int v16 = mach_absolute_time();
  int64_t v17 = vdupq_n_s64(1uLL);
  v17.i64[0] = v16 - v15;
  *(int64x2_t *)(v9 + 3696) = vaddq_s64(v17, *(int64x2_t *)(v9 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v9);
    if (gBreakOnError)
    {
      unint64_t v26 = *(unsigned int *)(v9 + 3404);
      if ((_DWORD)v26) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v26, v9);
      }
    }
  }

  do
  {
    unsigned int v18 = __ldaxr(v10);
    unint64_t v19 = v18 - 1;
  }

  while (__stlxr(v19, v10));
  if (gCheckGLErrors) {
    uint64_t v20 = v19 < 1;
  }
  else {
    uint64_t v20 = 1;
  }
  if (!v20) {
    handle_opengl_thread_conflict((const void **)v9);
  }
}

void sub_9E25C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void drawtexxv_OES(__GLIContextRec *a1, const int *a2)
{
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      uint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  signed int v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    id v43 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v42 = handle_opengl_thread_conflict((const void **)v9);
    id v43 = [(id)DYGetGLGuestAppClient(v42) waitOnGraphicsSemaphoreAssertions];
    if ((int)v43 >= 1)
    {
      do
LABEL_57:
        unsigned int v44 = __ldaxr(v10);
      while (__stlxr(v44 - 1, v10));
      unsigned int v45 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v43) graphicsLockWaitQueue];
      dispatch_sync_f(v45, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, const int *))(*(void *)(v9 + 24) + 8160LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  uint64_t v52 = 0LL;
  int v53 = 0LL;
  unsigned int v54 = 0;
  if ([(id)DYGetGLGuestAppClient(v43) state] != (char *)&dword_0 + 1
    || (id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v14))
  {
    unsigned int v16 = (char *)v52;
    BOOL v15 = v53;
    int64_t v17 = v53 - (_BYTE *)v52;
    unsigned int v18 = v54;
    unint64_t v19 = v54 - (v53 - (_BYTE *)v52);
    if (v19 > 0x47) {
      goto LABEL_24;
    }
    int v46 = (327 - v19) & 0xFFFFFF00;
    v54 += v46;
    unsigned int v16 = (char *)malloc(v46 + v18);
    uint64_t v52 = v16;
    if (v16)
    {
      if ((v16 & 3) == 0)
      {
        BOOL v15 = &v16[v17];
LABEL_24:
        *((void *)v15 + 8) = 0LL;
        *((_OWORD *)v15 + 2) = 0u;
        *((_OWORD *)v15 + 3) = 0u;
        *(_OWORD *)BOOL v15 = 0u;
        *((_OWORD *)v15 + 1) = 0u;
        int v53 = v15 + 72;
        GPUTools::FB::Fbuf::align((char **)&v52);
        *((_DWORD *)v16 + 1) = 776;
        *((_DWORD *)v16 + 8) = 0;
        __uint64_t v51 = 0LL;
        uint64_t v20 = pthread_threadid_np(0LL, &v51);
        *((void *)v16 + 1) = v51;
        strcpy(v16 + 36, "C@5x");
        *(void *)(v16 + 44) = *(void *)v9;
        __int128 v21 = *(_OWORD *)a2;
        *((_DWORD *)v16 + 17) = a2[4];
        *(_OWORD *)(v16 + 52) = v21;
        char v22 = byte_207160;
        if ((byte_207160 & 1) != 0) {
          breakpoint_break((uint64_t)&v52, (volatile int *)&stru_2E8.addr, 1LL, *(unsigned int *)(v9 + 3404), v9);
        }
        uint64_t v23 = (uint64_t)[(id)DYGetGLGuestAppClient(v20) overrideFlags];
        if (!(v23 & 0x10 | v22 & 4))
        {
          uint64_t v24 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, const int *))(*(void *)(v9 + 32) + 8160LL))(a1, a2);
          uint64_t v23 = mach_absolute_time();
          uint64_t v25 = v23 - v24;
          unint64_t v26 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unint64_t v27 = v52;
            *((void *)v52 + 2) = v24;
            v27[3] = v25;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v49 = __udivti3(g_DYTimebaseInfo * v25, (g_DYTimebaseInfo * (unsigned __int128)v25) >> 64);
            id v50 = v52;
            *((void *)v52 + 3) = v49;
            uint64_t v23 = __udivti3(v26 * v24, (v26 * (unsigned __int128)v24) >> 64);
            v50[2] = v23;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v23 = check_errors(v9);
        }

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  char *v15;
  char *v16;
  int64_t v17;
  unsigned int v18;
  unint64_t v19;
  uint64_t v20;
  __int128 v21;
  char v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  unint64_t v26;
  void *v27;
  id v28;
  GPUTools::FB::Fbuf *v29;
  unsigned int v30;
  GPUTools::FB::Fbuf *v31;
  dispatch_queue_s *v32;
  uint64_t v33;
  GPUTools::FB::Stream *v34;
  unsigned int *v35;
  unsigned int v36;
  unsigned int v37;
  unsigned int v38;
  signed int v39;
  BOOL v40;
  unsigned int v41;
  uint64_t v42;
  id v43;
  unsigned int v44;
  dispatch_queue_s *v45;
  int v46;
  uint64_t v47;
  uint64_t v48;
  uint64_t v49;
  void *v50;
  __uint64_t v51;
  void *v52;
  char *v53;
  unsigned int v54;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      uint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  signed int v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    id v43 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v42 = handle_opengl_thread_conflict((const void **)v9);
    id v43 = [(id)DYGetGLGuestAppClient(v42) waitOnGraphicsSemaphoreAssertions];
    if ((int)v43 >= 1)
    {
      do
LABEL_57:
        unsigned int v44 = __ldaxr(v10);
      while (__stlxr(v44 - 1, v10));
      unsigned int v45 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v43) graphicsLockWaitQueue];
      dispatch_sync_f(v45, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, const int *))(*(void *)(v9 + 24) + 8160LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  uint64_t v52 = 0LL;
  int v53 = 0LL;
  unsigned int v54 = 0;
  if ([(id)DYGetGLGuestAppClient(v43) state] != (char *)&dword_0 + 1
    || (id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v14))
  {
    unsigned int v16 = (char *)v52;
    BOOL v15 = v53;
    int64_t v17 = v53 - (_BYTE *)v52;
    unsigned int v18 = v54;
    unint64_t v19 = v54 - (v53 - (_BYTE *)v52);
    if (v19 > 0x47) {
      goto LABEL_24;
    }
    int v46 = (327 - v19) & 0xFFFFFF00;
    v54 += v46;
    unsigned int v16 = (char *)malloc(v46 + v18);
    uint64_t v52 = v16;
    if (v16)
    {
      if ((v16 & 3) == 0)
      {
        BOOL v15 = &v16[v17];
LABEL_24:
        *((void *)v15 + 8) = 0LL;
        *((_OWORD *)v15 + 2) = 0u;
        *((_OWORD *)v15 + 3) = 0u;
        *(_OWORD *)BOOL v15 = 0u;
        *((_OWORD *)v15 + 1) = 0u;
        int v53 = v15 + 72;
        GPUTools::FB::Fbuf::align((char **)&v52);
        *((_DWORD *)v16 + 1) = 776;
        *((_DWORD *)v16 + 8) = 0;
        __uint64_t v51 = 0LL;
        uint64_t v20 = pthread_threadid_np(0LL, &v51);
        *((void *)v16 + 1) = v51;
        strcpy(v16 + 36, "C@5x");
        *(void *)(v16 + 44) = *(void *)v9;
        __int128 v21 = *(_OWORD *)a2;
        *((_DWORD *)v16 + 17) = a2[4];
        *(_OWORD *)(v16 + 52) = v21;
        char v22 = byte_207160;
        if ((byte_207160 & 1) != 0) {
          breakpoint_break((uint64_t)&v52, (volatile int *)&stru_2E8.addr, 1LL, *(unsigned int *)(v9 + 3404), v9);
        }
        uint64_t v23 = (uint64_t)[(id)DYGetGLGuestAppClient(v20) overrideFlags];
        if (!(v23 & 0x10 | v22 & 4))
        {
          uint64_t v24 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, const int *))(*(void *)(v9 + 32) + 8160LL))(a1, a2);
          uint64_t v23 = mach_absolute_time();
          uint64_t v25 = v23 - v24;
          unint64_t v26 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unint64_t v27 = v52;
            *((void *)v52 + 2) = v24;
            v27[3] = v25;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v49 = __udivti3(g_DYTimebaseInfo * v25, (g_DYTimebaseInfo * (unsigned __int128)v25) >> 64);
            id v50 = v52;
            *((void *)v52 + 3) = v49;
            uint64_t v23 = __udivti3(v26 * v24, (v26 * (unsigned __int128)v24) >> 64);
            v50[2] = v23;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v23 = check_errors(v9);
        }

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  unsigned int v18;
  uint64_t v19;
  id v20;
  unsigned int v21;
  dispatch_queue_s *v22;
  uint64_t v23;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      uint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  signed int v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    uint64_t v20 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v19 = handle_opengl_thread_conflict((const void **)v9);
    uint64_t v20 = [(id)DYGetGLGuestAppClient(v19) waitOnGraphicsSemaphoreAssertions];
    if ((int)v20 >= 1)
    {
      do
LABEL_34:
        __int128 v21 = __ldaxr(v10);
      while (__stlxr(v21 - 1, v10));
      char v22 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v20) graphicsLockWaitQueue];
      dispatch_sync_f(v22, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, const int *))(*(void *)(v9 + 24) + 8160LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v20) state] == (char *)&dword_0 + 1)
  {
    id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v14)
    {
      do
        unsigned int v18 = __ldaxr(v10);
      while (__stlxr(v18 - 1, v10));
      [(id)DYGetGLGuestAppClient(v14) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, const int *))(*(void *)(v9 + 32) + 8160LL))(a1, a2);
  ++*(void *)(v9 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v9);
    if (gBreakOnError)
    {
      uint64_t v23 = *(unsigned int *)(v9 + 3404);
      if ((_DWORD)v23) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v23, v9);
      }
    }
  }

  do
  {
    BOOL v15 = __ldaxr(v10);
    unsigned int v16 = v15 - 1;
  }

  while (__stlxr(v16, v10));
  if (gCheckGLErrors) {
    int64_t v17 = v16 < 1;
  }
  else {
    int64_t v17 = 1;
  }
  if (!v17) {
    handle_opengl_thread_conflict((const void **)v9);
  }
}

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  uint64_t v15;
  uint64_t v16;
  int64x2_t v17;
  unsigned int v18;
  signed int v19;
  BOOL v20;
  unsigned int v21;
  uint64_t v22;
  id v23;
  unsigned int v24;
  dispatch_queue_s *v25;
  uint64_t v26;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      uint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  signed int v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    uint64_t v23 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    char v22 = handle_opengl_thread_conflict((const void **)v9);
    uint64_t v23 = [(id)DYGetGLGuestAppClient(v22) waitOnGraphicsSemaphoreAssertions];
    if ((int)v23 >= 1)
    {
      do
LABEL_34:
        uint64_t v24 = __ldaxr(v10);
      while (__stlxr(v24 - 1, v10));
      uint64_t v25 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v23) graphicsLockWaitQueue];
      dispatch_sync_f(v25, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, const int *))(*(void *)(v9 + 24) + 8160LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v23) state] == (char *)&dword_0 + 1)
  {
    id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v14)
    {
      do
        __int128 v21 = __ldaxr(v10);
      while (__stlxr(v21 - 1, v10));
      [(id)DYGetGLGuestAppClient(v14) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  BOOL v15 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, const int *))(*(void *)(v9 + 32) + 8160LL))(a1, a2);
  unsigned int v16 = mach_absolute_time();
  int64_t v17 = vdupq_n_s64(1uLL);
  v17.i64[0] = v16 - v15;
  *(int64x2_t *)(v9 + 3696) = vaddq_s64(v17, *(int64x2_t *)(v9 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v9);
    if (gBreakOnError)
    {
      unint64_t v26 = *(unsigned int *)(v9 + 3404);
      if ((_DWORD)v26) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v26, v9);
      }
    }
  }

  do
  {
    unsigned int v18 = __ldaxr(v10);
    unint64_t v19 = v18 - 1;
  }

  while (__stlxr(v19, v10));
  if (gCheckGLErrors) {
    uint64_t v20 = v19 < 1;
  }
  else {
    uint64_t v20 = 1;
  }
  if (!v20) {
    handle_opengl_thread_conflict((const void **)v9);
  }
}

void sub_9E73C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void drawtexf_OES(__GLIContextRec *a1, float a2, float a3, float a4, float a5, float a6)
{
  signed int v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      unsigned int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    signed int v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  unsigned int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    id v50 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v49 = handle_opengl_thread_conflict((const void **)v17);
    id v50 = [(id)DYGetGLGuestAppClient(v49) waitOnGraphicsSemaphoreAssertions];
    if ((int)v50 >= 1)
    {
      do
LABEL_57:
        unsigned int v51 = __ldaxr(v18);
      while (__stlxr(v51 - 1, v18));
      uint64_t v52 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v50) graphicsLockWaitQueue];
      dispatch_sync_f(v52, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, float, float, float, float, float))(*(void *)(v17 + 24) + 8168LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  unsigned int v59 = 0LL;
  __uint64_t v60 = 0LL;
  unsigned int v61 = 0;
  if ([(id)DYGetGLGuestAppClient(v50) state] != (char *)&dword_0 + 1
    || (id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v22))
  {
    uint64_t v24 = (char *)v59;
    uint64_t v23 = v60;
    int64_t v25 = v60 - (_BYTE *)v59;
    unsigned int v26 = v61;
    unint64_t v27 = v61 - (v60 - (_BYTE *)v59);
    if (v27 > 0x47) {
      goto LABEL_24;
    }
    int v53 = (327 - v27) & 0xFFFFFF00;
    v61 += v53;
    uint64_t v24 = (char *)malloc(v53 + v26);
    unsigned int v59 = v24;
    if (v24)
    {
      if ((v24 & 3) == 0)
      {
        uint64_t v23 = &v24[v25];
LABEL_24:
        *((void *)v23 + 8) = 0LL;
        *((_OWORD *)v23 + 2) = 0u;
        *((_OWORD *)v23 + 3) = 0u;
        *(_OWORD *)uint64_t v23 = 0u;
        *((_OWORD *)v23 + 1) = 0u;
        __uint64_t v60 = v23 + 72;
        GPUTools::FB::Fbuf::align((char **)&v59);
        *((_DWORD *)v24 + 1) = 769;
        *((_DWORD *)v24 + 8) = 0;
        __uint64_t v58 = 0LL;
        uint64_t v28 = pthread_threadid_np(0LL, &v58);
        *((void *)v24 + 1) = v58;
        strcpy(v24 + 36, "Cfffff");
        *(void *)(v24 + 44) = *(void *)v17;
        *((float *)v24 + 13) = a2;
        *((float *)v24 + 14) = a3;
        *((float *)v24 + 15) = a4;
        *((float *)v24 + 16) = a5;
        *((float *)v24 + 17) = a6;
        char v29 = byte_207159;
        if ((byte_207159 & 1) != 0) {
          breakpoint_break((uint64_t)&v59, (volatile int *)&stru_2E8.segname[9], 1LL, *(unsigned int *)(v17 + 3404), v17);
        }
        uint64_t v30 = (uint64_t)[(id)DYGetGLGuestAppClient(v28) overrideFlags];
        if (!(v30 & 0x10 | v29 & 4))
        {
          uint64_t v31 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, float, float, float, float, float))(*(void *)(v17 + 32) + 8168LL))( a1,  a2,  a3,  a4,  a5,  a6);
          uint64_t v30 = mach_absolute_time();
          uint64_t v32 = v30 - v31;
          unint64_t v33 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unsigned int v34 = v59;
            *((void *)v59 + 2) = v31;
            v34[3] = v32;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v56 = __udivti3(g_DYTimebaseInfo * v32, (g_DYTimebaseInfo * (unsigned __int128)v32) >> 64);
            unsigned int v57 = v59;
            *((void *)v59 + 3) = v56;
            uint64_t v30 = __udivti3(v33 * v31, (v33 * (unsigned __int128)v31) >> 64);
            v57[2] = v30;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v30 = check_errors(v17);
        }

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  id v22;
  char *v23;
  char *v24;
  int64_t v25;
  unsigned int v26;
  unint64_t v27;
  uint64_t v28;
  char v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  unint64_t v33;
  void *v34;
  id v35;
  GPUTools::FB::Fbuf *v36;
  unsigned int v37;
  GPUTools::FB::Fbuf *v38;
  dispatch_queue_s *v39;
  uint64_t v40;
  GPUTools::FB::Stream *v41;
  unsigned int *v42;
  unsigned int v43;
  unsigned int v44;
  unsigned int v45;
  signed int v46;
  BOOL v47;
  unsigned int v48;
  uint64_t v49;
  id v50;
  unsigned int v51;
  dispatch_queue_s *v52;
  int v53;
  uint64_t v54;
  uint64_t v55;
  uint64_t v56;
  void *v57;
  __uint64_t v58;
  void *v59;
  char *v60;
  unsigned int v61;
  signed int v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      unsigned int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    signed int v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  unsigned int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    id v50 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v49 = handle_opengl_thread_conflict((const void **)v17);
    id v50 = [(id)DYGetGLGuestAppClient(v49) waitOnGraphicsSemaphoreAssertions];
    if ((int)v50 >= 1)
    {
      do
LABEL_57:
        unsigned int v51 = __ldaxr(v18);
      while (__stlxr(v51 - 1, v18));
      uint64_t v52 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v50) graphicsLockWaitQueue];
      dispatch_sync_f(v52, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, float, float, float, float, float))(*(void *)(v17 + 24) + 8168LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  unsigned int v59 = 0LL;
  __uint64_t v60 = 0LL;
  unsigned int v61 = 0;
  if ([(id)DYGetGLGuestAppClient(v50) state] != (char *)&dword_0 + 1
    || (id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v22))
  {
    uint64_t v24 = (char *)v59;
    uint64_t v23 = v60;
    int64_t v25 = v60 - (_BYTE *)v59;
    unsigned int v26 = v61;
    unint64_t v27 = v61 - (v60 - (_BYTE *)v59);
    if (v27 > 0x47) {
      goto LABEL_24;
    }
    int v53 = (327 - v27) & 0xFFFFFF00;
    v61 += v53;
    uint64_t v24 = (char *)malloc(v53 + v26);
    unsigned int v59 = v24;
    if (v24)
    {
      if ((v24 & 3) == 0)
      {
        uint64_t v23 = &v24[v25];
LABEL_24:
        *((void *)v23 + 8) = 0LL;
        *((_OWORD *)v23 + 2) = 0u;
        *((_OWORD *)v23 + 3) = 0u;
        *(_OWORD *)uint64_t v23 = 0u;
        *((_OWORD *)v23 + 1) = 0u;
        __uint64_t v60 = v23 + 72;
        GPUTools::FB::Fbuf::align((char **)&v59);
        *((_DWORD *)v24 + 1) = 769;
        *((_DWORD *)v24 + 8) = 0;
        __uint64_t v58 = 0LL;
        uint64_t v28 = pthread_threadid_np(0LL, &v58);
        *((void *)v24 + 1) = v58;
        strcpy(v24 + 36, "Cfffff");
        *(void *)(v24 + 44) = *(void *)v17;
        *((float *)v24 + 13) = a2;
        *((float *)v24 + 14) = a3;
        *((float *)v24 + 15) = a4;
        *((float *)v24 + 16) = a5;
        *((float *)v24 + 17) = a6;
        char v29 = byte_207159;
        if ((byte_207159 & 1) != 0) {
          breakpoint_break((uint64_t)&v59, (volatile int *)&stru_2E8.segname[9], 1LL, *(unsigned int *)(v17 + 3404), v17);
        }
        uint64_t v30 = (uint64_t)[(id)DYGetGLGuestAppClient(v28) overrideFlags];
        if (!(v30 & 0x10 | v29 & 4))
        {
          uint64_t v31 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, float, float, float, float, float))(*(void *)(v17 + 32) + 8168LL))( a1,  a2,  a3,  a4,  a5,  a6);
          uint64_t v30 = mach_absolute_time();
          uint64_t v32 = v30 - v31;
          unint64_t v33 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unsigned int v34 = v59;
            *((void *)v59 + 2) = v31;
            v34[3] = v32;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v56 = __udivti3(g_DYTimebaseInfo * v32, (g_DYTimebaseInfo * (unsigned __int128)v32) >> 64);
            unsigned int v57 = v59;
            *((void *)v59 + 3) = v56;
            uint64_t v30 = __udivti3(v33 * v31, (v33 * (unsigned __int128)v31) >> 64);
            v57[2] = v30;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v30 = check_errors(v17);
        }

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  id v22;
  unsigned int v23;
  signed int v24;
  BOOL v25;
  unsigned int v26;
  uint64_t v27;
  id v28;
  unsigned int v29;
  dispatch_queue_s *v30;
  uint64_t v31;
  signed int v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      unsigned int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    signed int v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  unsigned int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    uint64_t v28 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v27 = handle_opengl_thread_conflict((const void **)v17);
    uint64_t v28 = [(id)DYGetGLGuestAppClient(v27) waitOnGraphicsSemaphoreAssertions];
    if ((int)v28 >= 1)
    {
      do
LABEL_34:
        char v29 = __ldaxr(v18);
      while (__stlxr(v29 - 1, v18));
      uint64_t v30 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v28) graphicsLockWaitQueue];
      dispatch_sync_f(v30, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, float, float, float, float, float))(*(void *)(v17 + 24) + 8168LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v28) state] == (char *)&dword_0 + 1)
  {
    id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v22)
    {
      do
        unsigned int v26 = __ldaxr(v18);
      while (__stlxr(v26 - 1, v18));
      [(id)DYGetGLGuestAppClient(v22) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, float, float, float, float, float))(*(void *)(v17 + 32) + 8168LL))( a1,  a2,  a3,  a4,  a5,  a6);
  ++*(void *)(v17 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v17);
    if (gBreakOnError)
    {
      uint64_t v31 = *(unsigned int *)(v17 + 3404);
      if ((_DWORD)v31) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v31, v17);
      }
    }
  }

  do
  {
    uint64_t v23 = __ldaxr(v18);
    uint64_t v24 = v23 - 1;
  }

  while (__stlxr(v24, v18));
  if (gCheckGLErrors) {
    int64_t v25 = v24 < 1;
  }
  else {
    int64_t v25 = 1;
  }
  if (!v25) {
    handle_opengl_thread_conflict((const void **)v17);
  }
}

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  id v22;
  uint64_t v23;
  uint64_t v24;
  int64x2_t v25;
  unsigned int v26;
  signed int v27;
  BOOL v28;
  unsigned int v29;
  uint64_t v30;
  id v31;
  unsigned int v32;
  dispatch_queue_s *v33;
  uint64_t v34;
  signed int v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      unsigned int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    signed int v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  unsigned int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    uint64_t v31 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v30 = handle_opengl_thread_conflict((const void **)v17);
    uint64_t v31 = [(id)DYGetGLGuestAppClient(v30) waitOnGraphicsSemaphoreAssertions];
    if ((int)v31 >= 1)
    {
      do
LABEL_34:
        uint64_t v32 = __ldaxr(v18);
      while (__stlxr(v32 - 1, v18));
      unint64_t v33 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v31) graphicsLockWaitQueue];
      dispatch_sync_f(v33, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, float, float, float, float, float))(*(void *)(v17 + 24) + 8168LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v31) state] == (char *)&dword_0 + 1)
  {
    id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v22)
    {
      do
        char v29 = __ldaxr(v18);
      while (__stlxr(v29 - 1, v18));
      [(id)DYGetGLGuestAppClient(v22) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v23 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, float, float, float, float, float))(*(void *)(v17 + 32) + 8168LL))( a1,  a2,  a3,  a4,  a5,  a6);
  uint64_t v24 = mach_absolute_time();
  int64_t v25 = vdupq_n_s64(1uLL);
  v25.i64[0] = v24 - v23;
  *(int64x2_t *)(v17 + 3696) = vaddq_s64(v25, *(int64x2_t *)(v17 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v17);
    if (gBreakOnError)
    {
      unsigned int v34 = *(unsigned int *)(v17 + 3404);
      if ((_DWORD)v34) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v34, v17);
      }
    }
  }

  do
  {
    unsigned int v26 = __ldaxr(v18);
    unint64_t v27 = v26 - 1;
  }

  while (__stlxr(v27, v18));
  if (gCheckGLErrors) {
    uint64_t v28 = v27 < 1;
  }
  else {
    uint64_t v28 = 1;
  }
  if (!v28) {
    handle_opengl_thread_conflict((const void **)v17);
  }
}

void sub_9EC84( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void drawtexfv_OES(__GLIContextRec *a1, const float *a2)
{
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      uint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  signed int v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    id v43 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v42 = handle_opengl_thread_conflict((const void **)v9);
    id v43 = [(id)DYGetGLGuestAppClient(v42) waitOnGraphicsSemaphoreAssertions];
    if ((int)v43 >= 1)
    {
      do
LABEL_57:
        unsigned int v44 = __ldaxr(v10);
      while (__stlxr(v44 - 1, v10));
      unsigned int v45 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v43) graphicsLockWaitQueue];
      dispatch_sync_f(v45, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, const float *))(*(void *)(v9 + 24) + 8176LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  uint64_t v52 = 0LL;
  int v53 = 0LL;
  unsigned int v54 = 0;
  if ([(id)DYGetGLGuestAppClient(v43) state] != (char *)&dword_0 + 1
    || (id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v14))
  {
    unsigned int v16 = (char *)v52;
    BOOL v15 = v53;
    int64_t v17 = v53 - (_BYTE *)v52;
    unsigned int v18 = v54;
    unint64_t v19 = v54 - (v53 - (_BYTE *)v52);
    if (v19 > 0x47) {
      goto LABEL_24;
    }
    int v46 = (327 - v19) & 0xFFFFFF00;
    v54 += v46;
    unsigned int v16 = (char *)malloc(v46 + v18);
    uint64_t v52 = v16;
    if (v16)
    {
      if ((v16 & 3) == 0)
      {
        BOOL v15 = &v16[v17];
LABEL_24:
        *((void *)v15 + 8) = 0LL;
        *((_OWORD *)v15 + 2) = 0u;
        *((_OWORD *)v15 + 3) = 0u;
        *(_OWORD *)BOOL v15 = 0u;
        *((_OWORD *)v15 + 1) = 0u;
        int v53 = v15 + 72;
        GPUTools::FB::Fbuf::align((char **)&v52);
        *((_DWORD *)v16 + 1) = 770;
        *((_DWORD *)v16 + 8) = 0;
        __uint64_t v51 = 0LL;
        uint64_t v20 = pthread_threadid_np(0LL, &v51);
        *((void *)v16 + 1) = v51;
        strcpy(v16 + 36, "C@5f");
        *(void *)(v16 + 44) = *(void *)v9;
        __int128 v21 = *(_OWORD *)a2;
        *((float *)v16 + 17) = a2[4];
        *(_OWORD *)(v16 + 52) = v21;
        char v22 = byte_20715A;
        if ((byte_20715A & 1) != 0) {
          breakpoint_break((uint64_t)&v52, (volatile int *)&stru_2E8.segname[10], 1LL, *(unsigned int *)(v9 + 3404), v9);
        }
        uint64_t v23 = (uint64_t)[(id)DYGetGLGuestAppClient(v20) overrideFlags];
        if (!(v23 & 0x10 | v22 & 4))
        {
          uint64_t v24 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, const float *))(*(void *)(v9 + 32) + 8176LL))(a1, a2);
          uint64_t v23 = mach_absolute_time();
          uint64_t v25 = v23 - v24;
          unint64_t v26 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unint64_t v27 = v52;
            *((void *)v52 + 2) = v24;
            v27[3] = v25;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v49 = __udivti3(g_DYTimebaseInfo * v25, (g_DYTimebaseInfo * (unsigned __int128)v25) >> 64);
            id v50 = v52;
            *((void *)v52 + 3) = v49;
            uint64_t v23 = __udivti3(v26 * v24, (v26 * (unsigned __int128)v24) >> 64);
            v50[2] = v23;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v23 = check_errors(v9);
        }

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  char *v15;
  char *v16;
  int64_t v17;
  unsigned int v18;
  unint64_t v19;
  uint64_t v20;
  __int128 v21;
  char v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  unint64_t v26;
  void *v27;
  id v28;
  GPUTools::FB::Fbuf *v29;
  unsigned int v30;
  GPUTools::FB::Fbuf *v31;
  dispatch_queue_s *v32;
  uint64_t v33;
  GPUTools::FB::Stream *v34;
  unsigned int *v35;
  unsigned int v36;
  unsigned int v37;
  unsigned int v38;
  signed int v39;
  BOOL v40;
  unsigned int v41;
  uint64_t v42;
  id v43;
  unsigned int v44;
  dispatch_queue_s *v45;
  int v46;
  uint64_t v47;
  uint64_t v48;
  uint64_t v49;
  void *v50;
  __uint64_t v51;
  void *v52;
  char *v53;
  unsigned int v54;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      uint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  signed int v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    id v43 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v42 = handle_opengl_thread_conflict((const void **)v9);
    id v43 = [(id)DYGetGLGuestAppClient(v42) waitOnGraphicsSemaphoreAssertions];
    if ((int)v43 >= 1)
    {
      do
LABEL_57:
        unsigned int v44 = __ldaxr(v10);
      while (__stlxr(v44 - 1, v10));
      unsigned int v45 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v43) graphicsLockWaitQueue];
      dispatch_sync_f(v45, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, const float *))(*(void *)(v9 + 24) + 8176LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  uint64_t v52 = 0LL;
  int v53 = 0LL;
  unsigned int v54 = 0;
  if ([(id)DYGetGLGuestAppClient(v43) state] != (char *)&dword_0 + 1
    || (id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v14))
  {
    unsigned int v16 = (char *)v52;
    BOOL v15 = v53;
    int64_t v17 = v53 - (_BYTE *)v52;
    unsigned int v18 = v54;
    unint64_t v19 = v54 - (v53 - (_BYTE *)v52);
    if (v19 > 0x47) {
      goto LABEL_24;
    }
    int v46 = (327 - v19) & 0xFFFFFF00;
    v54 += v46;
    unsigned int v16 = (char *)malloc(v46 + v18);
    uint64_t v52 = v16;
    if (v16)
    {
      if ((v16 & 3) == 0)
      {
        BOOL v15 = &v16[v17];
LABEL_24:
        *((void *)v15 + 8) = 0LL;
        *((_OWORD *)v15 + 2) = 0u;
        *((_OWORD *)v15 + 3) = 0u;
        *(_OWORD *)BOOL v15 = 0u;
        *((_OWORD *)v15 + 1) = 0u;
        int v53 = v15 + 72;
        GPUTools::FB::Fbuf::align((char **)&v52);
        *((_DWORD *)v16 + 1) = 770;
        *((_DWORD *)v16 + 8) = 0;
        __uint64_t v51 = 0LL;
        uint64_t v20 = pthread_threadid_np(0LL, &v51);
        *((void *)v16 + 1) = v51;
        strcpy(v16 + 36, "C@5f");
        *(void *)(v16 + 44) = *(void *)v9;
        __int128 v21 = *(_OWORD *)a2;
        *((float *)v16 + 17) = a2[4];
        *(_OWORD *)(v16 + 52) = v21;
        char v22 = byte_20715A;
        if ((byte_20715A & 1) != 0) {
          breakpoint_break((uint64_t)&v52, (volatile int *)&stru_2E8.segname[10], 1LL, *(unsigned int *)(v9 + 3404), v9);
        }
        uint64_t v23 = (uint64_t)[(id)DYGetGLGuestAppClient(v20) overrideFlags];
        if (!(v23 & 0x10 | v22 & 4))
        {
          uint64_t v24 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, const float *))(*(void *)(v9 + 32) + 8176LL))(a1, a2);
          uint64_t v23 = mach_absolute_time();
          uint64_t v25 = v23 - v24;
          unint64_t v26 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unint64_t v27 = v52;
            *((void *)v52 + 2) = v24;
            v27[3] = v25;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v49 = __udivti3(g_DYTimebaseInfo * v25, (g_DYTimebaseInfo * (unsigned __int128)v25) >> 64);
            id v50 = v52;
            *((void *)v52 + 3) = v49;
            uint64_t v23 = __udivti3(v26 * v24, (v26 * (unsigned __int128)v24) >> 64);
            v50[2] = v23;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v23 = check_errors(v9);
        }

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  unsigned int v18;
  uint64_t v19;
  id v20;
  unsigned int v21;
  dispatch_queue_s *v22;
  uint64_t v23;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      uint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  signed int v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    uint64_t v20 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v19 = handle_opengl_thread_conflict((const void **)v9);
    uint64_t v20 = [(id)DYGetGLGuestAppClient(v19) waitOnGraphicsSemaphoreAssertions];
    if ((int)v20 >= 1)
    {
      do
LABEL_34:
        __int128 v21 = __ldaxr(v10);
      while (__stlxr(v21 - 1, v10));
      char v22 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v20) graphicsLockWaitQueue];
      dispatch_sync_f(v22, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, const float *))(*(void *)(v9 + 24) + 8176LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v20) state] == (char *)&dword_0 + 1)
  {
    id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v14)
    {
      do
        unsigned int v18 = __ldaxr(v10);
      while (__stlxr(v18 - 1, v10));
      [(id)DYGetGLGuestAppClient(v14) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, const float *))(*(void *)(v9 + 32) + 8176LL))(a1, a2);
  ++*(void *)(v9 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v9);
    if (gBreakOnError)
    {
      uint64_t v23 = *(unsigned int *)(v9 + 3404);
      if ((_DWORD)v23) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v23, v9);
      }
    }
  }

  do
  {
    BOOL v15 = __ldaxr(v10);
    unsigned int v16 = v15 - 1;
  }

  while (__stlxr(v16, v10));
  if (gCheckGLErrors) {
    int64_t v17 = v16 < 1;
  }
  else {
    int64_t v17 = 1;
  }
  if (!v17) {
    handle_opengl_thread_conflict((const void **)v9);
  }
}

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  uint64_t v15;
  uint64_t v16;
  int64x2_t v17;
  unsigned int v18;
  signed int v19;
  BOOL v20;
  unsigned int v21;
  uint64_t v22;
  id v23;
  unsigned int v24;
  dispatch_queue_s *v25;
  uint64_t v26;
  unint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      uint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    unint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  signed int v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    uint64_t v23 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    char v22 = handle_opengl_thread_conflict((const void **)v9);
    uint64_t v23 = [(id)DYGetGLGuestAppClient(v22) waitOnGraphicsSemaphoreAssertions];
    if ((int)v23 >= 1)
    {
      do
LABEL_34:
        uint64_t v24 = __ldaxr(v10);
      while (__stlxr(v24 - 1, v10));
      uint64_t v25 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v23) graphicsLockWaitQueue];
      dispatch_sync_f(v25, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, const float *))(*(void *)(v9 + 24) + 8176LL))(a1, a2);
      return;
    }
  }

  *(_BYTE *)(v9 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v23) state] == (char *)&dword_0 + 1)
  {
    id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v14)
    {
      do
        __int128 v21 = __ldaxr(v10);
      while (__stlxr(v21 - 1, v10));
      [(id)DYGetGLGuestAppClient(v14) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  BOOL v15 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, const float *))(*(void *)(v9 + 32) + 8176LL))(a1, a2);
  unsigned int v16 = mach_absolute_time();
  int64_t v17 = vdupq_n_s64(1uLL);
  v17.i64[0] = v16 - v15;
  *(int64x2_t *)(v9 + 3696) = vaddq_s64(v17, *(int64x2_t *)(v9 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v9);
    if (gBreakOnError)
    {
      unint64_t v26 = *(unsigned int *)(v9 + 3404);
      if ((_DWORD)v26) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v26, v9);
      }
    }
  }

  do
  {
    unsigned int v18 = __ldaxr(v10);
    unint64_t v19 = v18 - 1;
  }

  while (__stlxr(v19, v10));
  if (gCheckGLErrors) {
    uint64_t v20 = v19 < 1;
  }
  else {
    uint64_t v20 = 1;
  }
  if (!v20) {
    handle_opengl_thread_conflict((const void **)v9);
  }
}

void sub_9F164( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void discard_framebuffer_EXT(__GLIContextRec *a1, uint64_t a2, uint64_t a3, const unsigned int *a4)
{
  uint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    uint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  id v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v45 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v44 = handle_opengl_thread_conflict((const void **)v13);
    id v45 = [(id)DYGetGLGuestAppClient(v44) waitOnGraphicsSemaphoreAssertions];
    if ((int)v45 >= 1)
    {
      do
LABEL_56:
        unsigned int v46 = __ldaxr(v14);
      while (__stlxr(v46 - 1, v14));
      uint64_t v47 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v45) graphicsLockWaitQueue];
      dispatch_sync_f(v47, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const unsigned int *))(*(void *)(v13 + 24) + 8184LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  v52[0] = 0LL;
  v52[1] = 0LL;
  int v53 = 0;
  if ([(id)DYGetGLGuestAppClient(v45) state] != (char *)&dword_0 + 1
    || (id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v18))
  {
    snprintf((char *)(v13 + 4709), 0x40uLL, "Cei@%de", a3);
    GPUTools::FB::Encode( (uint64_t)v52,  835LL,  ((*(_DWORD *)(v13 + 3456) - 1) < 2) << 14,  v13 + 4709,  v19,  v20,  v21,  v22,  *(void *)v13);
    char v24 = byte_20719B;
    if ((byte_20719B & 1) != 0) {
      breakpoint_break((uint64_t)v52, (volatile int *)&stru_338.sectname[11], 1LL, *(unsigned int *)(v13 + 3404), v13);
    }
    uint64_t v25 = (uint64_t)[(id)DYGetGLGuestAppClient(v23) overrideFlags];
    if (!(v25 & 0x10 | v24 & 4))
    {
      uint64_t v26 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const unsigned int *))(*(void *)(v13 + 32) + 8184LL))( a1,  a2,  a3,  a4);
      uint64_t v25 = mach_absolute_time();
      uint64_t v27 = v25 - v26;
      unint64_t v28 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        char v29 = v52[0];
        *((void *)v52[0] + 2) = v26;
        v29[3] = v27;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      else
      {
        uint64_t v50 = __udivti3(g_DYTimebaseInfo * v27, (g_DYTimebaseInfo * (unsigned __int128)v27) >> 64);
        __uint64_t v51 = v52[0];
        *((void *)v52[0] + 3) = v50;
        uint64_t v25 = __udivti3(v28 * v26, (v28 * (unsigned __int128)v26) >> 64);
        v51[2] = v25;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      uint64_t v25 = check_errors(v13);
    }

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  char v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  unint64_t v28;
  void *v29;
  id v30;
  GPUTools::FB::Fbuf *v31;
  unsigned int v32;
  GPUTools::FB::Fbuf *v33;
  dispatch_queue_s *v34;
  uint64_t v35;
  GPUTools::FB::Stream *v36;
  unsigned int *v37;
  unsigned int v38;
  unsigned int v39;
  unsigned int v40;
  signed int v41;
  BOOL v42;
  unsigned int v43;
  uint64_t v44;
  id v45;
  unsigned int v46;
  dispatch_queue_s *v47;
  uint64_t v48;
  uint64_t v49;
  uint64_t v50;
  void *v51;
  void *v52[2];
  int v53;
  uint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    uint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  id v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v45 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v44 = handle_opengl_thread_conflict((const void **)v13);
    id v45 = [(id)DYGetGLGuestAppClient(v44) waitOnGraphicsSemaphoreAssertions];
    if ((int)v45 >= 1)
    {
      do
LABEL_56:
        unsigned int v46 = __ldaxr(v14);
      while (__stlxr(v46 - 1, v14));
      uint64_t v47 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v45) graphicsLockWaitQueue];
      dispatch_sync_f(v47, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const unsigned int *))(*(void *)(v13 + 24) + 8184LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  v52[0] = 0LL;
  v52[1] = 0LL;
  int v53 = 0;
  if ([(id)DYGetGLGuestAppClient(v45) state] != (char *)&dword_0 + 1
    || (id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v18))
  {
    snprintf((char *)(v13 + 4709), 0x40uLL, "Cei@%de", a3);
    GPUTools::FB::Encode( (uint64_t)v52,  835LL,  ((*(_DWORD *)(v13 + 3456) - 1) < 2) << 14,  v13 + 4709,  v19,  v20,  v21,  v22,  *(void *)v13);
    char v24 = byte_20719B;
    if ((byte_20719B & 1) != 0) {
      breakpoint_break((uint64_t)v52, (volatile int *)&stru_338.sectname[11], 1LL, *(unsigned int *)(v13 + 3404), v13);
    }
    uint64_t v25 = (uint64_t)[(id)DYGetGLGuestAppClient(v23) overrideFlags];
    if (!(v25 & 0x10 | v24 & 4))
    {
      uint64_t v26 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const unsigned int *))(*(void *)(v13 + 32) + 8184LL))( a1,  a2,  a3,  a4);
      uint64_t v25 = mach_absolute_time();
      uint64_t v27 = v25 - v26;
      unint64_t v28 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        char v29 = v52[0];
        *((void *)v52[0] + 2) = v26;
        v29[3] = v27;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      else
      {
        uint64_t v50 = __udivti3(g_DYTimebaseInfo * v27, (g_DYTimebaseInfo * (unsigned __int128)v27) >> 64);
        __uint64_t v51 = v52[0];
        *((void *)v52[0] + 3) = v50;
        uint64_t v25 = __udivti3(v28 * v26, (v28 * (unsigned __int128)v26) >> 64);
        v51[2] = v25;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      uint64_t v25 = check_errors(v13);
    }

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  unsigned int v22;
  uint64_t v23;
  id v24;
  unsigned int v25;
  dispatch_queue_s *v26;
  uint64_t v27;
  uint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    uint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  id v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    char v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    char v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        uint64_t v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      uint64_t v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const unsigned int *))(*(void *)(v13 + 24) + 8184LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        uint64_t v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const unsigned int *))(*(void *)(v13 + 32) + 8184LL))( a1,  a2,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    uint64_t v19 = __ldaxr(v14);
    uint64_t v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    uint64_t v21 = v20 < 1;
  }
  else {
    uint64_t v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  uint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    uint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  id v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        unint64_t v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      char v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const unsigned int *))(*(void *)(v13 + 24) + 8184LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        uint64_t v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const unsigned int *))(*(void *)(v13 + 32) + 8184LL))( a1,  a2,  a3,  a4);
  uint64_t v20 = mach_absolute_time();
  uint64_t v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      id v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    uint64_t v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    char v24 = v23 < 1;
  }
  else {
    char v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void sub_9F5C4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void framebuffer_parameteri_APPLE(__GLIContextRec *a1, uint64_t a2, uint64_t a3, const int *a4)
{
  uint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    uint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  id v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v45 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v44 = handle_opengl_thread_conflict((const void **)v13);
    id v45 = [(id)DYGetGLGuestAppClient(v44) waitOnGraphicsSemaphoreAssertions];
    if ((int)v45 >= 1)
    {
      do
LABEL_57:
        unsigned int v46 = __ldaxr(v14);
      while (__stlxr(v46 - 1, v14));
      uint64_t v47 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v45) graphicsLockWaitQueue];
      dispatch_sync_f(v47, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 24) + 0x2000LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  v53[0] = 0LL;
  v53[1] = 0LL;
  int v54 = 0;
  if ([(id)DYGetGLGuestAppClient(v45) state] != (char *)&dword_0 + 1
    || (id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v22))
  {
    if ((_DWORD)a3 != 35449)
    {
      uint64_t v52 = (const char *)dy_string_from_enum(a3);
      dy_abort("unknown FramebufferParameteriAPPLE pname: %s", v52);
      __break(1u);
      return;
    }

    GPUTools::FB::Encode((uint64_t)v53, 825LL, 0LL, (uint64_t)"Cee@1e", v18, v19, v20, v21, *(void *)v13);
    char v24 = byte_207191;
    if ((byte_207191 & 1) != 0) {
      breakpoint_break((uint64_t)v53, (volatile int *)&stru_338.sectname[1], 1LL, *(unsigned int *)(v13 + 3404), v13);
    }
    uint64_t v25 = (uint64_t)[(id)DYGetGLGuestAppClient(v23) overrideFlags];
    if (!(v25 & 0x10 | v24 & 4))
    {
      uint64_t v26 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 32) + 0x2000LL))( a1,  a2,  35449LL,  a4);
      uint64_t v25 = mach_absolute_time();
      uint64_t v27 = v25 - v26;
      unint64_t v28 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        char v29 = v53[0];
        *((void *)v53[0] + 2) = v26;
        v29[3] = v27;
        if (!gCheckGLErrors) {
          goto LABEL_29;
        }
      }

      else
      {
        uint64_t v50 = __udivti3(g_DYTimebaseInfo * v27, (g_DYTimebaseInfo * (unsigned __int128)v27) >> 64);
        __uint64_t v51 = v53[0];
        *((void *)v53[0] + 3) = v50;
        uint64_t v25 = __udivti3(v28 * v26, (v28 * (unsigned __int128)v26) >> 64);
        v51[2] = v25;
        if (!gCheckGLErrors) {
          goto LABEL_29;
        }
      }

      uint64_t v25 = check_errors(v13);
    }

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  id v22;
  uint64_t v23;
  char v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  unint64_t v28;
  void *v29;
  id v30;
  GPUTools::FB::Fbuf *v31;
  unsigned int v32;
  GPUTools::FB::Fbuf *v33;
  dispatch_queue_s *v34;
  uint64_t v35;
  GPUTools::FB::Stream *v36;
  unsigned int *v37;
  unsigned int v38;
  unsigned int v39;
  unsigned int v40;
  signed int v41;
  BOOL v42;
  unsigned int v43;
  uint64_t v44;
  id v45;
  unsigned int v46;
  dispatch_queue_s *v47;
  uint64_t v48;
  uint64_t v49;
  uint64_t v50;
  void *v51;
  const char *v52;
  void *v53[2];
  int v54;
  uint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    uint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  id v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v45 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v44 = handle_opengl_thread_conflict((const void **)v13);
    id v45 = [(id)DYGetGLGuestAppClient(v44) waitOnGraphicsSemaphoreAssertions];
    if ((int)v45 >= 1)
    {
      do
LABEL_57:
        unsigned int v46 = __ldaxr(v14);
      while (__stlxr(v46 - 1, v14));
      uint64_t v47 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v45) graphicsLockWaitQueue];
      dispatch_sync_f(v47, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 24) + 0x2000LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  v53[0] = 0LL;
  v53[1] = 0LL;
  int v54 = 0;
  if ([(id)DYGetGLGuestAppClient(v45) state] != (char *)&dword_0 + 1
    || (id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v22))
  {
    if ((_DWORD)a3 != 35449)
    {
      uint64_t v52 = (const char *)dy_string_from_enum(a3);
      dy_abort("unknown FramebufferParameteriAPPLE pname: %s", v52);
      __break(1u);
      return;
    }

    GPUTools::FB::Encode((uint64_t)v53, 825LL, 0LL, (uint64_t)"Cee@1e", v18, v19, v20, v21, *(void *)v13);
    char v24 = byte_207191;
    if ((byte_207191 & 1) != 0) {
      breakpoint_break((uint64_t)v53, (volatile int *)&stru_338.sectname[1], 1LL, *(unsigned int *)(v13 + 3404), v13);
    }
    uint64_t v25 = (uint64_t)[(id)DYGetGLGuestAppClient(v23) overrideFlags];
    if (!(v25 & 0x10 | v24 & 4))
    {
      uint64_t v26 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 32) + 0x2000LL))( a1,  a2,  35449LL,  a4);
      uint64_t v25 = mach_absolute_time();
      uint64_t v27 = v25 - v26;
      unint64_t v28 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        char v29 = v53[0];
        *((void *)v53[0] + 2) = v26;
        v29[3] = v27;
        if (!gCheckGLErrors) {
          goto LABEL_29;
        }
      }

      else
      {
        uint64_t v50 = __udivti3(g_DYTimebaseInfo * v27, (g_DYTimebaseInfo * (unsigned __int128)v27) >> 64);
        __uint64_t v51 = v53[0];
        *((void *)v53[0] + 3) = v50;
        uint64_t v25 = __udivti3(v28 * v26, (v28 * (unsigned __int128)v26) >> 64);
        v51[2] = v25;
        if (!gCheckGLErrors) {
          goto LABEL_29;
        }
      }

      uint64_t v25 = check_errors(v13);
    }

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  unsigned int v22;
  uint64_t v23;
  id v24;
  unsigned int v25;
  dispatch_queue_s *v26;
  uint64_t v27;
  uint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    uint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  id v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    char v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    char v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        uint64_t v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      uint64_t v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 24) + 0x2000LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    uint64_t v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        id v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 32) + 0x2000LL))( a1,  a2,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    uint64_t v19 = __ldaxr(v14);
    uint64_t v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    uint64_t v21 = v20 < 1;
  }
  else {
    uint64_t v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  uint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    uint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  id v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        unint64_t v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      char v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 24) + 0x2000LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    uint64_t v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        uint64_t v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 32) + 0x2000LL))( a1,  a2,  a3,  a4);
  uint64_t v20 = mach_absolute_time();
  uint64_t v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      id v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    id v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    char v24 = v23 < 1;
  }
  else {
    char v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void sub_9FA14( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void get_framebuffer_parameteri_APPLE(__GLIContextRec *a1, uint64_t a2, uint64_t a3, int *a4)
{
  uint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    uint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  id v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v46 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v45 = handle_opengl_thread_conflict((const void **)v13);
    id v46 = [(id)DYGetGLGuestAppClient(v45) waitOnGraphicsSemaphoreAssertions];
    if ((int)v46 >= 1)
    {
      do
LABEL_57:
        unsigned int v47 = __ldaxr(v14);
      while (__stlxr(v47 - 1, v14));
      uint64_t v48 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v46) graphicsLockWaitQueue];
      dispatch_sync_f(v48, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 24) + 8200LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  uint64_t v55 = 0LL;
  uint64_t v56 = 0LL;
  unsigned int v57 = 0;
  if ([(id)DYGetGLGuestAppClient(v46) state] != (char *)&dword_0 + 1
    || (id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v18))
  {
    uint64_t v20 = (char *)v55;
    uint64_t v19 = v56;
    int64_t v21 = v56 - (_BYTE *)v55;
    unsigned int v22 = v57;
    unint64_t v23 = v57 - (v56 - (_BYTE *)v55);
    if (v23 > 0x43) {
      goto LABEL_24;
    }
    int v49 = (323 - v23) & 0xFFFFFF00;
    v57 += v49;
    uint64_t v20 = (char *)malloc(v49 + v22);
    uint64_t v55 = v20;
    if (v20)
    {
      if ((v20 & 3) == 0)
      {
        uint64_t v19 = &v20[v21];
LABEL_24:
        *((_DWORD *)v19 + 16) = 0;
        *((_OWORD *)v19 + 2) = 0u;
        *((_OWORD *)v19 + 3) = 0u;
        *(_OWORD *)uint64_t v19 = 0u;
        *((_OWORD *)v19 + 1) = 0u;
        uint64_t v56 = v19 + 68;
        GPUTools::FB::Fbuf::align((char **)&v55);
        *((_DWORD *)v20 + 1) = 891;
        *((_DWORD *)v20 + 8) = 256;
        __uint64_t v54 = 0LL;
        uint64_t v24 = pthread_threadid_np(0LL, &v54);
        *((void *)v20 + 1) = v54;
        strcpy(v20 + 36, "Ceep");
        *(void *)(v20 + 44) = *(void *)v13;
        *((_DWORD *)v20 + 13) = a2;
        *((_DWORD *)v20 + 14) = a3;
        *(void *)(v20 + 60) = a4;
        char v25 = byte_2071D3;
        if ((byte_2071D3 & 1) != 0) {
          breakpoint_break( (uint64_t)&v55,  (volatile int *)((char *)&stru_338.flags + 3),  1LL,  *(unsigned int *)(v13 + 3404),  v13);
        }
        uint64_t v26 = (uint64_t)[(id)DYGetGLGuestAppClient(v24) overrideFlags];
        if (!(v26 & 0x10 | v25 & 4))
        {
          uint64_t v27 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 32) + 8200LL))( a1,  a2,  a3,  a4);
          uint64_t v26 = mach_absolute_time();
          uint64_t v28 = v26 - v27;
          unint64_t v29 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            id v30 = v55;
            *((void *)v55 + 2) = v27;
            v30[3] = v28;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v52 = __udivti3(g_DYTimebaseInfo * v28, (g_DYTimebaseInfo * (unsigned __int128)v28) >> 64);
            int v53 = v55;
            *((void *)v55 + 3) = v52;
            uint64_t v26 = __udivti3(v29 * v27, (v29 * (unsigned __int128)v27) >> 64);
            v53[2] = v26;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v26 = check_errors(v13);
        }

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  char *v19;
  char *v20;
  int64_t v21;
  unsigned int v22;
  unint64_t v23;
  uint64_t v24;
  char v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  unint64_t v29;
  void *v30;
  id v31;
  GPUTools::FB::Fbuf *v32;
  unsigned int v33;
  GPUTools::FB::Fbuf *v34;
  dispatch_queue_s *v35;
  uint64_t v36;
  GPUTools::FB::Stream *v37;
  unsigned int *v38;
  unsigned int v39;
  unsigned int v40;
  unsigned int v41;
  signed int v42;
  BOOL v43;
  unsigned int v44;
  uint64_t v45;
  id v46;
  unsigned int v47;
  dispatch_queue_s *v48;
  int v49;
  uint64_t v50;
  uint64_t v51;
  uint64_t v52;
  void *v53;
  __uint64_t v54;
  void *v55;
  char *v56;
  unsigned int v57;
  uint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    uint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  id v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v46 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v45 = handle_opengl_thread_conflict((const void **)v13);
    id v46 = [(id)DYGetGLGuestAppClient(v45) waitOnGraphicsSemaphoreAssertions];
    if ((int)v46 >= 1)
    {
      do
LABEL_57:
        unsigned int v47 = __ldaxr(v14);
      while (__stlxr(v47 - 1, v14));
      uint64_t v48 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v46) graphicsLockWaitQueue];
      dispatch_sync_f(v48, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 24) + 8200LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  uint64_t v55 = 0LL;
  uint64_t v56 = 0LL;
  unsigned int v57 = 0;
  if ([(id)DYGetGLGuestAppClient(v46) state] != (char *)&dword_0 + 1
    || (id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v18))
  {
    uint64_t v20 = (char *)v55;
    uint64_t v19 = v56;
    int64_t v21 = v56 - (_BYTE *)v55;
    unsigned int v22 = v57;
    unint64_t v23 = v57 - (v56 - (_BYTE *)v55);
    if (v23 > 0x43) {
      goto LABEL_24;
    }
    int v49 = (323 - v23) & 0xFFFFFF00;
    v57 += v49;
    uint64_t v20 = (char *)malloc(v49 + v22);
    uint64_t v55 = v20;
    if (v20)
    {
      if ((v20 & 3) == 0)
      {
        uint64_t v19 = &v20[v21];
LABEL_24:
        *((_DWORD *)v19 + 16) = 0;
        *((_OWORD *)v19 + 2) = 0u;
        *((_OWORD *)v19 + 3) = 0u;
        *(_OWORD *)uint64_t v19 = 0u;
        *((_OWORD *)v19 + 1) = 0u;
        uint64_t v56 = v19 + 68;
        GPUTools::FB::Fbuf::align((char **)&v55);
        *((_DWORD *)v20 + 1) = 891;
        *((_DWORD *)v20 + 8) = 256;
        __uint64_t v54 = 0LL;
        uint64_t v24 = pthread_threadid_np(0LL, &v54);
        *((void *)v20 + 1) = v54;
        strcpy(v20 + 36, "Ceep");
        *(void *)(v20 + 44) = *(void *)v13;
        *((_DWORD *)v20 + 13) = a2;
        *((_DWORD *)v20 + 14) = a3;
        *(void *)(v20 + 60) = a4;
        char v25 = byte_2071D3;
        if ((byte_2071D3 & 1) != 0) {
          breakpoint_break( (uint64_t)&v55,  (volatile int *)((char *)&stru_338.flags + 3),  1LL,  *(unsigned int *)(v13 + 3404),  v13);
        }
        uint64_t v26 = (uint64_t)[(id)DYGetGLGuestAppClient(v24) overrideFlags];
        if (!(v26 & 0x10 | v25 & 4))
        {
          uint64_t v27 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 32) + 8200LL))( a1,  a2,  a3,  a4);
          uint64_t v26 = mach_absolute_time();
          uint64_t v28 = v26 - v27;
          unint64_t v29 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            id v30 = v55;
            *((void *)v55 + 2) = v27;
            v30[3] = v28;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v52 = __udivti3(g_DYTimebaseInfo * v28, (g_DYTimebaseInfo * (unsigned __int128)v28) >> 64);
            int v53 = v55;
            *((void *)v55 + 3) = v52;
            uint64_t v26 = __udivti3(v29 * v27, (v29 * (unsigned __int128)v27) >> 64);
            v53[2] = v26;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v26 = check_errors(v13);
        }

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  unsigned int v22;
  uint64_t v23;
  id v24;
  unsigned int v25;
  dispatch_queue_s *v26;
  uint64_t v27;
  uint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    uint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  id v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        char v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      uint64_t v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 24) + 8200LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 32) + 8200LL))(a1, a2, a3, a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    uint64_t v19 = __ldaxr(v14);
    uint64_t v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    int64_t v21 = v20 < 1;
  }
  else {
    int64_t v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  uint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    uint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  id v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        uint64_t v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      unint64_t v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 24) + 8200LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        char v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 32) + 8200LL))(a1, a2, a3, a4);
  uint64_t v20 = mach_absolute_time();
  int64_t v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      id v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    unint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    uint64_t v24 = v23 < 1;
  }
  else {
    uint64_t v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void sub_9FF18( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void resolve_multisample_framebuffer_APPLE(__GLIContextRec *a1)
{
  v2 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v2) {
    goto LABEL_12;
  }
  uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v4 = v2[4];
    BOOL v5 = v4 >= (unint64_t)a1;
    else {
      unint64_t v6 = v2 + 1;
    }
    if (v5) {
      uint64_t v3 = (uint64_t)v2;
    }
    v2 = (void *)*v6;
  }

  while (*v6);
  if (v3 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v3 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v7 = *(void *)(v3 + 40);
  uint64_t v8 = (unsigned int *)(v7 + 4640);
  do
  {
    unsigned int v9 = __ldaxr(v8);
    signed int v10 = v9 + 1;
  }

  while (__stlxr(v10, v8));
  if (gCheckGLErrors) {
    BOOL v11 = v10 <= 1;
  }
  else {
    BOOL v11 = 1;
  }
  if (v11)
  {
    id v40 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v39 = handle_opengl_thread_conflict((const void **)v7);
    id v40 = [(id)DYGetGLGuestAppClient(v39) waitOnGraphicsSemaphoreAssertions];
    if ((int)v40 >= 1)
    {
      do
LABEL_58:
        unsigned int v41 = __ldaxr(v8);
      while (__stlxr(v41 - 1, v8));
      signed int v42 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v40) graphicsLockWaitQueue];
      dispatch_sync_f(v42, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 24) + 8208LL))(a1);
      return;
    }
  }

  *(_WORD *)(v7 + 4838) = 257;
  __uint64_t v58 = 0LL;
  unsigned int v59 = 0LL;
  unsigned int v60 = 0;
  if ([(id)DYGetGLGuestAppClient(v40) state] != (char *)&dword_0 + 1
    || (id v12 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v12))
  {
    uint64_t v14 = (uint64_t)v58;
    uint64_t v13 = v59;
    int64_t v15 = (char *)v59 - (_BYTE *)v58;
    unsigned int v16 = v60;
    unint64_t v17 = v60 - ((char *)v59 - (_BYTE *)v58);
    if (v17 > 0x2F) {
      goto LABEL_24;
    }
    int v43 = (303 - v17) & 0xFFFFFF00;
    v60 += v43;
    uint64_t v14 = (uint64_t)malloc(v43 + v16);
    __uint64_t v58 = (void *)v14;
    if (v14)
    {
      if ((v14 & 3) == 0)
      {
        uint64_t v13 = (_OWORD *)(v15 + v14);
LABEL_24:
        v13[1] = 0u;
        v13[2] = 0u;
        *uint64_t v13 = 0u;
        unsigned int v59 = v13 + 3;
        GPUTools::FB::Fbuf::align((char **)&v58);
        *(_DWORD *)(v14 + 4) = 837;
        *(_DWORD *)(v14 + 32) = 0;
        __uint64_t v57 = 0LL;
        uint64_t v18 = pthread_threadid_np(0LL, &v57);
        *(void *)(v14 + 8) = v57;
        *(_WORD *)(v14 + 36) = 67;
        *(void *)(v14 + 40) = *(void *)v7;
        LOBYTE(v15) = byte_20719D;
        if ((byte_20719D & 1) != 0) {
          breakpoint_break((uint64_t)&v58, (volatile int *)&stru_338.sectname[13], 1LL, *(unsigned int *)(v7 + 3404), v7);
        }
        uint64_t v19 = (uint64_t)[(id)DYGetGLGuestAppClient(v18) overrideFlags];
        if (v19 & 0x10 | v15 & 4) {
          goto LABEL_30;
        }
        id v20 = [(id)DYGetGLGuestAppClient(v19) overrideFlags];
        if (!(_DWORD)v20)
        {
          uint64_t v21 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 32) + 8208LL))(a1);
          uint64_t v19 = mach_absolute_time();
          uint64_t v22 = v19 - v21;
          unint64_t v23 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v24 = v58;
            *((void *)v58 + 2) = v21;
            v24[3] = v22;
            if (!gCheckGLErrors) {
              goto LABEL_30;
            }
          }

          else
          {
            uint64_t v52 = __udivti3(g_DYTimebaseInfo * v22, (g_DYTimebaseInfo * (unsigned __int128)v22) >> 64);
            int v53 = v58;
            *((void *)v58 + 3) = v52;
            uint64_t v19 = __udivti3(v23 * v21, (v23 * (unsigned __int128)v21) >> 64);
            v53[2] = v19;
            if (!gCheckGLErrors) {
              goto LABEL_30;
            }
          }

          uint64_t v19 = check_errors(v7);
LABEL_30:
          id v25 = objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v19), "activeCaptureDescriptor"),  "includeBacktraceInFbufs");
          if ((_DWORD)v25) {
            id v25 = (id)GPUTools::FB::EncodeCurrentBacktrace((GPUTools::FB *)&v58, v26);
          }
          uint64_t v28 = (GPUTools::FB::Fbuf *)*(unsigned int *)(v7 + 3404);
          if ((_DWORD)v28) {
            id v25 = (id)GPUTools::FB::EncodeGLError((GPUTools::FB *)&v58, v28, v27);
          }
          if (objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v25), "activeCaptureDescriptor"),  "queryDriverEventsOnGraphicsCommands")) {
            encode_driver_events((id *)v7, (uint64_t)&v58);
          }
          unint64_t v29 = GPUTools::FB::EncodeThreadQueueInfo( (void *)(v7 + 3480),  (GPUTools::FB::Fbuf *)(v7 + 3520),  (GPUTools::FB *)&v58);
          uint64_t v30 = *(unsigned int *)(v7 + 3404);
          if ((_DWORD)v30 && gBreakOnError)
          {
            uint64_t v44 = 3LL;
            uint64_t v45 = 0xFFFFFFFFLL;
          }

          else
          {
            if ((v15 & 2) == 0) {
              goto LABEL_39;
            }
            uint64_t v44 = 2LL;
            uint64_t v45 = 837LL;
          }

          breakpoint_break((uint64_t)&v58, (volatile int *)v45, v44, v30, v7);
LABEL_39:
          id v31 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v29) defaultFbufStream];
          unsigned int v32 = (unsigned int *)((char *)v31 + 56);
          do
            unsigned int v33 = __ldaxr(v32);
          while (__stlxr(1u, v32));
          if (v33 == 1)
          {
            do
            {
              while (*v32 == 1)
                ;
              do
                unsigned int v34 = __ldaxr(v32);
              while (__stlxr(1u, v32));
            }

            while (v34 == 1);
          }

          GPUTools::FB::Stream::Write_nolock(v31, (GPUTools::FB::Fbuf *)&v58, *(unsigned int *)v58, 1);
          atomic_store(0, v32);
          do
          {
            unsigned int v35 = __ldaxr(v8);
            signed int v36 = v35 - 1;
          }

          while (__stlxr(v36, v8));
          if (gCheckGLErrors) {
            BOOL v37 = v36 < 1;
          }
          else {
            BOOL v37 = 1;
          }
          if (!v37) {
            handle_opengl_thread_conflict((const void **)v7);
          }
          goto LABEL_52;
        }

        uint64_t v19 = (uint64_t)[(id)DYGetGLGuestAppClient(v20) overrideFlags];
        if ((v19 & 8) != 0) {
          goto LABEL_30;
        }
        id v46 = (volatile int *)[(id)DYGetGLGuestAppClient(v19) overrideFlags];
        apply_draw_overrides(v7, v46);
        uint64_t v14 = mach_absolute_time();
        (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 32) + 8208LL))(a1);
        uint64_t v47 = mach_absolute_time();
        uint64_t v48 = v47 - v14;
        unint64_t v49 = g_DYTimebaseInfo;
        if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
        {
          uint64_t v50 = v58;
          *((void *)v58 + 2) = v14;
          v50[3] = v48;
          if (!gCheckGLErrors)
          {
LABEL_67:
            int v51 = [(id)DYGetGLGuestAppClient(v47) overrideFlags];
            unapply_draw_overrides(v7, v51);
            goto LABEL_30;
          }

{
  void *v2;
  uint64_t v3;
  unint64_t v4;
  BOOL v5;
  void *v6;
  uint64_t v7;
  unsigned int *v8;
  unsigned int v9;
  signed int v10;
  BOOL v11;
  id v12;
  _OWORD *v13;
  uint64_t v14;
  int64_t v15;
  unsigned int v16;
  unint64_t v17;
  uint64_t v18;
  uint64_t v19;
  id v20;
  uint64_t v21;
  uint64_t v22;
  unint64_t v23;
  void *v24;
  id v25;
  GPUTools::FB::Fbuf *v26;
  unsigned int v27;
  GPUTools::FB::Fbuf *v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  GPUTools::FB::Stream *v31;
  unsigned int *v32;
  unsigned int v33;
  unsigned int v34;
  unsigned int v35;
  signed int v36;
  BOOL v37;
  unsigned int v38;
  uint64_t v39;
  id v40;
  unsigned int v41;
  dispatch_queue_s *v42;
  int v43;
  uint64_t v44;
  uint64_t v45;
  volatile int *v46;
  uint64_t v47;
  uint64_t v48;
  unint64_t v49;
  void *v50;
  int v51;
  uint64_t v52;
  void *v53;
  unint64_t v54;
  uint64_t v55;
  void *v56;
  __uint64_t v57;
  void *v58;
  _OWORD *v59;
  unsigned int v60;
  v2 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v2) {
    goto LABEL_12;
  }
  uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v4 = v2[4];
    BOOL v5 = v4 >= (unint64_t)a1;
    else {
      unint64_t v6 = v2 + 1;
    }
    if (v5) {
      uint64_t v3 = (uint64_t)v2;
    }
    v2 = (void *)*v6;
  }

  while (*v6);
  if (v3 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v3 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v7 = *(void *)(v3 + 40);
  uint64_t v8 = (unsigned int *)(v7 + 4640);
  do
  {
    unsigned int v9 = __ldaxr(v8);
    signed int v10 = v9 + 1;
  }

  while (__stlxr(v10, v8));
  if (gCheckGLErrors) {
    BOOL v11 = v10 <= 1;
  }
  else {
    BOOL v11 = 1;
  }
  if (v11)
  {
    id v40 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v39 = handle_opengl_thread_conflict((const void **)v7);
    id v40 = [(id)DYGetGLGuestAppClient(v39) waitOnGraphicsSemaphoreAssertions];
    if ((int)v40 >= 1)
    {
      do
LABEL_58:
        unsigned int v41 = __ldaxr(v8);
      while (__stlxr(v41 - 1, v8));
      signed int v42 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v40) graphicsLockWaitQueue];
      dispatch_sync_f(v42, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 24) + 8208LL))(a1);
      return;
    }
  }

  *(_WORD *)(v7 + 4838) = 257;
  __uint64_t v58 = 0LL;
  unsigned int v59 = 0LL;
  unsigned int v60 = 0;
  if ([(id)DYGetGLGuestAppClient(v40) state] != (char *)&dword_0 + 1
    || (id v12 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v12))
  {
    uint64_t v14 = (uint64_t)v58;
    uint64_t v13 = v59;
    int64_t v15 = (char *)v59 - (_BYTE *)v58;
    unsigned int v16 = v60;
    unint64_t v17 = v60 - ((char *)v59 - (_BYTE *)v58);
    if (v17 > 0x2F) {
      goto LABEL_24;
    }
    int v43 = (303 - v17) & 0xFFFFFF00;
    v60 += v43;
    uint64_t v14 = (uint64_t)malloc(v43 + v16);
    __uint64_t v58 = (void *)v14;
    if (v14)
    {
      if ((v14 & 3) == 0)
      {
        uint64_t v13 = (_OWORD *)(v15 + v14);
LABEL_24:
        v13[1] = 0u;
        v13[2] = 0u;
        *uint64_t v13 = 0u;
        unsigned int v59 = v13 + 3;
        GPUTools::FB::Fbuf::align((char **)&v58);
        *(_DWORD *)(v14 + 4) = 837;
        *(_DWORD *)(v14 + 32) = 0;
        __uint64_t v57 = 0LL;
        uint64_t v18 = pthread_threadid_np(0LL, &v57);
        *(void *)(v14 + 8) = v57;
        *(_WORD *)(v14 + 36) = 67;
        *(void *)(v14 + 40) = *(void *)v7;
        LOBYTE(v15) = byte_20719D;
        if ((byte_20719D & 1) != 0) {
          breakpoint_break((uint64_t)&v58, (volatile int *)&stru_338.sectname[13], 1LL, *(unsigned int *)(v7 + 3404), v7);
        }
        uint64_t v19 = (uint64_t)[(id)DYGetGLGuestAppClient(v18) overrideFlags];
        if (v19 & 0x10 | v15 & 4) {
          goto LABEL_30;
        }
        id v20 = [(id)DYGetGLGuestAppClient(v19) overrideFlags];
        if (!(_DWORD)v20)
        {
          uint64_t v21 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 32) + 8208LL))(a1);
          uint64_t v19 = mach_absolute_time();
          uint64_t v22 = v19 - v21;
          unint64_t v23 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v24 = v58;
            *((void *)v58 + 2) = v21;
            v24[3] = v22;
            if (!gCheckGLErrors) {
              goto LABEL_30;
            }
          }

          else
          {
            uint64_t v52 = __udivti3(g_DYTimebaseInfo * v22, (g_DYTimebaseInfo * (unsigned __int128)v22) >> 64);
            int v53 = v58;
            *((void *)v58 + 3) = v52;
            uint64_t v19 = __udivti3(v23 * v21, (v23 * (unsigned __int128)v21) >> 64);
            v53[2] = v19;
            if (!gCheckGLErrors) {
              goto LABEL_30;
            }
          }

          uint64_t v19 = check_errors(v7);
LABEL_30:
          id v25 = objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v19), "activeCaptureDescriptor"),  "includeBacktraceInFbufs");
          if ((_DWORD)v25) {
            id v25 = (id)GPUTools::FB::EncodeCurrentBacktrace((GPUTools::FB *)&v58, v26);
          }
          uint64_t v28 = (GPUTools::FB::Fbuf *)*(unsigned int *)(v7 + 3404);
          if ((_DWORD)v28) {
            id v25 = (id)GPUTools::FB::EncodeGLError((GPUTools::FB *)&v58, v28, v27);
          }
          if (objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v25), "activeCaptureDescriptor"),  "queryDriverEventsOnGraphicsCommands")) {
            encode_driver_events((id *)v7, (uint64_t)&v58);
          }
          unint64_t v29 = GPUTools::FB::EncodeThreadQueueInfo( (void *)(v7 + 3480),  (GPUTools::FB::Fbuf *)(v7 + 3520),  (GPUTools::FB *)&v58);
          uint64_t v30 = *(unsigned int *)(v7 + 3404);
          if ((_DWORD)v30 && gBreakOnError)
          {
            uint64_t v44 = 3LL;
            uint64_t v45 = 0xFFFFFFFFLL;
          }

          else
          {
            if ((v15 & 2) == 0) {
              goto LABEL_39;
            }
            uint64_t v44 = 2LL;
            uint64_t v45 = 837LL;
          }

          breakpoint_break((uint64_t)&v58, (volatile int *)v45, v44, v30, v7);
LABEL_39:
          id v31 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v29) defaultFbufStream];
          unsigned int v32 = (unsigned int *)((char *)v31 + 56);
          do
            unsigned int v33 = __ldaxr(v32);
          while (__stlxr(1u, v32));
          if (v33 == 1)
          {
            do
            {
              while (*v32 == 1)
                ;
              do
                unsigned int v34 = __ldaxr(v32);
              while (__stlxr(1u, v32));
            }

            while (v34 == 1);
          }

          GPUTools::FB::Stream::Write_nolock(v31, (GPUTools::FB::Fbuf *)&v58, *(unsigned int *)v58, 1);
          atomic_store(0, v32);
          do
          {
            unsigned int v35 = __ldaxr(v8);
            signed int v36 = v35 - 1;
          }

          while (__stlxr(v36, v8));
          if (gCheckGLErrors) {
            BOOL v37 = v36 < 1;
          }
          else {
            BOOL v37 = 1;
          }
          if (!v37) {
            handle_opengl_thread_conflict((const void **)v7);
          }
          goto LABEL_52;
        }

        uint64_t v19 = (uint64_t)[(id)DYGetGLGuestAppClient(v20) overrideFlags];
        if ((v19 & 8) != 0) {
          goto LABEL_30;
        }
        id v46 = (volatile int *)[(id)DYGetGLGuestAppClient(v19) overrideFlags];
        apply_draw_overrides(v7, v46);
        uint64_t v14 = mach_absolute_time();
        (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 32) + 8208LL))(a1);
        uint64_t v47 = mach_absolute_time();
        uint64_t v48 = v47 - v14;
        unint64_t v49 = g_DYTimebaseInfo;
        if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
        {
          uint64_t v50 = v58;
          *((void *)v58 + 2) = v14;
          v50[3] = v48;
          if (!gCheckGLErrors)
          {
LABEL_67:
            int v51 = [(id)DYGetGLGuestAppClient(v47) overrideFlags];
            unapply_draw_overrides(v7, v51);
            goto LABEL_30;
          }

{
  void *v2;
  uint64_t v3;
  unint64_t v4;
  BOOL v5;
  void *v6;
  uint64_t v7;
  unsigned int *v8;
  unsigned int v9;
  signed int v10;
  BOOL v11;
  char *v12;
  id v13;
  unsigned int v14;
  signed int v15;
  BOOL v16;
  unsigned int v17;
  uint64_t v18;
  id v19;
  unsigned int v20;
  dispatch_queue_s *v21;
  id v22;
  volatile int *v23;
  uint64_t v24;
  int v25;
  uint64_t v26;
  uint64_t v27;
  v2 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v2) {
    goto LABEL_12;
  }
  uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v4 = v2[4];
    BOOL v5 = v4 >= (unint64_t)a1;
    else {
      unint64_t v6 = v2 + 1;
    }
    if (v5) {
      uint64_t v3 = (uint64_t)v2;
    }
    v2 = (void *)*v6;
  }

  while (*v6);
  if (v3 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v3 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v7 = *(void *)(v3 + 40);
  uint64_t v8 = (unsigned int *)(v7 + 4640);
  do
  {
    unsigned int v9 = __ldaxr(v8);
    signed int v10 = v9 + 1;
  }

  while (__stlxr(v10, v8));
  if (gCheckGLErrors) {
    BOOL v11 = v10 <= 1;
  }
  else {
    BOOL v11 = 1;
  }
  if (v11)
  {
    uint64_t v19 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v18 = handle_opengl_thread_conflict((const void **)v7);
    uint64_t v19 = [(id)DYGetGLGuestAppClient(v18) waitOnGraphicsSemaphoreAssertions];
    if ((int)v19 >= 1)
    {
      do
LABEL_35:
        id v20 = __ldaxr(v8);
      while (__stlxr(v20 - 1, v8));
      uint64_t v21 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v19) graphicsLockWaitQueue];
      dispatch_sync_f(v21, 0LL, (dispatch_function_t)do_nothing);
LABEL_37:
      (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 24) + 8208LL))(a1);
      return;
    }
  }

  *(_WORD *)(v7 + 4838) = 257;
  id v12 = (char *)[(id)DYGetGLGuestAppClient(v19) state];
  if (v12 == (_BYTE *)&dword_0 + 1)
  {
    id v12 = (char *)[(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v12)
    {
      do
        unint64_t v17 = __ldaxr(v8);
      while (__stlxr(v17 - 1, v8));
      [(id)DYGetGLGuestAppClient(v12) triggerArmedCapture];
      goto LABEL_37;
    }
  }

  uint64_t v13 = [(id)DYGetGLGuestAppClient(v12) overrideFlags];
  if ((_DWORD)v13)
  {
    uint64_t v22 = [(id)DYGetGLGuestAppClient(v13) overrideFlags];
    if ((v22 & 8) == 0)
    {
      unint64_t v23 = (volatile int *)[(id)DYGetGLGuestAppClient(v22) overrideFlags];
      apply_draw_overrides(v7, v23);
      uint64_t v24 = (*(uint64_t (**)(__GLIContextRec *))(*(void *)(v7 + 32) + 8208LL))(a1);
      ++*(void *)(v7 + 3704);
      if (gCheckGLErrors)
      {
        uint64_t v24 = check_errors(v7);
        if (gBreakOnError)
        {
          unsigned int v27 = *(unsigned int *)(v7 + 3404);
          if ((_DWORD)v27) {
            breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v7);
          }
        }
      }

      id v25 = [(id)DYGetGLGuestAppClient(v24) overrideFlags];
      unapply_draw_overrides(v7, v25);
    }
  }

  else
  {
    (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 32) + 8208LL))(a1);
    ++*(void *)(v7 + 3704);
    if (gCheckGLErrors)
    {
      check_errors(v7);
      if (gBreakOnError)
      {
        uint64_t v26 = *(unsigned int *)(v7 + 3404);
        if ((_DWORD)v26) {
          breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v26, v7);
        }
      }
    }
  }

  do
  {
    uint64_t v14 = __ldaxr(v8);
    int64_t v15 = v14 - 1;
  }

  while (__stlxr(v15, v8));
  if (gCheckGLErrors) {
    unsigned int v16 = v15 < 1;
  }
  else {
    unsigned int v16 = 1;
  }
  if (!v16) {
    handle_opengl_thread_conflict((const void **)v7);
  }
}

{
  void *v2;
  uint64_t v3;
  unint64_t v4;
  BOOL v5;
  void *v6;
  uint64_t v7;
  unsigned int *v8;
  unsigned int v9;
  signed int v10;
  BOOL v11;
  char *v12;
  id v13;
  uint64_t v14;
  uint64_t v15;
  int64x2_t v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  unsigned int v20;
  uint64_t v21;
  id v22;
  unsigned int v23;
  dispatch_queue_s *v24;
  id v25;
  volatile int *v26;
  uint64_t v27;
  uint64_t v28;
  int64x2_t v29;
  int v30;
  uint64_t v31;
  uint64_t v32;
  v2 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v2) {
    goto LABEL_12;
  }
  uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v4 = v2[4];
    BOOL v5 = v4 >= (unint64_t)a1;
    else {
      unint64_t v6 = v2 + 1;
    }
    if (v5) {
      uint64_t v3 = (uint64_t)v2;
    }
    v2 = (void *)*v6;
  }

  while (*v6);
  if (v3 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v3 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v3 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v7 = *(void *)(v3 + 40);
  uint64_t v8 = (unsigned int *)(v7 + 4640);
  do
  {
    unsigned int v9 = __ldaxr(v8);
    signed int v10 = v9 + 1;
  }

  while (__stlxr(v10, v8));
  if (gCheckGLErrors) {
    BOOL v11 = v10 <= 1;
  }
  else {
    BOOL v11 = 1;
  }
  if (v11)
  {
    uint64_t v22 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v21 = handle_opengl_thread_conflict((const void **)v7);
    uint64_t v22 = [(id)DYGetGLGuestAppClient(v21) waitOnGraphicsSemaphoreAssertions];
    if ((int)v22 >= 1)
    {
      do
LABEL_35:
        unint64_t v23 = __ldaxr(v8);
      while (__stlxr(v23 - 1, v8));
      uint64_t v24 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v22) graphicsLockWaitQueue];
      dispatch_sync_f(v24, 0LL, (dispatch_function_t)do_nothing);
LABEL_37:
      (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 24) + 8208LL))(a1);
      return;
    }
  }

  *(_WORD *)(v7 + 4838) = 257;
  id v12 = (char *)[(id)DYGetGLGuestAppClient(v22) state];
  if (v12 == (_BYTE *)&dword_0 + 1)
  {
    id v12 = (char *)[(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v12)
    {
      do
        id v20 = __ldaxr(v8);
      while (__stlxr(v20 - 1, v8));
      [(id)DYGetGLGuestAppClient(v12) triggerArmedCapture];
      goto LABEL_37;
    }
  }

  uint64_t v13 = [(id)DYGetGLGuestAppClient(v12) overrideFlags];
  if ((_DWORD)v13)
  {
    id v25 = [(id)DYGetGLGuestAppClient(v13) overrideFlags];
    if ((v25 & 8) == 0)
    {
      uint64_t v26 = (volatile int *)[(id)DYGetGLGuestAppClient(v25) overrideFlags];
      apply_draw_overrides(v7, v26);
      unsigned int v27 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 32) + 8208LL))(a1);
      uint64_t v28 = mach_absolute_time();
      unint64_t v29 = vdupq_n_s64(1uLL);
      v29.i64[0] = v28 - v27;
      *(int64x2_t *)(v7 + 3696) = vaddq_s64(v29, *(int64x2_t *)(v7 + 3696));
      if (gCheckGLErrors)
      {
        uint64_t v28 = check_errors(v7);
        if (gBreakOnError)
        {
          unsigned int v32 = *(unsigned int *)(v7 + 3404);
          if ((_DWORD)v32) {
            breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v32, v7);
          }
        }
      }

      uint64_t v30 = [(id)DYGetGLGuestAppClient(v28) overrideFlags];
      unapply_draw_overrides(v7, v30);
    }
  }

  else
  {
    uint64_t v14 = mach_absolute_time();
    (*(void (**)(__GLIContextRec *))(*(void *)(v7 + 32) + 8208LL))(a1);
    int64_t v15 = mach_absolute_time();
    unsigned int v16 = vdupq_n_s64(1uLL);
    v16.i64[0] = v15 - v14;
    *(int64x2_t *)(v7 + 3696) = vaddq_s64(v16, *(int64x2_t *)(v7 + 3696));
    if (gCheckGLErrors)
    {
      check_errors(v7);
      if (gBreakOnError)
      {
        id v31 = *(unsigned int *)(v7 + 3404);
        if ((_DWORD)v31) {
          breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v31, v7);
        }
      }
    }
  }

  do
  {
    unint64_t v17 = __ldaxr(v8);
    uint64_t v18 = v17 - 1;
  }

  while (__stlxr(v18, v8));
  if (gCheckGLErrors) {
    uint64_t v19 = v18 < 1;
  }
  else {
    uint64_t v19 = 1;
  }
  if (!v19) {
    handle_opengl_thread_conflict((const void **)v7);
  }
}

void sub_A04B0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void copy_texture_levels(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  signed int v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      uint64_t v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    signed int v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  unsigned int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    id v48 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v47 = handle_opengl_thread_conflict((const void **)v15);
    id v48 = [(id)DYGetGLGuestAppClient(v47) waitOnGraphicsSemaphoreAssertions];
    if ((int)v48 >= 1)
    {
      do
LABEL_57:
        unsigned int v49 = __ldaxr(v16);
      while (__stlxr(v49 - 1, v16));
      uint64_t v50 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v48) graphicsLockWaitQueue];
      dispatch_sync_f(v50, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 24) + 8216LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  __uint64_t v57 = 0LL;
  __uint64_t v58 = 0LL;
  unsigned int v59 = 0;
  if ([(id)DYGetGLGuestAppClient(v48) state] != (char *)&dword_0 + 1
    || (id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v20))
  {
    uint64_t v22 = (char *)v57;
    uint64_t v21 = v58;
    int64_t v23 = v58 - (_BYTE *)v57;
    unsigned int v24 = v59;
    unint64_t v25 = v59 - (v58 - (_BYTE *)v57);
    if (v25 > 0x43) {
      goto LABEL_24;
    }
    int v51 = (323 - v25) & 0xFFFFFF00;
    v59 += v51;
    uint64_t v22 = (char *)malloc(v51 + v24);
    __uint64_t v57 = v22;
    if (v22)
    {
      if ((v22 & 3) == 0)
      {
        uint64_t v21 = &v22[v23];
LABEL_24:
        *((_DWORD *)v21 + 16) = 0;
        *((_OWORD *)v21 + 2) = 0u;
        *((_OWORD *)v21 + 3) = 0u;
        *(_OWORD *)uint64_t v21 = 0u;
        *((_OWORD *)v21 + 1) = 0u;
        __uint64_t v58 = v21 + 68;
        GPUTools::FB::Fbuf::align((char **)&v57);
        *((_DWORD *)v22 + 1) = 1039;
        *((_DWORD *)v22 + 8) = 0;
        __uint64_t v56 = 0LL;
        uint64_t v26 = pthread_threadid_np(0LL, &v56);
        *((void *)v22 + 1) = v56;
        *(void *)(v22 + 36) = 0x69696975697543LL;
        *(void *)(v22 + 44) = *(void *)v15;
        *((_DWORD *)v22 + 13) = a2;
        *((_DWORD *)v22 + 14) = a3;
        *((_DWORD *)v22 + 15) = a4;
        *((_DWORD *)v22 + 16) = a5;
        char v27 = byte_207267;
        if ((byte_207267 & 1) != 0) {
          breakpoint_break( (uint64_t)&v57,  (volatile int *)((char *)&stru_3D8.align + 3),  1LL,  *(unsigned int *)(v15 + 3404),  v15);
        }
        uint64_t v28 = (uint64_t)[(id)DYGetGLGuestAppClient(v26) overrideFlags];
        if (!(v28 & 0x10 | v27 & 4))
        {
          uint64_t v29 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 32) + 8216LL))( a1,  a2,  a3,  a4,  a5);
          uint64_t v28 = mach_absolute_time();
          uint64_t v30 = v28 - v29;
          unint64_t v31 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unsigned int v32 = v57;
            *((void *)v57 + 2) = v29;
            v32[3] = v30;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v54 = __udivti3(g_DYTimebaseInfo * v30, (g_DYTimebaseInfo * (unsigned __int128)v30) >> 64);
            uint64_t v55 = v57;
            *((void *)v57 + 3) = v54;
            uint64_t v28 = __udivti3(v31 * v29, (v31 * (unsigned __int128)v29) >> 64);
            v55[2] = v28;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v28 = check_errors(v15);
        }

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  id v20;
  char *v21;
  char *v22;
  int64_t v23;
  unsigned int v24;
  unint64_t v25;
  uint64_t v26;
  char v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  unint64_t v31;
  void *v32;
  id v33;
  GPUTools::FB::Fbuf *v34;
  unsigned int v35;
  GPUTools::FB::Fbuf *v36;
  dispatch_queue_s *v37;
  uint64_t v38;
  GPUTools::FB::Stream *v39;
  unsigned int *v40;
  unsigned int v41;
  unsigned int v42;
  unsigned int v43;
  signed int v44;
  BOOL v45;
  unsigned int v46;
  uint64_t v47;
  id v48;
  unsigned int v49;
  dispatch_queue_s *v50;
  int v51;
  uint64_t v52;
  uint64_t v53;
  uint64_t v54;
  void *v55;
  __uint64_t v56;
  void *v57;
  char *v58;
  unsigned int v59;
  signed int v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      uint64_t v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    signed int v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  unsigned int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    id v48 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v47 = handle_opengl_thread_conflict((const void **)v15);
    id v48 = [(id)DYGetGLGuestAppClient(v47) waitOnGraphicsSemaphoreAssertions];
    if ((int)v48 >= 1)
    {
      do
LABEL_57:
        unsigned int v49 = __ldaxr(v16);
      while (__stlxr(v49 - 1, v16));
      uint64_t v50 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v48) graphicsLockWaitQueue];
      dispatch_sync_f(v50, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 24) + 8216LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  __uint64_t v57 = 0LL;
  __uint64_t v58 = 0LL;
  unsigned int v59 = 0;
  if ([(id)DYGetGLGuestAppClient(v48) state] != (char *)&dword_0 + 1
    || (id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v20))
  {
    uint64_t v22 = (char *)v57;
    uint64_t v21 = v58;
    int64_t v23 = v58 - (_BYTE *)v57;
    unsigned int v24 = v59;
    unint64_t v25 = v59 - (v58 - (_BYTE *)v57);
    if (v25 > 0x43) {
      goto LABEL_24;
    }
    int v51 = (323 - v25) & 0xFFFFFF00;
    v59 += v51;
    uint64_t v22 = (char *)malloc(v51 + v24);
    __uint64_t v57 = v22;
    if (v22)
    {
      if ((v22 & 3) == 0)
      {
        uint64_t v21 = &v22[v23];
LABEL_24:
        *((_DWORD *)v21 + 16) = 0;
        *((_OWORD *)v21 + 2) = 0u;
        *((_OWORD *)v21 + 3) = 0u;
        *(_OWORD *)uint64_t v21 = 0u;
        *((_OWORD *)v21 + 1) = 0u;
        __uint64_t v58 = v21 + 68;
        GPUTools::FB::Fbuf::align((char **)&v57);
        *((_DWORD *)v22 + 1) = 1039;
        *((_DWORD *)v22 + 8) = 0;
        __uint64_t v56 = 0LL;
        uint64_t v26 = pthread_threadid_np(0LL, &v56);
        *((void *)v22 + 1) = v56;
        *(void *)(v22 + 36) = 0x69696975697543LL;
        *(void *)(v22 + 44) = *(void *)v15;
        *((_DWORD *)v22 + 13) = a2;
        *((_DWORD *)v22 + 14) = a3;
        *((_DWORD *)v22 + 15) = a4;
        *((_DWORD *)v22 + 16) = a5;
        char v27 = byte_207267;
        if ((byte_207267 & 1) != 0) {
          breakpoint_break( (uint64_t)&v57,  (volatile int *)((char *)&stru_3D8.align + 3),  1LL,  *(unsigned int *)(v15 + 3404),  v15);
        }
        uint64_t v28 = (uint64_t)[(id)DYGetGLGuestAppClient(v26) overrideFlags];
        if (!(v28 & 0x10 | v27 & 4))
        {
          uint64_t v29 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 32) + 8216LL))( a1,  a2,  a3,  a4,  a5);
          uint64_t v28 = mach_absolute_time();
          uint64_t v30 = v28 - v29;
          unint64_t v31 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unsigned int v32 = v57;
            *((void *)v57 + 2) = v29;
            v32[3] = v30;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v54 = __udivti3(g_DYTimebaseInfo * v30, (g_DYTimebaseInfo * (unsigned __int128)v30) >> 64);
            uint64_t v55 = v57;
            *((void *)v57 + 3) = v54;
            uint64_t v28 = __udivti3(v31 * v29, (v31 * (unsigned __int128)v29) >> 64);
            v55[2] = v28;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v28 = check_errors(v15);
        }

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  id v20;
  unsigned int v21;
  signed int v22;
  BOOL v23;
  unsigned int v24;
  uint64_t v25;
  id v26;
  unsigned int v27;
  dispatch_queue_s *v28;
  uint64_t v29;
  signed int v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      uint64_t v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    signed int v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  unsigned int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    uint64_t v26 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v25 = handle_opengl_thread_conflict((const void **)v15);
    uint64_t v26 = [(id)DYGetGLGuestAppClient(v25) waitOnGraphicsSemaphoreAssertions];
    if ((int)v26 >= 1)
    {
      do
LABEL_34:
        char v27 = __ldaxr(v16);
      while (__stlxr(v27 - 1, v16));
      uint64_t v28 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v26) graphicsLockWaitQueue];
      dispatch_sync_f(v28, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 24) + 8216LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v26) state] == (char *)&dword_0 + 1)
  {
    id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        unsigned int v24 = __ldaxr(v16);
      while (__stlxr(v24 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 32) + 8216LL))( a1,  a2,  a3,  a4,  a5);
  ++*(void *)(v15 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v29 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v29) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v29, v15);
      }
    }
  }

  do
  {
    uint64_t v21 = __ldaxr(v16);
    uint64_t v22 = v21 - 1;
  }

  while (__stlxr(v22, v16));
  if (gCheckGLErrors) {
    int64_t v23 = v22 < 1;
  }
  else {
    int64_t v23 = 1;
  }
  if (!v23) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  id v20;
  uint64_t v21;
  uint64_t v22;
  int64x2_t v23;
  unsigned int v24;
  signed int v25;
  BOOL v26;
  unsigned int v27;
  uint64_t v28;
  id v29;
  unsigned int v30;
  dispatch_queue_s *v31;
  uint64_t v32;
  signed int v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      uint64_t v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    signed int v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  unsigned int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    uint64_t v29 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v28 = handle_opengl_thread_conflict((const void **)v15);
    uint64_t v29 = [(id)DYGetGLGuestAppClient(v28) waitOnGraphicsSemaphoreAssertions];
    if ((int)v29 >= 1)
    {
      do
LABEL_34:
        uint64_t v30 = __ldaxr(v16);
      while (__stlxr(v30 - 1, v16));
      unint64_t v31 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v29) graphicsLockWaitQueue];
      dispatch_sync_f(v31, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 24) + 8216LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v29) state] == (char *)&dword_0 + 1)
  {
    id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        char v27 = __ldaxr(v16);
      while (__stlxr(v27 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v21 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 32) + 8216LL))( a1,  a2,  a3,  a4,  a5);
  uint64_t v22 = mach_absolute_time();
  int64_t v23 = vdupq_n_s64(1uLL);
  v23.i64[0] = v22 - v21;
  *(int64x2_t *)(v15 + 3696) = vaddq_s64(v23, *(int64x2_t *)(v15 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      unsigned int v32 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v32) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v32, v15);
      }
    }
  }

  do
  {
    unsigned int v24 = __ldaxr(v16);
    unint64_t v25 = v24 - 1;
  }

  while (__stlxr(v25, v16));
  if (gCheckGLErrors) {
    uint64_t v26 = v25 < 1;
  }
  else {
    uint64_t v26 = 1;
  }
  if (!v26) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

void sub_A09CC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void invalidate_sub_framebuffer( __GLIContextRec *a1, uint64_t a2, uint64_t a3, const unsigned int *a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v14 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v14) {
    goto LABEL_12;
  }
  uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v16 = v14[4];
    BOOL v17 = v16 >= (unint64_t)a1;
    else {
      signed int v18 = v14 + 1;
    }
    if (v17) {
      uint64_t v15 = (uint64_t)v14;
    }
    uint64_t v14 = (void *)*v18;
  }

  while (*v18);
  if (v15 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v15 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v19 = *(void *)(v15 + 40);
  id v20 = (unsigned int *)(v19 + 4640);
  do
  {
    unsigned int v21 = __ldaxr(v20);
    signed int v22 = v21 + 1;
  }

  while (__stlxr(v22, v20));
  if (gCheckGLErrors) {
    BOOL v23 = v22 <= 1;
  }
  else {
    BOOL v23 = 1;
  }
  if (v23)
  {
    id v51 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v50 = handle_opengl_thread_conflict((const void **)v19);
    id v51 = [(id)DYGetGLGuestAppClient(v50) waitOnGraphicsSemaphoreAssertions];
    if ((int)v51 >= 1)
    {
      do
LABEL_56:
        unsigned int v52 = __ldaxr(v20);
      while (__stlxr(v52 - 1, v20));
      uint64_t v53 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v51) graphicsLockWaitQueue];
      dispatch_sync_f(v53, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const unsigned int *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v19 + 24) + 8224LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8);
      return;
    }
  }

  *(_BYTE *)(v19 + 4838) = 1;
  v60[0] = 0LL;
  v60[1] = 0LL;
  int v61 = 0;
  if ([(id)DYGetGLGuestAppClient(v51) state] != (char *)&dword_0 + 1
    || (id v24 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v24))
  {
    snprintf((char *)(v19 + 4709), 0x40uLL, "Cei@%deiiii", a3);
    GPUTools::FB::Encode((uint64_t)v60, 1044LL, 0LL, v19 + 4709, v25, v26, v27, v28, *(void *)v19);
    char v30 = byte_20726C;
    if ((byte_20726C & 1) != 0) {
      breakpoint_break((uint64_t)v60, (volatile int *)&stru_3D8.nreloc, 1LL, *(unsigned int *)(v19 + 3404), v19);
    }
    uint64_t v31 = (uint64_t)[(id)DYGetGLGuestAppClient(v29) overrideFlags];
    if (!(v31 & 0x10 | v30 & 4))
    {
      uint64_t v32 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const unsigned int *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v19 + 32) + 8224LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8);
      uint64_t v31 = mach_absolute_time();
      uint64_t v33 = v31 - v32;
      unint64_t v34 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        unsigned int v35 = v60[0];
        *((void *)v60[0] + 2) = v32;
        v35[3] = v33;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      else
      {
        uint64_t v56 = __udivti3(g_DYTimebaseInfo * v33, (g_DYTimebaseInfo * (unsigned __int128)v33) >> 64);
        __uint64_t v57 = v60[0];
        *((void *)v60[0] + 3) = v56;
        uint64_t v31 = __udivti3(v34 * v32, (v34 * (unsigned __int128)v32) >> 64);
        v57[2] = v31;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      uint64_t v31 = check_errors(v19);
    }

{
  void *v14;
  uint64_t v15;
  unint64_t v16;
  BOOL v17;
  void *v18;
  uint64_t v19;
  unsigned int *v20;
  unsigned int v21;
  signed int v22;
  BOOL v23;
  id v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  char v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  unint64_t v34;
  void *v35;
  id v36;
  GPUTools::FB::Fbuf *v37;
  unsigned int v38;
  GPUTools::FB::Fbuf *v39;
  dispatch_queue_s *v40;
  uint64_t v41;
  GPUTools::FB::Stream *v42;
  unsigned int *v43;
  unsigned int v44;
  unsigned int v45;
  unsigned int v46;
  signed int v47;
  BOOL v48;
  unsigned int v49;
  uint64_t v50;
  id v51;
  unsigned int v52;
  dispatch_queue_s *v53;
  uint64_t v54;
  uint64_t v55;
  uint64_t v56;
  void *v57;
  void *v60[2];
  int v61;
  uint64_t v14 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v14) {
    goto LABEL_12;
  }
  uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v16 = v14[4];
    BOOL v17 = v16 >= (unint64_t)a1;
    else {
      signed int v18 = v14 + 1;
    }
    if (v17) {
      uint64_t v15 = (uint64_t)v14;
    }
    uint64_t v14 = (void *)*v18;
  }

  while (*v18);
  if (v15 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v15 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v19 = *(void *)(v15 + 40);
  id v20 = (unsigned int *)(v19 + 4640);
  do
  {
    unsigned int v21 = __ldaxr(v20);
    signed int v22 = v21 + 1;
  }

  while (__stlxr(v22, v20));
  if (gCheckGLErrors) {
    BOOL v23 = v22 <= 1;
  }
  else {
    BOOL v23 = 1;
  }
  if (v23)
  {
    id v51 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v50 = handle_opengl_thread_conflict((const void **)v19);
    id v51 = [(id)DYGetGLGuestAppClient(v50) waitOnGraphicsSemaphoreAssertions];
    if ((int)v51 >= 1)
    {
      do
LABEL_56:
        unsigned int v52 = __ldaxr(v20);
      while (__stlxr(v52 - 1, v20));
      uint64_t v53 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v51) graphicsLockWaitQueue];
      dispatch_sync_f(v53, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const unsigned int *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v19 + 24) + 8224LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8);
      return;
    }
  }

  *(_BYTE *)(v19 + 4838) = 1;
  v60[0] = 0LL;
  v60[1] = 0LL;
  int v61 = 0;
  if ([(id)DYGetGLGuestAppClient(v51) state] != (char *)&dword_0 + 1
    || (id v24 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v24))
  {
    snprintf((char *)(v19 + 4709), 0x40uLL, "Cei@%deiiii", a3);
    GPUTools::FB::Encode((uint64_t)v60, 1044LL, 0LL, v19 + 4709, v25, v26, v27, v28, *(void *)v19);
    char v30 = byte_20726C;
    if ((byte_20726C & 1) != 0) {
      breakpoint_break((uint64_t)v60, (volatile int *)&stru_3D8.nreloc, 1LL, *(unsigned int *)(v19 + 3404), v19);
    }
    uint64_t v31 = (uint64_t)[(id)DYGetGLGuestAppClient(v29) overrideFlags];
    if (!(v31 & 0x10 | v30 & 4))
    {
      uint64_t v32 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const unsigned int *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v19 + 32) + 8224LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8);
      uint64_t v31 = mach_absolute_time();
      uint64_t v33 = v31 - v32;
      unint64_t v34 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        unsigned int v35 = v60[0];
        *((void *)v60[0] + 2) = v32;
        v35[3] = v33;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      else
      {
        uint64_t v56 = __udivti3(g_DYTimebaseInfo * v33, (g_DYTimebaseInfo * (unsigned __int128)v33) >> 64);
        __uint64_t v57 = v60[0];
        *((void *)v60[0] + 3) = v56;
        uint64_t v31 = __udivti3(v34 * v32, (v34 * (unsigned __int128)v32) >> 64);
        v57[2] = v31;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      uint64_t v31 = check_errors(v19);
    }

void sub_A0E70( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(exception_object);
}

void get_internal_formativ(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, int *a6)
{
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      unint64_t v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  signed int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    id v53 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v52 = handle_opengl_thread_conflict((const void **)v17);
    id v53 = [(id)DYGetGLGuestAppClient(v52) waitOnGraphicsSemaphoreAssertions];
    if ((int)v53 >= 1)
    {
      do
LABEL_60:
        unsigned int v54 = __ldaxr(v18);
      while (__stlxr(v54 - 1, v18));
      uint64_t v55 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v53) graphicsLockWaitQueue];
      dispatch_sync_f(v55, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, int *))(*(void *)(v17 + 24)
                                                                                           + 8232LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  int v61 = 0LL;
  __int128 v62 = 0LL;
  unsigned int v63 = 0;
  if ([(id)DYGetGLGuestAppClient(v53) state] != (char *)&dword_0 + 1
    || (id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v22))
  {
    snprintf((char *)(v17 + 4709), 0x40uLL, "Ceeei@%di", a5);
    GPUTools::FB::Encode((uint64_t)&v61, 1043LL, 256LL, v17 + 4709, v23, v24, v25, v26, *(void *)v17);
    char v60 = byte_20726B;
    if ((byte_20726B & 1) != 0) {
      breakpoint_break( (uint64_t)&v61,  (volatile int *)((char *)&stru_3D8.reloff + 3),  1LL,  *(unsigned int *)(v17 + 3404),  v17);
    }
    if (!([(id)DYGetGLGuestAppClient(v27) overrideFlags] & 0x10 | v60 & 4))
    {
      uint64_t v32 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, int *))(*(void *)(v17 + 32)
                                                                                           + 8232LL))( a1,  a2,  a3,  a4,  a5,  a6);
      uint64_t v33 = mach_absolute_time() - v32;
      unint64_t v34 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        unsigned int v35 = v61;
        *((void *)v61 + 3) = v33;
      }

      else
      {
        uint64_t v58 = __udivti3(g_DYTimebaseInfo * v33, (g_DYTimebaseInfo * (unsigned __int128)v33) >> 64);
        unsigned int v35 = v61;
        *((void *)v61 + 3) = v58;
        uint64_t v32 = __udivti3(v34 * v32, (v34 * (unsigned __int128)v32) >> 64);
      }

      v35[2] = v32;
      if (gCheckGLErrors) {
        check_errors(v17);
      }
    }

    id v36 = v61;
    __int128 v59 = *((_OWORD *)v61 + 1);
    __int128 v62 = v61;
    if (v63 >= 0x24)
    {
      *((_DWORD *)v61 + 8) = 0;
      *id v36 = 0u;
      v36[1] = 0u;
    }

    GPUTools::FB::Encode((uint64_t)&v61, 1043LL, 256LL, v17 + 4709, v28, v29, v30, v31, *(void *)v17);
    *((_OWORD *)v61 + 1) = v59;
    id v38 = objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v37), "activeCaptureDescriptor"),  "includeBacktraceInFbufs");
    if ((_DWORD)v38) {
      id v38 = (id)GPUTools::FB::EncodeCurrentBacktrace((GPUTools::FB *)&v61, v39);
    }
    uint64_t v41 = (GPUTools::FB::Fbuf *)*(unsigned int *)(v17 + 3404);
    if ((_DWORD)v41) {
      id v38 = (id)GPUTools::FB::EncodeGLError((GPUTools::FB *)&v61, v41, v40);
    }
    if (objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v38), "activeCaptureDescriptor"),  "queryDriverEventsOnGraphicsCommands")) {
      encode_driver_events((id *)v17, (uint64_t)&v61);
    }
    unsigned int v42 = GPUTools::FB::EncodeThreadQueueInfo( (void *)(v17 + 3480),  (GPUTools::FB::Fbuf *)(v17 + 3520),  (GPUTools::FB *)&v61);
    uint64_t v43 = *(unsigned int *)(v17 + 3404);
    if ((_DWORD)v43 && gBreakOnError)
    {
      uint64_t v56 = 3LL;
      uint64_t v57 = 0xFFFFFFFFLL;
    }

    else
    {
      if ((v60 & 2) == 0) {
        goto LABEL_41;
      }
      uint64_t v56 = 2LL;
      uint64_t v57 = 1043LL;
    }

    breakpoint_break((uint64_t)&v61, (volatile int *)v57, v56, v43, v17);
LABEL_41:
    unsigned int v44 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v42) defaultFbufStream];
    unsigned int v45 = (unsigned int *)((char *)v44 + 56);
    do
      unsigned int v46 = __ldaxr(v45);
    while (__stlxr(1u, v45));
    if (v46 == 1)
    {
      do
      {
        while (*v45 == 1)
          ;
        do
          unsigned int v47 = __ldaxr(v45);
        while (__stlxr(1u, v45));
      }

      while (v47 == 1);
    }

    GPUTools::FB::Stream::Write_nolock(v44, (GPUTools::FB::Fbuf *)&v61, *(unsigned int *)v61, 1);
    atomic_store(0, v45);
    do
    {
      unsigned int v48 = __ldaxr(v18);
      signed int v49 = v48 - 1;
    }

    while (__stlxr(v49, v18));
    if (gCheckGLErrors) {
      BOOL v50 = v49 < 1;
    }
    else {
      BOOL v50 = 1;
    }
    if (!v50) {
      handle_opengl_thread_conflict((const void **)v17);
    }
    goto LABEL_54;
  }

  do
    unsigned int v51 = __ldaxr(v18);
  while (__stlxr(v51 - 1, v18));
  [(id)DYGetGLGuestAppClient(v22) triggerArmedCapture];
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, int *))(*(void *)(v17 + 24) + 8232LL))( a1,  a2,  a3,  a4,  a5,  a6);
LABEL_54:
  if (v61) {
    free(v61);
  }
}

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  id v26;
  uint64_t v27;
  char v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  unint64_t v32;
  void *v33;
  id v34;
  GPUTools::FB::Fbuf *v35;
  unsigned int v36;
  GPUTools::FB::Fbuf *v37;
  dispatch_queue_s *v38;
  uint64_t v39;
  GPUTools::FB::Stream *v40;
  unsigned int *v41;
  unsigned int v42;
  unsigned int v43;
  unsigned int v44;
  signed int v45;
  BOOL v46;
  unsigned int v47;
  uint64_t v48;
  id v49;
  unsigned int v50;
  dispatch_queue_s *v51;
  uint64_t v52;
  uint64_t v53;
  uint64_t v54;
  void *v55;
  void *v56[2];
  int v57;
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      unint64_t v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  signed int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    signed int v49 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unsigned int v48 = handle_opengl_thread_conflict((const void **)v17);
    signed int v49 = [(id)DYGetGLGuestAppClient(v48) waitOnGraphicsSemaphoreAssertions];
    if ((int)v49 >= 1)
    {
      do
LABEL_56:
        BOOL v50 = __ldaxr(v18);
      while (__stlxr(v50 - 1, v18));
      unsigned int v51 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v49) graphicsLockWaitQueue];
      dispatch_sync_f(v51, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, int *))(*(void *)(v17 + 24)
                                                                                           + 8232LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  v56[0] = 0LL;
  v56[1] = 0LL;
  uint64_t v57 = 0;
  if ([(id)DYGetGLGuestAppClient(v49) state] != (char *)&dword_0 + 1
    || (uint64_t v26 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v26))
  {
    GPUTools::FB::Encode((uint64_t)v56, 1043LL, 2LL, (uint64_t)"Ceeeip", v22, v23, v24, v25, *(void *)v17);
    uint64_t v28 = byte_20726B;
    if ((byte_20726B & 1) != 0) {
      breakpoint_break( (uint64_t)v56,  (volatile int *)((char *)&stru_3D8.reloff + 3),  1LL,  *(unsigned int *)(v17 + 3404),  v17);
    }
    uint64_t v29 = (uint64_t)[(id)DYGetGLGuestAppClient(v27) overrideFlags];
    if (!(v29 & 0x10 | v28 & 4))
    {
      uint64_t v30 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, int *))(*(void *)(v17 + 32)
                                                                                           + 8232LL))( a1,  a2,  a3,  a4,  a5,  a6);
      uint64_t v29 = mach_absolute_time();
      uint64_t v31 = v29 - v30;
      uint64_t v32 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        uint64_t v33 = v56[0];
        *((void *)v56[0] + 2) = v30;
        v33[3] = v31;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      else
      {
        unsigned int v54 = __udivti3(g_DYTimebaseInfo * v31, (g_DYTimebaseInfo * (unsigned __int128)v31) >> 64);
        uint64_t v55 = v56[0];
        *((void *)v56[0] + 3) = v54;
        uint64_t v29 = __udivti3(v32 * v30, (v32 * (unsigned __int128)v30) >> 64);
        v55[2] = v29;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      uint64_t v29 = check_errors(v17);
    }

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  id v22;
  unsigned int v23;
  signed int v24;
  BOOL v25;
  unsigned int v26;
  uint64_t v27;
  id v28;
  unsigned int v29;
  dispatch_queue_s *v30;
  uint64_t v31;
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      unint64_t v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  signed int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    uint64_t v28 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v27 = handle_opengl_thread_conflict((const void **)v17);
    uint64_t v28 = [(id)DYGetGLGuestAppClient(v27) waitOnGraphicsSemaphoreAssertions];
    if ((int)v28 >= 1)
    {
      do
LABEL_34:
        uint64_t v29 = __ldaxr(v18);
      while (__stlxr(v29 - 1, v18));
      uint64_t v30 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v28) graphicsLockWaitQueue];
      dispatch_sync_f(v30, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, int *))(*(void *)(v17 + 24)
                                                                                           + 8232LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v28) state] == (char *)&dword_0 + 1)
  {
    id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v22)
    {
      do
        uint64_t v26 = __ldaxr(v18);
      while (__stlxr(v26 - 1, v18));
      [(id)DYGetGLGuestAppClient(v22) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, int *))(*(void *)(v17 + 32) + 8232LL))( a1,  a2,  a3,  a4,  a5,  a6);
  ++*(void *)(v17 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v17);
    if (gBreakOnError)
    {
      uint64_t v31 = *(unsigned int *)(v17 + 3404);
      if ((_DWORD)v31) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v31, v17);
      }
    }
  }

  do
  {
    uint64_t v23 = __ldaxr(v18);
    uint64_t v24 = v23 - 1;
  }

  while (__stlxr(v24, v18));
  if (gCheckGLErrors) {
    uint64_t v25 = v24 < 1;
  }
  else {
    uint64_t v25 = 1;
  }
  if (!v25) {
    handle_opengl_thread_conflict((const void **)v17);
  }
}

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  id v22;
  uint64_t v23;
  uint64_t v24;
  int64x2_t v25;
  unsigned int v26;
  signed int v27;
  BOOL v28;
  unsigned int v29;
  uint64_t v30;
  id v31;
  unsigned int v32;
  dispatch_queue_s *v33;
  uint64_t v34;
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      unint64_t v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  signed int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    uint64_t v31 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v30 = handle_opengl_thread_conflict((const void **)v17);
    uint64_t v31 = [(id)DYGetGLGuestAppClient(v30) waitOnGraphicsSemaphoreAssertions];
    if ((int)v31 >= 1)
    {
      do
LABEL_34:
        uint64_t v32 = __ldaxr(v18);
      while (__stlxr(v32 - 1, v18));
      uint64_t v33 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v31) graphicsLockWaitQueue];
      dispatch_sync_f(v33, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, int *))(*(void *)(v17 + 24)
                                                                                           + 8232LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v31) state] == (char *)&dword_0 + 1)
  {
    id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v22)
    {
      do
        uint64_t v29 = __ldaxr(v18);
      while (__stlxr(v29 - 1, v18));
      [(id)DYGetGLGuestAppClient(v22) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v23 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, int *))(*(void *)(v17 + 32) + 8232LL))( a1,  a2,  a3,  a4,  a5,  a6);
  uint64_t v24 = mach_absolute_time();
  uint64_t v25 = vdupq_n_s64(1uLL);
  v25.i64[0] = v24 - v23;
  *(int64x2_t *)(v17 + 3696) = vaddq_s64(v25, *(int64x2_t *)(v17 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v17);
    if (gBreakOnError)
    {
      unint64_t v34 = *(unsigned int *)(v17 + 3404);
      if ((_DWORD)v34) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v34, v17);
      }
    }
  }

  do
  {
    uint64_t v26 = __ldaxr(v18);
    uint64_t v27 = v26 - 1;
  }

  while (__stlxr(v27, v18));
  if (gCheckGLErrors) {
    uint64_t v28 = v27 < 1;
  }
  else {
    uint64_t v28 = 1;
  }
  if (!v28) {
    handle_opengl_thread_conflict((const void **)v17);
  }
}

void sub_A136C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(exception_object);
}

void tex_storage2D(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      unint64_t v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  signed int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    id v49 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v48 = handle_opengl_thread_conflict((const void **)v17);
    id v49 = [(id)DYGetGLGuestAppClient(v48) waitOnGraphicsSemaphoreAssertions];
    if ((int)v49 >= 1)
    {
      do
LABEL_56:
        unsigned int v50 = __ldaxr(v18);
      while (__stlxr(v50 - 1, v18));
      unsigned int v51 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v49) graphicsLockWaitQueue];
      dispatch_sync_f(v51, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24)
                                                                                             + 8248LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  v56[0] = 0LL;
  v56[1] = 0LL;
  int v57 = 0;
  if ([(id)DYGetGLGuestAppClient(v49) state] != (char *)&dword_0 + 1
    || (id v26 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v26))
  {
    GPUTools::FB::Encode((uint64_t)v56, 1040LL, 4096LL, (uint64_t)"Ceieii", v22, v23, v24, v25, *(void *)v17);
    char v28 = byte_207268;
    if ((byte_207268 & 1) != 0) {
      breakpoint_break((uint64_t)v56, (volatile int *)&stru_3D8.reloff, 1LL, *(unsigned int *)(v17 + 3404), v17);
    }
    uint64_t v29 = (uint64_t)[(id)DYGetGLGuestAppClient(v27) overrideFlags];
    if (!(v29 & 0x10 | v28 & 4))
    {
      uint64_t v30 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 32)
                                                                                             + 8248LL))( a1,  a2,  a3,  a4,  a5,  a6);
      uint64_t v29 = mach_absolute_time();
      uint64_t v31 = v29 - v30;
      unint64_t v32 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        uint64_t v33 = v56[0];
        *((void *)v56[0] + 2) = v30;
        v33[3] = v31;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      else
      {
        uint64_t v54 = __udivti3(g_DYTimebaseInfo * v31, (g_DYTimebaseInfo * (unsigned __int128)v31) >> 64);
        uint64_t v55 = v56[0];
        *((void *)v56[0] + 3) = v54;
        uint64_t v29 = __udivti3(v32 * v30, (v32 * (unsigned __int128)v30) >> 64);
        v55[2] = v29;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      uint64_t v29 = check_errors(v17);
    }

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  id v26;
  uint64_t v27;
  char v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  unint64_t v32;
  void *v33;
  id v34;
  GPUTools::FB::Fbuf *v35;
  unsigned int v36;
  GPUTools::FB::Fbuf *v37;
  dispatch_queue_s *v38;
  uint64_t v39;
  GPUTools::FB::Stream *v40;
  unsigned int *v41;
  unsigned int v42;
  unsigned int v43;
  unsigned int v44;
  signed int v45;
  BOOL v46;
  unsigned int v47;
  uint64_t v48;
  id v49;
  unsigned int v50;
  dispatch_queue_s *v51;
  uint64_t v52;
  uint64_t v53;
  uint64_t v54;
  void *v55;
  void *v56[2];
  int v57;
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      unint64_t v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  signed int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    id v49 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v48 = handle_opengl_thread_conflict((const void **)v17);
    id v49 = [(id)DYGetGLGuestAppClient(v48) waitOnGraphicsSemaphoreAssertions];
    if ((int)v49 >= 1)
    {
      do
LABEL_56:
        unsigned int v50 = __ldaxr(v18);
      while (__stlxr(v50 - 1, v18));
      unsigned int v51 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v49) graphicsLockWaitQueue];
      dispatch_sync_f(v51, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24)
                                                                                             + 8248LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  v56[0] = 0LL;
  v56[1] = 0LL;
  int v57 = 0;
  if ([(id)DYGetGLGuestAppClient(v49) state] != (char *)&dword_0 + 1
    || (id v26 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v26))
  {
    GPUTools::FB::Encode((uint64_t)v56, 1040LL, 4096LL, (uint64_t)"Ceieii", v22, v23, v24, v25, *(void *)v17);
    char v28 = byte_207268;
    if ((byte_207268 & 1) != 0) {
      breakpoint_break((uint64_t)v56, (volatile int *)&stru_3D8.reloff, 1LL, *(unsigned int *)(v17 + 3404), v17);
    }
    uint64_t v29 = (uint64_t)[(id)DYGetGLGuestAppClient(v27) overrideFlags];
    if (!(v29 & 0x10 | v28 & 4))
    {
      uint64_t v30 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 32)
                                                                                             + 8248LL))( a1,  a2,  a3,  a4,  a5,  a6);
      uint64_t v29 = mach_absolute_time();
      uint64_t v31 = v29 - v30;
      unint64_t v32 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        uint64_t v33 = v56[0];
        *((void *)v56[0] + 2) = v30;
        v33[3] = v31;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      else
      {
        uint64_t v54 = __udivti3(g_DYTimebaseInfo * v31, (g_DYTimebaseInfo * (unsigned __int128)v31) >> 64);
        uint64_t v55 = v56[0];
        *((void *)v56[0] + 3) = v54;
        uint64_t v29 = __udivti3(v32 * v30, (v32 * (unsigned __int128)v30) >> 64);
        v55[2] = v29;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      uint64_t v29 = check_errors(v17);
    }

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  id v22;
  unsigned int v23;
  signed int v24;
  BOOL v25;
  unsigned int v26;
  uint64_t v27;
  id v28;
  unsigned int v29;
  dispatch_queue_s *v30;
  uint64_t v31;
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      unint64_t v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  signed int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    char v28 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v27 = handle_opengl_thread_conflict((const void **)v17);
    char v28 = [(id)DYGetGLGuestAppClient(v27) waitOnGraphicsSemaphoreAssertions];
    if ((int)v28 >= 1)
    {
      do
LABEL_34:
        uint64_t v29 = __ldaxr(v18);
      while (__stlxr(v29 - 1, v18));
      uint64_t v30 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v28) graphicsLockWaitQueue];
      dispatch_sync_f(v30, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24)
                                                                                             + 8248LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v28) state] == (char *)&dword_0 + 1)
  {
    uint64_t v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v22)
    {
      do
        id v26 = __ldaxr(v18);
      while (__stlxr(v26 - 1, v18));
      [(id)DYGetGLGuestAppClient(v22) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 32) + 8248LL))( a1,  a2,  a3,  a4,  a5,  a6);
  ++*(void *)(v17 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v17);
    if (gBreakOnError)
    {
      uint64_t v31 = *(unsigned int *)(v17 + 3404);
      if ((_DWORD)v31) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v31, v17);
      }
    }
  }

  do
  {
    uint64_t v23 = __ldaxr(v18);
    uint64_t v24 = v23 - 1;
  }

  while (__stlxr(v24, v18));
  if (gCheckGLErrors) {
    uint64_t v25 = v24 < 1;
  }
  else {
    uint64_t v25 = 1;
  }
  if (!v25) {
    handle_opengl_thread_conflict((const void **)v17);
  }
}

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  id v22;
  uint64_t v23;
  uint64_t v24;
  int64x2_t v25;
  unsigned int v26;
  signed int v27;
  BOOL v28;
  unsigned int v29;
  uint64_t v30;
  id v31;
  unsigned int v32;
  dispatch_queue_s *v33;
  uint64_t v34;
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      unint64_t v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  signed int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    uint64_t v31 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v30 = handle_opengl_thread_conflict((const void **)v17);
    uint64_t v31 = [(id)DYGetGLGuestAppClient(v30) waitOnGraphicsSemaphoreAssertions];
    if ((int)v31 >= 1)
    {
      do
LABEL_34:
        unint64_t v32 = __ldaxr(v18);
      while (__stlxr(v32 - 1, v18));
      uint64_t v33 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v31) graphicsLockWaitQueue];
      dispatch_sync_f(v33, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24)
                                                                                             + 8248LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v31) state] == (char *)&dword_0 + 1)
  {
    uint64_t v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v22)
    {
      do
        uint64_t v29 = __ldaxr(v18);
      while (__stlxr(v29 - 1, v18));
      [(id)DYGetGLGuestAppClient(v22) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v23 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 32) + 8248LL))( a1,  a2,  a3,  a4,  a5,  a6);
  uint64_t v24 = mach_absolute_time();
  uint64_t v25 = vdupq_n_s64(1uLL);
  v25.i64[0] = v24 - v23;
  *(int64x2_t *)(v17 + 3696) = vaddq_s64(v25, *(int64x2_t *)(v17 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v17);
    if (gBreakOnError)
    {
      id v34 = *(unsigned int *)(v17 + 3404);
      if ((_DWORD)v34) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v34, v17);
      }
    }
  }

  do
  {
    id v26 = __ldaxr(v18);
    uint64_t v27 = v26 - 1;
  }

  while (__stlxr(v27, v18));
  if (gCheckGLErrors) {
    char v28 = v27 < 1;
  }
  else {
    char v28 = 1;
  }
  if (!v28) {
    handle_opengl_thread_conflict((const void **)v17);
  }
}

void sub_A17EC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void tex_storage3D( __GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7)
{
  unint64_t v14 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v14) {
    goto LABEL_12;
  }
  uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v16 = v14[4];
    BOOL v17 = v16 >= (unint64_t)a1;
    else {
      signed int v18 = v14 + 1;
    }
    if (v17) {
      uint64_t v15 = (uint64_t)v14;
    }
    unint64_t v14 = (void *)*v18;
  }

  while (*v18);
  if (v15 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v15 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v19 = *(void *)(v15 + 40);
  signed int v20 = (unsigned int *)(v19 + 4640);
  do
  {
    unsigned int v21 = __ldaxr(v20);
    signed int v22 = v21 + 1;
  }

  while (__stlxr(v22, v20));
  if (gCheckGLErrors) {
    BOOL v23 = v22 <= 1;
  }
  else {
    BOOL v23 = 1;
  }
  if (v23)
  {
    id v50 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v49 = handle_opengl_thread_conflict((const void **)v19);
    id v50 = [(id)DYGetGLGuestAppClient(v49) waitOnGraphicsSemaphoreAssertions];
    if ((int)v50 >= 1)
    {
      do
LABEL_56:
        unsigned int v51 = __ldaxr(v20);
      while (__stlxr(v51 - 1, v20));
      uint64_t v52 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v50) graphicsLockWaitQueue];
      dispatch_sync_f(v52, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v19 + 24) + 8256LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
      return;
    }
  }

  *(_BYTE *)(v19 + 4838) = 1;
  v58[0] = 0LL;
  v58[1] = 0LL;
  int v59 = 0;
  if ([(id)DYGetGLGuestAppClient(v50) state] != (char *)&dword_0 + 1
    || (id v28 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v28))
  {
    GPUTools::FB::Encode((uint64_t)v58, 1042LL, 4096LL, (uint64_t)"Ceieiii", v24, v25, v26, v27, *(void *)v19);
    char v57 = byte_20726A;
    if ((byte_20726A & 1) != 0) {
      breakpoint_break( (uint64_t)v58,  (volatile int *)((char *)&stru_3D8.reloff + 2),  1LL,  *(unsigned int *)(v19 + 3404),  v19);
    }
    uint64_t v30 = (uint64_t)[(id)DYGetGLGuestAppClient(v29) overrideFlags];
    if (!(v30 & 0x10 | v57 & 4))
    {
      uint64_t v31 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v19 + 32) + 8256LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
      uint64_t v30 = mach_absolute_time();
      uint64_t v32 = v30 - v31;
      unint64_t v33 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        id v34 = v58[0];
        *((void *)v58[0] + 2) = v31;
        v34[3] = v32;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      else
      {
        uint64_t v55 = __udivti3(g_DYTimebaseInfo * v32, (g_DYTimebaseInfo * (unsigned __int128)v32) >> 64);
        uint64_t v56 = v58[0];
        *((void *)v58[0] + 3) = v55;
        uint64_t v30 = __udivti3(v33 * v31, (v33 * (unsigned __int128)v31) >> 64);
        v56[2] = v30;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      uint64_t v30 = check_errors(v19);
    }

{
  void *v14;
  uint64_t v15;
  unint64_t v16;
  BOOL v17;
  void *v18;
  uint64_t v19;
  unsigned int *v20;
  unsigned int v21;
  signed int v22;
  BOOL v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  id v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  unint64_t v33;
  void *v34;
  id v35;
  GPUTools::FB::Fbuf *v36;
  unsigned int v37;
  GPUTools::FB::Fbuf *v38;
  dispatch_queue_s *v39;
  uint64_t v40;
  GPUTools::FB::Stream *v41;
  unsigned int *v42;
  unsigned int v43;
  unsigned int v44;
  unsigned int v45;
  signed int v46;
  BOOL v47;
  unsigned int v48;
  uint64_t v49;
  id v50;
  unsigned int v51;
  dispatch_queue_s *v52;
  uint64_t v53;
  uint64_t v54;
  uint64_t v55;
  void *v56;
  char v57;
  void *v58[2];
  int v59;
  unint64_t v14 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v14) {
    goto LABEL_12;
  }
  uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v16 = v14[4];
    BOOL v17 = v16 >= (unint64_t)a1;
    else {
      signed int v18 = v14 + 1;
    }
    if (v17) {
      uint64_t v15 = (uint64_t)v14;
    }
    unint64_t v14 = (void *)*v18;
  }

  while (*v18);
  if (v15 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v15 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v19 = *(void *)(v15 + 40);
  signed int v20 = (unsigned int *)(v19 + 4640);
  do
  {
    unsigned int v21 = __ldaxr(v20);
    signed int v22 = v21 + 1;
  }

  while (__stlxr(v22, v20));
  if (gCheckGLErrors) {
    BOOL v23 = v22 <= 1;
  }
  else {
    BOOL v23 = 1;
  }
  if (v23)
  {
    id v50 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v49 = handle_opengl_thread_conflict((const void **)v19);
    id v50 = [(id)DYGetGLGuestAppClient(v49) waitOnGraphicsSemaphoreAssertions];
    if ((int)v50 >= 1)
    {
      do
LABEL_56:
        unsigned int v51 = __ldaxr(v20);
      while (__stlxr(v51 - 1, v20));
      uint64_t v52 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v50) graphicsLockWaitQueue];
      dispatch_sync_f(v52, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v19 + 24) + 8256LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
      return;
    }
  }

  *(_BYTE *)(v19 + 4838) = 1;
  v58[0] = 0LL;
  v58[1] = 0LL;
  int v59 = 0;
  if ([(id)DYGetGLGuestAppClient(v50) state] != (char *)&dword_0 + 1
    || (id v28 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v28))
  {
    GPUTools::FB::Encode((uint64_t)v58, 1042LL, 4096LL, (uint64_t)"Ceieiii", v24, v25, v26, v27, *(void *)v19);
    char v57 = byte_20726A;
    if ((byte_20726A & 1) != 0) {
      breakpoint_break( (uint64_t)v58,  (volatile int *)((char *)&stru_3D8.reloff + 2),  1LL,  *(unsigned int *)(v19 + 3404),  v19);
    }
    uint64_t v30 = (uint64_t)[(id)DYGetGLGuestAppClient(v29) overrideFlags];
    if (!(v30 & 0x10 | v57 & 4))
    {
      uint64_t v31 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v19 + 32) + 8256LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
      uint64_t v30 = mach_absolute_time();
      uint64_t v32 = v30 - v31;
      unint64_t v33 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        id v34 = v58[0];
        *((void *)v58[0] + 2) = v31;
        v34[3] = v32;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      else
      {
        uint64_t v55 = __udivti3(g_DYTimebaseInfo * v32, (g_DYTimebaseInfo * (unsigned __int128)v32) >> 64);
        uint64_t v56 = v58[0];
        *((void *)v58[0] + 3) = v55;
        uint64_t v30 = __udivti3(v33 * v31, (v33 * (unsigned __int128)v31) >> 64);
        v56[2] = v30;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      uint64_t v30 = check_errors(v19);
    }

{
  void *v14;
  uint64_t v15;
  unint64_t v16;
  BOOL v17;
  void *v18;
  uint64_t v19;
  unsigned int *v20;
  unsigned int v21;
  signed int v22;
  BOOL v23;
  id v24;
  unsigned int v25;
  signed int v26;
  BOOL v27;
  unsigned int v28;
  uint64_t v29;
  id v30;
  unsigned int v31;
  dispatch_queue_s *v32;
  uint64_t v33;
  unint64_t v14 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v14) {
    goto LABEL_12;
  }
  uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v16 = v14[4];
    BOOL v17 = v16 >= (unint64_t)a1;
    else {
      signed int v18 = v14 + 1;
    }
    if (v17) {
      uint64_t v15 = (uint64_t)v14;
    }
    unint64_t v14 = (void *)*v18;
  }

  while (*v18);
  if (v15 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v15 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v19 = *(void *)(v15 + 40);
  signed int v20 = (unsigned int *)(v19 + 4640);
  do
  {
    unsigned int v21 = __ldaxr(v20);
    signed int v22 = v21 + 1;
  }

  while (__stlxr(v22, v20));
  if (gCheckGLErrors) {
    BOOL v23 = v22 <= 1;
  }
  else {
    BOOL v23 = 1;
  }
  if (v23)
  {
    uint64_t v30 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v29 = handle_opengl_thread_conflict((const void **)v19);
    uint64_t v30 = [(id)DYGetGLGuestAppClient(v29) waitOnGraphicsSemaphoreAssertions];
    if ((int)v30 >= 1)
    {
      do
LABEL_34:
        uint64_t v31 = __ldaxr(v20);
      while (__stlxr(v31 - 1, v20));
      uint64_t v32 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v30) graphicsLockWaitQueue];
      dispatch_sync_f(v32, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v19 + 24) + 8256LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
      return;
    }
  }

  *(_BYTE *)(v19 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v30) state] == (char *)&dword_0 + 1)
  {
    uint64_t v24 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v24)
    {
      do
        id v28 = __ldaxr(v20);
      while (__stlxr(v28 - 1, v20));
      [(id)DYGetGLGuestAppClient(v24) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v19 + 32)
                                                                                                  + 8256LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
  ++*(void *)(v19 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v19);
    if (gBreakOnError)
    {
      unint64_t v33 = *(unsigned int *)(v19 + 3404);
      if ((_DWORD)v33) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v33, v19);
      }
    }
  }

  do
  {
    uint64_t v25 = __ldaxr(v20);
    uint64_t v26 = v25 - 1;
  }

  while (__stlxr(v26, v20));
  if (gCheckGLErrors) {
    uint64_t v27 = v26 < 1;
  }
  else {
    uint64_t v27 = 1;
  }
  if (!v27) {
    handle_opengl_thread_conflict((const void **)v19);
  }
}

{
  void *v14;
  uint64_t v15;
  unint64_t v16;
  BOOL v17;
  void *v18;
  uint64_t v19;
  unsigned int *v20;
  unsigned int v21;
  signed int v22;
  BOOL v23;
  id v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  int64x2_t v29;
  unsigned int v30;
  signed int v31;
  BOOL v32;
  unsigned int v33;
  uint64_t v34;
  id v35;
  unsigned int v36;
  dispatch_queue_s *v37;
  uint64_t v38;
  unint64_t v14 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v14) {
    goto LABEL_12;
  }
  uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v16 = v14[4];
    BOOL v17 = v16 >= (unint64_t)a1;
    else {
      signed int v18 = v14 + 1;
    }
    if (v17) {
      uint64_t v15 = (uint64_t)v14;
    }
    unint64_t v14 = (void *)*v18;
  }

  while (*v18);
  if (v15 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v15 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v19 = *(void *)(v15 + 40);
  signed int v20 = (unsigned int *)(v19 + 4640);
  do
  {
    unsigned int v21 = __ldaxr(v20);
    signed int v22 = v21 + 1;
  }

  while (__stlxr(v22, v20));
  if (gCheckGLErrors) {
    BOOL v23 = v22 <= 1;
  }
  else {
    BOOL v23 = 1;
  }
  if (v23)
  {
    id v35 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    id v34 = handle_opengl_thread_conflict((const void **)v19);
    id v35 = [(id)DYGetGLGuestAppClient(v34) waitOnGraphicsSemaphoreAssertions];
    if ((int)v35 >= 1)
    {
      do
LABEL_34:
        unsigned int v36 = __ldaxr(v20);
      while (__stlxr(v36 - 1, v20));
      unsigned int v37 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v35) graphicsLockWaitQueue];
      dispatch_sync_f(v37, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v19 + 24) + 8256LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
      return;
    }
  }

  *(_BYTE *)(v19 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v35) state] == (char *)&dword_0 + 1)
  {
    uint64_t v24 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v24)
    {
      do
        unint64_t v33 = __ldaxr(v20);
      while (__stlxr(v33 - 1, v20));
      [(id)DYGetGLGuestAppClient(v24) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v25 = mach_absolute_time();
  uint64_t v26 = a7;
  uint64_t v27 = v25;
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v19 + 32)
                                                                                                  + 8256LL))( a1,  a2,  a3,  a4,  a5,  a6,  v26);
  id v28 = mach_absolute_time();
  uint64_t v29 = vdupq_n_s64(1uLL);
  v29.i64[0] = v28 - v27;
  *(int64x2_t *)(v19 + 3696) = vaddq_s64(v29, *(int64x2_t *)(v19 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v19);
    if (gBreakOnError)
    {
      id v38 = *(unsigned int *)(v19 + 3404);
      if ((_DWORD)v38) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v38, v19);
      }
    }
  }

  do
  {
    uint64_t v30 = __ldaxr(v20);
    uint64_t v31 = v30 - 1;
  }

  while (__stlxr(v31, v20));
  if (gCheckGLErrors) {
    uint64_t v32 = v31 < 1;
  }
  else {
    uint64_t v32 = 1;
  }
  if (!v32) {
    handle_opengl_thread_conflict((const void **)v19);
  }
}

void sub_A1C88( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, void *a18)
{
  if (a18) {
    free(a18);
  }
  _Unwind_Resume(exception_object);
}

void label_object_with_responsible_process_APPLE(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    uint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v46 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v45 = handle_opengl_thread_conflict((const void **)v13);
    id v46 = [(id)DYGetGLGuestAppClient(v45) waitOnGraphicsSemaphoreAssertions];
    if ((int)v46 >= 1)
    {
      do
LABEL_57:
        unsigned int v47 = __ldaxr(v14);
      while (__stlxr(v47 - 1, v14));
      unsigned int v48 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v46) graphicsLockWaitQueue];
      dispatch_sync_f(v48, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 8264LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  uint64_t v55 = 0LL;
  uint64_t v56 = 0LL;
  unsigned int v57 = 0;
  if ([(id)DYGetGLGuestAppClient(v46) state] != (char *)&dword_0 + 1
    || (id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v18))
  {
    signed int v20 = (char *)v55;
    uint64_t v19 = v56;
    int64_t v21 = v56 - (_BYTE *)v55;
    unsigned int v22 = v57;
    unint64_t v23 = v57 - (v56 - (_BYTE *)v55);
    if (v23 > 0x3F) {
      goto LABEL_24;
    }
    int v49 = (319 - v23) & 0xFFFFFF00;
    v57 += v49;
    signed int v20 = (char *)malloc(v49 + v22);
    uint64_t v55 = v20;
    if (v20)
    {
      if ((v20 & 3) == 0)
      {
        uint64_t v19 = &v20[v21];
LABEL_24:
        *((_OWORD *)v19 + 2) = 0u;
        *((_OWORD *)v19 + 3) = 0u;
        *(_OWORD *)uint64_t v19 = 0u;
        *((_OWORD *)v19 + 1) = 0u;
        uint64_t v56 = v19 + 64;
        GPUTools::FB::Fbuf::align((char **)&v55);
        *((_DWORD *)v20 + 1) = 1046;
        *((_DWORD *)v20 + 8) = 0;
        __uint64_t v54 = 0LL;
        uint64_t v24 = pthread_threadid_np(0LL, &v54);
        *((void *)v20 + 1) = v54;
        strcpy(v20 + 36, "Ceuii");
        *(void *)(v20 + 44) = *(void *)v13;
        *((_DWORD *)v20 + 13) = a2;
        *((_DWORD *)v20 + 14) = a3;
        *((_DWORD *)v20 + 15) = a4;
        char v25 = byte_20726E;
        if ((byte_20726E & 1) != 0) {
          breakpoint_break( (uint64_t)&v55,  (volatile int *)((char *)&stru_3D8.nreloc + 2),  1LL,  *(unsigned int *)(v13 + 3404),  v13);
        }
        uint64_t v26 = (uint64_t)[(id)DYGetGLGuestAppClient(v24) overrideFlags];
        if (!(v26 & 0x10 | v25 & 4))
        {
          uint64_t v27 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 8264LL))( a1,  a2,  a3,  a4);
          uint64_t v26 = mach_absolute_time();
          uint64_t v28 = v26 - v27;
          unint64_t v29 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v30 = v55;
            *((void *)v55 + 2) = v27;
            v30[3] = v28;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v52 = __udivti3(g_DYTimebaseInfo * v28, (g_DYTimebaseInfo * (unsigned __int128)v28) >> 64);
            uint64_t v53 = v55;
            *((void *)v55 + 3) = v52;
            uint64_t v26 = __udivti3(v29 * v27, (v29 * (unsigned __int128)v27) >> 64);
            v53[2] = v26;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v26 = check_errors(v13);
        }

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  char *v19;
  char *v20;
  int64_t v21;
  unsigned int v22;
  unint64_t v23;
  uint64_t v24;
  char v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  unint64_t v29;
  void *v30;
  id v31;
  GPUTools::FB::Fbuf *v32;
  unsigned int v33;
  GPUTools::FB::Fbuf *v34;
  dispatch_queue_s *v35;
  uint64_t v36;
  GPUTools::FB::Stream *v37;
  unsigned int *v38;
  unsigned int v39;
  unsigned int v40;
  unsigned int v41;
  signed int v42;
  BOOL v43;
  unsigned int v44;
  uint64_t v45;
  id v46;
  unsigned int v47;
  dispatch_queue_s *v48;
  int v49;
  uint64_t v50;
  uint64_t v51;
  uint64_t v52;
  void *v53;
  __uint64_t v54;
  void *v55;
  char *v56;
  unsigned int v57;
  uint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    uint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v46 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v45 = handle_opengl_thread_conflict((const void **)v13);
    id v46 = [(id)DYGetGLGuestAppClient(v45) waitOnGraphicsSemaphoreAssertions];
    if ((int)v46 >= 1)
    {
      do
LABEL_57:
        unsigned int v47 = __ldaxr(v14);
      while (__stlxr(v47 - 1, v14));
      unsigned int v48 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v46) graphicsLockWaitQueue];
      dispatch_sync_f(v48, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 8264LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  uint64_t v55 = 0LL;
  uint64_t v56 = 0LL;
  unsigned int v57 = 0;
  if ([(id)DYGetGLGuestAppClient(v46) state] != (char *)&dword_0 + 1
    || (id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v18))
  {
    signed int v20 = (char *)v55;
    uint64_t v19 = v56;
    int64_t v21 = v56 - (_BYTE *)v55;
    unsigned int v22 = v57;
    unint64_t v23 = v57 - (v56 - (_BYTE *)v55);
    if (v23 > 0x3F) {
      goto LABEL_24;
    }
    int v49 = (319 - v23) & 0xFFFFFF00;
    v57 += v49;
    signed int v20 = (char *)malloc(v49 + v22);
    uint64_t v55 = v20;
    if (v20)
    {
      if ((v20 & 3) == 0)
      {
        uint64_t v19 = &v20[v21];
LABEL_24:
        *((_OWORD *)v19 + 2) = 0u;
        *((_OWORD *)v19 + 3) = 0u;
        *(_OWORD *)uint64_t v19 = 0u;
        *((_OWORD *)v19 + 1) = 0u;
        uint64_t v56 = v19 + 64;
        GPUTools::FB::Fbuf::align((char **)&v55);
        *((_DWORD *)v20 + 1) = 1046;
        *((_DWORD *)v20 + 8) = 0;
        __uint64_t v54 = 0LL;
        uint64_t v24 = pthread_threadid_np(0LL, &v54);
        *((void *)v20 + 1) = v54;
        strcpy(v20 + 36, "Ceuii");
        *(void *)(v20 + 44) = *(void *)v13;
        *((_DWORD *)v20 + 13) = a2;
        *((_DWORD *)v20 + 14) = a3;
        *((_DWORD *)v20 + 15) = a4;
        char v25 = byte_20726E;
        if ((byte_20726E & 1) != 0) {
          breakpoint_break( (uint64_t)&v55,  (volatile int *)((char *)&stru_3D8.nreloc + 2),  1LL,  *(unsigned int *)(v13 + 3404),  v13);
        }
        uint64_t v26 = (uint64_t)[(id)DYGetGLGuestAppClient(v24) overrideFlags];
        if (!(v26 & 0x10 | v25 & 4))
        {
          uint64_t v27 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 8264LL))( a1,  a2,  a3,  a4);
          uint64_t v26 = mach_absolute_time();
          uint64_t v28 = v26 - v27;
          unint64_t v29 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v30 = v55;
            *((void *)v55 + 2) = v27;
            v30[3] = v28;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v52 = __udivti3(g_DYTimebaseInfo * v28, (g_DYTimebaseInfo * (unsigned __int128)v28) >> 64);
            uint64_t v53 = v55;
            *((void *)v55 + 3) = v52;
            uint64_t v26 = __udivti3(v29 * v27, (v29 * (unsigned __int128)v27) >> 64);
            v53[2] = v26;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v26 = check_errors(v13);
        }

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  unsigned int v22;
  uint64_t v23;
  id v24;
  unsigned int v25;
  dispatch_queue_s *v26;
  uint64_t v27;
  uint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    uint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        char v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      uint64_t v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 8264LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 8264LL))( a1,  a2,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    uint64_t v19 = __ldaxr(v14);
    signed int v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    int64_t v21 = v20 < 1;
  }
  else {
    int64_t v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  uint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    uint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        uint64_t v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      unint64_t v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 8264LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        char v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 8264LL))( a1,  a2,  a3,  a4);
  signed int v20 = mach_absolute_time();
  int64_t v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    unint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    uint64_t v24 = v23 < 1;
  }
  else {
    uint64_t v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void sub_A2180( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void GPUTools::FB::Fbuf::align(char **this)
{
  uint64_t v3 = *this;
  v2 = this[1];
  int64_t v4 = v2 - v3;
  *(_DWORD *)uint64_t v3 = (_DWORD)v2 - (_DWORD)v3;
  unint64_t v5 = (v2 - v3 + 3) & 0xFFFFFFFFFFFFFFFCLL;
  size_t v6 = v5 - v4;
  if (v5 != v4)
  {
    uint64_t v7 = *this;
    uint64_t v8 = (char *)(v2 - *this);
    uint64_t v9 = *((unsigned int *)this + 4);
    if (v6 <= v9 - (uint64_t)v8)
    {
LABEL_3:
      bzero(v2, v6);
      unint64_t v10 = *this;
      this[1] += v6;
      *(_DWORD *)v10 += v6;
      return;
    }

    int v11 = (v6 - (v9 - (_DWORD)v8) + 255) & 0xFFFFFF00;
    size_t v12 = (v11 + v9);
    *((_DWORD *)this + 4) = v12;
    if (v7)
    {
      uint64_t v13 = (uint64_t)reallocf(v7, v12);
      *this = (char *)v13;
      if (v13)
      {
LABEL_7:
        if ((v13 & 3) == 0)
        {
          v2 = &v8[v13];
          this[1] = v2;
          goto LABEL_3;
        }

dispatch_queue_s *GPUTools::FB::EncodeThreadQueueInfo(void *a1, GPUTools::FB::Fbuf *a2, GPUTools::FB *a3)
{
  uint64_t result = (dispatch_queue_s *)GPUTools::FB::EncodeCurrentGCDQueueInfo(a3, a2);
  if (result)
  {
    uint64_t v7 = result;
    *(void *)uint64_t v19 = result;
    uint64_t result = (dispatch_queue_s *)std::__hash_table<std::__hash_value_type<void const*,std::string>,std::__unordered_map_hasher<void const*,std::__hash_value_type<void const*,std::string>,std::hash<void const*>,std::equal_to<void const*>,true>,std::__unordered_map_equal<void const*,std::__hash_value_type<void const*,std::string>,std::equal_to<void const*>,std::hash<void const*>,true>,std::allocator<std::__hash_value_type<void const*,std::string>>>::find<void const*>( a1,  (uint64_t *)v19);
    if (!result)
    {
      uint64_t result = (dispatch_queue_s *)dispatch_queue_get_label(v7);
      id v18 = (const char *)result;
      if (result) {
        uint64_t result = (dispatch_queue_s *)std::__hash_table<std::__hash_value_type<void const*,std::string>,std::__unordered_map_hasher<void const*,std::__hash_value_type<void const*,std::string>,std::hash<void const*>,std::equal_to<void const*>,true>,std::__unordered_map_equal<void const*,std::__hash_value_type<void const*,std::string>,std::equal_to<void const*>,std::hash<void const*>,true>,std::allocator<std::__hash_value_type<void const*,std::string>>>::__emplace_unique_key_args<void const*,void const*&,char const*&>( (uint64_t)a1,  (uint64_t *)v19,  v19,  &v18);
      }
    }
  }

  int8x8_t v8 = *(int8x8_t *)((char *)a2 + 8);
  if (v8)
  {
    unint64_t v9 = *(void *)(*(void *)a3 + 8LL);
    uint8x8_t v10 = (uint8x8_t)vcnt_s8(v8);
    v10.i16[0] = vaddlv_u8(v10);
    if (v10.u32[0] > 1uLL)
    {
      unint64_t v11 = *(void *)(*(void *)a3 + 8LL);
      if (v9 >= *(void *)&v8) {
        unint64_t v11 = v9 % *(void *)&v8;
      }
    }

    else
    {
      unint64_t v11 = (*(void *)&v8 - 1LL) & v9;
    }

    size_t v12 = *(void **)(*(void *)a2 + 8 * v11);
    if (v12)
    {
      uint64_t v13 = (void *)*v12;
      if (v13)
      {
        if (v10.u32[0] < 2uLL)
        {
          uint64_t v14 = *(void *)&v8 - 1LL;
          while (1)
          {
            uint64_t v16 = v13[1];
            if (v16 == v9)
            {
              if (v13[2] == v9) {
                return result;
              }
            }

            else if ((v16 & v14) != v11)
            {
              goto LABEL_23;
            }

            uint64_t v13 = (void *)*v13;
            if (!v13) {
              goto LABEL_23;
            }
          }
        }

        do
        {
          unint64_t v15 = v13[1];
          if (v15 == v9)
          {
            if (v13[2] == v9) {
              return result;
            }
          }

          else
          {
            if (v15 >= *(void *)&v8) {
              v15 %= *(void *)&v8;
            }
            if (v15 != v11) {
              break;
            }
          }

          uint64_t v13 = (void *)*v13;
        }

        while (v13);
      }
    }
  }

uint64_t GPUTools::FB::Stream::Write(GPUTools::FB::Stream *this, GPUTools::FB::Fbuf *a2, BOOL a3)
{
  uint64_t v3 = (unsigned int *)((char *)this + 56);
  do
    unsigned int v4 = __ldaxr(v3);
  while (__stlxr(1u, v3));
  if (v4 == 1)
  {
    do
    {
      while (*v3 == 1)
        ;
      do
        unsigned int v5 = __ldaxr(v3);
      while (__stlxr(1u, v3));
    }

    while (v5 == 1);
  }

  uint64_t result = GPUTools::FB::Stream::Write_nolock(this, a2, **(unsigned int **)a2, a3);
  atomic_store(0, v3);
  return result;
}

void sub_A24C8(_Unwind_Exception *a1)
{
}

void *std::__hash_table<std::__hash_value_type<void const*,std::string>,std::__unordered_map_hasher<void const*,std::__hash_value_type<void const*,std::string>,std::hash<void const*>,std::equal_to<void const*>,true>,std::__unordered_map_equal<void const*,std::__hash_value_type<void const*,std::string>,std::equal_to<void const*>,std::hash<void const*>,true>,std::allocator<std::__hash_value_type<void const*,std::string>>>::find<void const*>( void *a1, uint64_t *a2)
{
  int8x8_t v2 = (int8x8_t)a1[1];
  if (!*(void *)&v2) {
    return 0LL;
  }
  uint64_t v3 = *a2;
  unint64_t v4 = HIDWORD(*a2);
  unint64_t v5 = 0x9DDFEA08EB382D69LL * ((8 * *a2 + 8LL) ^ v4);
  unint64_t v6 = 0x9DDFEA08EB382D69LL
     * ((0x9DDFEA08EB382D69LL * (v4 ^ (v5 >> 47) ^ v5)) ^ ((0x9DDFEA08EB382D69LL * (v4 ^ (v5 >> 47) ^ v5)) >> 47));
  uint8x8_t v7 = (uint8x8_t)vcnt_s8(v2);
  v7.i16[0] = vaddlv_u8(v7);
  if (v7.u32[0] > 1uLL)
  {
    unint64_t v8 = v6;
    if (v6 >= *(void *)&v2) {
      unint64_t v8 = v6 % *(void *)&v2;
    }
  }

  else
  {
    unint64_t v8 = v6 & (*(void *)&v2 - 1LL);
  }

  unint64_t v9 = *(void **)(*a1 + 8 * v8);
  if (!v9) {
    return 0LL;
  }
  uint64_t result = (void *)*v9;
  if (*v9)
  {
    if (v7.u32[0] < 2uLL)
    {
      uint64_t v11 = *(void *)&v2 - 1LL;
      while (1)
      {
        uint64_t v13 = result[1];
        if (v13 == v6)
        {
          if (result[2] == v3) {
            return result;
          }
        }

        else if ((v13 & v11) != v8)
        {
          return 0LL;
        }

        uint64_t result = (void *)*result;
        if (!result) {
          return result;
        }
      }
    }

    do
    {
      unint64_t v12 = result[1];
      if (v12 == v6)
      {
        if (result[2] == v3) {
          return result;
        }
      }

      else
      {
        if (v12 >= *(void *)&v2) {
          v12 %= *(void *)&v2;
        }
        if (v12 != v8) {
          return 0LL;
        }
      }

      uint64_t result = (void *)*result;
    }

    while (result);
  }

  return result;
}

void *std::__hash_table<std::__hash_value_type<void const*,std::string>,std::__unordered_map_hasher<void const*,std::__hash_value_type<void const*,std::string>,std::hash<void const*>,std::equal_to<void const*>,true>,std::__unordered_map_equal<void const*,std::__hash_value_type<void const*,std::string>,std::equal_to<void const*>,std::hash<void const*>,true>,std::allocator<std::__hash_value_type<void const*,std::string>>>::__emplace_unique_key_args<void const*,void const*&,char const*&>( uint64_t a1, uint64_t *a2, void *a3, const char **a4)
{
  uint64_t v6 = *a2;
  unint64_t v7 = HIDWORD(*a2);
  unint64_t v8 = 0x9DDFEA08EB382D69LL * ((8 * *a2 + 8LL) ^ v7);
  unint64_t v9 = 0x9DDFEA08EB382D69LL
     * ((0x9DDFEA08EB382D69LL * (v7 ^ (v8 >> 47) ^ v8)) ^ ((0x9DDFEA08EB382D69LL * (v7 ^ (v8 >> 47) ^ v8)) >> 47));
  unint64_t v10 = *(void *)(a1 + 8);
  if (v10)
  {
    uint8x8_t v11 = (uint8x8_t)vcnt_s8((int8x8_t)v10);
    v11.i16[0] = vaddlv_u8(v11);
    if (v11.u32[0] > 1uLL)
    {
      unint64_t v4 = 0x9DDFEA08EB382D69LL
         * ((0x9DDFEA08EB382D69LL * (v7 ^ (v8 >> 47) ^ v8)) ^ ((0x9DDFEA08EB382D69LL * (v7 ^ (v8 >> 47) ^ v8)) >> 47));
      if (v9 >= v10) {
        unint64_t v4 = v9 % v10;
      }
    }

    else
    {
      unint64_t v4 = v9 & (v10 - 1);
    }

    unint64_t v12 = *(void **)(*(void *)a1 + 8 * v4);
    if (v12)
    {
      uint64_t result = (void *)*v12;
      if (*v12)
      {
        if (v11.u32[0] < 2uLL)
        {
          while (1)
          {
            uint64_t v15 = result[1];
            if (v15 == v9)
            {
              if (result[2] == v6) {
                return result;
              }
            }

            else if ((v15 & (v10 - 1)) != v4)
            {
              goto LABEL_23;
            }

            uint64_t result = (void *)*result;
            if (!result) {
              goto LABEL_23;
            }
          }
        }

        do
        {
          unint64_t v14 = result[1];
          if (v14 == v9)
          {
            if (result[2] == v6) {
              return result;
            }
          }

          else
          {
            if (v14 >= v10) {
              v14 %= v10;
            }
            if (v14 != v4) {
              break;
            }
          }

          uint64_t result = (void *)*result;
        }

        while (result);
      }
    }
  }

void sub_A2930(_Unwind_Exception *a1, uint64_t a2, ...)
{
}

size_t std::__hash_table<std::__hash_value_type<void const*,std::string>,std::__unordered_map_hasher<void const*,std::__hash_value_type<void const*,std::string>,std::hash<void const*>,std::equal_to<void const*>,true>,std::__unordered_map_equal<void const*,std::__hash_value_type<void const*,std::string>,std::equal_to<void const*>,std::hash<void const*>,true>,std::allocator<std::__hash_value_type<void const*,std::string>>>::__construct_node_hash<void const*&,char const*&>@<X0>( uint64_t a1@<X0>, uint64_t a2@<X1>, void *a3@<X2>, const char **a4@<X3>, uint64_t a5@<X8>)
{
  uint64_t v9 = a1 + 16;
  unint64_t v10 = operator new(0x30uLL);
  *(void *)a5 = v10;
  *(void *)(a5 + 8) = v9;
  *(_BYTE *)(a5 + 16) = 0;
  void *v10 = 0LL;
  v10[1] = a2;
  v10[2] = *a3;
  uint8x8_t v11 = v10 + 3;
  unint64_t v12 = *a4;
  size_t result = strlen(*a4);
  if (result >= 0x7FFFFFFFFFFFFFF8LL) {
    std::string::__throw_length_error[abi:ne180100]();
  }
  size_t v14 = result;
  if (result >= 0x17)
  {
    uint64_t v15 = (result & 0xFFFFFFFFFFFFFFF8LL) + 8;
    if ((result | 7) != 0x17) {
      uint64_t v15 = result | 7;
    }
    uint64_t v16 = v15 + 1;
    uint8x8_t v11 = operator new(v15 + 1);
    v10[4] = v14;
    v10[5] = v16 | 0x8000000000000000LL;
    v10[3] = v11;
  }

  else
  {
    *((_BYTE *)v10 + 47) = result;
    if (!result) {
      goto LABEL_9;
    }
  }

  size_t result = (size_t)memmove(v11, v12, v14);
LABEL_9:
  *((_BYTE *)v11 + atomic_store(0, v14) = 0;
  *(_BYTE *)(a5 + 16) = 1;
  return result;
}

void sub_A2A2C(_Unwind_Exception *a1)
{
}

uint64_t *std::unique_ptr<std::__hash_node<std::__hash_value_type<void const*,std::string>,void *>,std::__hash_node_destructor<std::allocator<std::__hash_node<std::__hash_value_type<void const*,std::string>,void *>>>>::~unique_ptr[abi:ne180100]( uint64_t *a1)
{
  uint64_t v2 = *a1;
  *a1 = 0LL;
  if (v2)
  {
    operator delete((void *)v2);
  }

  return a1;
}

void *std::__hash_table<std::__hash_value_type<unsigned long long,std::string>,std::__unordered_map_hasher<unsigned long long,std::__hash_value_type<unsigned long long,std::string>,std::hash<unsigned long long>,std::equal_to<unsigned long long>,true>,std::__unordered_map_equal<unsigned long long,std::__hash_value_type<unsigned long long,std::string>,std::equal_to<unsigned long long>,std::hash<unsigned long long>,true>,std::allocator<std::__hash_value_type<unsigned long long,std::string>>>::__emplace_unique_key_args<unsigned long long,unsigned long long &,char (&)[256]>( uint64_t a1, uint64_t *a2, void *a3, const char *a4)
{
  unint64_t v6 = *a2;
  unint64_t v7 = *(void *)(a1 + 8);
  if (v7)
  {
    uint8x8_t v8 = (uint8x8_t)vcnt_s8((int8x8_t)v7);
    v8.i16[0] = vaddlv_u8(v8);
    if (v8.u32[0] > 1uLL)
    {
      unint64_t v4 = *a2;
      if (v6 >= v7) {
        unint64_t v4 = v6 % v7;
      }
    }

    else
    {
      unint64_t v4 = (v7 - 1) & v6;
    }

    uint64_t v9 = *(void **)(*(void *)a1 + 8 * v4);
    if (v9)
    {
      size_t result = (void *)*v9;
      if (*v9)
      {
        if (v8.u32[0] < 2uLL)
        {
          while (1)
          {
            uint64_t v12 = result[1];
            if (v12 == v6)
            {
              if (result[2] == v6) {
                return result;
              }
            }

            else if ((v12 & (v7 - 1)) != v4)
            {
              goto LABEL_23;
            }

            size_t result = (void *)*result;
            if (!result) {
              goto LABEL_23;
            }
          }
        }

        do
        {
          unint64_t v11 = result[1];
          if (v11 == v6)
          {
            if (result[2] == v6) {
              return result;
            }
          }

          else
          {
            if (v11 >= v7) {
              v11 %= v7;
            }
            if (v11 != v4) {
              break;
            }
          }

          size_t result = (void *)*result;
        }

        while (result);
      }
    }
  }

void sub_A2DA0(_Unwind_Exception *a1, uint64_t a2, ...)
{
}

size_t std::__hash_table<std::__hash_value_type<unsigned long long,std::string>,std::__unordered_map_hasher<unsigned long long,std::__hash_value_type<unsigned long long,std::string>,std::hash<unsigned long long>,std::equal_to<unsigned long long>,true>,std::__unordered_map_equal<unsigned long long,std::__hash_value_type<unsigned long long,std::string>,std::equal_to<unsigned long long>,std::hash<unsigned long long>,true>,std::allocator<std::__hash_value_type<unsigned long long,std::string>>>::__construct_node_hash<unsigned long long &,char (&)[256]>@<X0>( uint64_t a1@<X0>, uint64_t a2@<X1>, void *a3@<X2>, const char *a4@<X3>, uint64_t a5@<X8>)
{
  uint64_t v9 = a1 + 16;
  unint64_t v10 = operator new(0x30uLL);
  *(void *)a5 = v10;
  *(void *)(a5 + 8) = v9;
  *(_BYTE *)(a5 + 16) = 0;
  void *v10 = 0LL;
  v10[1] = a2;
  v10[2] = *a3;
  unint64_t v11 = v10 + 3;
  size_t result = strlen(a4);
  if (result >= 0x7FFFFFFFFFFFFFF8LL) {
    std::string::__throw_length_error[abi:ne180100]();
  }
  size_t v13 = result;
  if (result >= 0x17)
  {
    uint64_t v14 = (result & 0xFFFFFFFFFFFFFFF8LL) + 8;
    if ((result | 7) != 0x17) {
      uint64_t v14 = result | 7;
    }
    uint64_t v15 = v14 + 1;
    unint64_t v11 = operator new(v14 + 1);
    v10[4] = v13;
    v10[5] = v15 | 0x8000000000000000LL;
    v10[3] = v11;
  }

  else
  {
    *((_BYTE *)v10 + 47) = result;
    if (!result) {
      goto LABEL_9;
    }
  }

  size_t result = (size_t)memcpy(v11, a4, v13);
LABEL_9:
  *((_BYTE *)v11 + v13) = 0;
  *(_BYTE *)(a5 + 16) = 1;
  return result;
}

void sub_A2E98(_Unwind_Exception *a1)
{
}

void wrapper_encode_texture_format_info(ContextInfo *a1, uint64_t a2, int a3, const void *a4)
{
  v20[0] = 0LL;
  v20[1] = 0LL;
  int v21 = 0;
  memset(v16, 0, sizeof(v16));
  int v17 = 0;
  uint64_t v18 = 0x100000001LL;
  v19[0] = 0LL;
  *(void *)((char *)v19 + 5) = 0LL;
  uint64_t v5 = *((void *)a1 + 4);
  v15[0] = a1;
  v15[1] = v5;
  GPUTools::GL::GetImageInfo(v15, *((unsigned int *)a1 + 864), a2, a3 & ~(a3 >> 31), v16);
  GPUTools::FB::Encode((uint64_t)v20, 4294955024LL, 0x2000LL, (uint64_t)"Cietee", v6, v7, v8, v9, *(void *)a1);
  unint64_t v11 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v10) defaultFbufStream];
  uint64_t v12 = (unsigned int *)((char *)v11 + 56);
  do
    unsigned int v13 = __ldaxr(v12);
  while (__stlxr(1u, v12));
  if (v13 == 1)
  {
    do
    {
      while (*v12 == 1)
        ;
      do
        unsigned int v14 = __ldaxr(v12);
      while (__stlxr(1u, v12));
    }

    while (v14 == 1);
  }

  GPUTools::FB::Stream::Write_nolock(v11, (GPUTools::FB::Fbuf *)v20, *(unsigned int *)v20[0], 1);
  atomic_store(0, v12);
  if (v20[0]) {
    free(v20[0]);
  }
}

{
  uint64_t v5;
  uint64_t v6;
  uint64_t v7;
  uint64_t v8;
  uint64_t v9;
  uint64_t v10;
  GPUTools::FB::Stream *v11;
  unsigned int *v12;
  unsigned int v13;
  unsigned int v14;
  void v15[2];
  void v16[3];
  int v17;
  uint64_t v18;
  void v19[2];
  void *v20[2];
  int v21;
  v20[0] = 0LL;
  v20[1] = 0LL;
  int v21 = 0;
  memset(v16, 0, sizeof(v16));
  int v17 = 0;
  uint64_t v18 = 0x100000001LL;
  v19[0] = 0LL;
  *(void *)((char *)v19 + 5) = 0LL;
  uint64_t v5 = *((void *)a1 + 4);
  v15[0] = a1;
  v15[1] = v5;
  GPUTools::GL::GetImageInfo(v15, *((unsigned int *)a1 + 864), a2, a3 & ~(a3 >> 31), v16);
  GPUTools::FB::Encode((uint64_t)v20, 4294955024LL, 0x2000LL, (uint64_t)"Cietee", v6, v7, v8, v9, *(void *)a1);
  unint64_t v11 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v10) defaultFbufStream];
  uint64_t v12 = (unsigned int *)((char *)v11 + 56);
  do
    unsigned int v13 = __ldaxr(v12);
  while (__stlxr(1u, v12));
  if (v13 == 1)
  {
    do
    {
      while (*v12 == 1)
        ;
      do
        unsigned int v14 = __ldaxr(v12);
      while (__stlxr(1u, v12));
    }

    while (v14 == 1);
  }

  GPUTools::FB::Stream::Write_nolock(v11, (GPUTools::FB::Fbuf *)v20, *(unsigned int *)v20[0], 1);
  atomic_store(0, v12);
  if (v20[0]) {
    free(v20[0]);
  }
}

void sub_A2FBC(_Unwind_Exception *exception_object)
{
  unint64_t v4 = *(void **)(v2 - 40);
  if (v4) {
    free(v4);
  }
  _Unwind_Resume(exception_object);
}

void wrapper_encode_texture_format_info( ContextInfo *a1, const void *a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  v13[0] = 0LL;
  v13[1] = 0LL;
  int v14 = 0;
  GPUTools::FB::Encode((uint64_t)v13, 4294955024LL, 0x2000LL, (uint64_t)"Cietee", a5, a6, a7, a8, (char)a1);
  uint64_t v9 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v8) defaultFbufStream];
  uint64_t v10 = (unsigned int *)((char *)v9 + 56);
  do
    unsigned int v11 = __ldaxr(v10);
  while (__stlxr(1u, v10));
  if (v11 == 1)
  {
    do
    {
      while (*v10 == 1)
        ;
      do
        unsigned int v12 = __ldaxr(v10);
      while (__stlxr(1u, v10));
    }

    while (v12 == 1);
  }

  GPUTools::FB::Stream::Write_nolock(v9, (GPUTools::FB::Fbuf *)v13, *(unsigned int *)v13[0], 1);
  atomic_store(0, v10);
  if (v13[0]) {
    free(v13[0]);
  }
}

{
  uint64_t v8;
  GPUTools::FB::Stream *v9;
  unsigned int *v10;
  unsigned int v11;
  unsigned int v12;
  void *v13[2];
  int v14;
  v13[0] = 0LL;
  v13[1] = 0LL;
  int v14 = 0;
  GPUTools::FB::Encode((uint64_t)v13, 4294955024LL, 0x2000LL, (uint64_t)"Cietee", a5, a6, a7, a8, (char)a1);
  uint64_t v9 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v8) defaultFbufStream];
  uint64_t v10 = (unsigned int *)((char *)v9 + 56);
  do
    unsigned int v11 = __ldaxr(v10);
  while (__stlxr(1u, v10));
  if (v11 == 1)
  {
    do
    {
      while (*v10 == 1)
        ;
      do
        unsigned int v12 = __ldaxr(v10);
      while (__stlxr(1u, v10));
    }

    while (v12 == 1);
  }

  GPUTools::FB::Stream::Write_nolock(v9, (GPUTools::FB::Fbuf *)v13, *(unsigned int *)v13[0], 1);
  atomic_store(0, v10);
  if (v13[0]) {
    free(v13[0]);
  }
}

void sub_A30A0(_Unwind_Exception *exception_object)
{
  uint64_t v3 = v1;
  atomic_store(0, v3);
  uint64_t v5 = *(void **)(v2 - 40);
  if (v5) {
    free(v5);
  }
  _Unwind_Resume(exception_object);
}

void __Block_byref_object_copy_(uint64_t a1, uint64_t a2)
{
  if (a1 != a2)
  {
    uint64_t v4 = a2 + 48;
    uint64_t v5 = *(void **)(a1 + 48);
    if (v5) {
      free(v5);
    }
    *(void *)(a1 + 48) = *(void *)(a2 + 48);
    *(void *)(a1 + 56) = *(void *)(a2 + 56);
    *(_DWORD *)(a1 + 64) = *(_DWORD *)(a2 + 64);
    *(void *)uint64_t v4 = 0LL;
    *(void *)(v4 + 8) = 0LL;
    *(_DWORD *)(v4 + 16) = 0;
  }

void __Block_byref_object_dispose_(uint64_t a1)
{
  uint64_t v2 = a1 + 48;
  v1 = *(void **)(a1 + 48);
  if (v1) {
    free(v1);
  }
  *(void *)uint64_t v2 = 0LL;
  *(void *)(v2 + 8) = 0LL;
  *(_DWORD *)(v2 + 16) = 0;
}

void ___ZL16link_program_ARBP15__GLIContextRecPv_block_invoke( uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v10 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v9) defaultFbufStream];
  unsigned int v11 = (GPUTools::FB::Fbuf *)(*(void *)(*(void *)(a1 + 32) + 8LL) + 48LL);
  unsigned int v12 = (unsigned int *)((char *)v10 + 56);
  do
    unsigned int v13 = __ldaxr(v12);
  while (__stlxr(1u, v12));
  if (v13 == 1)
  {
    do
    {
      while (*v12 == 1)
        ;
      do
        unsigned int v14 = __ldaxr(v12);
      while (__stlxr(1u, v12));
    }

    while (v14 == 1);
  }

  GPUTools::FB::Stream::Write_nolock(v10, v11, **(unsigned int **)v11, 1);
  atomic_store(0, v12);
}

void sub_A321C(_Unwind_Exception *a1)
{
}

void ___ZL16link_program_ARBP15__GLIContextRecPv_block_invoke_2( uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v10 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v9) defaultFbufStream];
  unsigned int v11 = (GPUTools::FB::Fbuf *)(*(void *)(*(void *)(a1 + 32) + 8LL) + 48LL);
  unsigned int v12 = (unsigned int *)((char *)v10 + 56);
  do
    unsigned int v13 = __ldaxr(v12);
  while (__stlxr(1u, v12));
  if (v13 == 1)
  {
    do
    {
      while (*v12 == 1)
        ;
      do
        unsigned int v14 = __ldaxr(v12);
      while (__stlxr(1u, v12));
    }

    while (v14 == 1);
  }

  GPUTools::FB::Stream::Write_nolock(v10, v11, **(unsigned int **)v11, 1);
  atomic_store(0, v12);
}

void sub_A32F4(_Unwind_Exception *a1)
{
}

void ___ZL16link_program_ARBP15__GLIContextRecPv_block_invoke_3( uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v10 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v9) defaultFbufStream];
  unsigned int v11 = (GPUTools::FB::Fbuf *)(*(void *)(*(void *)(a1 + 32) + 8LL) + 48LL);
  unsigned int v12 = (unsigned int *)((char *)v10 + 56);
  do
    unsigned int v13 = __ldaxr(v12);
  while (__stlxr(1u, v12));
  if (v13 == 1)
  {
    do
    {
      while (*v12 == 1)
        ;
      do
        unsigned int v14 = __ldaxr(v12);
      while (__stlxr(1u, v12));
    }

    while (v14 == 1);
  }

  GPUTools::FB::Stream::Write_nolock(v10, v11, **(unsigned int **)v11, 1);
  atomic_store(0, v12);
}

void sub_A33CC(_Unwind_Exception *a1)
{
}

void ___ZL16link_program_ARBP15__GLIContextRecPv_block_invoke_4( uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v10 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v9) defaultFbufStream];
  unsigned int v11 = (GPUTools::FB::Fbuf *)(*(void *)(*(void *)(a1 + 32) + 8LL) + 48LL);
  unsigned int v12 = (unsigned int *)((char *)v10 + 56);
  do
    unsigned int v13 = __ldaxr(v12);
  while (__stlxr(1u, v12));
  if (v13 == 1)
  {
    do
    {
      while (*v12 == 1)
        ;
      do
        unsigned int v14 = __ldaxr(v12);
      while (__stlxr(1u, v12));
    }

    while (v14 == 1);
  }

  GPUTools::FB::Stream::Write_nolock(v10, v11, **(unsigned int **)v11, 1);
  atomic_store(0, v12);
}

void sub_A34A4(_Unwind_Exception *a1)
{
}

void ___ZL16link_program_ARBP15__GLIContextRecPv_block_invoke_5( uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v10 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v9) defaultFbufStream];
  unsigned int v11 = (GPUTools::FB::Fbuf *)(*(void *)(*(void *)(a1 + 32) + 8LL) + 48LL);
  unsigned int v12 = (unsigned int *)((char *)v10 + 56);
  do
    unsigned int v13 = __ldaxr(v12);
  while (__stlxr(1u, v12));
  if (v13 == 1)
  {
    do
    {
      while (*v12 == 1)
        ;
      do
        unsigned int v14 = __ldaxr(v12);
      while (__stlxr(1u, v12));
    }

    while (v14 == 1);
  }

  GPUTools::FB::Stream::Write_nolock(v10, v11, **(unsigned int **)v11, 1);
  atomic_store(0, v12);
}

void sub_A359C(_Unwind_Exception *a1)
{
}

uint64_t wrapper_map_uniform_loc(ContextInfo *a1, volatile int *a2, uint64_t a3)
{
  unsigned int v4 = a2;
  uint64_t v6 = (GPUTools::DYLockUtils *)(*((void *)a1 + 5) + 144LL);
  GPUTools::DYLockUtils::Lock(v6, a2);
  uint64_t v8 = *((void *)a1 + 5);
  unint64_t v9 = *(void *)(v8 + 112);
  if (!v9) {
    goto LABEL_45;
  }
  uint8x8_t v10 = (uint8x8_t)vcnt_s8((int8x8_t)v9);
  v10.i16[0] = vaddlv_u8(v10);
  if (v10.u32[0] > 1uLL)
  {
    unint64_t v11 = v4;
    if (v9 <= v4) {
      unint64_t v11 = v4 % v9;
    }
  }

  else
  {
    unint64_t v11 = ((_DWORD)v9 - 1) & v4;
  }

  unsigned int v12 = *(uint64_t ***)(*(void *)(v8 + 104) + 8 * v11);
  if (!v12) {
    goto LABEL_45;
  }
  unsigned int v13 = *v12;
  if (!v13) {
    goto LABEL_45;
  }
  if (v10.u32[0] >= 2uLL)
  {
    while (1)
    {
      unint64_t v15 = v13[1];
      if (v15 == v4)
      {
        if (*((_DWORD *)v13 + 4) == v4)
        {
LABEL_22:
          uint64_t v17 = v13[3];
          if (*(_BYTE *)(v17 + 376))
          {
            unint64_t v18 = *(void *)(v17 + 336);
            if (v18)
            {
              uint8x8_t v19 = (uint8x8_t)vcnt_s8((int8x8_t)v18);
              v19.i16[0] = vaddlv_u8(v19);
              if (v19.u32[0] > 1uLL)
              {
                unint64_t v20 = (int)a3;
              }

              else
              {
                unint64_t v20 = (v18 - 1) & (int)a3;
              }

              int v21 = *(uint64_t ***)(*(void *)(v17 + 328) + 8 * v20);
              if (v21)
              {
                uint8x8_t v22 = *v21;
                if (v22)
                {
                  if (v19.u32[0] < 2uLL)
                  {
                    unint64_t v23 = v18 - 1;
                    while (1)
                    {
                      uint64_t v25 = v22[1];
                      if (v25 == (int)a3)
                      {
                        if (*((_DWORD *)v22 + 4) == (_DWORD)a3) {
                          goto LABEL_44;
                        }
                      }

                      else if ((v25 & v23) != v20)
                      {
                        goto LABEL_45;
                      }

                      uint8x8_t v22 = (uint64_t *)*v22;
                      if (!v22) {
                        goto LABEL_45;
                      }
                    }
                  }

                  while (1)
                  {
                    unint64_t v24 = v22[1];
                    if (v24 == (int)a3)
                    {
                      if (*((_DWORD *)v22 + 4) == (_DWORD)a3)
                      {
LABEL_44:
                        a3 = *((unsigned int *)v22 + 5);
                        goto LABEL_45;
                      }
                    }

                    else
                    {
                      if (v24 >= v18) {
                        v24 %= v18;
                      }
                      if (v24 != v20) {
                        goto LABEL_45;
                      }
                    }

                    uint8x8_t v22 = (uint64_t *)*v22;
                    if (!v22) {
                      goto LABEL_45;
                    }
                  }
                }
              }
            }
          }

          goto LABEL_45;
        }
      }

      else
      {
        if (v15 >= v9) {
          v15 %= v9;
        }
        if (v15 != v11) {
          goto LABEL_45;
        }
      }

      unsigned int v13 = (uint64_t *)*v13;
      if (!v13) {
        goto LABEL_45;
      }
    }
  }

  unint64_t v14 = v9 - 1;
  do
  {
    uint64_t v16 = v13[1];
    if (v16 == v4)
    {
      if (*((_DWORD *)v13 + 4) == v4) {
        goto LABEL_22;
      }
    }

    else if ((v16 & v14) != v11)
    {
      break;
    }

    unsigned int v13 = (uint64_t *)*v13;
  }

  while (v13);
LABEL_45:
  GPUTools::DYLockUtils::Unlock(v6, v7);
  return a3;
}

void wrapper_copyout_mapped_buffer_data(ContextInfo *a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v21 = 0LL;
  uint64_t v7 = (*(uint64_t (**)(void, uint64_t, uint64_t, uint64_t *))(*((void *)a1 + 4) + 5216LL))( *((void *)a1 + 2),  a2,  35005LL,  &v21);
  if (v21)
  {
    uint64_t v8 = v21 + a3;
    uint64_t v9 = DYGetGLGuestAppClient(v7);
    GPUTools::Interpose::DYSavePointer(v9, a4, v8, (char *)a1 + 4644, 65LL, 0LL, 1LL, 0LL, 0LL);
    v19[0] = 0LL;
    v19[1] = 0LL;
    int v20 = 0;
    GPUTools::FB::Encode((uint64_t)v19, 4294955017LL, 4LL, (uint64_t)"CeUll", v10, v11, v12, v13, *(void *)a1);
    unint64_t v15 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v14) defaultFbufStream];
    uint64_t v16 = (unsigned int *)((char *)v15 + 56);
    do
      unsigned int v17 = __ldaxr(v16);
    while (__stlxr(1u, v16));
    if (v17 == 1)
    {
      do
      {
        while (*v16 == 1)
          ;
        do
          unsigned int v18 = __ldaxr(v16);
        while (__stlxr(1u, v16));
      }

      while (v18 == 1);
    }

    GPUTools::FB::Stream::Write_nolock(v15, (GPUTools::FB::Fbuf *)v19, *(unsigned int *)v19[0], 1);
    atomic_store(0, v16);
    if (v19[0]) {
      free(v19[0]);
    }
  }

void sub_A38E0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, void *a15)
{
  if (a15) {
    free(a15);
  }
  _Unwind_Resume(exception_object);
}

void wrapper_copyout_harvest_list_buffer(char **a1, uint64_t a2)
{
  unsigned int bound_buffer = wrapper_cache_get_bound_buffer((ContextInfo *)a1, a2);
  uint64_t v6 = a1[9];
  uint64_t v5 = a1[10];
  if (v5 == v6) {
    return;
  }
  unint64_t v7 = (v5 - v6) >> 2;
  do
  {
    unint64_t v8 = v7 >> 1;
    uint64_t v9 = &v6[4 * (v7 >> 1)];
    unsigned int v11 = *(_DWORD *)v9;
    uint64_t v10 = v9 + 4;
    v7 += ~(v7 >> 1);
    if (v11 < bound_buffer) {
      uint64_t v6 = v10;
    }
    else {
      unint64_t v7 = v8;
    }
  }

  while (v7);
  if (v5 == v6 || *(_DWORD *)v6 != bound_buffer) {
    return;
  }
  int64_t v12 = v5 - (v6 + 4);
  if (v5 != v6 + 4) {
    memmove(v6, v6 + 4, v5 - (v6 + 4));
  }
  a1[10] = &v6[v12];
  uint64_t v13 = a1[4];
  uint64_t v30 = a1;
  id v31 = v13;
  uint64_t BufferSize = GPUTools::GL::GetBufferSize(&v30, *((unsigned int *)a1 + 864), a2);
  (*((void (**)(char *, uint64_t, uint64_t, int *))a1[4] + 651))(a1[2], a2, 34661LL, &v33);
  unint64_t v15 = a1[4];
  uint64_t v16 = a1[2];
  if (*((_BYTE *)a1 + 4844))
  {
    uint64_t v17 = (*((uint64_t (**)(char *, uint64_t, uint64_t))v15 + 649))(v16, a2, 35000LL);
    uint64_t v18 = v17;
    if (v17) {
      goto LABEL_15;
    }
LABEL_24:
    __assert_rtn( "void wrapper_copyout_harvest_list_buffer(ContextInfo *, GLenum)",  (const char *)&unk_1F0B16,  0,  "mapPointer");
  }

  uint64_t v17 = (*((uint64_t (**)(char *, uint64_t, void, uint64_t, uint64_t))v15 + 795))( v16,  a2,  0LL,  BufferSize,  1LL);
  uint64_t v18 = v17;
  if (!v17) {
    goto LABEL_24;
  }
LABEL_15:
  uint64_t v19 = DYGetGLGuestAppClient(v17);
  GPUTools::Interpose::DYSavePointer(v19, BufferSize, v18, (char *)a1 + 4644, 65LL, 0LL, 1LL, 0LL, 0LL);
  uint64_t v30 = 0LL;
  id v31 = 0LL;
  int v32 = 0;
  GPUTools::FB::Encode((uint64_t)&v30, 29LL, 4LL, (uint64_t)"CelUe", v20, v21, v22, v23, (char)*a1);
  uint64_t v25 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v24) defaultFbufStream];
  uint64_t v26 = (unsigned int *)((char *)v25 + 56);
  do
    unsigned int v27 = __ldaxr(v26);
  while (__stlxr(1u, v26));
  if (v27 == 1)
  {
    do
    {
      while (*v26 == 1)
        ;
      do
        unsigned int v28 = __ldaxr(v26);
      while (__stlxr(1u, v26));
    }

    while (v28 == 1);
  }

  __n128 v29 = GPUTools::FB::Stream::Write_nolock(v25, (GPUTools::FB::Fbuf *)&v30, *(unsigned int *)v30, 1);
  atomic_store(0, v26);
  (*((void (**)(char *, uint64_t, __n128))a1[4] + 650))(a1[2], a2, v29);
  if (v30) {
    free(v30);
  }
}

void sub_A3B54( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, void *a15)
{
  if (a15) {
    free(a15);
  }
  _Unwind_Resume(exception_object);
}

void ___ZL22create_shader_programvP15__GLIContextRecjiPPKc_block_invoke( uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v10 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v9) defaultFbufStream];
  unsigned int v11 = (GPUTools::FB::Fbuf *)(*(void *)(*(void *)(a1 + 32) + 8LL) + 48LL);
  int64_t v12 = (unsigned int *)((char *)v10 + 56);
  do
    unsigned int v13 = __ldaxr(v12);
  while (__stlxr(1u, v12));
  if (v13 == 1)
  {
    do
    {
      while (*v12 == 1)
        ;
      do
        unsigned int v14 = __ldaxr(v12);
      while (__stlxr(1u, v12));
    }

    while (v14 == 1);
  }

  GPUTools::FB::Stream::Write_nolock(v10, v11, **(unsigned int **)v11, 1);
  atomic_store(0, v12);
}

void sub_A3C48(_Unwind_Exception *a1)
{
}

void ___ZL22create_shader_programvP15__GLIContextRecjiPPKc_block_invoke_2( uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v10 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v9) defaultFbufStream];
  unsigned int v11 = (GPUTools::FB::Fbuf *)(*(void *)(*(void *)(a1 + 32) + 8LL) + 48LL);
  int64_t v12 = (unsigned int *)((char *)v10 + 56);
  do
    unsigned int v13 = __ldaxr(v12);
  while (__stlxr(1u, v12));
  if (v13 == 1)
  {
    do
    {
      while (*v12 == 1)
        ;
      do
        unsigned int v14 = __ldaxr(v12);
      while (__stlxr(1u, v12));
    }

    while (v14 == 1);
  }

  GPUTools::FB::Stream::Write_nolock(v10, v11, **(unsigned int **)v11, 1);
  atomic_store(0, v12);
}

void sub_A3D20(_Unwind_Exception *a1)
{
}

void ___ZL22create_shader_programvP15__GLIContextRecjiPPKc_block_invoke_3( uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v10 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v9) defaultFbufStream];
  unsigned int v11 = (GPUTools::FB::Fbuf *)(*(void *)(*(void *)(a1 + 32) + 8LL) + 48LL);
  int64_t v12 = (unsigned int *)((char *)v10 + 56);
  do
    unsigned int v13 = __ldaxr(v12);
  while (__stlxr(1u, v12));
  if (v13 == 1)
  {
    do
    {
      while (*v12 == 1)
        ;
      do
        unsigned int v14 = __ldaxr(v12);
      while (__stlxr(1u, v12));
    }

    while (v14 == 1);
  }

  GPUTools::FB::Stream::Write_nolock(v10, v11, **(unsigned int **)v11, 1);
  atomic_store(0, v12);
}

void sub_A3DF8(_Unwind_Exception *a1)
{
}

void ___ZL22create_shader_programvP15__GLIContextRecjiPPKc_block_invoke_4( uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v10 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v9) defaultFbufStream];
  unsigned int v11 = (GPUTools::FB::Fbuf *)(*(void *)(*(void *)(a1 + 32) + 8LL) + 48LL);
  int64_t v12 = (unsigned int *)((char *)v10 + 56);
  do
    unsigned int v13 = __ldaxr(v12);
  while (__stlxr(1u, v12));
  if (v13 == 1)
  {
    do
    {
      while (*v12 == 1)
        ;
      do
        unsigned int v14 = __ldaxr(v12);
      while (__stlxr(1u, v12));
    }

    while (v14 == 1);
  }

  GPUTools::FB::Stream::Write_nolock(v10, v11, **(unsigned int **)v11, 1);
  atomic_store(0, v12);
}

void sub_A3EF0(_Unwind_Exception *a1)
{
}

void ___ZL22create_shader_programvP15__GLIContextRecjiPPKc_block_invoke_5( uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v10 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v9) defaultFbufStream];
  unsigned int v11 = (GPUTools::FB::Fbuf *)(*(void *)(*(void *)(a1 + 32) + 8LL) + 48LL);
  int64_t v12 = (unsigned int *)((char *)v10 + 56);
  do
    unsigned int v13 = __ldaxr(v12);
  while (__stlxr(1u, v12));
  if (v13 == 1)
  {
    do
    {
      while (*v12 == 1)
        ;
      do
        unsigned int v14 = __ldaxr(v12);
      while (__stlxr(1u, v12));
    }

    while (v14 == 1);
  }

  GPUTools::FB::Stream::Write_nolock(v10, v11, **(unsigned int **)v11, 1);
  atomic_store(0, v12);
}

void sub_A3FBC(_Unwind_Exception *a1)
{
}

void ___ZL24delete_program_pipelinesP15__GLIContextReciPKj_block_invoke(uint64_t a1)
{
  char v2 = byte_2071D1;
  if ((byte_2071D1 & 1) != 0)
  {
    breakpoint_break( *(void *)(*(void *)(a1 + 32) + 8LL) + 48LL,  (volatile int *)((char *)&stru_338.flags + 1),  1LL,  *(unsigned int *)(*(void *)(a1 + 40) + 3404LL),  *(void *)(a1 + 40));
    uint64_t v3 = (uint64_t)[(id)DYGetGLGuestAppClient(v19) overrideFlags];
    if (v3 & 0x10 | v2 & 4) {
      goto LABEL_7;
    }
  }

  else
  {
    uint64_t v3 = (uint64_t)[(id)DYGetGLGuestAppClient(a1) overrideFlags];
    if (v3 & 0x10 | v2 & 4) {
      goto LABEL_7;
    }
  }

  uint64_t v4 = mach_absolute_time();
  (*(void (**)(void, void, void))(*(void *)(*(void *)(a1 + 40) + 32LL) + 6584LL))( *(void *)(a1 + 48),  *(unsigned int *)(a1 + 64),  *(void *)(a1 + 56));
  uint64_t v3 = mach_absolute_time();
  uint64_t v5 = v3 - v4;
  unint64_t v6 = g_DYTimebaseInfo;
  if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
  {
    *(void *)(*(void *)(*(void *)(*(void *)(a1 + 32) + 8LL) + 48LL) + 24LL) = v5;
  }

  else
  {
    *(void *)(*(void *)(*(void *)(*(void *)(a1 + 32) + 8LL) + 48LL) + 24LL) = __udivti3( v5 * g_DYTimebaseInfo,  (v5 * (unsigned __int128)g_DYTimebaseInfo) >> 64);
    uint64_t v3 = __udivti3(v6 * v4, (v6 * (unsigned __int128)v4) >> 64);
    uint64_t v4 = v3;
  }

  *(void *)(*(void *)(*(void *)(*(void *)(a1 + 32) + 8LL) + 48LL) + 16LL) = v4;
  if (gCheckGLErrors) {
    uint64_t v3 = check_errors(*(void *)(a1 + 40));
  }
LABEL_7:
  id v7 = objc_msgSend(objc_msgSend((id)DYGetGLGuestAppClient(v3), "activeCaptureDescriptor"), "includeBacktraceInFbufs");
  if ((_DWORD)v7) {
    id v7 = (id)GPUTools::FB::EncodeCurrentBacktrace((GPUTools::FB *)(*(void *)(*(void *)(a1 + 32) + 8LL) + 48LL), v8);
  }
  uint64_t v10 = (GPUTools::FB::Fbuf *)*(unsigned int *)(*(void *)(a1 + 40) + 3404LL);
  if ((_DWORD)v10)
  {
    uint64_t v20 = GPUTools::FB::EncodeGLError((GPUTools::FB *)(*(void *)(*(void *)(a1 + 32) + 8LL) + 48LL), v10, v9);
    if (!objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v20), "activeCaptureDescriptor"),  "queryDriverEventsOnGraphicsCommands")) {
      goto LABEL_12;
    }
    goto LABEL_11;
  }

  if (objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v7), "activeCaptureDescriptor"),  "queryDriverEventsOnGraphicsCommands")) {
LABEL_11:
  }
    encode_driver_events(*(id **)(a1 + 40), *(void *)(*(void *)(a1 + 32) + 8LL) + 48LL);
LABEL_12:
  unsigned int v11 = GPUTools::FB::EncodeThreadQueueInfo( (void *)(*(void *)(a1 + 40) + 3480LL),  (GPUTools::FB::Fbuf *)(*(void *)(a1 + 40) + 3520LL),  (GPUTools::FB *)(*(void *)(*(void *)(a1 + 32) + 8LL) + 48LL));
  uint64_t v12 = *(void *)(a1 + 40);
  uint64_t v13 = *(unsigned int *)(v12 + 3404);
  if ((_DWORD)v13 && gBreakOnError)
  {
    uint64_t v21 = *(void *)(*(void *)(a1 + 32) + 8LL) + 48LL;
    uint64_t v22 = 0xFFFFFFFFLL;
    uint64_t v23 = 3LL;
LABEL_29:
    breakpoint_break(v21, (volatile int *)v22, v23, v13, v12);
    goto LABEL_15;
  }

  if ((v2 & 2) != 0)
  {
    uint64_t v21 = *(void *)(*(void *)(a1 + 32) + 8LL) + 48LL;
    uint64_t v22 = 889LL;
    uint64_t v23 = 2LL;
    goto LABEL_29;
  }

void sub_A4260(_Unwind_Exception *a1)
{
}

void sub_A4720( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_A4B78( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_A504C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_A5604( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_A5B2C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_A5FF8( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_A651C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_A6A3C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_A6F5C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_A73C4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_A7934( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_A7EA8( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_A8374( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_A87C4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_A8C88( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_A9154( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_A9620( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_A9AEC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_AA0D8( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void draw_elements(__GLIContextRec *a1, uint64_t a2, unint64_t a3, uint64_t a4, const void *a5)
{
  uint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      unsigned int v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    uint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  uint64_t v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    id v48 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v47 = handle_opengl_thread_conflict((const void **)v15);
    id v48 = [(id)DYGetGLGuestAppClient(v47) waitOnGraphicsSemaphoreAssertions];
    if ((int)v48 >= 1)
    {
      do
LABEL_58:
        unsigned int v49 = __ldaxr(v16);
      while (__stlxr(v49 - 1, v16));
      uint64_t v50 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v48) graphicsLockWaitQueue];
      dispatch_sync_f(v50, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, unint64_t, uint64_t, const void *))(*(void *)(v15 + 24)
                                                                                                  + 536LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_WORD *)(v15 + 4838) = 257;
  uint64_t v64 = 0LL;
  uint64_t v65 = 0LL;
  unsigned int v66 = 0;
  if ([(id)DYGetGLGuestAppClient(v48) state] != (char *)&dword_0 + 1
    || (id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v20))
  {
    uint64_t v22 = (uint64_t)v64;
    uint64_t v21 = v65;
    uint64_t v23 = v65 - (void)v64;
    unsigned int v24 = v66;
    unint64_t v25 = v66 - (v65 - (void)v64);
    if (v25 > 0x47) {
      goto LABEL_24;
    }
    int v51 = (327 - v25) & 0xFFFFFF00;
    v66 += v51;
    uint64_t v22 = (uint64_t)malloc(v51 + v24);
    uint64_t v64 = (void *)v22;
    if (v22)
    {
      if ((v22 & 3) == 0)
      {
        uint64_t v21 = v23 + v22;
LABEL_24:
        *(void *)(v21 + 64) = 0LL;
        *(_OWORD *)(v21 + 32) = 0u;
        *(_OWORD *)(v21 + 48) = 0u;
        *(_OWORD *)uint64_t v21 = 0u;
        *(_OWORD *)(v21 + 16) = 0u;
        uint64_t v65 = v21 + 72;
        GPUTools::FB::Fbuf::align((char **)&v64);
        *(_DWORD *)(v22 + 4) = 143;
        *(_DWORD *)(v22 + 32) = 0;
        __uint64_t v63 = 0LL;
        uint64_t v26 = pthread_threadid_np(0LL, &v63);
        *(void *)(v22 + 8) = v63;
        strcpy((char *)(v22 + 36), "Ceiep");
        *(void *)(v22 + 44) = *(void *)v15;
        *(_DWORD *)(v22 + 52) = a2;
        *(_DWORD *)(v22 + 56) = a3;
        *(_DWORD *)(v22 + 60) = a4;
        *(void *)(v22 + 64) = a5;
        LOBYTE(v23) = byte_206EE7;
        if ((byte_206EE7 & 1) != 0) {
          breakpoint_break( (uint64_t)&v64,  (volatile int *)((char *)&stru_68.addr + 7),  1LL,  *(unsigned int *)(v15 + 3404),  v15);
        }
        uint64_t v27 = (uint64_t)[(id)DYGetGLGuestAppClient(v26) overrideFlags];
        if (v27 & 0x10 | v23 & 4) {
          goto LABEL_30;
        }
        id v28 = [(id)DYGetGLGuestAppClient(v27) overrideFlags];
        if (!(_DWORD)v28)
        {
          uint64_t v29 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, unint64_t, uint64_t, const void *))(*(void *)(v15 + 32) + 536LL))( a1,  a2,  a3,  a4,  a5);
          uint64_t v27 = mach_absolute_time();
          uint64_t v30 = v27 - v29;
          unint64_t v31 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            int v32 = v64;
            *((void *)v64 + 2) = v29;
            v32[3] = v30;
            if (!gCheckGLErrors) {
              goto LABEL_30;
            }
          }

          else
          {
            uint64_t v59 = __udivti3(g_DYTimebaseInfo * v30, (g_DYTimebaseInfo * (unsigned __int128)v30) >> 64);
            char v60 = v64;
            *((void *)v64 + 3) = v59;
            uint64_t v27 = __udivti3(v31 * v29, (v31 * (unsigned __int128)v29) >> 64);
            v60[2] = v27;
            if (!gCheckGLErrors) {
              goto LABEL_30;
            }
          }

          uint64_t v27 = check_errors(v15);
LABEL_30:
          id v33 = objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v27), "activeCaptureDescriptor"),  "includeBacktraceInFbufs");
          if ((_DWORD)v33) {
            id v33 = (id)GPUTools::FB::EncodeCurrentBacktrace((GPUTools::FB *)&v64, v34);
          }
          uint64_t v36 = (GPUTools::FB::Fbuf *)*(unsigned int *)(v15 + 3404);
          if ((_DWORD)v36) {
            id v33 = (id)GPUTools::FB::EncodeGLError((GPUTools::FB *)&v64, v36, v35);
          }
          if (objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v33), "activeCaptureDescriptor"),  "queryDriverEventsOnGraphicsCommands")) {
            encode_driver_events((id *)v15, (uint64_t)&v64);
          }
          unsigned int v37 = GPUTools::FB::EncodeThreadQueueInfo( (void *)(v15 + 3480),  (GPUTools::FB::Fbuf *)(v15 + 3520),  (GPUTools::FB *)&v64);
          uint64_t v38 = *(unsigned int *)(v15 + 3404);
          if ((_DWORD)v38 && gBreakOnError)
          {
            uint64_t v52 = 3LL;
            uint64_t v53 = 0xFFFFFFFFLL;
          }

          else
          {
            if ((v23 & 2) == 0) {
              goto LABEL_39;
            }
            uint64_t v52 = 2LL;
            uint64_t v53 = 143LL;
          }

          breakpoint_break((uint64_t)&v64, (volatile int *)v53, v52, v38, v15);
LABEL_39:
          unsigned int v39 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v37) defaultFbufStream];
          unsigned int v40 = (unsigned int *)((char *)v39 + 56);
          do
            unsigned int v41 = __ldaxr(v40);
          while (__stlxr(1u, v40));
          if (v41 == 1)
          {
            do
            {
              while (*v40 == 1)
                ;
              do
                unsigned int v42 = __ldaxr(v40);
              while (__stlxr(1u, v40));
            }

            while (v42 == 1);
          }

          GPUTools::FB::Stream::Write_nolock(v39, (GPUTools::FB::Fbuf *)&v64, *(unsigned int *)v64, 1);
          atomic_store(0, v40);
          do
          {
            unsigned int v43 = __ldaxr(v16);
            signed int v44 = v43 - 1;
          }

          while (__stlxr(v44, v16));
          if (gCheckGLErrors) {
            BOOL v45 = v44 < 1;
          }
          else {
            BOOL v45 = 1;
          }
          if (!v45) {
            handle_opengl_thread_conflict((const void **)v15);
          }
          goto LABEL_52;
        }

        uint64_t v27 = (uint64_t)[(id)DYGetGLGuestAppClient(v28) overrideFlags];
        if ((v27 & 8) != 0) {
          goto LABEL_30;
        }
        __uint64_t v54 = (volatile int *)[(id)DYGetGLGuestAppClient(v27) overrideFlags];
        apply_draw_overrides(v15, v54);
        uint64_t v22 = mach_absolute_time();
        (*(void (**)(__GLIContextRec *, uint64_t, unint64_t, uint64_t, const void *))(*(void *)(v15 + 32) + 536LL))( a1,  a2,  a3,  a4,  a5);
        uint64_t v55 = mach_absolute_time();
        uint64_t v56 = v55 - v22;
        a3 = g_DYTimebaseInfo;
        if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
        {
          unsigned int v57 = v64;
          *((void *)v64 + 2) = v22;
          v57[3] = v56;
          if (!gCheckGLErrors)
          {
LABEL_67:
            int v58 = [(id)DYGetGLGuestAppClient(v55) overrideFlags];
            unapply_draw_overrides(v15, v58);
            goto LABEL_30;
          }

void sub_AA6EC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_AABBC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_AB088( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_AB538( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_AB9E8( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_ABE30( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_AC294( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_AC758( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_ACBF8( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_AD0AC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_AD588( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_ADA88( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, void *a15)
{
  if (a15) {
    free(a15);
  }
  _Unwind_Resume(exception_object);
}

void sub_ADF84( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, void *a15)
{
  if (a15) {
    free(a15);
  }
  _Unwind_Resume(exception_object);
}

void sub_AE450( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_AE91C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_AED94( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_AF1CC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_AF6B8( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_AFBA8( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_B00F4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_B0614( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_B0B04( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_B0FF4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_B14D0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_B19DC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_B1EE8( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_B2328( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_B2784( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_B2C78( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_B30D0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_B35A0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_B3A50( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_B3F40( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_B440C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_B4908( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_B4D60( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_B5224( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_B5714( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_B5C1C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_B606C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_B6544( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_B6A1C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_B6F04( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_B73B4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_B7864( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_B7D30( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_B8294( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(exception_object);
}

void sub_B87C0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_B8CC8( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_B91E0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_B96AC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_B9BAC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_BA078( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_BA574( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_BA9EC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_BAE64( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_BB2D8( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_BB748( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_BBBBC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void tex_image2D( __GLIContextRec *a1, unsigned int a2, unsigned int a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, unsigned int a8, uint64_t a9, const void *a10)
{
  uint64_t v15 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v15) {
    goto LABEL_12;
  }
  uint64_t v16 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v17 = v15[4];
    BOOL v18 = v17 >= (unint64_t)a1;
    else {
      BOOL v19 = v15 + 1;
    }
    if (v18) {
      uint64_t v16 = (uint64_t)v15;
    }
    uint64_t v15 = (void *)*v19;
  }

  while (*v19);
  if (v16 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v16 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v16 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v20 = *(void *)(v16 + 40);
  uint64_t v21 = (unsigned int *)(v20 + 4640);
  do
  {
    unsigned int v22 = __ldaxr(v21);
    signed int v23 = v22 + 1;
  }

  while (__stlxr(v23, v21));
  if (gCheckGLErrors) {
    BOOL v24 = v23 <= 1;
  }
  else {
    BOOL v24 = 1;
  }
  if (v24)
  {
    id v53 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v52 = handle_opengl_thread_conflict((const void **)v20);
    id v53 = [(id)DYGetGLGuestAppClient(v52) waitOnGraphicsSemaphoreAssertions];
    if ((int)v53 >= 1)
    {
      do
LABEL_57:
        unsigned int v54 = __ldaxr(v21);
      while (__stlxr(v54 - 1, v21));
      uint64_t v55 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v53) graphicsLockWaitQueue];
      dispatch_sync_f(v55, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, void, void, uint64_t, uint64_t, uint64_t, uint64_t, void, uint64_t, const void *))(*(void *)(v20 + 24) + 2408LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9,  a10);
      return;
    }
  }

  *(_BYTE *)(v20 + 4838) = 1;
  uint64_t v65 = 0LL;
  unsigned int v66 = 0LL;
  unsigned int v67 = 0;
  if ([(id)DYGetGLGuestAppClient(v53) state] != (char *)&dword_0 + 1
    || (id v25 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v25))
  {
    uint64_t v27 = (char *)v65;
    uint64_t v26 = v66;
    int64_t v28 = v66 - (_BYTE *)v65;
    unsigned int v29 = v67;
    unint64_t v30 = v67 - (v66 - (_BYTE *)v65);
    if (v30 > 0x5F) {
      goto LABEL_24;
    }
    int v56 = (351 - v30) & 0xFFFFFF00;
    v67 += v56;
    uint64_t v27 = (char *)malloc(v56 + v29);
    uint64_t v65 = v27;
    if (v27)
    {
      if ((v27 & 3) == 0)
      {
        uint64_t v26 = &v27[v28];
LABEL_24:
        *((_OWORD *)v26 + 4) = 0u;
        *((_OWORD *)v26 + 5) = 0u;
        *((_OWORD *)v26 + 2) = 0u;
        *((_OWORD *)v26 + 3) = 0u;
        *(_OWORD *)uint64_t v26 = 0u;
        *((_OWORD *)v26 + 1) = 0u;
        unsigned int v66 = v26 + 96;
        GPUTools::FB::Fbuf::align((char **)&v65);
        *((_DWORD *)v27 + 1) = 594;
        *((_DWORD *)v27 + 8) = 4096;
        __uint64_t v64 = 0LL;
        uint64_t v31 = pthread_threadid_np(0LL, &v64);
        *((void *)v27 + 1) = v64;
        strcpy(v27 + 36, "Ceieiiieep");
        *((void *)v27 + 6) = *(void *)v20;
        *((_DWORD *)v27 + 14) = a2;
        *((_DWORD *)v27 + 15) = a3;
        *((_DWORD *)v27 + 16) = a4;
        *((_DWORD *)v27 + 17) = a5;
        *((_DWORD *)v27 + 18) = a6;
        *((_DWORD *)v27 + 19) = a7;
        *((_DWORD *)v27 + 20) = a8;
        *((_DWORD *)v27 + 21) = a9;
        *((void *)v27 + 11) = a10;
        char v32 = byte_2070AA;
        if ((byte_2070AA & 1) != 0) {
          breakpoint_break( (uint64_t)&v65,  (volatile int *)&stru_248.sectname[10],  1LL,  *(unsigned int *)(v20 + 3404),  v20);
        }
        uint64_t v33 = (uint64_t)[(id)DYGetGLGuestAppClient(v31) overrideFlags];
        if (!(v33 & 0x10 | v32 & 4))
        {
          uint64_t v34 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, void, void, uint64_t, uint64_t, uint64_t, uint64_t, void, _DWORD, const void *))(*(void *)(v20 + 32) + 2408LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9,  a10);
          uint64_t v33 = mach_absolute_time();
          uint64_t v35 = v33 - v34;
          unint64_t v36 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unsigned int v37 = v65;
            *((void *)v65 + 2) = v34;
            v37[3] = v35;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v59 = __udivti3(g_DYTimebaseInfo * v35, (g_DYTimebaseInfo * (unsigned __int128)v35) >> 64);
            char v60 = v65;
            *((void *)v65 + 3) = v59;
            uint64_t v33 = __udivti3(v36 * v34, (v36 * (unsigned __int128)v34) >> 64);
            v60[2] = v33;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v33 = check_errors(v20);
        }

void sub_BC168( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_BC5E4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_BCA58( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_BCEC8( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_BD33C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void tex_sub_image2D( __GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, unsigned int a6, unsigned int a7, unsigned int a8, uint64_t a9, const void *a10)
{
  uint64_t v15 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v15) {
    goto LABEL_12;
  }
  uint64_t v16 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v17 = v15[4];
    BOOL v18 = v17 >= (unint64_t)a1;
    else {
      BOOL v19 = v15 + 1;
    }
    if (v18) {
      uint64_t v16 = (uint64_t)v15;
    }
    uint64_t v15 = (void *)*v19;
  }

  while (*v19);
  if (v16 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v16 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v16 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v20 = *(void *)(v16 + 40);
  uint64_t v21 = (unsigned int *)(v20 + 4640);
  do
  {
    unsigned int v22 = __ldaxr(v21);
    signed int v23 = v22 + 1;
  }

  while (__stlxr(v23, v21));
  if (gCheckGLErrors) {
    BOOL v24 = v23 <= 1;
  }
  else {
    BOOL v24 = 1;
  }
  if (v24)
  {
    id v59 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v58 = handle_opengl_thread_conflict((const void **)v20);
    id v59 = [(id)DYGetGLGuestAppClient(v58) waitOnGraphicsSemaphoreAssertions];
    if ((int)v59 >= 1)
    {
      do
LABEL_57:
        unsigned int v60 = __ldaxr(v21);
      while (__stlxr(v60 - 1, v21));
      uint64_t v61 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v59) graphicsLockWaitQueue];
      dispatch_sync_f(v61, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, void, void, void, uint64_t, const void *))(*(void *)(v20 + 24) + 2456LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9,  a10);
      return;
    }
  }

  *(_BYTE *)(v20 + 4838) = 1;
  v71 = 0LL;
  unsigned int v72 = 0LL;
  unsigned int v73 = 0;
  if ([(id)DYGetGLGuestAppClient(v59) state] != (char *)&dword_0 + 1
    || (id v25 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v25))
  {
    uint64_t v27 = (char *)v71;
    uint64_t v26 = v72;
    int64_t v28 = v72 - (_BYTE *)v71;
    unsigned int v29 = v73;
    unint64_t v30 = v73 - (v72 - (_BYTE *)v71);
    if (v30 > 0x5F) {
      goto LABEL_24;
    }
    int v62 = (351 - v30) & 0xFFFFFF00;
    v73 += v62;
    uint64_t v27 = (char *)malloc(v62 + v29);
    v71 = v27;
    if (v27)
    {
      if ((v27 & 3) == 0)
      {
        uint64_t v26 = &v27[v28];
LABEL_24:
        *((_OWORD *)v26 + 4) = 0u;
        *((_OWORD *)v26 + 5) = 0u;
        *((_OWORD *)v26 + 2) = 0u;
        *((_OWORD *)v26 + 3) = 0u;
        *(_OWORD *)uint64_t v26 = 0u;
        *((_OWORD *)v26 + 1) = 0u;
        unsigned int v72 = v26 + 96;
        GPUTools::FB::Fbuf::align((char **)&v71);
        *((_DWORD *)v27 + 1) = 603;
        *((_DWORD *)v27 + 8) = 4096;
        __uint64_t v70 = 0LL;
        uint64_t v31 = pthread_threadid_np(0LL, &v70);
        *((void *)v27 + 1) = v70;
        strcpy(v27 + 36, "Ceiiiiieep");
        *((void *)v27 + 6) = *(void *)v20;
        *((_DWORD *)v27 + 14) = a2;
        *((_DWORD *)v27 + 15) = a3;
        *((_DWORD *)v27 + 16) = a4;
        *((_DWORD *)v27 + 17) = a5;
        *((_DWORD *)v27 + 18) = a6;
        *((_DWORD *)v27 + 19) = a7;
        *((_DWORD *)v27 + 20) = a8;
        *((_DWORD *)v27 + 21) = a9;
        *((void *)v27 + 11) = a10;
        char v32 = byte_2070B3;
        if ((byte_2070B3 & 1) != 0) {
          breakpoint_break((uint64_t)&v71, (volatile int *)&stru_248.segname[3], 1LL, *(unsigned int *)(v20 + 3404), v20);
        }
        uint64_t v33 = (uint64_t)[(id)DYGetGLGuestAppClient(v31) overrideFlags];
        if (!(v33 & 0x10 | v32 & 4))
        {
          uint64_t v34 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, void, void, void, _DWORD, const void *))(*(void *)(v20 + 32) + 2456LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9,  a10);
          uint64_t v33 = mach_absolute_time();
          uint64_t v35 = v33 - v34;
          unint64_t v36 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unsigned int v37 = v71;
            *((void *)v71 + 2) = v34;
            v37[3] = v35;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v65 = __udivti3(g_DYTimebaseInfo * v35, (g_DYTimebaseInfo * (unsigned __int128)v35) >> 64);
            unsigned int v66 = v71;
            *((void *)v71 + 3) = v65;
            uint64_t v33 = __udivti3(v36 * v34, (v36 * (unsigned __int128)v34) >> 64);
            v66[2] = v33;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v33 = check_errors(v20);
        }

{
  void *v15;
  uint64_t v16;
  unint64_t v17;
  BOOL v18;
  void *v19;
  uint64_t v20;
  unsigned int *v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  id v25;
  unsigned int v26;
  signed int v27;
  BOOL v28;
  unsigned int v29;
  uint64_t v30;
  id v31;
  unsigned int v32;
  dispatch_queue_s *v33;
  uint64_t v34;
  uint64_t v15 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v15) {
    goto LABEL_12;
  }
  uint64_t v16 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v17 = v15[4];
    BOOL v18 = v17 >= (unint64_t)a1;
    else {
      BOOL v19 = v15 + 1;
    }
    if (v18) {
      uint64_t v16 = (uint64_t)v15;
    }
    uint64_t v15 = (void *)*v19;
  }

  while (*v19);
  if (v16 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v16 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v16 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v20 = *(void *)(v16 + 40);
  uint64_t v21 = (unsigned int *)(v20 + 4640);
  do
  {
    unsigned int v22 = __ldaxr(v21);
    signed int v23 = v22 + 1;
  }

  while (__stlxr(v23, v21));
  if (gCheckGLErrors) {
    BOOL v24 = v23 <= 1;
  }
  else {
    BOOL v24 = 1;
  }
  if (v24)
  {
    uint64_t v31 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v30 = handle_opengl_thread_conflict((const void **)v20);
    uint64_t v31 = [(id)DYGetGLGuestAppClient(v30) waitOnGraphicsSemaphoreAssertions];
    if ((int)v31 >= 1)
    {
      do
LABEL_34:
        char v32 = __ldaxr(v21);
      while (__stlxr(v32 - 1, v21));
      uint64_t v33 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v31) graphicsLockWaitQueue];
      dispatch_sync_f(v33, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, void, void, void, uint64_t, const void *))(*(void *)(v20 + 24) + 2456LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9,  a10);
      return;
    }
  }

  *(_BYTE *)(v20 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v31) state] == (char *)&dword_0 + 1)
  {
    id v25 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v25)
    {
      do
        unsigned int v29 = __ldaxr(v21);
      while (__stlxr(v29 - 1, v21));
      [(id)DYGetGLGuestAppClient(v25) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, void, void, void, _DWORD, const void *))(*(void *)(v20 + 32) + 2456LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9,  a10);
  ++*(void *)(v20 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v20);
    if (gBreakOnError)
    {
      uint64_t v34 = *(unsigned int *)(v20 + 3404);
      if ((_DWORD)v34) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v34, v20);
      }
    }
  }

  do
  {
    uint64_t v26 = __ldaxr(v21);
    uint64_t v27 = v26 - 1;
  }

  while (__stlxr(v27, v21));
  if (gCheckGLErrors) {
    int64_t v28 = v27 < 1;
  }
  else {
    int64_t v28 = 1;
  }
  if (!v28) {
    handle_opengl_thread_conflict((const void **)v20);
  }
}

void sub_BD8E4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_BDDEC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_BE254( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_BE768( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_BEC80( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_BF1A4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_BF670( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_BFA84( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_BFE90( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_C03C4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void compressed_tex_image3D( __GLIContextRec *a1, unsigned int a2, unsigned int a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, unsigned int a8, uint64_t a9, const void *a10)
{
  uint64_t v15 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v15) {
    goto LABEL_12;
  }
  uint64_t v16 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v17 = v15[4];
    BOOL v18 = v17 >= (unint64_t)a1;
    else {
      BOOL v19 = v15 + 1;
    }
    if (v18) {
      uint64_t v16 = (uint64_t)v15;
    }
    uint64_t v15 = (void *)*v19;
  }

  while (*v19);
  if (v16 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v16 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v16 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v20 = *(void *)(v16 + 40);
  uint64_t v21 = (unsigned int *)(v20 + 4640);
  do
  {
    unsigned int v22 = __ldaxr(v21);
    signed int v23 = v22 + 1;
  }

  while (__stlxr(v23, v21));
  if (gCheckGLErrors) {
    BOOL v24 = v23 <= 1;
  }
  else {
    BOOL v24 = 1;
  }
  if (v24)
  {
    id v53 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v52 = handle_opengl_thread_conflict((const void **)v20);
    id v53 = [(id)DYGetGLGuestAppClient(v52) waitOnGraphicsSemaphoreAssertions];
    if ((int)v53 >= 1)
    {
      do
LABEL_57:
        unsigned int v54 = __ldaxr(v21);
      while (__stlxr(v54 - 1, v21));
      signed int v55 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v53) graphicsLockWaitQueue];
      dispatch_sync_f(v55, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, void, void, uint64_t, uint64_t, uint64_t, uint64_t, void, uint64_t, const void *))(*(void *)(v20 + 24) + 3032LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9,  a10);
      return;
    }
  }

  *(_BYTE *)(v20 + 4838) = 1;
  uint64_t v65 = 0LL;
  unsigned int v66 = 0LL;
  unsigned int v67 = 0;
  if ([(id)DYGetGLGuestAppClient(v53) state] != (char *)&dword_0 + 1
    || (id v25 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v25))
  {
    uint64_t v27 = (char *)v65;
    uint64_t v26 = v66;
    int64_t v28 = v66 - (_BYTE *)v65;
    unsigned int v29 = v67;
    unint64_t v30 = v67 - (v66 - (_BYTE *)v65);
    if (v30 > 0x5F) {
      goto LABEL_24;
    }
    int v56 = (351 - v30) & 0xFFFFFF00;
    v67 += v56;
    uint64_t v27 = (char *)malloc(v56 + v29);
    uint64_t v65 = v27;
    if (v27)
    {
      if ((v27 & 3) == 0)
      {
        uint64_t v26 = &v27[v28];
LABEL_24:
        *((_OWORD *)v26 + 4) = 0u;
        *((_OWORD *)v26 + 5) = 0u;
        *((_OWORD *)v26 + 2) = 0u;
        *((_OWORD *)v26 + 3) = 0u;
        *(_OWORD *)uint64_t v26 = 0u;
        *((_OWORD *)v26 + 1) = 0u;
        unsigned int v66 = v26 + 96;
        GPUTools::FB::Fbuf::align((char **)&v65);
        *((_DWORD *)v27 + 1) = 96;
        *((_DWORD *)v27 + 8) = 4096;
        __uint64_t v64 = 0LL;
        uint64_t v31 = pthread_threadid_np(0LL, &v64);
        *((void *)v27 + 1) = v64;
        strcpy(v27 + 36, "Ceieiiiiip");
        *((void *)v27 + 6) = *(void *)v20;
        *((_DWORD *)v27 + 14) = a2;
        *((_DWORD *)v27 + 15) = a3;
        *((_DWORD *)v27 + 16) = a4;
        *((_DWORD *)v27 + 17) = a5;
        *((_DWORD *)v27 + 18) = a6;
        *((_DWORD *)v27 + 19) = a7;
        *((_DWORD *)v27 + 20) = a8;
        *((_DWORD *)v27 + 21) = a9;
        *((void *)v27 + 11) = a10;
        char v32 = byte_206EB8;
        if ((byte_206EB8 & 1) != 0) {
          breakpoint_break((uint64_t)&v65, (volatile int *)&stru_20.nsects, 1LL, *(unsigned int *)(v20 + 3404), v20);
        }
        uint64_t v33 = (uint64_t)[(id)DYGetGLGuestAppClient(v31) overrideFlags];
        if (!(v33 & 0x10 | v32 & 4))
        {
          uint64_t v34 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, void, void, uint64_t, uint64_t, uint64_t, uint64_t, void, _DWORD, const void *))(*(void *)(v20 + 32) + 3032LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9,  a10);
          uint64_t v33 = mach_absolute_time();
          uint64_t v35 = v33 - v34;
          unint64_t v36 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unsigned int v37 = v65;
            *((void *)v65 + 2) = v34;
            v37[3] = v35;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v59 = __udivti3(g_DYTimebaseInfo * v35, (g_DYTimebaseInfo * (unsigned __int128)v35) >> 64);
            unsigned int v60 = v65;
            *((void *)v65 + 3) = v59;
            uint64_t v33 = __udivti3(v36 * v34, (v36 * (unsigned __int128)v34) >> 64);
            v60[2] = v33;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v33 = check_errors(v20);
        }

void sub_C0974( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void compressed_tex_image2D( __GLIContextRec *a1, unsigned int a2, unsigned int a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, const void *a9)
{
  uint64_t v15 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v15) {
    goto LABEL_12;
  }
  uint64_t v16 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v17 = v15[4];
    BOOL v18 = v17 >= (unint64_t)a1;
    else {
      BOOL v19 = v15 + 1;
    }
    if (v18) {
      uint64_t v16 = (uint64_t)v15;
    }
    uint64_t v15 = (void *)*v19;
  }

  while (*v19);
  if (v16 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v16 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v16 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v20 = *(void *)(v16 + 40);
  uint64_t v21 = (unsigned int *)(v20 + 4640);
  do
  {
    unsigned int v22 = __ldaxr(v21);
    signed int v23 = v22 + 1;
  }

  while (__stlxr(v23, v21));
  if (gCheckGLErrors) {
    BOOL v24 = v23 <= 1;
  }
  else {
    BOOL v24 = 1;
  }
  if (v24)
  {
    id v53 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v52 = handle_opengl_thread_conflict((const void **)v20);
    id v53 = [(id)DYGetGLGuestAppClient(v52) waitOnGraphicsSemaphoreAssertions];
    if ((int)v53 >= 1)
    {
      do
LABEL_57:
        unsigned int v54 = __ldaxr(v21);
      while (__stlxr(v54 - 1, v21));
      signed int v55 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v53) graphicsLockWaitQueue];
      dispatch_sync_f(v55, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, void, void, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, const void *))(*(void *)(v20 + 24) + 3040LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9);
      return;
    }
  }

  *(_BYTE *)(v20 + 4838) = 1;
  __uint64_t v64 = 0LL;
  uint64_t v65 = 0LL;
  unsigned int v66 = 0;
  if ([(id)DYGetGLGuestAppClient(v53) state] != (char *)&dword_0 + 1
    || (id v25 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v25))
  {
    uint64_t v27 = (char *)v64;
    uint64_t v26 = v65;
    int64_t v28 = v65 - (_BYTE *)v64;
    unsigned int v29 = v66;
    unint64_t v30 = v66 - (v65 - (_BYTE *)v64);
    if (v30 > 0x5B) {
      goto LABEL_24;
    }
    int v56 = (347 - v30) & 0xFFFFFF00;
    v66 += v56;
    uint64_t v27 = (char *)malloc(v56 + v29);
    __uint64_t v64 = v27;
    if (v27)
    {
      if ((v27 & 3) == 0)
      {
        uint64_t v26 = &v27[v28];
LABEL_24:
        *(_OWORD *)(v26 + 76) = 0u;
        *((_OWORD *)v26 + 3) = 0u;
        *((_OWORD *)v26 + 4) = 0u;
        *((_OWORD *)v26 + 1) = 0u;
        *((_OWORD *)v26 + 2) = 0u;
        *(_OWORD *)uint64_t v26 = 0u;
        uint64_t v65 = v26 + 92;
        GPUTools::FB::Fbuf::align((char **)&v64);
        *((_DWORD *)v27 + 1) = 95;
        *((_DWORD *)v27 + 8) = 4096;
        __uint64_t v63 = 0LL;
        uint64_t v31 = pthread_threadid_np(0LL, &v63);
        *((void *)v27 + 1) = v63;
        strcpy(v27 + 36, "Ceieiiiip");
        *((void *)v27 + 6) = *(void *)v20;
        *((_DWORD *)v27 + 14) = a2;
        *((_DWORD *)v27 + 15) = a3;
        *((_DWORD *)v27 + 16) = a4;
        *((_DWORD *)v27 + 17) = a5;
        *((_DWORD *)v27 + 18) = a6;
        *((_DWORD *)v27 + 19) = a7;
        *((_DWORD *)v27 + 20) = a8;
        *(void *)(v27 + 84) = a9;
        char v32 = byte_206EB7;
        if ((byte_206EB7 & 1) != 0) {
          breakpoint_break( (uint64_t)&v64,  (vm_prot_t *)((char *)&stru_20.initprot + 3),  1LL,  *(unsigned int *)(v20 + 3404),  v20);
        }
        uint64_t v33 = (uint64_t)[(id)DYGetGLGuestAppClient(v31) overrideFlags];
        if (!(v33 & 0x10 | v32 & 4))
        {
          uint64_t v34 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, void, void, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, const void *))(*(void *)(v20 + 32) + 3040LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9);
          uint64_t v33 = mach_absolute_time();
          uint64_t v35 = v33 - v34;
          unint64_t v36 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unsigned int v37 = v64;
            *((void *)v64 + 2) = v34;
            v37[3] = v35;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v59 = __udivti3(g_DYTimebaseInfo * v35, (g_DYTimebaseInfo * (unsigned __int128)v35) >> 64);
            unsigned int v60 = v64;
            *((void *)v64 + 3) = v59;
            uint64_t v33 = __udivti3(v36 * v34, (v36 * (unsigned __int128)v34) >> 64);
            v60[2] = v33;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v33 = check_errors(v20);
        }

void sub_C0F10( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void compressed_tex_sub_image3D( __GLIContextRec *a1, uint64_t a2, uint64_t a3, unsigned int a4, unsigned int a5, unsigned int a6, unsigned int a7, unsigned int a8, uint64_t a9, uint64_t a10, const void *a11)
{
  unsigned int v14 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v14) {
    goto LABEL_12;
  }
  uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v16 = v14[4];
    BOOL v17 = v16 >= (unint64_t)a1;
    else {
      BOOL v18 = v14 + 1;
    }
    if (v17) {
      uint64_t v15 = (uint64_t)v14;
    }
    unsigned int v14 = (void *)*v18;
  }

  while (*v18);
  if (v15 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v15 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v19 = *(void *)(v15 + 40);
  uint64_t v20 = (unsigned int *)(v19 + 4640);
  do
  {
    unsigned int v21 = __ldaxr(v20);
    signed int v22 = v21 + 1;
  }

  while (__stlxr(v22, v20));
  if (gCheckGLErrors) {
    BOOL v23 = v22 <= 1;
  }
  else {
    BOOL v23 = 1;
  }
  if (v23)
  {
    id v58 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v57 = handle_opengl_thread_conflict((const void **)v19);
    id v58 = [(id)DYGetGLGuestAppClient(v57) waitOnGraphicsSemaphoreAssertions];
    if ((int)v58 >= 1)
    {
      do
LABEL_57:
        unsigned int v59 = __ldaxr(v20);
      while (__stlxr(v59 - 1, v20));
      unsigned int v60 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v58) graphicsLockWaitQueue];
      dispatch_sync_f(v60, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, void, void, void, void, void, uint64_t, uint64_t, const void *))(*(void *)(v19 + 24) + 3056LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9,  a10,  a11);
      return;
    }
  }

  *(_BYTE *)(v19 + 4838) = 1;
  unsigned int v72 = 0LL;
  unsigned int v73 = 0LL;
  unsigned int v74 = 0;
  if ([(id)DYGetGLGuestAppClient(v58) state] != (char *)&dword_0 + 1
    || (id v24 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v24))
  {
    uint64_t v26 = (char *)v72;
    id v25 = v73;
    int64_t v27 = v73 - (_BYTE *)v72;
    unsigned int v28 = v74;
    unint64_t v29 = v74 - (v73 - (_BYTE *)v72);
    if (v29 > 0x6B) {
      goto LABEL_24;
    }
    int v61 = (363 - v29) & 0xFFFFFF00;
    v74 += v61;
    uint64_t v26 = (char *)malloc(v61 + v28);
    unsigned int v72 = v26;
    if (v26)
    {
      if ((v26 & 3) == 0)
      {
        id v25 = &v26[v27];
LABEL_24:
        *(_OWORD *)(v25 + 92) = 0u;
        *((_OWORD *)v25 + 4) = 0u;
        *((_OWORD *)v25 + 5) = 0u;
        *((_OWORD *)v25 + 2) = 0u;
        *((_OWORD *)v25 + 3) = 0u;
        *(_OWORD *)id v25 = 0u;
        *((_OWORD *)v25 + 1) = 0u;
        unsigned int v73 = v25 + 108;
        GPUTools::FB::Fbuf::align((char **)&v72);
        *((_DWORD *)v26 + 1) = 99;
        *((_DWORD *)v26 + 8) = 4096;
        __uint64_t v71 = 0LL;
        uint64_t v30 = pthread_threadid_np(0LL, &v71);
        *((void *)v26 + 1) = v71;
        strcpy(v26 + 36, "Ceiiiiiiieip");
        *(void *)(v26 + 52) = *(void *)v19;
        *((_DWORD *)v26 + 15) = a2;
        *((_DWORD *)v26 + 16) = a3;
        *((_DWORD *)v26 + 17) = a4;
        *((_DWORD *)v26 + 18) = a5;
        *((_DWORD *)v26 + 19) = a6;
        *((_DWORD *)v26 + 20) = a7;
        *((_DWORD *)v26 + 21) = a8;
        *((void *)v26 + 11) = a9;
        *((_DWORD *)v26 + 24) = a10;
        *(void *)(v26 + 100) = a11;
        char v31 = byte_206EBB;
        if ((byte_206EBB & 1) != 0) {
          breakpoint_break( (uint64_t)&v72,  (volatile int *)((char *)&stru_20.nsects + 3),  1LL,  *(unsigned int *)(v19 + 3404),  v19);
        }
        uint64_t v32 = (uint64_t)[(id)DYGetGLGuestAppClient(v30) overrideFlags];
        if (!(v32 & 0x10 | v31 & 4))
        {
          uint64_t v33 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, void, void, void, void, void, uint64_t, _DWORD, const void *))(*(void *)(v19 + 32) + 3056LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9,  a10,  a11);
          uint64_t v32 = mach_absolute_time();
          uint64_t v34 = v32 - v33;
          unint64_t v35 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            unint64_t v36 = v72;
            *((void *)v72 + 2) = v33;
            v36[3] = v34;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v64 = __udivti3(g_DYTimebaseInfo * v34, (g_DYTimebaseInfo * (unsigned __int128)v34) >> 64);
            uint64_t v65 = v72;
            *((void *)v72 + 3) = v64;
            uint64_t v32 = __udivti3(v35 * v33, (v35 * (unsigned __int128)v33) >> 64);
            v65[2] = v32;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v32 = check_errors(v19);
        }

{
  void *v14;
  uint64_t v15;
  unint64_t v16;
  BOOL v17;
  void *v18;
  uint64_t v19;
  unsigned int *v20;
  unsigned int v21;
  signed int v22;
  BOOL v23;
  id v24;
  unsigned int v25;
  signed int v26;
  BOOL v27;
  unsigned int v28;
  uint64_t v29;
  id v30;
  unsigned int v31;
  dispatch_queue_s *v32;
  uint64_t v33;
  unsigned int v14 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v14) {
    goto LABEL_12;
  }
  uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v16 = v14[4];
    BOOL v17 = v16 >= (unint64_t)a1;
    else {
      BOOL v18 = v14 + 1;
    }
    if (v17) {
      uint64_t v15 = (uint64_t)v14;
    }
    unsigned int v14 = (void *)*v18;
  }

  while (*v18);
  if (v15 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v15 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v19 = *(void *)(v15 + 40);
  uint64_t v20 = (unsigned int *)(v19 + 4640);
  do
  {
    unsigned int v21 = __ldaxr(v20);
    signed int v22 = v21 + 1;
  }

  while (__stlxr(v22, v20));
  if (gCheckGLErrors) {
    BOOL v23 = v22 <= 1;
  }
  else {
    BOOL v23 = 1;
  }
  if (v23)
  {
    uint64_t v30 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v29 = handle_opengl_thread_conflict((const void **)v19);
    uint64_t v30 = [(id)DYGetGLGuestAppClient(v29) waitOnGraphicsSemaphoreAssertions];
    if ((int)v30 >= 1)
    {
      do
LABEL_34:
        char v31 = __ldaxr(v20);
      while (__stlxr(v31 - 1, v20));
      uint64_t v32 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v30) graphicsLockWaitQueue];
      dispatch_sync_f(v32, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, void, void, void, void, void, uint64_t, uint64_t, const void *))(*(void *)(v19 + 24) + 3056LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9,  a10,  a11);
      return;
    }
  }

  *(_BYTE *)(v19 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v30) state] == (char *)&dword_0 + 1)
  {
    id v24 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v24)
    {
      do
        unsigned int v28 = __ldaxr(v20);
      while (__stlxr(v28 - 1, v20));
      [(id)DYGetGLGuestAppClient(v24) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, void, void, void, void, void, uint64_t, _DWORD, const void *))(*(void *)(v19 + 32) + 3056LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9,  a10,  a11);
  ++*(void *)(v19 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v19);
    if (gBreakOnError)
    {
      uint64_t v33 = *(unsigned int *)(v19 + 3404);
      if ((_DWORD)v33) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v33, v19);
      }
    }
  }

  do
  {
    id v25 = __ldaxr(v20);
    uint64_t v26 = v25 - 1;
  }

  while (__stlxr(v26, v20));
  if (gCheckGLErrors) {
    int64_t v27 = v26 < 1;
  }
  else {
    int64_t v27 = 1;
  }
  if (!v27) {
    handle_opengl_thread_conflict((const void **)v19);
  }
}

void sub_C14C8( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, void *a18)
{
  if (a18) {
    free(a18);
  }
  _Unwind_Resume(exception_object);
}

void compressed_tex_sub_image2D( __GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, unsigned int a6, unsigned int a7, unsigned int a8, uint64_t a9, const void *a10)
{
  uint64_t v15 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v15) {
    goto LABEL_12;
  }
  uint64_t v16 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v17 = v15[4];
    BOOL v18 = v17 >= (unint64_t)a1;
    else {
      uint64_t v19 = v15 + 1;
    }
    if (v18) {
      uint64_t v16 = (uint64_t)v15;
    }
    uint64_t v15 = (void *)*v19;
  }

  while (*v19);
  if (v16 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v16 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v16 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v20 = *(void *)(v16 + 40);
  unsigned int v21 = (unsigned int *)(v20 + 4640);
  do
  {
    unsigned int v22 = __ldaxr(v21);
    signed int v23 = v22 + 1;
  }

  while (__stlxr(v23, v21));
  if (gCheckGLErrors) {
    BOOL v24 = v23 <= 1;
  }
  else {
    BOOL v24 = 1;
  }
  if (v24)
  {
    id v59 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v58 = handle_opengl_thread_conflict((const void **)v20);
    id v59 = [(id)DYGetGLGuestAppClient(v58) waitOnGraphicsSemaphoreAssertions];
    if ((int)v59 >= 1)
    {
      do
LABEL_57:
        unsigned int v60 = __ldaxr(v21);
      while (__stlxr(v60 - 1, v21));
      int v61 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v59) graphicsLockWaitQueue];
      dispatch_sync_f(v61, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, void, void, void, uint64_t, const void *))(*(void *)(v20 + 24) + 3064LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9,  a10);
      return;
    }
  }

  *(_BYTE *)(v20 + 4838) = 1;
  __uint64_t v71 = 0LL;
  unsigned int v72 = 0LL;
  unsigned int v73 = 0;
  if ([(id)DYGetGLGuestAppClient(v59) state] != (char *)&dword_0 + 1
    || (id v25 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v25))
  {
    int64_t v27 = (char *)v71;
    uint64_t v26 = v72;
    int64_t v28 = v72 - (_BYTE *)v71;
    unsigned int v29 = v73;
    unint64_t v30 = v73 - (v72 - (_BYTE *)v71);
    if (v30 > 0x5F) {
      goto LABEL_24;
    }
    int v62 = (351 - v30) & 0xFFFFFF00;
    v73 += v62;
    int64_t v27 = (char *)malloc(v62 + v29);
    __uint64_t v71 = v27;
    if (v27)
    {
      if ((v27 & 3) == 0)
      {
        uint64_t v26 = &v27[v28];
LABEL_24:
        *((_OWORD *)v26 + 4) = 0u;
        *((_OWORD *)v26 + 5) = 0u;
        *((_OWORD *)v26 + 2) = 0u;
        *((_OWORD *)v26 + 3) = 0u;
        *(_OWORD *)uint64_t v26 = 0u;
        *((_OWORD *)v26 + 1) = 0u;
        unsigned int v72 = v26 + 96;
        GPUTools::FB::Fbuf::align((char **)&v71);
        *((_DWORD *)v27 + 1) = 98;
        *((_DWORD *)v27 + 8) = 4096;
        __uint64_t v70 = 0LL;
        uint64_t v31 = pthread_threadid_np(0LL, &v70);
        *((void *)v27 + 1) = v70;
        strcpy(v27 + 36, "Ceiiiiieip");
        *((void *)v27 + 6) = *(void *)v20;
        *((_DWORD *)v27 + 14) = a2;
        *((_DWORD *)v27 + 15) = a3;
        *((_DWORD *)v27 + 16) = a4;
        *((_DWORD *)v27 + 17) = a5;
        *((_DWORD *)v27 + 18) = a6;
        *((_DWORD *)v27 + 19) = a7;
        *((_DWORD *)v27 + 20) = a8;
        *((_DWORD *)v27 + 21) = a9;
        *((void *)v27 + 11) = a10;
        char v32 = byte_206EBA;
        if ((byte_206EBA & 1) != 0) {
          breakpoint_break( (uint64_t)&v71,  (volatile int *)((char *)&stru_20.nsects + 2),  1LL,  *(unsigned int *)(v20 + 3404),  v20);
        }
        uint64_t v33 = (uint64_t)[(id)DYGetGLGuestAppClient(v31) overrideFlags];
        if (!(v33 & 0x10 | v32 & 4))
        {
          uint64_t v34 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, void, void, void, _DWORD, const void *))(*(void *)(v20 + 32) + 3064LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9,  a10);
          uint64_t v33 = mach_absolute_time();
          uint64_t v35 = v33 - v34;
          unint64_t v36 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            id v37 = v71;
            *((void *)v71 + 2) = v34;
            v37[3] = v35;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v65 = __udivti3(g_DYTimebaseInfo * v35, (g_DYTimebaseInfo * (unsigned __int128)v35) >> 64);
            unsigned int v66 = v71;
            *((void *)v71 + 3) = v65;
            uint64_t v33 = __udivti3(v36 * v34, (v36 * (unsigned __int128)v34) >> 64);
            v66[2] = v33;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v33 = check_errors(v20);
        }

{
  void *v15;
  uint64_t v16;
  unint64_t v17;
  BOOL v18;
  void *v19;
  uint64_t v20;
  unsigned int *v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  id v25;
  unsigned int v26;
  signed int v27;
  BOOL v28;
  unsigned int v29;
  uint64_t v30;
  id v31;
  unsigned int v32;
  dispatch_queue_s *v33;
  uint64_t v34;
  uint64_t v15 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v15) {
    goto LABEL_12;
  }
  uint64_t v16 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v17 = v15[4];
    BOOL v18 = v17 >= (unint64_t)a1;
    else {
      uint64_t v19 = v15 + 1;
    }
    if (v18) {
      uint64_t v16 = (uint64_t)v15;
    }
    uint64_t v15 = (void *)*v19;
  }

  while (*v19);
  if (v16 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v16 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v16 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v20 = *(void *)(v16 + 40);
  unsigned int v21 = (unsigned int *)(v20 + 4640);
  do
  {
    unsigned int v22 = __ldaxr(v21);
    signed int v23 = v22 + 1;
  }

  while (__stlxr(v23, v21));
  if (gCheckGLErrors) {
    BOOL v24 = v23 <= 1;
  }
  else {
    BOOL v24 = 1;
  }
  if (v24)
  {
    uint64_t v31 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v30 = handle_opengl_thread_conflict((const void **)v20);
    uint64_t v31 = [(id)DYGetGLGuestAppClient(v30) waitOnGraphicsSemaphoreAssertions];
    if ((int)v31 >= 1)
    {
      do
LABEL_34:
        char v32 = __ldaxr(v21);
      while (__stlxr(v32 - 1, v21));
      uint64_t v33 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v31) graphicsLockWaitQueue];
      dispatch_sync_f(v33, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, void, void, void, uint64_t, const void *))(*(void *)(v20 + 24) + 3064LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9,  a10);
      return;
    }
  }

  *(_BYTE *)(v20 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v31) state] == (char *)&dword_0 + 1)
  {
    id v25 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v25)
    {
      do
        unsigned int v29 = __ldaxr(v21);
      while (__stlxr(v29 - 1, v21));
      [(id)DYGetGLGuestAppClient(v25) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, void, void, void, _DWORD, const void *))(*(void *)(v20 + 32) + 3064LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9,  a10);
  ++*(void *)(v20 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v20);
    if (gBreakOnError)
    {
      uint64_t v34 = *(unsigned int *)(v20 + 3404);
      if ((_DWORD)v34) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v34, v20);
      }
    }
  }

  do
  {
    uint64_t v26 = __ldaxr(v21);
    int64_t v27 = v26 - 1;
  }

  while (__stlxr(v27, v21));
  if (gCheckGLErrors) {
    int64_t v28 = v27 < 1;
  }
  else {
    int64_t v28 = 1;
  }
  if (!v28) {
    handle_opengl_thread_conflict((const void **)v20);
  }
}

void sub_C1A74( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_C1F7C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void draw_range_elements( __GLIContextRec *a1, uint64_t a2, uint64_t a3, unint64_t a4, uint64_t a5, uint64_t a6, const void *a7)
{
  BOOL v13 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v13) {
    goto LABEL_12;
  }
  uint64_t v14 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v15 = v13[4];
    BOOL v16 = v15 >= (unint64_t)a1;
    else {
      unint64_t v17 = v13 + 1;
    }
    if (v16) {
      uint64_t v14 = (uint64_t)v13;
    }
    BOOL v13 = (void *)*v17;
  }

  while (*v17);
  if (v14 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v14 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v14 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v18 = *(void *)(v14 + 40);
  uint64_t v19 = (unsigned int *)(v18 + 4640);
  do
  {
    unsigned int v20 = __ldaxr(v19);
    signed int v21 = v20 + 1;
  }

  while (__stlxr(v21, v19));
  if (gCheckGLErrors) {
    BOOL v22 = v21 <= 1;
  }
  else {
    BOOL v22 = 1;
  }
  if (v22)
  {
    id v51 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v50 = handle_opengl_thread_conflict((const void **)v18);
    id v51 = [(id)DYGetGLGuestAppClient(v50) waitOnGraphicsSemaphoreAssertions];
    if ((int)v51 >= 1)
    {
      do
LABEL_58:
        unsigned int v52 = __ldaxr(v19);
      while (__stlxr(v52 - 1, v19));
      uint64_t v53 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v51) graphicsLockWaitQueue];
      dispatch_sync_f(v53, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, unint64_t, uint64_t, uint64_t, const void *))(*(void *)(v18 + 24) + 3240LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
      return;
    }
  }

  *(_WORD *)(v18 + 4838) = 257;
  __int128 v68 = 0LL;
  uint64_t v69 = 0LL;
  unsigned int v70 = 0;
  if ([(id)DYGetGLGuestAppClient(v51) state] != (char *)&dword_0 + 1
    || (id v23 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v23))
  {
    uint64_t v25 = (uint64_t)v68;
    uint64_t v24 = v69;
    uint64_t v26 = v69 - (void)v68;
    unsigned int v27 = v70;
    unint64_t v28 = v70 - (v69 - (void)v68);
    if (v28 > 0x53) {
      goto LABEL_24;
    }
    int v54 = (339 - v28) & 0xFFFFFF00;
    v70 += v54;
    uint64_t v25 = (uint64_t)malloc(v54 + v27);
    __int128 v68 = (void *)v25;
    if (v25)
    {
      if ((v25 & 3) == 0)
      {
        uint64_t v24 = v26 + v25;
LABEL_24:
        *(_DWORD *)(v24 + 80) = 0;
        *(_OWORD *)(v24 + 48) = 0u;
        *(_OWORD *)(v24 + 64) = 0u;
        *(_OWORD *)(v24 + 16) = 0u;
        *(_OWORD *)(v24 + 32) = 0u;
        *(_OWORD *)uint64_t v24 = 0u;
        uint64_t v69 = v24 + 84;
        GPUTools::FB::Fbuf::align((char **)&v68);
        *(_DWORD *)(v25 + 4) = 146;
        *(_DWORD *)(v25 + 32) = 0;
        __uint64_t v67 = 0LL;
        uint64_t v29 = pthread_threadid_np(0LL, &v67);
        *(void *)(v25 + 8) = v67;
        strcpy((char *)(v25 + 36), "Ceuiuiiep");
        *(void *)(v25 + 48) = *(void *)v18;
        *(_DWORD *)(v25 + 56) = a2;
        *(_DWORD *)(v25 + 60) = a3;
        *(_DWORD *)(v25 + 64) = a4;
        *(_DWORD *)(v25 + 68) = a5;
        *(_DWORD *)(v25 + 72) = a6;
        *(void *)(v25 + 76) = a7;
        LOBYTE(v26) = byte_206EEA;
        if ((byte_206EEA & 1) != 0) {
          breakpoint_break( (uint64_t)&v68,  (volatile int *)((char *)&stru_68.size + 2),  1LL,  *(unsigned int *)(v18 + 3404),  v18);
        }
        uint64_t v30 = (uint64_t)[(id)DYGetGLGuestAppClient(v29) overrideFlags];
        if (v30 & 0x10 | v26 & 4) {
          goto LABEL_30;
        }
        id v31 = [(id)DYGetGLGuestAppClient(v30) overrideFlags];
        if (!(_DWORD)v31)
        {
          uint64_t v32 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, unint64_t, uint64_t, uint64_t, const void *))(*(void *)(v18 + 32) + 3240LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
          uint64_t v30 = mach_absolute_time();
          uint64_t v33 = v30 - v32;
          unint64_t v34 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            uint64_t v35 = v68;
            *((void *)v68 + 2) = v32;
            v35[3] = v33;
            if (!gCheckGLErrors) {
              goto LABEL_30;
            }
          }

          else
          {
            uint64_t v62 = __udivti3(g_DYTimebaseInfo * v33, (g_DYTimebaseInfo * (unsigned __int128)v33) >> 64);
            uint64_t v63 = v68;
            *((void *)v68 + 3) = v62;
            uint64_t v30 = __udivti3(v34 * v32, (v34 * (unsigned __int128)v32) >> 64);
            v63[2] = v30;
            if (!gCheckGLErrors) {
              goto LABEL_30;
            }
          }

          uint64_t v30 = check_errors(v18);
LABEL_30:
          id v36 = objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v30), "activeCaptureDescriptor"),  "includeBacktraceInFbufs");
          if ((_DWORD)v36) {
            id v36 = (id)GPUTools::FB::EncodeCurrentBacktrace((GPUTools::FB *)&v68, v37);
          }
          unsigned int v39 = (GPUTools::FB::Fbuf *)*(unsigned int *)(v18 + 3404);
          if ((_DWORD)v39) {
            id v36 = (id)GPUTools::FB::EncodeGLError((GPUTools::FB *)&v68, v39, v38);
          }
          if (objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v36), "activeCaptureDescriptor"),  "queryDriverEventsOnGraphicsCommands")) {
            encode_driver_events((id *)v18, (uint64_t)&v68);
          }
          unsigned int v40 = GPUTools::FB::EncodeThreadQueueInfo( (void *)(v18 + 3480),  (GPUTools::FB::Fbuf *)(v18 + 3520),  (GPUTools::FB *)&v68);
          uint64_t v41 = *(unsigned int *)(v18 + 3404);
          if ((_DWORD)v41 && gBreakOnError)
          {
            uint64_t v55 = 3LL;
            uint64_t v56 = 0xFFFFFFFFLL;
          }

          else
          {
            if ((v26 & 2) == 0) {
              goto LABEL_39;
            }
            uint64_t v55 = 2LL;
            uint64_t v56 = 146LL;
          }

          breakpoint_break((uint64_t)&v68, (volatile int *)v56, v55, v41, v18);
LABEL_39:
          uint64_t v42 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v40) defaultFbufStream];
          uint64_t v43 = (unsigned int *)((char *)v42 + 56);
          do
            unsigned int v44 = __ldaxr(v43);
          while (__stlxr(1u, v43));
          if (v44 == 1)
          {
            do
            {
              while (*v43 == 1)
                ;
              do
                unsigned int v45 = __ldaxr(v43);
              while (__stlxr(1u, v43));
            }

            while (v45 == 1);
          }

          GPUTools::FB::Stream::Write_nolock(v42, (GPUTools::FB::Fbuf *)&v68, *(unsigned int *)v68, 1);
          atomic_store(0, v43);
          do
          {
            unsigned int v46 = __ldaxr(v19);
            signed int v47 = v46 - 1;
          }

          while (__stlxr(v47, v19));
          if (gCheckGLErrors) {
            BOOL v48 = v47 < 1;
          }
          else {
            BOOL v48 = 1;
          }
          if (!v48) {
            handle_opengl_thread_conflict((const void **)v18);
          }
          goto LABEL_52;
        }

        uint64_t v30 = (uint64_t)[(id)DYGetGLGuestAppClient(v31) overrideFlags];
        if ((v30 & 8) != 0) {
          goto LABEL_30;
        }
        unsigned int v57 = (volatile int *)[(id)DYGetGLGuestAppClient(v30) overrideFlags];
        apply_draw_overrides(v18, v57);
        uint64_t v25 = mach_absolute_time();
        (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, unint64_t, uint64_t, uint64_t, const void *))(*(void *)(v18 + 32) + 3240LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
        uint64_t v58 = mach_absolute_time();
        uint64_t v59 = v58 - v25;
        a4 = g_DYTimebaseInfo;
        if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
        {
          unsigned int v60 = v68;
          *((void *)v68 + 2) = v25;
          v60[3] = v59;
          if (!gCheckGLErrors)
          {
LABEL_67:
            int v61 = [(id)DYGetGLGuestAppClient(v58) overrideFlags];
            unapply_draw_overrides(v18, v61);
            goto LABEL_30;
          }

void sub_C25E8( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void tex_image3D( __GLIContextRec *a1, unsigned int a2, unsigned int a3, uint64_t a4, uint64_t a5, uint64_t a6, unsigned int a7, unsigned int a8, uint64_t a9, const void *a10)
{
  uint64_t v14 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v14) {
    goto LABEL_12;
  }
  uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v16 = v14[4];
    BOOL v17 = v16 >= (unint64_t)a1;
    else {
      uint64_t v18 = v14 + 1;
    }
    if (v17) {
      uint64_t v15 = (uint64_t)v14;
    }
    uint64_t v14 = (void *)*v18;
  }

  while (*v18);
  if (v15 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v15 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v19 = *(void *)(v15 + 40);
  unsigned int v20 = (unsigned int *)(v19 + 4640);
  do
  {
    unsigned int v21 = __ldaxr(v20);
    signed int v22 = v21 + 1;
  }

  while (__stlxr(v22, v20));
  if (gCheckGLErrors) {
    BOOL v23 = v22 <= 1;
  }
  else {
    BOOL v23 = 1;
  }
  if (v23)
  {
    id v52 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v51 = handle_opengl_thread_conflict((const void **)v19);
    id v52 = [(id)DYGetGLGuestAppClient(v51) waitOnGraphicsSemaphoreAssertions];
    if ((int)v52 >= 1)
    {
      do
LABEL_57:
        unsigned int v53 = __ldaxr(v20);
      while (__stlxr(v53 - 1, v20));
      int v54 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v52) graphicsLockWaitQueue];
      dispatch_sync_f(v54, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, void, void, uint64_t, uint64_t, uint64_t, void, void, uint64_t, const void *))(*(void *)(v19 + 24) + 3504LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9,  a10);
      return;
    }
  }

  *(_BYTE *)(v19 + 4838) = 1;
  uint64_t v65 = 0LL;
  unsigned int v66 = 0LL;
  unsigned int v67 = 0;
  if ([(id)DYGetGLGuestAppClient(v52) state] != (char *)&dword_0 + 1
    || (id v24 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v24))
  {
    uint64_t v26 = (char *)v65;
    uint64_t v25 = v66;
    int64_t v27 = v66 - (_BYTE *)v65;
    unsigned int v28 = v67;
    unint64_t v29 = v67 - (v66 - (_BYTE *)v65);
    if (v29 > 0x63) {
      goto LABEL_24;
    }
    int v55 = (355 - v29) & 0xFFFFFF00;
    v67 += v55;
    uint64_t v26 = (char *)malloc(v55 + v28);
    uint64_t v65 = v26;
    if (v26)
    {
      if ((v26 & 3) == 0)
      {
        uint64_t v25 = &v26[v27];
LABEL_24:
        *((_DWORD *)v25 + 24) = 0;
        *((_OWORD *)v25 + 4) = 0u;
        *((_OWORD *)v25 + 5) = 0u;
        *((_OWORD *)v25 + 2) = 0u;
        *((_OWORD *)v25 + 3) = 0u;
        *(_OWORD *)uint64_t v25 = 0u;
        *((_OWORD *)v25 + 1) = 0u;
        unsigned int v66 = v25 + 100;
        GPUTools::FB::Fbuf::align((char **)&v65);
        *((_DWORD *)v26 + 1) = 595;
        *((_DWORD *)v26 + 8) = 4096;
        __uint64_t v64 = 0LL;
        uint64_t v30 = pthread_threadid_np(0LL, &v64);
        *((void *)v26 + 1) = v64;
        strcpy(v26 + 36, "Ceieiiiieep");
        *((void *)v26 + 6) = *(void *)v19;
        *((_DWORD *)v26 + 14) = a2;
        *((_DWORD *)v26 + 15) = a3;
        *((_DWORD *)v26 + 16) = a4;
        *((_DWORD *)v26 + 17) = a5;
        *((_DWORD *)v26 + 18) = a6;
        *((_DWORD *)v26 + 19) = a7;
        *((_DWORD *)v26 + 20) = a8;
        *(void *)(v26 + 84) = a9;
        *(void *)(v26 + 92) = a10;
        char v31 = byte_2070AB;
        if ((byte_2070AB & 1) != 0) {
          breakpoint_break( (uint64_t)&v65,  (volatile int *)&stru_248.sectname[11],  1LL,  *(unsigned int *)(v19 + 3404),  v19);
        }
        uint64_t v32 = (uint64_t)[(id)DYGetGLGuestAppClient(v30) overrideFlags];
        if (!(v32 & 0x10 | v31 & 4))
        {
          uint64_t v33 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, void, void, uint64_t, uint64_t, uint64_t, void, void, uint64_t, const void *))(*(void *)(v19 + 32) + 3504LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9,  a10);
          uint64_t v32 = mach_absolute_time();
          uint64_t v34 = v32 - v33;
          unint64_t v35 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            id v36 = v65;
            *((void *)v65 + 2) = v33;
            v36[3] = v34;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v58 = __udivti3(g_DYTimebaseInfo * v34, (g_DYTimebaseInfo * (unsigned __int128)v34) >> 64);
            uint64_t v59 = v65;
            *((void *)v65 + 3) = v58;
            uint64_t v32 = __udivti3(v35 * v33, (v35 * (unsigned __int128)v33) >> 64);
            v59[2] = v32;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v32 = check_errors(v19);
        }

void sub_C2B9C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void tex_sub_image3D( __GLIContextRec *a1, uint64_t a2, uint64_t a3, unsigned int a4, unsigned int a5, unsigned int a6, unsigned int a7, unsigned int a8, uint64_t a9, uint64_t a10, const void *a11)
{
  uint64_t v14 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v14) {
    goto LABEL_12;
  }
  uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v16 = v14[4];
    BOOL v17 = v16 >= (unint64_t)a1;
    else {
      uint64_t v18 = v14 + 1;
    }
    if (v17) {
      uint64_t v15 = (uint64_t)v14;
    }
    uint64_t v14 = (void *)*v18;
  }

  while (*v18);
  if (v15 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v15 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v19 = *(void *)(v15 + 40);
  unsigned int v20 = (unsigned int *)(v19 + 4640);
  do
  {
    unsigned int v21 = __ldaxr(v20);
    signed int v22 = v21 + 1;
  }

  while (__stlxr(v22, v20));
  if (gCheckGLErrors) {
    BOOL v23 = v22 <= 1;
  }
  else {
    BOOL v23 = 1;
  }
  if (v23)
  {
    id v58 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v57 = handle_opengl_thread_conflict((const void **)v19);
    id v58 = [(id)DYGetGLGuestAppClient(v57) waitOnGraphicsSemaphoreAssertions];
    if ((int)v58 >= 1)
    {
      do
LABEL_57:
        unsigned int v59 = __ldaxr(v20);
      while (__stlxr(v59 - 1, v20));
      unsigned int v60 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v58) graphicsLockWaitQueue];
      dispatch_sync_f(v60, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, void, void, void, void, void, uint64_t, uint64_t, const void *))(*(void *)(v19 + 24) + 3512LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9,  a10,  a11);
      return;
    }
  }

  *(_BYTE *)(v19 + 4838) = 1;
  unsigned int v72 = 0LL;
  unsigned int v73 = 0LL;
  unsigned int v74 = 0;
  if ([(id)DYGetGLGuestAppClient(v58) state] != (char *)&dword_0 + 1
    || (id v24 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v24))
  {
    uint64_t v26 = (char *)v72;
    uint64_t v25 = v73;
    int64_t v27 = v73 - (_BYTE *)v72;
    unsigned int v28 = v74;
    unint64_t v29 = v74 - (v73 - (_BYTE *)v72);
    if (v29 > 0x6B) {
      goto LABEL_24;
    }
    int v61 = (363 - v29) & 0xFFFFFF00;
    v74 += v61;
    uint64_t v26 = (char *)malloc(v61 + v28);
    unsigned int v72 = v26;
    if (v26)
    {
      if ((v26 & 3) == 0)
      {
        uint64_t v25 = &v26[v27];
LABEL_24:
        *(_OWORD *)(v25 + 92) = 0u;
        *((_OWORD *)v25 + 4) = 0u;
        *((_OWORD *)v25 + 5) = 0u;
        *((_OWORD *)v25 + 2) = 0u;
        *((_OWORD *)v25 + 3) = 0u;
        *(_OWORD *)uint64_t v25 = 0u;
        *((_OWORD *)v25 + 1) = 0u;
        unsigned int v73 = v25 + 108;
        GPUTools::FB::Fbuf::align((char **)&v72);
        *((_DWORD *)v26 + 1) = 604;
        *((_DWORD *)v26 + 8) = 4096;
        __uint64_t v71 = 0LL;
        uint64_t v30 = pthread_threadid_np(0LL, &v71);
        *((void *)v26 + 1) = v71;
        strcpy(v26 + 36, "Ceiiiiiiieep");
        *(void *)(v26 + 52) = *(void *)v19;
        *((_DWORD *)v26 + 15) = a2;
        *((_DWORD *)v26 + 16) = a3;
        *((_DWORD *)v26 + 17) = a4;
        *((_DWORD *)v26 + 18) = a5;
        *((_DWORD *)v26 + 19) = a6;
        *((_DWORD *)v26 + 20) = a7;
        *((_DWORD *)v26 + 21) = a8;
        *((void *)v26 + 11) = a9;
        *((_DWORD *)v26 + 24) = a10;
        *(void *)(v26 + 100) = a11;
        char v31 = byte_2070B4;
        if ((byte_2070B4 & 1) != 0) {
          breakpoint_break((uint64_t)&v72, (volatile int *)&stru_248.segname[4], 1LL, *(unsigned int *)(v19 + 3404), v19);
        }
        uint64_t v32 = (uint64_t)[(id)DYGetGLGuestAppClient(v30) overrideFlags];
        if (!(v32 & 0x10 | v31 & 4))
        {
          uint64_t v33 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, void, void, void, void, void, uint64_t, _DWORD, const void *))(*(void *)(v19 + 32) + 3512LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9,  a10,  a11);
          uint64_t v32 = mach_absolute_time();
          uint64_t v34 = v32 - v33;
          unint64_t v35 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            id v36 = v72;
            *((void *)v72 + 2) = v33;
            v36[3] = v34;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          else
          {
            uint64_t v64 = __udivti3(g_DYTimebaseInfo * v34, (g_DYTimebaseInfo * (unsigned __int128)v34) >> 64);
            uint64_t v65 = v72;
            *((void *)v72 + 3) = v64;
            uint64_t v32 = __udivti3(v35 * v33, (v35 * (unsigned __int128)v33) >> 64);
            v65[2] = v32;
            if (!gCheckGLErrors) {
              goto LABEL_29;
            }
          }

          uint64_t v32 = check_errors(v19);
        }

{
  void *v14;
  uint64_t v15;
  unint64_t v16;
  BOOL v17;
  void *v18;
  uint64_t v19;
  unsigned int *v20;
  unsigned int v21;
  signed int v22;
  BOOL v23;
  id v24;
  unsigned int v25;
  signed int v26;
  BOOL v27;
  unsigned int v28;
  uint64_t v29;
  id v30;
  unsigned int v31;
  dispatch_queue_s *v32;
  uint64_t v33;
  uint64_t v14 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v14) {
    goto LABEL_12;
  }
  uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v16 = v14[4];
    BOOL v17 = v16 >= (unint64_t)a1;
    else {
      uint64_t v18 = v14 + 1;
    }
    if (v17) {
      uint64_t v15 = (uint64_t)v14;
    }
    uint64_t v14 = (void *)*v18;
  }

  while (*v18);
  if (v15 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v15 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v19 = *(void *)(v15 + 40);
  unsigned int v20 = (unsigned int *)(v19 + 4640);
  do
  {
    unsigned int v21 = __ldaxr(v20);
    signed int v22 = v21 + 1;
  }

  while (__stlxr(v22, v20));
  if (gCheckGLErrors) {
    BOOL v23 = v22 <= 1;
  }
  else {
    BOOL v23 = 1;
  }
  if (v23)
  {
    uint64_t v30 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unint64_t v29 = handle_opengl_thread_conflict((const void **)v19);
    uint64_t v30 = [(id)DYGetGLGuestAppClient(v29) waitOnGraphicsSemaphoreAssertions];
    if ((int)v30 >= 1)
    {
      do
LABEL_34:
        char v31 = __ldaxr(v20);
      while (__stlxr(v31 - 1, v20));
      uint64_t v32 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v30) graphicsLockWaitQueue];
      dispatch_sync_f(v32, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, void, void, void, void, void, uint64_t, uint64_t, const void *))(*(void *)(v19 + 24) + 3512LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9,  a10,  a11);
      return;
    }
  }

  *(_BYTE *)(v19 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v30) state] == (char *)&dword_0 + 1)
  {
    id v24 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v24)
    {
      do
        unsigned int v28 = __ldaxr(v20);
      while (__stlxr(v28 - 1, v20));
      [(id)DYGetGLGuestAppClient(v24) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, void, void, void, void, void, uint64_t, _DWORD, const void *))(*(void *)(v19 + 32) + 3512LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9,  a10,  a11);
  ++*(void *)(v19 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v19);
    if (gBreakOnError)
    {
      uint64_t v33 = *(unsigned int *)(v19 + 3404);
      if ((_DWORD)v33) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v33, v19);
      }
    }
  }

  do
  {
    uint64_t v25 = __ldaxr(v20);
    uint64_t v26 = v25 - 1;
  }

  while (__stlxr(v26, v20));
  if (gCheckGLErrors) {
    int64_t v27 = v26 < 1;
  }
  else {
    int64_t v27 = 1;
  }
  if (!v27) {
    handle_opengl_thread_conflict((const void **)v19);
  }
}

void sub_C3154( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, void *a18)
{
  if (a18) {
    free(a18);
  }
  _Unwind_Resume(exception_object);
}

void sub_C36C4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_C3B0C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_C3F74( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_C43BC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void get_active_uniform_blockiv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, int *a5)
{
  uint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      uint64_t v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    uint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  unint64_t v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    id v47 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v46 = handle_opengl_thread_conflict((const void **)v15);
    id v47 = [(id)DYGetGLGuestAppClient(v46) waitOnGraphicsSemaphoreAssertions];
    if ((int)v47 >= 1)
    {
      do
LABEL_56:
        unsigned int v48 = __ldaxr(v16);
      while (__stlxr(v48 - 1, v16));
      uint64_t v49 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v47) graphicsLockWaitQueue];
      dispatch_sync_f(v49, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, int *))(*(void *)(v15 + 24) + 3560LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  v54[0] = 0LL;
  v54[1] = 0LL;
  int v55 = 0;
  if ([(id)DYGetGLGuestAppClient(v47) state] != (char *)&dword_0 + 1
    || (id v24 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v24))
  {
    GPUTools::FB::Encode((uint64_t)v54, 827LL, 2LL, (uint64_t)"Cuiuiep", v20, v21, v22, v23, *(void *)v15);
    char v26 = byte_207193;
    if ((byte_207193 & 1) != 0) {
      breakpoint_break((uint64_t)v54, (volatile int *)&stru_338.sectname[3], 1LL, *(unsigned int *)(v15 + 3404), v15);
    }
    uint64_t v27 = (uint64_t)[(id)DYGetGLGuestAppClient(v25) overrideFlags];
    if (!(v27 & 0x10 | v26 & 4))
    {
      uint64_t v28 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, int *))(*(void *)(v15 + 32) + 3560LL))( a1,  a2,  a3,  a4,  a5);
      uint64_t v27 = mach_absolute_time();
      uint64_t v29 = v27 - v28;
      unint64_t v30 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        char v31 = v54[0];
        *((void *)v54[0] + 2) = v28;
        v31[3] = v29;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      else
      {
        uint64_t v52 = __udivti3(g_DYTimebaseInfo * v29, (g_DYTimebaseInfo * (unsigned __int128)v29) >> 64);
        unsigned int v53 = v54[0];
        *((void *)v54[0] + 3) = v52;
        uint64_t v27 = __udivti3(v30 * v28, (v30 * (unsigned __int128)v28) >> 64);
        v53[2] = v27;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      uint64_t v27 = check_errors(v15);
    }

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  id v20;
  unsigned int v21;
  signed int v22;
  BOOL v23;
  unsigned int v24;
  uint64_t v25;
  id v26;
  unsigned int v27;
  dispatch_queue_s *v28;
  uint64_t v29;
  uint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      uint64_t v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    uint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  unint64_t v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    char v26 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v25 = handle_opengl_thread_conflict((const void **)v15);
    char v26 = [(id)DYGetGLGuestAppClient(v25) waitOnGraphicsSemaphoreAssertions];
    if ((int)v26 >= 1)
    {
      do
LABEL_34:
        uint64_t v27 = __ldaxr(v16);
      while (__stlxr(v27 - 1, v16));
      uint64_t v28 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v26) graphicsLockWaitQueue];
      dispatch_sync_f(v28, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, int *))(*(void *)(v15 + 24) + 3560LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v26) state] == (char *)&dword_0 + 1)
  {
    uint64_t v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        id v24 = __ldaxr(v16);
      while (__stlxr(v24 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, int *))(*(void *)(v15 + 32) + 3560LL))( a1,  a2,  a3,  a4,  a5);
  ++*(void *)(v15 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v29 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v29) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v29, v15);
      }
    }
  }

  do
  {
    uint64_t v21 = __ldaxr(v16);
    uint64_t v22 = v21 - 1;
  }

  while (__stlxr(v22, v16));
  if (gCheckGLErrors) {
    uint64_t v23 = v22 < 1;
  }
  else {
    uint64_t v23 = 1;
  }
  if (!v23) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  id v20;
  uint64_t v21;
  uint64_t v22;
  int64x2_t v23;
  unsigned int v24;
  signed int v25;
  BOOL v26;
  unsigned int v27;
  uint64_t v28;
  id v29;
  unsigned int v30;
  dispatch_queue_s *v31;
  uint64_t v32;
  uint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      uint64_t v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    uint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  unint64_t v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    uint64_t v29 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v28 = handle_opengl_thread_conflict((const void **)v15);
    uint64_t v29 = [(id)DYGetGLGuestAppClient(v28) waitOnGraphicsSemaphoreAssertions];
    if ((int)v29 >= 1)
    {
      do
LABEL_34:
        unint64_t v30 = __ldaxr(v16);
      while (__stlxr(v30 - 1, v16));
      char v31 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v29) graphicsLockWaitQueue];
      dispatch_sync_f(v31, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, int *))(*(void *)(v15 + 24) + 3560LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v29) state] == (char *)&dword_0 + 1)
  {
    uint64_t v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        uint64_t v27 = __ldaxr(v16);
      while (__stlxr(v27 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v21 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, int *))(*(void *)(v15 + 32) + 3560LL))( a1,  a2,  a3,  a4,  a5);
  uint64_t v22 = mach_absolute_time();
  uint64_t v23 = vdupq_n_s64(1uLL);
  v23.i64[0] = v22 - v21;
  *(int64x2_t *)(v15 + 3696) = vaddq_s64(v23, *(int64x2_t *)(v15 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      id v32 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v32) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v32, v15);
      }
    }
  }

  do
  {
    id v24 = __ldaxr(v16);
    uint64_t v25 = v24 - 1;
  }

  while (__stlxr(v25, v16));
  if (gCheckGLErrors) {
    char v26 = v25 < 1;
  }
  else {
    char v26 = 1;
  }
  if (!v26) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

void sub_C4800( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void get_active_uniform_block_name( __GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, int *a5, char *a6)
{
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      unint64_t v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  signed int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    id v49 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v48 = handle_opengl_thread_conflict((const void **)v17);
    id v49 = [(id)DYGetGLGuestAppClient(v48) waitOnGraphicsSemaphoreAssertions];
    if ((int)v49 >= 1)
    {
      do
LABEL_56:
        unsigned int v50 = __ldaxr(v18);
      while (__stlxr(v50 - 1, v18));
      uint64_t v51 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v49) graphicsLockWaitQueue];
      dispatch_sync_f(v51, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, int *, char *))(*(void *)(v17 + 24)
                                                                                          + 3568LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  v56[0] = 0LL;
  v56[1] = 0LL;
  int v57 = 0;
  if ([(id)DYGetGLGuestAppClient(v49) state] != (char *)&dword_0 + 1
    || (id v26 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v26))
  {
    GPUTools::FB::Encode((uint64_t)v56, 826LL, 2LL, (uint64_t)"Cuiuiipp", v22, v23, v24, v25, *(void *)v17);
    char v28 = byte_207192;
    if ((byte_207192 & 1) != 0) {
      breakpoint_break((uint64_t)v56, (volatile int *)&stru_338.sectname[2], 1LL, *(unsigned int *)(v17 + 3404), v17);
    }
    uint64_t v29 = (uint64_t)[(id)DYGetGLGuestAppClient(v27) overrideFlags];
    if (!(v29 & 0x10 | v28 & 4))
    {
      uint64_t v30 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, int *, char *))(*(void *)(v17 + 32)
                                                                                          + 3568LL))( a1,  a2,  a3,  a4,  a5,  a6);
      uint64_t v29 = mach_absolute_time();
      uint64_t v31 = v29 - v30;
      unint64_t v32 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        uint64_t v33 = v56[0];
        *((void *)v56[0] + 2) = v30;
        v33[3] = v31;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      else
      {
        uint64_t v54 = __udivti3(g_DYTimebaseInfo * v31, (g_DYTimebaseInfo * (unsigned __int128)v31) >> 64);
        int v55 = v56[0];
        *((void *)v56[0] + 3) = v54;
        uint64_t v29 = __udivti3(v32 * v30, (v32 * (unsigned __int128)v30) >> 64);
        v55[2] = v29;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      uint64_t v29 = check_errors(v17);
    }

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  id v22;
  unsigned int v23;
  signed int v24;
  BOOL v25;
  unsigned int v26;
  uint64_t v27;
  id v28;
  unsigned int v29;
  dispatch_queue_s *v30;
  uint64_t v31;
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      unint64_t v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  signed int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    char v28 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v27 = handle_opengl_thread_conflict((const void **)v17);
    char v28 = [(id)DYGetGLGuestAppClient(v27) waitOnGraphicsSemaphoreAssertions];
    if ((int)v28 >= 1)
    {
      do
LABEL_34:
        uint64_t v29 = __ldaxr(v18);
      while (__stlxr(v29 - 1, v18));
      uint64_t v30 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v28) graphicsLockWaitQueue];
      dispatch_sync_f(v30, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, int *, char *))(*(void *)(v17 + 24)
                                                                                          + 3568LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v28) state] == (char *)&dword_0 + 1)
  {
    uint64_t v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v22)
    {
      do
        id v26 = __ldaxr(v18);
      while (__stlxr(v26 - 1, v18));
      [(id)DYGetGLGuestAppClient(v22) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, int *, char *))(*(void *)(v17 + 32) + 3568LL))( a1,  a2,  a3,  a4,  a5,  a6);
  ++*(void *)(v17 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v17);
    if (gBreakOnError)
    {
      uint64_t v31 = *(unsigned int *)(v17 + 3404);
      if ((_DWORD)v31) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v31, v17);
      }
    }
  }

  do
  {
    uint64_t v23 = __ldaxr(v18);
    uint64_t v24 = v23 - 1;
  }

  while (__stlxr(v24, v18));
  if (gCheckGLErrors) {
    uint64_t v25 = v24 < 1;
  }
  else {
    uint64_t v25 = 1;
  }
  if (!v25) {
    handle_opengl_thread_conflict((const void **)v17);
  }
}

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  id v22;
  uint64_t v23;
  uint64_t v24;
  int64x2_t v25;
  unsigned int v26;
  signed int v27;
  BOOL v28;
  unsigned int v29;
  uint64_t v30;
  id v31;
  unsigned int v32;
  dispatch_queue_s *v33;
  uint64_t v34;
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      unint64_t v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  signed int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    uint64_t v31 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v30 = handle_opengl_thread_conflict((const void **)v17);
    uint64_t v31 = [(id)DYGetGLGuestAppClient(v30) waitOnGraphicsSemaphoreAssertions];
    if ((int)v31 >= 1)
    {
      do
LABEL_34:
        unint64_t v32 = __ldaxr(v18);
      while (__stlxr(v32 - 1, v18));
      uint64_t v33 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v31) graphicsLockWaitQueue];
      dispatch_sync_f(v33, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, int *, char *))(*(void *)(v17 + 24)
                                                                                          + 3568LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 4838) = 1;
  if ([(id)DYGetGLGuestAppClient(v31) state] == (char *)&dword_0 + 1)
  {
    uint64_t v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v22)
    {
      do
        uint64_t v29 = __ldaxr(v18);
      while (__stlxr(v29 - 1, v18));
      [(id)DYGetGLGuestAppClient(v22) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v23 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, int *, char *))(*(void *)(v17 + 32) + 3568LL))( a1,  a2,  a3,  a4,  a5,  a6);
  uint64_t v24 = mach_absolute_time();
  uint64_t v25 = vdupq_n_s64(1uLL);
  v25.i64[0] = v24 - v23;
  *(int64x2_t *)(v17 + 3696) = vaddq_s64(v25, *(int64x2_t *)(v17 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v17);
    if (gBreakOnError)
    {
      id v34 = *(unsigned int *)(v17 + 3404);
      if ((_DWORD)v34) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v34, v17);
      }
    }
  }

  do
  {
    id v26 = __ldaxr(v18);
    uint64_t v27 = v26 - 1;
  }

  while (__stlxr(v27, v18));
  if (gCheckGLErrors) {
    char v28 = v27 < 1;
  }
  else {
    char v28 = 1;
  }
  if (!v28) {
    handle_opengl_thread_conflict((const void **)v17);
  }
}

void sub_C4C68( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_C5090( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_C5564( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_C5A54( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_C5EF4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_C6324( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_C67E8( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_C6CF4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_C71FC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_C76C8( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_C7BE4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_C80C4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_C8518( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_C8984( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_C8E14( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_C92C4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_C9704( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_C9B44( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_C9F88( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_CA3CC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_CA890( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, void *a18)
{
  if (a18) {
    free(a18);
  }
  _Unwind_Resume(exception_object);
}

void sub_CAD58( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_CB224( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_CB714( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_CBC04( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_CC0A0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_CC588( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_CC9B8( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_CCEC8( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_CD2E0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_CD704( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_CDB3C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_CDF88( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_CE4F0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, void *a18)
{
  if (a18) {
    free(a18);
  }
  _Unwind_Resume(exception_object);
}

void sub_CE930( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, void *a10)
{
  if (a10) {
    free(a10);
  }
  _Unwind_Resume(exception_object);
}

void sub_CED94( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_CF59C(_Unwind_Exception *a1)
{
  uint64_t v3 = *(void **)(v1 - 120);
  if (v3) {
    free(v3);
  }
  _Unwind_Resume(a1);
}

void sub_CFA24( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_CFE20( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_D030C( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_D082C( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_D0D70( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_D12D4( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_D17D0( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_D1CF0( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_D2240( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_D27B4( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_D2D20( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_D3290( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_D3800( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_D3D70( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_D42DC( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_D484C( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_D4DBC( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_D532C( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_D58DC( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_D5E8C( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_D643C( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_D6890( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_D6D34( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(exception_object);
}

void sub_D7160( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_D758C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_D79CC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_D7DF4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_D8298( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(exception_object);
}

void sub_D86E0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_D8B80( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_D8FB0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_D94B4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_D9998( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_D9E68( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_DA35C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_DA84C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_DAD44( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_DB19C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_DB5E4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_DBA7C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_DBF84( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_DC3F8( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_DC908( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_DCE1C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_DD324( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_DD814( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_DDCB0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_DE0E0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_DE5E4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_DEAF0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void get_shaderiv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, int *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v45 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v44 = handle_opengl_thread_conflict((const void **)v13);
    id v45 = [(id)DYGetGLGuestAppClient(v44) waitOnGraphicsSemaphoreAssertions];
    if ((int)v45 >= 1)
    {
      do
LABEL_56:
        unsigned int v46 = __ldaxr(v14);
      while (__stlxr(v46 - 1, v14));
      unsigned int v47 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v45) graphicsLockWaitQueue];
      dispatch_sync_f(v47, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 24) + 5256LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 168), 8) = 1;
  v52[0] = 0LL;
  v52[1] = 0LL;
  int v53 = 0;
  if ([(id)DYGetGLGuestAppClient(v45) state] != (char *)&dword_0 + 1
    || (id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v22))
  {
    GPUTools::FB::Encode((uint64_t)v52, 281LL, 2LL, (uint64_t)"Cuiep", v18, v19, v20, v21, *(void *)v13);
    char v24 = byte_206F71;
    if ((byte_206F71 & 1) != 0) {
      breakpoint_break((uint64_t)v52, (volatile int *)&stru_108.segname[1], 1LL, *(unsigned int *)(v13 + 3404), v13);
    }
    uint64_t v25 = (uint64_t)[(id)DYGetGLGuestAppClient(v23) overrideFlags];
    if (!(v25 & 0x10 | v24 & 4))
    {
      uint64_t v26 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 32) + 5256LL))( a1,  a2,  a3,  a4);
      uint64_t v25 = mach_absolute_time();
      uint64_t v27 = v25 - v26;
      unint64_t v28 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        uint64_t v29 = v52[0];
        *((void *)v52[0] + 2) = v26;
        v29[3] = v27;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      else
      {
        uint64_t v50 = __udivti3(g_DYTimebaseInfo * v27, (g_DYTimebaseInfo * (unsigned __int128)v27) >> 64);
        uint64_t v51 = v52[0];
        *((void *)v52[0] + 3) = v50;
        uint64_t v25 = __udivti3(v28 * v26, (v28 * (unsigned __int128)v26) >> 64);
        v51[2] = v25;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      uint64_t v25 = check_errors(v13);
    }

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  unsigned int v22;
  uint64_t v23;
  id v24;
  unsigned int v25;
  dispatch_queue_s *v26;
  uint64_t v27;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    char v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    char v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        uint64_t v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      uint64_t v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 24) + 5256LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 168), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    uint64_t v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        id v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 32) + 5256LL))(a1, a2, a3, a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    uint64_t v19 = __ldaxr(v14);
    uint64_t v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    uint64_t v21 = v20 < 1;
  }
  else {
    uint64_t v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        unint64_t v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      uint64_t v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 24) + 5256LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 168), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    uint64_t v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        uint64_t v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 32) + 5256LL))(a1, a2, a3, a4);
  uint64_t v20 = mach_absolute_time();
  uint64_t v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      id v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    id v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    char v24 = v23 < 1;
  }
  else {
    char v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void sub_DEF24( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void get_programiv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, int *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v45 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v44 = handle_opengl_thread_conflict((const void **)v13);
    id v45 = [(id)DYGetGLGuestAppClient(v44) waitOnGraphicsSemaphoreAssertions];
    if ((int)v45 >= 1)
    {
      do
LABEL_56:
        unsigned int v46 = __ldaxr(v14);
      while (__stlxr(v46 - 1, v14));
      unsigned int v47 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v45) graphicsLockWaitQueue];
      dispatch_sync_f(v47, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 24) + 5264LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 168), 8) = 1;
  v52[0] = 0LL;
  v52[1] = 0LL;
  int v53 = 0;
  if ([(id)DYGetGLGuestAppClient(v45) state] != (char *)&dword_0 + 1
    || (id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v22))
  {
    GPUTools::FB::Encode((uint64_t)v52, 272LL, 2LL, (uint64_t)"Cuiep", v18, v19, v20, v21, *(void *)v13);
    char v24 = byte_206F68;
    if ((byte_206F68 & 1) != 0) {
      breakpoint_break((uint64_t)v52, (volatile int *)&stru_108.sectname[8], 1LL, *(unsigned int *)(v13 + 3404), v13);
    }
    uint64_t v25 = (uint64_t)[(id)DYGetGLGuestAppClient(v23) overrideFlags];
    if (!(v25 & 0x10 | v24 & 4))
    {
      uint64_t v26 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 32) + 5264LL))( a1,  a2,  a3,  a4);
      uint64_t v25 = mach_absolute_time();
      uint64_t v27 = v25 - v26;
      unint64_t v28 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        uint64_t v29 = v52[0];
        *((void *)v52[0] + 2) = v26;
        v29[3] = v27;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      else
      {
        uint64_t v50 = __udivti3(g_DYTimebaseInfo * v27, (g_DYTimebaseInfo * (unsigned __int128)v27) >> 64);
        uint64_t v51 = v52[0];
        *((void *)v52[0] + 3) = v50;
        uint64_t v25 = __udivti3(v28 * v26, (v28 * (unsigned __int128)v26) >> 64);
        v51[2] = v25;
        if (!gCheckGLErrors) {
          goto LABEL_28;
        }
      }

      uint64_t v25 = check_errors(v13);
    }

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  unsigned int v22;
  uint64_t v23;
  id v24;
  unsigned int v25;
  dispatch_queue_s *v26;
  uint64_t v27;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    char v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    char v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        uint64_t v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      uint64_t v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 24) + 5264LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 168), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    uint64_t v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        id v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 32) + 5264LL))(a1, a2, a3, a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    uint64_t v19 = __ldaxr(v14);
    uint64_t v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    uint64_t v21 = v20 < 1;
  }
  else {
    uint64_t v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        unint64_t v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      uint64_t v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 24) + 5264LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 168), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    uint64_t v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        uint64_t v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 32) + 5264LL))(a1, a2, a3, a4);
  uint64_t v20 = mach_absolute_time();
  uint64_t v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      id v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    id v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    char v24 = v23 < 1;
  }
  else {
    char v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void sub_DF350( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_DF790( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_DFBD0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_E00E4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_E05C4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_E0AD0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_E0FB0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_E13E4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_E187C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_E1D90( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_E2280( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_E278C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_E2C6C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_E30A0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_E3538( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_E3A38( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_E3F7C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_E4498( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_E49AC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(exception_object);
}

void sub_E4E78( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_E5344( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_E5884( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_E5D30( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_E6190( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_E65B8( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_E6A60( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_E6ECC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_E7370( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(exception_object);
}

void sub_E7858( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, void *a15)
{
  if (a15) {
    free(a15);
  }
  _Unwind_Resume(exception_object);
}

void sub_E7D10( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, void *a18)
{
  if (a18) {
    free(a18);
  }
  _Unwind_Resume(exception_object);
}

void sub_E81C4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, void *a18)
{
  if (a18) {
    free(a18);
  }
  _Unwind_Resume(exception_object);
}

void sub_E8618( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_E8A5C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_E8F98( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_E9488( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_E9980( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_E9E7C( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_EA3A0( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_EA900( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_EAE74( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_EB3E0( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_EB950( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_EBEC0( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_EC430( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_EC958( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_ECDAC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_ED354( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_ED908( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_EDEB8( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_EE468( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_EEA1C( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_EEFD0( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_EF668( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_EFBB4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_EFFFC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_F04D8( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_F0AE4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void draw_elements_instanced( __GLIContextRec *a1, uint64_t a2, uint64_t a3, unint64_t a4, const void *a5, uint64_t a6)
{
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      signed int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  uint64_t v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    id v50 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v49 = handle_opengl_thread_conflict((const void **)v17);
    id v50 = [(id)DYGetGLGuestAppClient(v49) waitOnGraphicsSemaphoreAssertions];
    if ((int)v50 >= 1)
    {
      do
LABEL_58:
        unsigned int v51 = __ldaxr(v18);
      while (__stlxr(v51 - 1, v18));
      uint64_t v52 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v50) graphicsLockWaitQueue];
      dispatch_sync_f(v52, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, unint64_t, const void *, uint64_t))(*(void *)(v17 + 24) + 6104LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_WORD *)(v17 + 483_Block_object_dispose((const void *)(v1 - 168), 8) = 257;
  unsigned int v66 = 0LL;
  unsigned int v67 = 0LL;
  unsigned int v68 = 0;
  if ([(id)DYGetGLGuestAppClient(v50) state] != (char *)&dword_0 + 1
    || (id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v22))
  {
    uint64_t v24 = (uint64_t)v66;
    uint64_t v23 = v67;
    int64_t v25 = (char *)v67 - (_BYTE *)v66;
    unsigned int v26 = v68;
    unint64_t v27 = v68 - ((char *)v67 - (_BYTE *)v66);
    if (v27 > 0x4B) {
      goto LABEL_24;
    }
    int v53 = (331 - v27) & 0xFFFFFF00;
    v68 += v53;
    uint64_t v24 = (uint64_t)malloc(v53 + v26);
    unsigned int v66 = (void *)v24;
    if (v24)
    {
      if ((v24 & 3) == 0)
      {
        uint64_t v23 = (_OWORD *)(v25 + v24);
LABEL_24:
        *(_OWORD *)((char *)v23 + 60) = 0u;
        v23[2] = 0u;
        v23[3] = 0u;
        _OWORD *v23 = 0u;
        v23[1] = 0u;
        unsigned int v67 = (_OWORD *)((char *)v23 + 76);
        GPUTools::FB::Fbuf::align((char **)&v66);
        *(_DWORD *)(v24 + 4) = 824;
        *(_DWORD *)(v24 + 32) = 0;
        __uint64_t v65 = 0LL;
        uint64_t v28 = pthread_threadid_np(0LL, &v65);
        *(void *)(v24 + _Block_object_dispose((const void *)(v1 - 168), 8) = v65;
        strcpy((char *)(v24 + 36), "Ceiepi");
        *(void *)(v24 + 44) = *(void *)v17;
        *(_DWORD *)(v24 + 52) = a2;
        *(_DWORD *)(v24 + 56) = a3;
        *(_DWORD *)(v24 + 60) = a4;
        *(void *)(v24 + 64) = a5;
        *(_DWORD *)(v24 + 72) = a6;
        LOBYTE(v25) = byte_207190;
        if ((byte_207190 & 1) != 0) {
          breakpoint_break((uint64_t)&v66, (volatile int *)&stru_338, 1LL, *(unsigned int *)(v17 + 3404), v17);
        }
        uint64_t v29 = (uint64_t)[(id)DYGetGLGuestAppClient(v28) overrideFlags];
        if (v29 & 0x10 | v25 & 4) {
          goto LABEL_30;
        }
        id v30 = [(id)DYGetGLGuestAppClient(v29) overrideFlags];
        if (!(_DWORD)v30)
        {
          uint64_t v31 = mach_absolute_time();
          (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, unint64_t, const void *, uint64_t))(*(void *)(v17 + 32) + 6104LL))( a1,  a2,  a3,  a4,  a5,  a6);
          uint64_t v29 = mach_absolute_time();
          uint64_t v32 = v29 - v31;
          unint64_t v33 = g_DYTimebaseInfo;
          if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
          {
            id v34 = v66;
            *((void *)v66 + 2) = v31;
            v34[3] = v32;
            if (!gCheckGLErrors) {
              goto LABEL_30;
            }
          }

          else
          {
            uint64_t v61 = __udivti3(g_DYTimebaseInfo * v32, (g_DYTimebaseInfo * (unsigned __int128)v32) >> 64);
            uint64_t v62 = v66;
            *((void *)v66 + 3) = v61;
            uint64_t v29 = __udivti3(v33 * v31, (v33 * (unsigned __int128)v31) >> 64);
            v62[2] = v29;
            if (!gCheckGLErrors) {
              goto LABEL_30;
            }
          }

          uint64_t v29 = check_errors(v17);
LABEL_30:
          id v35 = objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v29), "activeCaptureDescriptor"),  "includeBacktraceInFbufs");
          if ((_DWORD)v35) {
            id v35 = (id)GPUTools::FB::EncodeCurrentBacktrace((GPUTools::FB *)&v66, v36);
          }
          unsigned int v38 = (GPUTools::FB::Fbuf *)*(unsigned int *)(v17 + 3404);
          if ((_DWORD)v38) {
            id v35 = (id)GPUTools::FB::EncodeGLError((GPUTools::FB *)&v66, v38, v37);
          }
          if (objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v35), "activeCaptureDescriptor"),  "queryDriverEventsOnGraphicsCommands")) {
            encode_driver_events((id *)v17, (uint64_t)&v66);
          }
          unsigned int v39 = GPUTools::FB::EncodeThreadQueueInfo( (void *)(v17 + 3480),  (GPUTools::FB::Fbuf *)(v17 + 3520),  (GPUTools::FB *)&v66);
          uint64_t v40 = *(unsigned int *)(v17 + 3404);
          if ((_DWORD)v40 && gBreakOnError)
          {
            uint64_t v54 = 3LL;
            uint64_t v55 = 0xFFFFFFFFLL;
          }

          else
          {
            if ((v25 & 2) == 0) {
              goto LABEL_39;
            }
            uint64_t v54 = 2LL;
            uint64_t v55 = 824LL;
          }

          breakpoint_break((uint64_t)&v66, (volatile int *)v55, v54, v40, v17);
LABEL_39:
          signed int v41 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v39) defaultFbufStream];
          BOOL v42 = (unsigned int *)((char *)v41 + 56);
          do
            unsigned int v43 = __ldaxr(v42);
          while (__stlxr(1u, v42));
          if (v43 == 1)
          {
            do
            {
              while (*v42 == 1)
                ;
              do
                unsigned int v44 = __ldaxr(v42);
              while (__stlxr(1u, v42));
            }

            while (v44 == 1);
          }

          GPUTools::FB::Stream::Write_nolock(v41, (GPUTools::FB::Fbuf *)&v66, *(unsigned int *)v66, 1);
          atomic_store(0, v42);
          do
          {
            unsigned int v45 = __ldaxr(v18);
            signed int v46 = v45 - 1;
          }

          while (__stlxr(v46, v18));
          if (gCheckGLErrors) {
            BOOL v47 = v46 < 1;
          }
          else {
            BOOL v47 = 1;
          }
          if (!v47) {
            handle_opengl_thread_conflict((const void **)v17);
          }
          goto LABEL_52;
        }

        uint64_t v29 = (uint64_t)[(id)DYGetGLGuestAppClient(v30) overrideFlags];
        if ((v29 & 8) != 0) {
          goto LABEL_30;
        }
        unsigned int v56 = (volatile int *)[(id)DYGetGLGuestAppClient(v29) overrideFlags];
        apply_draw_overrides(v17, v56);
        uint64_t v24 = mach_absolute_time();
        (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, unint64_t, const void *, uint64_t))(*(void *)(v17 + 32) + 6104LL))( a1,  a2,  a3,  a4,  a5,  a6);
        uint64_t v57 = mach_absolute_time();
        uint64_t v58 = v57 - v24;
        a4 = g_DYTimebaseInfo;
        if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
        {
          unsigned int v59 = v66;
          *((void *)v66 + 2) = v24;
          v59[3] = v58;
          if (!gCheckGLErrors)
          {
LABEL_67:
            int v60 = [(id)DYGetGLGuestAppClient(v57) overrideFlags];
            unapply_draw_overrides(v17, v60);
            goto LABEL_30;
          }

void sub_F113C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_F1574( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_F19D0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_F1E68( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_F2370( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_F27C0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_F2D3C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_F32B8( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_F3834( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_F3E4C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_F42A0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_F47B4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_F4CBC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_F5184( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_F56C0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_F5BD0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_F60D0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, void *a15)
{
  if (a15) {
    free(a15);
  }
  _Unwind_Resume(exception_object);
}

void sub_F6620( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(exception_object);
}

void sub_F6B70( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_F70B8( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_F75BC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_F7AAC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, void *a15)
{
  if (a15) {
    free(a15);
  }
  _Unwind_Resume(exception_object);
}

void sub_F7F98( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_F8438( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_F8868( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_F8D6C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_F9250( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_F96C4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_F9B38( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_F9FB0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_FA424( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_FA910( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_FAE00( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_FB2A4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_FB714( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_FBB10( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_FBF1C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_FC2A0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, void *a10)
{
  if (a10) {
    free(a10);
  }
  _Unwind_Resume(exception_object);
}

void sub_FC744( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_FCC8C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_FD444(_Unwind_Exception *a1)
{
  uint64_t v3 = *(void **)(v1 - 128);
  if (v3) {
    free(v3);
  }
  _Unwind_Resume(a1);
}

void sub_FD93C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_FDC24( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, char a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, void *a28)
{
  if (a28) {
    free(a28);
  }
  _Unwind_Resume(a1);
}

void sub_FE0B4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_FE5BC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_FEAAC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_FEFA8( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_FF4D8( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_FF9E8( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_FFF44( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_1004B8( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_100A40( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_100F6C( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_1014BC( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_101A30( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_101FC4( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_10256C( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_102B18( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_1030C4( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_103670( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_103C18( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_1041C4( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_104770( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_104D1C( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void program_uniform_matrix2fv( __GLIContextRec *a1, volatile int *a2, uint64_t a3, uint64_t a4, uint64_t a5, float *a6)
{
  BOOL v11 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v11) {
    goto LABEL_12;
  }
  uint64_t v12 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v13 = v11[4];
    BOOL v14 = v13 >= (unint64_t)a1;
    else {
      BOOL v15 = v11 + 1;
    }
    if (v14) {
      uint64_t v12 = (uint64_t)v11;
    }
    BOOL v11 = (void *)*v15;
  }

  while (*v15);
  if (v12 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v12 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v12 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v16 = *(void *)(v12 + 40);
  uint64_t v17 = (char *)(v16 + 4709);
  uint64_t v18 = (unsigned int *)(v16 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    id v52 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v51 = handle_opengl_thread_conflict((const void **)v16);
    id v52 = [(id)DYGetGLGuestAppClient(v51) waitOnGraphicsSemaphoreAssertions];
    if ((int)v52 >= 1)
    {
      do
LABEL_62:
        unsigned int v53 = __ldaxr(v18);
      while (__stlxr(v53 - 1, v18));
      uint64_t v54 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v52) graphicsLockWaitQueue];
      dispatch_sync_f(v54, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, uint64_t, uint64_t, float *))(*(void *)(v16 + 24) + 6760LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v16 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  v64[0] = 0LL;
  v64[1] = 0LL;
  int v65 = 0;
  if ([(id)DYGetGLGuestAppClient(v52) state] != (char *)&dword_0 + 1
    || (id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v22))
  {
    uint64_t v23 = wrapper_map_uniform_loc((ContextInfo *)v16, a2, a3);
    __int128 v61 = 0u;
    __int128 v62 = 0u;
    __int128 v63 = 0u;
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, *(void **)v16);
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a2);
    *(_WORD *)uint64_t v17 = 30019;
    *(_BYTE *)(v16 + 4711) = 105;
    uint64_t v24 = (_BYTE *)(v16 + 4712);
    if ((_DWORD)v23 == -1)
    {
      *uint64_t v24 = 105;
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, -1);
      uint64_t v25 = 1LL;
    }

    else
    {
      *(_DWORD *)(v16 + 4712) = 1047084118;
      snprintf((char *)(v16 + 4773), 0x40uLL, "u_%016lx_%u_%u", **(void **)(v16 + 40), (_DWORD)a2, v23);
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, (void *)(v16 + 4773));
      uint64_t v25 = 4LL;
    }

    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a4);
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a5);
    unsigned int v26 = &v24[v25];
    *(_WORD *)unsigned int v26 = 30057;
    v26[2] = 98;
    unint64_t v27 = &v24[v25 + 3];
    if ((unint64_t)(16LL * (_DWORD)a4) < 0x41)
    {
      int v29 = snprintf(v27, v17 - v27 + 64, "@%df", 4 * a4);
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a6);
      uint64_t v28 = v29;
    }

    else
    {
      char *v27 = 112;
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a6);
      uint64_t v28 = 1LL;
    }

    v27[v28] = 0;
    uint64_t v30 = GPUTools::FB::Encode(v64, 916LL, 0LL, v16 + 4709, &v60);
    char v31 = byte_2071EC;
    if ((byte_2071EC & 1) != 0) {
      breakpoint_break((uint64_t)v64, (volatile int *)&stru_388.sectname[12], 1LL, *(unsigned int *)(v16 + 3404), v16);
    }
    uint64_t v32 = (uint64_t)[(id)DYGetGLGuestAppClient(v30) overrideFlags];
    if (!(v32 & 0x10 | v31 & 4))
    {
      uint64_t v33 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, uint64_t, uint64_t, float *))(*(void *)(v16 + 32) + 6760LL))( a1,  a2,  v23,  a4,  a5,  a6);
      uint64_t v32 = mach_absolute_time();
      uint64_t v34 = v32 - v33;
      unint64_t v35 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        unsigned int v36 = v64[0];
        *((void *)v64[0] + 2) = v33;
        v36[3] = v34;
        if (!gCheckGLErrors) {
          goto LABEL_33;
        }
      }

      else
      {
        uint64_t v57 = __udivti3(g_DYTimebaseInfo * v34, (g_DYTimebaseInfo * (unsigned __int128)v34) >> 64);
        uint64_t v58 = v64[0];
        *((void *)v64[0] + 3) = v57;
        uint64_t v32 = __udivti3(v35 * v33, (v35 * (unsigned __int128)v33) >> 64);
        v58[2] = v32;
        if (!gCheckGLErrors) {
          goto LABEL_33;
        }
      }

      uint64_t v32 = check_errors(v16);
    }

void sub_1052F0( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void program_uniform_matrix3fv( __GLIContextRec *a1, volatile int *a2, uint64_t a3, uint64_t a4, uint64_t a5, float *a6)
{
  BOOL v11 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v11) {
    goto LABEL_12;
  }
  uint64_t v12 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v13 = v11[4];
    BOOL v14 = v13 >= (unint64_t)a1;
    else {
      BOOL v15 = v11 + 1;
    }
    if (v14) {
      uint64_t v12 = (uint64_t)v11;
    }
    BOOL v11 = (void *)*v15;
  }

  while (*v15);
  if (v12 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v12 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v12 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v16 = *(void *)(v12 + 40);
  uint64_t v17 = (char *)(v16 + 4709);
  uint64_t v18 = (unsigned int *)(v16 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    id v52 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v51 = handle_opengl_thread_conflict((const void **)v16);
    id v52 = [(id)DYGetGLGuestAppClient(v51) waitOnGraphicsSemaphoreAssertions];
    if ((int)v52 >= 1)
    {
      do
LABEL_62:
        unsigned int v53 = __ldaxr(v18);
      while (__stlxr(v53 - 1, v18));
      uint64_t v54 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v52) graphicsLockWaitQueue];
      dispatch_sync_f(v54, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, uint64_t, uint64_t, float *))(*(void *)(v16 + 24) + 6768LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v16 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  v64[0] = 0LL;
  v64[1] = 0LL;
  int v65 = 0;
  if ([(id)DYGetGLGuestAppClient(v52) state] != (char *)&dword_0 + 1
    || (id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v22))
  {
    uint64_t v23 = wrapper_map_uniform_loc((ContextInfo *)v16, a2, a3);
    __int128 v61 = 0u;
    __int128 v62 = 0u;
    __int128 v63 = 0u;
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, *(void **)v16);
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a2);
    *(_WORD *)uint64_t v17 = 30019;
    *(_BYTE *)(v16 + 4711) = 105;
    uint64_t v24 = (_BYTE *)(v16 + 4712);
    if ((_DWORD)v23 == -1)
    {
      *uint64_t v24 = 105;
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, -1);
      uint64_t v25 = 1LL;
    }

    else
    {
      *(_DWORD *)(v16 + 4712) = 1047084118;
      snprintf((char *)(v16 + 4773), 0x40uLL, "u_%016lx_%u_%u", **(void **)(v16 + 40), (_DWORD)a2, v23);
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, (void *)(v16 + 4773));
      uint64_t v25 = 4LL;
    }

    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a4);
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a5);
    unsigned int v26 = &v24[v25];
    *(_WORD *)unsigned int v26 = 30057;
    v26[2] = 98;
    unint64_t v27 = &v24[v25 + 3];
    if ((unint64_t)(36LL * (_DWORD)a4) < 0x41)
    {
      int v29 = snprintf(v27, v17 - v27 + 64, "@%df", 9 * a4);
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a6);
      uint64_t v28 = v29;
    }

    else
    {
      char *v27 = 112;
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a6);
      uint64_t v28 = 1LL;
    }

    v27[v28] = 0;
    uint64_t v30 = GPUTools::FB::Encode(v64, 917LL, 0LL, v16 + 4709, &v60);
    char v31 = byte_2071ED;
    if ((byte_2071ED & 1) != 0) {
      breakpoint_break((uint64_t)v64, (volatile int *)&stru_388.sectname[13], 1LL, *(unsigned int *)(v16 + 3404), v16);
    }
    uint64_t v32 = (uint64_t)[(id)DYGetGLGuestAppClient(v30) overrideFlags];
    if (!(v32 & 0x10 | v31 & 4))
    {
      uint64_t v33 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, uint64_t, uint64_t, float *))(*(void *)(v16 + 32) + 6768LL))( a1,  a2,  v23,  a4,  a5,  a6);
      uint64_t v32 = mach_absolute_time();
      uint64_t v34 = v32 - v33;
      unint64_t v35 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        unsigned int v36 = v64[0];
        *((void *)v64[0] + 2) = v33;
        v36[3] = v34;
        if (!gCheckGLErrors) {
          goto LABEL_33;
        }
      }

      else
      {
        uint64_t v57 = __udivti3(g_DYTimebaseInfo * v34, (g_DYTimebaseInfo * (unsigned __int128)v34) >> 64);
        uint64_t v58 = v64[0];
        *((void *)v64[0] + 3) = v57;
        uint64_t v32 = __udivti3(v35 * v33, (v35 * (unsigned __int128)v33) >> 64);
        v58[2] = v32;
        if (!gCheckGLErrors) {
          goto LABEL_33;
        }
      }

      uint64_t v32 = check_errors(v16);
    }

void sub_1058C4( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void program_uniform_matrix4fv( __GLIContextRec *a1, volatile int *a2, uint64_t a3, uint64_t a4, uint64_t a5, float *a6)
{
  BOOL v11 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v11) {
    goto LABEL_12;
  }
  uint64_t v12 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v13 = v11[4];
    BOOL v14 = v13 >= (unint64_t)a1;
    else {
      BOOL v15 = v11 + 1;
    }
    if (v14) {
      uint64_t v12 = (uint64_t)v11;
    }
    BOOL v11 = (void *)*v15;
  }

  while (*v15);
  if (v12 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v12 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v12 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v16 = *(void *)(v12 + 40);
  uint64_t v17 = (char *)(v16 + 4709);
  uint64_t v18 = (unsigned int *)(v16 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    id v52 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v51 = handle_opengl_thread_conflict((const void **)v16);
    id v52 = [(id)DYGetGLGuestAppClient(v51) waitOnGraphicsSemaphoreAssertions];
    if ((int)v52 >= 1)
    {
      do
LABEL_62:
        unsigned int v53 = __ldaxr(v18);
      while (__stlxr(v53 - 1, v18));
      uint64_t v54 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v52) graphicsLockWaitQueue];
      dispatch_sync_f(v54, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, uint64_t, uint64_t, float *))(*(void *)(v16 + 24) + 6776LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v16 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  v64[0] = 0LL;
  v64[1] = 0LL;
  int v65 = 0;
  if ([(id)DYGetGLGuestAppClient(v52) state] != (char *)&dword_0 + 1
    || (id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v22))
  {
    uint64_t v23 = wrapper_map_uniform_loc((ContextInfo *)v16, a2, a3);
    __int128 v61 = 0u;
    __int128 v62 = 0u;
    __int128 v63 = 0u;
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, *(void **)v16);
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a2);
    *(_WORD *)uint64_t v17 = 30019;
    *(_BYTE *)(v16 + 4711) = 105;
    uint64_t v24 = (_BYTE *)(v16 + 4712);
    if ((_DWORD)v23 == -1)
    {
      *uint64_t v24 = 105;
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, -1);
      uint64_t v25 = 1LL;
    }

    else
    {
      *(_DWORD *)(v16 + 4712) = 1047084118;
      snprintf((char *)(v16 + 4773), 0x40uLL, "u_%016lx_%u_%u", **(void **)(v16 + 40), (_DWORD)a2, v23);
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, (void *)(v16 + 4773));
      uint64_t v25 = 4LL;
    }

    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a4);
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a5);
    unsigned int v26 = &v24[v25];
    *(_WORD *)unsigned int v26 = 30057;
    v26[2] = 98;
    unint64_t v27 = &v24[v25 + 3];
    if ((unint64_t)(64LL * (_DWORD)a4) < 0x41)
    {
      int v29 = snprintf(v27, v17 - v27 + 64, "@%df", 16 * a4);
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a6);
      uint64_t v28 = v29;
    }

    else
    {
      char *v27 = 112;
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a6);
      uint64_t v28 = 1LL;
    }

    v27[v28] = 0;
    uint64_t v30 = GPUTools::FB::Encode(v64, 918LL, 0LL, v16 + 4709, &v60);
    char v31 = byte_2071EE;
    if ((byte_2071EE & 1) != 0) {
      breakpoint_break((uint64_t)v64, (volatile int *)&stru_388.sectname[14], 1LL, *(unsigned int *)(v16 + 3404), v16);
    }
    uint64_t v32 = (uint64_t)[(id)DYGetGLGuestAppClient(v30) overrideFlags];
    if (!(v32 & 0x10 | v31 & 4))
    {
      uint64_t v33 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, uint64_t, uint64_t, float *))(*(void *)(v16 + 32) + 6776LL))( a1,  a2,  v23,  a4,  a5,  a6);
      uint64_t v32 = mach_absolute_time();
      uint64_t v34 = v32 - v33;
      unint64_t v35 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        unsigned int v36 = v64[0];
        *((void *)v64[0] + 2) = v33;
        v36[3] = v34;
        if (!gCheckGLErrors) {
          goto LABEL_33;
        }
      }

      else
      {
        uint64_t v57 = __udivti3(g_DYTimebaseInfo * v34, (g_DYTimebaseInfo * (unsigned __int128)v34) >> 64);
        uint64_t v58 = v64[0];
        *((void *)v64[0] + 3) = v57;
        uint64_t v32 = __udivti3(v35 * v33, (v35 * (unsigned __int128)v33) >> 64);
        v58[2] = v32;
        if (!gCheckGLErrors) {
          goto LABEL_33;
        }
      }

      uint64_t v32 = check_errors(v16);
    }

void sub_105E98( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_1063C0( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_106920( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_106EA4( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_10742C( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_1079D4( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void program_uniform2uiv(__GLIContextRec *a1, volatile int *a2, uint64_t a3, uint64_t a4, unsigned int *a5)
{
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      BOOL v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  uint64_t v16 = (char *)(v15 + 4709);
  uint64_t v17 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v18 = __ldaxr(v17);
    signed int v19 = v18 + 1;
  }

  while (__stlxr(v19, v17));
  if (gCheckGLErrors) {
    BOOL v20 = v19 <= 1;
  }
  else {
    BOOL v20 = 1;
  }
  if (v20)
  {
    id v51 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v50 = handle_opengl_thread_conflict((const void **)v15);
    id v51 = [(id)DYGetGLGuestAppClient(v50) waitOnGraphicsSemaphoreAssertions];
    if ((int)v51 >= 1)
    {
      do
LABEL_62:
        unsigned int v52 = __ldaxr(v17);
      while (__stlxr(v52 - 1, v17));
      unsigned int v53 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v51) graphicsLockWaitQueue];
      dispatch_sync_f(v53, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, uint64_t, unsigned int *))(*(void *)(v15 + 24)
                                                                                                  + 6824LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  v62[0] = 0LL;
  v62[1] = 0LL;
  int v63 = 0;
  if ([(id)DYGetGLGuestAppClient(v51) state] != (char *)&dword_0 + 1
    || (id v21 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v21))
  {
    uint64_t v22 = wrapper_map_uniform_loc((ContextInfo *)v15, a2, a3);
    __int128 v59 = 0u;
    __int128 v60 = 0u;
    __int128 v61 = 0u;
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v58, *(void **)v15);
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v58, a2);
    *(_WORD *)uint64_t v16 = 30019;
    *(_BYTE *)(v15 + 4711) = 105;
    uint64_t v23 = (_BYTE *)(v15 + 4712);
    if ((_DWORD)v22 == -1)
    {
      _BYTE *v23 = 105;
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v58, -1);
      uint64_t v24 = 1LL;
    }

    else
    {
      *(_DWORD *)(v15 + 4712) = 1047084118;
      snprintf((char *)(v15 + 4773), 0x40uLL, "u_%016lx_%u_%u", **(void **)(v15 + 40), (_DWORD)a2, v22);
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v58, (void *)(v15 + 4773));
      uint64_t v24 = 4LL;
    }

    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v58, a4);
    uint64_t v25 = &v23[v24];
    *uint64_t v25 = 105;
    unsigned int v26 = v25 + 1;
    if ((unint64_t)(8LL * (_DWORD)a4) < 0x41)
    {
      int v28 = snprintf(v26, v16 - v26 + 64, "@%dui", 2 * a4);
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v58, a5);
      uint64_t v27 = v28;
    }

    else
    {
      char *v26 = 112;
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v58, a5);
      uint64_t v27 = 1LL;
    }

    v26[v27] = 0;
    uint64_t v29 = GPUTools::FB::Encode(v62, 945LL, 0LL, v15 + 4709, &v58);
    char v30 = byte_207209;
    if ((byte_207209 & 1) != 0) {
      breakpoint_break( (uint64_t)v62,  (volatile int *)((char *)&stru_388.size + 1),  1LL,  *(unsigned int *)(v15 + 3404),  v15);
    }
    uint64_t v31 = (uint64_t)[(id)DYGetGLGuestAppClient(v29) overrideFlags];
    if (!(v31 & 0x10 | v30 & 4))
    {
      uint64_t v32 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, uint64_t, unsigned int *))(*(void *)(v15 + 32)
                                                                                                  + 6824LL))( a1,  a2,  v22,  a4,  a5);
      uint64_t v31 = mach_absolute_time();
      uint64_t v33 = v31 - v32;
      unint64_t v34 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        unint64_t v35 = v62[0];
        *((void *)v62[0] + 2) = v32;
        v35[3] = v33;
        if (!gCheckGLErrors) {
          goto LABEL_33;
        }
      }

      else
      {
        uint64_t v56 = __udivti3(g_DYTimebaseInfo * v33, (g_DYTimebaseInfo * (unsigned __int128)v33) >> 64);
        uint64_t v57 = v62[0];
        *((void *)v62[0] + 3) = v56;
        uint64_t v31 = __udivti3(v34 * v32, (v34 * (unsigned __int128)v32) >> 64);
        v57[2] = v31;
        if (!gCheckGLErrors) {
          goto LABEL_33;
        }
      }

      uint64_t v31 = check_errors(v15);
    }

void sub_107F80( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void program_uniform3uiv(__GLIContextRec *a1, volatile int *a2, uint64_t a3, uint64_t a4, unsigned int *a5)
{
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      BOOL v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  uint64_t v16 = (char *)(v15 + 4709);
  uint64_t v17 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v18 = __ldaxr(v17);
    signed int v19 = v18 + 1;
  }

  while (__stlxr(v19, v17));
  if (gCheckGLErrors) {
    BOOL v20 = v19 <= 1;
  }
  else {
    BOOL v20 = 1;
  }
  if (v20)
  {
    id v51 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v50 = handle_opengl_thread_conflict((const void **)v15);
    id v51 = [(id)DYGetGLGuestAppClient(v50) waitOnGraphicsSemaphoreAssertions];
    if ((int)v51 >= 1)
    {
      do
LABEL_62:
        unsigned int v52 = __ldaxr(v17);
      while (__stlxr(v52 - 1, v17));
      unsigned int v53 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v51) graphicsLockWaitQueue];
      dispatch_sync_f(v53, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, uint64_t, unsigned int *))(*(void *)(v15 + 24)
                                                                                                  + 6832LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  v62[0] = 0LL;
  v62[1] = 0LL;
  int v63 = 0;
  if ([(id)DYGetGLGuestAppClient(v51) state] != (char *)&dword_0 + 1
    || (id v21 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v21))
  {
    uint64_t v22 = wrapper_map_uniform_loc((ContextInfo *)v15, a2, a3);
    __int128 v59 = 0u;
    __int128 v60 = 0u;
    __int128 v61 = 0u;
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v58, *(void **)v15);
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v58, a2);
    *(_WORD *)uint64_t v16 = 30019;
    *(_BYTE *)(v15 + 4711) = 105;
    uint64_t v23 = (_BYTE *)(v15 + 4712);
    if ((_DWORD)v22 == -1)
    {
      _BYTE *v23 = 105;
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v58, -1);
      uint64_t v24 = 1LL;
    }

    else
    {
      *(_DWORD *)(v15 + 4712) = 1047084118;
      snprintf((char *)(v15 + 4773), 0x40uLL, "u_%016lx_%u_%u", **(void **)(v15 + 40), (_DWORD)a2, v22);
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v58, (void *)(v15 + 4773));
      uint64_t v24 = 4LL;
    }

    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v58, a4);
    uint64_t v25 = &v23[v24];
    *uint64_t v25 = 105;
    unsigned int v26 = v25 + 1;
    if ((unint64_t)(12LL * (_DWORD)a4) < 0x41)
    {
      int v28 = snprintf(v26, v16 - v26 + 64, "@%dui", 3 * a4);
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v58, a5);
      uint64_t v27 = v28;
    }

    else
    {
      char *v26 = 112;
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v58, a5);
      uint64_t v27 = 1LL;
    }

    v26[v27] = 0;
    uint64_t v29 = GPUTools::FB::Encode(v62, 949LL, 0LL, v15 + 4709, &v58);
    char v30 = byte_20720D;
    if ((byte_20720D & 1) != 0) {
      breakpoint_break( (uint64_t)v62,  (volatile int *)((char *)&stru_388.size + 5),  1LL,  *(unsigned int *)(v15 + 3404),  v15);
    }
    uint64_t v31 = (uint64_t)[(id)DYGetGLGuestAppClient(v29) overrideFlags];
    if (!(v31 & 0x10 | v30 & 4))
    {
      uint64_t v32 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, uint64_t, unsigned int *))(*(void *)(v15 + 32)
                                                                                                  + 6832LL))( a1,  a2,  v22,  a4,  a5);
      uint64_t v31 = mach_absolute_time();
      uint64_t v33 = v31 - v32;
      unint64_t v34 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        unint64_t v35 = v62[0];
        *((void *)v62[0] + 2) = v32;
        v35[3] = v33;
        if (!gCheckGLErrors) {
          goto LABEL_33;
        }
      }

      else
      {
        uint64_t v56 = __udivti3(g_DYTimebaseInfo * v33, (g_DYTimebaseInfo * (unsigned __int128)v33) >> 64);
        uint64_t v57 = v62[0];
        *((void *)v62[0] + 3) = v56;
        uint64_t v31 = __udivti3(v34 * v32, (v34 * (unsigned __int128)v32) >> 64);
        v57[2] = v31;
        if (!gCheckGLErrors) {
          goto LABEL_33;
        }
      }

      uint64_t v31 = check_errors(v15);
    }

void sub_10852C( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void program_uniform4uiv(__GLIContextRec *a1, volatile int *a2, uint64_t a3, uint64_t a4, unsigned int *a5)
{
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      BOOL v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  uint64_t v16 = (char *)(v15 + 4709);
  uint64_t v17 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v18 = __ldaxr(v17);
    signed int v19 = v18 + 1;
  }

  while (__stlxr(v19, v17));
  if (gCheckGLErrors) {
    BOOL v20 = v19 <= 1;
  }
  else {
    BOOL v20 = 1;
  }
  if (v20)
  {
    id v51 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v50 = handle_opengl_thread_conflict((const void **)v15);
    id v51 = [(id)DYGetGLGuestAppClient(v50) waitOnGraphicsSemaphoreAssertions];
    if ((int)v51 >= 1)
    {
      do
LABEL_62:
        unsigned int v52 = __ldaxr(v17);
      while (__stlxr(v52 - 1, v17));
      unsigned int v53 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v51) graphicsLockWaitQueue];
      dispatch_sync_f(v53, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, uint64_t, unsigned int *))(*(void *)(v15 + 24)
                                                                                                  + 6840LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  v62[0] = 0LL;
  v62[1] = 0LL;
  int v63 = 0;
  if ([(id)DYGetGLGuestAppClient(v51) state] != (char *)&dword_0 + 1
    || (id v21 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v21))
  {
    uint64_t v22 = wrapper_map_uniform_loc((ContextInfo *)v15, a2, a3);
    __int128 v59 = 0u;
    __int128 v60 = 0u;
    __int128 v61 = 0u;
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v58, *(void **)v15);
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v58, a2);
    *(_WORD *)uint64_t v16 = 30019;
    *(_BYTE *)(v15 + 4711) = 105;
    uint64_t v23 = (_BYTE *)(v15 + 4712);
    if ((_DWORD)v22 == -1)
    {
      _BYTE *v23 = 105;
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v58, -1);
      uint64_t v24 = 1LL;
    }

    else
    {
      *(_DWORD *)(v15 + 4712) = 1047084118;
      snprintf((char *)(v15 + 4773), 0x40uLL, "u_%016lx_%u_%u", **(void **)(v15 + 40), (_DWORD)a2, v22);
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v58, (void *)(v15 + 4773));
      uint64_t v24 = 4LL;
    }

    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v58, a4);
    uint64_t v25 = &v23[v24];
    *uint64_t v25 = 105;
    unsigned int v26 = v25 + 1;
    if ((unint64_t)(16LL * (_DWORD)a4) < 0x41)
    {
      int v28 = snprintf(v26, v16 - v26 + 64, "@%dui", 4 * a4);
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v58, a5);
      uint64_t v27 = v28;
    }

    else
    {
      char *v26 = 112;
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v58, a5);
      uint64_t v27 = 1LL;
    }

    v26[v27] = 0;
    uint64_t v29 = GPUTools::FB::Encode(v62, 953LL, 0LL, v15 + 4709, &v58);
    char v30 = byte_207211;
    if ((byte_207211 & 1) != 0) {
      breakpoint_break( (uint64_t)v62,  (volatile int *)((char *)&stru_388.offset + 1),  1LL,  *(unsigned int *)(v15 + 3404),  v15);
    }
    uint64_t v31 = (uint64_t)[(id)DYGetGLGuestAppClient(v29) overrideFlags];
    if (!(v31 & 0x10 | v30 & 4))
    {
      uint64_t v32 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, uint64_t, unsigned int *))(*(void *)(v15 + 32)
                                                                                                  + 6840LL))( a1,  a2,  v22,  a4,  a5);
      uint64_t v31 = mach_absolute_time();
      uint64_t v33 = v31 - v32;
      unint64_t v34 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        unint64_t v35 = v62[0];
        *((void *)v62[0] + 2) = v32;
        v35[3] = v33;
        if (!gCheckGLErrors) {
          goto LABEL_33;
        }
      }

      else
      {
        uint64_t v56 = __udivti3(g_DYTimebaseInfo * v33, (g_DYTimebaseInfo * (unsigned __int128)v33) >> 64);
        uint64_t v57 = v62[0];
        *((void *)v62[0] + 3) = v56;
        uint64_t v31 = __udivti3(v34 * v32, (v34 * (unsigned __int128)v32) >> 64);
        v57[2] = v31;
        if (!gCheckGLErrors) {
          goto LABEL_33;
        }
      }

      uint64_t v31 = check_errors(v15);
    }

void sub_108AD8( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void program_uniform_matrix2x3fv( __GLIContextRec *a1, volatile int *a2, uint64_t a3, uint64_t a4, uint64_t a5, float *a6)
{
  uint64_t v11 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v11) {
    goto LABEL_12;
  }
  uint64_t v12 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v13 = v11[4];
    BOOL v14 = v13 >= (unint64_t)a1;
    else {
      uint64_t v15 = v11 + 1;
    }
    if (v14) {
      uint64_t v12 = (uint64_t)v11;
    }
    uint64_t v11 = (void *)*v15;
  }

  while (*v15);
  if (v12 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v12 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v12 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v16 = *(void *)(v12 + 40);
  uint64_t v17 = (char *)(v16 + 4709);
  unsigned int v18 = (unsigned int *)(v16 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    id v52 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v51 = handle_opengl_thread_conflict((const void **)v16);
    id v52 = [(id)DYGetGLGuestAppClient(v51) waitOnGraphicsSemaphoreAssertions];
    if ((int)v52 >= 1)
    {
      do
LABEL_62:
        unsigned int v53 = __ldaxr(v18);
      while (__stlxr(v53 - 1, v18));
      uint64_t v54 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v52) graphicsLockWaitQueue];
      dispatch_sync_f(v54, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, uint64_t, uint64_t, float *))(*(void *)(v16 + 24) + 6848LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v16 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  v64[0] = 0LL;
  v64[1] = 0LL;
  int v65 = 0;
  if ([(id)DYGetGLGuestAppClient(v52) state] != (char *)&dword_0 + 1
    || (id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v22))
  {
    uint64_t v23 = wrapper_map_uniform_loc((ContextInfo *)v16, a2, a3);
    __int128 v61 = 0u;
    __int128 v62 = 0u;
    __int128 v63 = 0u;
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, *(void **)v16);
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a2);
    *(_WORD *)uint64_t v17 = 30019;
    *(_BYTE *)(v16 + 4711) = 105;
    uint64_t v24 = (_BYTE *)(v16 + 4712);
    if ((_DWORD)v23 == -1)
    {
      *uint64_t v24 = 105;
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, -1);
      uint64_t v25 = 1LL;
    }

    else
    {
      *(_DWORD *)(v16 + 4712) = 1047084118;
      snprintf((char *)(v16 + 4773), 0x40uLL, "u_%016lx_%u_%u", **(void **)(v16 + 40), (_DWORD)a2, v23);
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, (void *)(v16 + 4773));
      uint64_t v25 = 4LL;
    }

    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a4);
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a5);
    unsigned int v26 = &v24[v25];
    *(_WORD *)unsigned int v26 = 30057;
    v26[2] = 98;
    uint64_t v27 = &v24[v25 + 3];
    if ((unint64_t)(24LL * (_DWORD)a4) < 0x41)
    {
      int v29 = snprintf(v27, v17 - v27 + 64, "@%df", 6 * a4);
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a6);
      uint64_t v28 = v29;
    }

    else
    {
      char *v27 = 112;
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a6);
      uint64_t v28 = 1LL;
    }

    v27[v28] = 0;
    uint64_t v30 = GPUTools::FB::Encode(v64, 956LL, 0LL, v16 + 4709, &v60);
    char v31 = byte_207214;
    if ((byte_207214 & 1) != 0) {
      breakpoint_break((uint64_t)v64, (volatile int *)&stru_388.align, 1LL, *(unsigned int *)(v16 + 3404), v16);
    }
    uint64_t v32 = (uint64_t)[(id)DYGetGLGuestAppClient(v30) overrideFlags];
    if (!(v32 & 0x10 | v31 & 4))
    {
      uint64_t v33 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, uint64_t, uint64_t, float *))(*(void *)(v16 + 32) + 6848LL))( a1,  a2,  v23,  a4,  a5,  a6);
      uint64_t v32 = mach_absolute_time();
      uint64_t v34 = v32 - v33;
      unint64_t v35 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        id v36 = v64[0];
        *((void *)v64[0] + 2) = v33;
        v36[3] = v34;
        if (!gCheckGLErrors) {
          goto LABEL_33;
        }
      }

      else
      {
        uint64_t v57 = __udivti3(g_DYTimebaseInfo * v34, (g_DYTimebaseInfo * (unsigned __int128)v34) >> 64);
        uint64_t v58 = v64[0];
        *((void *)v64[0] + 3) = v57;
        uint64_t v32 = __udivti3(v35 * v33, (v35 * (unsigned __int128)v33) >> 64);
        v58[2] = v32;
        if (!gCheckGLErrors) {
          goto LABEL_33;
        }
      }

      uint64_t v32 = check_errors(v16);
    }

void sub_1090B0( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void program_uniform_matrix3x2fv( __GLIContextRec *a1, volatile int *a2, uint64_t a3, uint64_t a4, uint64_t a5, float *a6)
{
  uint64_t v11 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v11) {
    goto LABEL_12;
  }
  uint64_t v12 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v13 = v11[4];
    BOOL v14 = v13 >= (unint64_t)a1;
    else {
      uint64_t v15 = v11 + 1;
    }
    if (v14) {
      uint64_t v12 = (uint64_t)v11;
    }
    uint64_t v11 = (void *)*v15;
  }

  while (*v15);
  if (v12 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v12 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v12 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v16 = *(void *)(v12 + 40);
  uint64_t v17 = (char *)(v16 + 4709);
  unsigned int v18 = (unsigned int *)(v16 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    id v52 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v51 = handle_opengl_thread_conflict((const void **)v16);
    id v52 = [(id)DYGetGLGuestAppClient(v51) waitOnGraphicsSemaphoreAssertions];
    if ((int)v52 >= 1)
    {
      do
LABEL_62:
        unsigned int v53 = __ldaxr(v18);
      while (__stlxr(v53 - 1, v18));
      uint64_t v54 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v52) graphicsLockWaitQueue];
      dispatch_sync_f(v54, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, uint64_t, uint64_t, float *))(*(void *)(v16 + 24) + 6856LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v16 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  v64[0] = 0LL;
  v64[1] = 0LL;
  int v65 = 0;
  if ([(id)DYGetGLGuestAppClient(v52) state] != (char *)&dword_0 + 1
    || (id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v22))
  {
    uint64_t v23 = wrapper_map_uniform_loc((ContextInfo *)v16, a2, a3);
    __int128 v61 = 0u;
    __int128 v62 = 0u;
    __int128 v63 = 0u;
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, *(void **)v16);
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a2);
    *(_WORD *)uint64_t v17 = 30019;
    *(_BYTE *)(v16 + 4711) = 105;
    uint64_t v24 = (_BYTE *)(v16 + 4712);
    if ((_DWORD)v23 == -1)
    {
      *uint64_t v24 = 105;
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, -1);
      uint64_t v25 = 1LL;
    }

    else
    {
      *(_DWORD *)(v16 + 4712) = 1047084118;
      snprintf((char *)(v16 + 4773), 0x40uLL, "u_%016lx_%u_%u", **(void **)(v16 + 40), (_DWORD)a2, v23);
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, (void *)(v16 + 4773));
      uint64_t v25 = 4LL;
    }

    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a4);
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a5);
    unsigned int v26 = &v24[v25];
    *(_WORD *)unsigned int v26 = 30057;
    v26[2] = 98;
    uint64_t v27 = &v24[v25 + 3];
    if ((unint64_t)(24LL * (_DWORD)a4) < 0x41)
    {
      int v29 = snprintf(v27, v17 - v27 + 64, "@%df", 6 * a4);
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a6);
      uint64_t v28 = v29;
    }

    else
    {
      char *v27 = 112;
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a6);
      uint64_t v28 = 1LL;
    }

    v27[v28] = 0;
    uint64_t v30 = GPUTools::FB::Encode(v64, 961LL, 0LL, v16 + 4709, &v60);
    char v31 = byte_207219;
    if ((byte_207219 & 1) != 0) {
      breakpoint_break( (uint64_t)v64,  (volatile int *)((char *)&stru_388.reloff + 1),  1LL,  *(unsigned int *)(v16 + 3404),  v16);
    }
    uint64_t v32 = (uint64_t)[(id)DYGetGLGuestAppClient(v30) overrideFlags];
    if (!(v32 & 0x10 | v31 & 4))
    {
      uint64_t v33 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, uint64_t, uint64_t, float *))(*(void *)(v16 + 32) + 6856LL))( a1,  a2,  v23,  a4,  a5,  a6);
      uint64_t v32 = mach_absolute_time();
      uint64_t v34 = v32 - v33;
      unint64_t v35 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        id v36 = v64[0];
        *((void *)v64[0] + 2) = v33;
        v36[3] = v34;
        if (!gCheckGLErrors) {
          goto LABEL_33;
        }
      }

      else
      {
        uint64_t v57 = __udivti3(g_DYTimebaseInfo * v34, (g_DYTimebaseInfo * (unsigned __int128)v34) >> 64);
        uint64_t v58 = v64[0];
        *((void *)v64[0] + 3) = v57;
        uint64_t v32 = __udivti3(v35 * v33, (v35 * (unsigned __int128)v33) >> 64);
        v58[2] = v32;
        if (!gCheckGLErrors) {
          goto LABEL_33;
        }
      }

      uint64_t v32 = check_errors(v16);
    }

void sub_109688( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void program_uniform_matrix2x4fv( __GLIContextRec *a1, volatile int *a2, uint64_t a3, uint64_t a4, uint64_t a5, float *a6)
{
  uint64_t v11 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v11) {
    goto LABEL_12;
  }
  uint64_t v12 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v13 = v11[4];
    BOOL v14 = v13 >= (unint64_t)a1;
    else {
      uint64_t v15 = v11 + 1;
    }
    if (v14) {
      uint64_t v12 = (uint64_t)v11;
    }
    uint64_t v11 = (void *)*v15;
  }

  while (*v15);
  if (v12 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v12 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v12 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v16 = *(void *)(v12 + 40);
  uint64_t v17 = (char *)(v16 + 4709);
  unsigned int v18 = (unsigned int *)(v16 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    id v52 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v51 = handle_opengl_thread_conflict((const void **)v16);
    id v52 = [(id)DYGetGLGuestAppClient(v51) waitOnGraphicsSemaphoreAssertions];
    if ((int)v52 >= 1)
    {
      do
LABEL_62:
        unsigned int v53 = __ldaxr(v18);
      while (__stlxr(v53 - 1, v18));
      uint64_t v54 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v52) graphicsLockWaitQueue];
      dispatch_sync_f(v54, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, uint64_t, uint64_t, float *))(*(void *)(v16 + 24) + 6864LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v16 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  v64[0] = 0LL;
  v64[1] = 0LL;
  int v65 = 0;
  if ([(id)DYGetGLGuestAppClient(v52) state] != (char *)&dword_0 + 1
    || (id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v22))
  {
    uint64_t v23 = wrapper_map_uniform_loc((ContextInfo *)v16, a2, a3);
    __int128 v61 = 0u;
    __int128 v62 = 0u;
    __int128 v63 = 0u;
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, *(void **)v16);
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a2);
    *(_WORD *)uint64_t v17 = 30019;
    *(_BYTE *)(v16 + 4711) = 105;
    uint64_t v24 = (_BYTE *)(v16 + 4712);
    if ((_DWORD)v23 == -1)
    {
      *uint64_t v24 = 105;
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, -1);
      uint64_t v25 = 1LL;
    }

    else
    {
      *(_DWORD *)(v16 + 4712) = 1047084118;
      snprintf((char *)(v16 + 4773), 0x40uLL, "u_%016lx_%u_%u", **(void **)(v16 + 40), (_DWORD)a2, v23);
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, (void *)(v16 + 4773));
      uint64_t v25 = 4LL;
    }

    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a4);
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a5);
    unsigned int v26 = &v24[v25];
    *(_WORD *)unsigned int v26 = 30057;
    v26[2] = 98;
    uint64_t v27 = &v24[v25 + 3];
    if ((unint64_t)(32LL * (_DWORD)a4) < 0x41)
    {
      int v29 = snprintf(v27, v17 - v27 + 64, "@%df", 8 * a4);
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a6);
      uint64_t v28 = v29;
    }

    else
    {
      char *v27 = 112;
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a6);
      uint64_t v28 = 1LL;
    }

    v27[v28] = 0;
    uint64_t v30 = GPUTools::FB::Encode(v64, 958LL, 0LL, v16 + 4709, &v60);
    char v31 = byte_207216;
    if ((byte_207216 & 1) != 0) {
      breakpoint_break( (uint64_t)v64,  (volatile int *)((char *)&stru_388.align + 2),  1LL,  *(unsigned int *)(v16 + 3404),  v16);
    }
    uint64_t v32 = (uint64_t)[(id)DYGetGLGuestAppClient(v30) overrideFlags];
    if (!(v32 & 0x10 | v31 & 4))
    {
      uint64_t v33 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, uint64_t, uint64_t, float *))(*(void *)(v16 + 32) + 6864LL))( a1,  a2,  v23,  a4,  a5,  a6);
      uint64_t v32 = mach_absolute_time();
      uint64_t v34 = v32 - v33;
      unint64_t v35 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        id v36 = v64[0];
        *((void *)v64[0] + 2) = v33;
        v36[3] = v34;
        if (!gCheckGLErrors) {
          goto LABEL_33;
        }
      }

      else
      {
        uint64_t v57 = __udivti3(g_DYTimebaseInfo * v34, (g_DYTimebaseInfo * (unsigned __int128)v34) >> 64);
        uint64_t v58 = v64[0];
        *((void *)v64[0] + 3) = v57;
        uint64_t v32 = __udivti3(v35 * v33, (v35 * (unsigned __int128)v33) >> 64);
        v58[2] = v32;
        if (!gCheckGLErrors) {
          goto LABEL_33;
        }
      }

      uint64_t v32 = check_errors(v16);
    }

void sub_109C5C( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void program_uniform_matrix4x2fv( __GLIContextRec *a1, volatile int *a2, uint64_t a3, uint64_t a4, uint64_t a5, float *a6)
{
  uint64_t v11 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v11) {
    goto LABEL_12;
  }
  uint64_t v12 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v13 = v11[4];
    BOOL v14 = v13 >= (unint64_t)a1;
    else {
      uint64_t v15 = v11 + 1;
    }
    if (v14) {
      uint64_t v12 = (uint64_t)v11;
    }
    uint64_t v11 = (void *)*v15;
  }

  while (*v15);
  if (v12 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v12 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v12 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v16 = *(void *)(v12 + 40);
  uint64_t v17 = (char *)(v16 + 4709);
  unsigned int v18 = (unsigned int *)(v16 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    id v52 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v51 = handle_opengl_thread_conflict((const void **)v16);
    id v52 = [(id)DYGetGLGuestAppClient(v51) waitOnGraphicsSemaphoreAssertions];
    if ((int)v52 >= 1)
    {
      do
LABEL_62:
        unsigned int v53 = __ldaxr(v18);
      while (__stlxr(v53 - 1, v18));
      uint64_t v54 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v52) graphicsLockWaitQueue];
      dispatch_sync_f(v54, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, uint64_t, uint64_t, float *))(*(void *)(v16 + 24) + 6872LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v16 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  v64[0] = 0LL;
  v64[1] = 0LL;
  int v65 = 0;
  if ([(id)DYGetGLGuestAppClient(v52) state] != (char *)&dword_0 + 1
    || (id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v22))
  {
    uint64_t v23 = wrapper_map_uniform_loc((ContextInfo *)v16, a2, a3);
    __int128 v61 = 0u;
    __int128 v62 = 0u;
    __int128 v63 = 0u;
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, *(void **)v16);
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a2);
    *(_WORD *)uint64_t v17 = 30019;
    *(_BYTE *)(v16 + 4711) = 105;
    uint64_t v24 = (_BYTE *)(v16 + 4712);
    if ((_DWORD)v23 == -1)
    {
      *uint64_t v24 = 105;
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, -1);
      uint64_t v25 = 1LL;
    }

    else
    {
      *(_DWORD *)(v16 + 4712) = 1047084118;
      snprintf((char *)(v16 + 4773), 0x40uLL, "u_%016lx_%u_%u", **(void **)(v16 + 40), (_DWORD)a2, v23);
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, (void *)(v16 + 4773));
      uint64_t v25 = 4LL;
    }

    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a4);
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a5);
    unsigned int v26 = &v24[v25];
    *(_WORD *)unsigned int v26 = 30057;
    v26[2] = 98;
    uint64_t v27 = &v24[v25 + 3];
    if ((unint64_t)(32LL * (_DWORD)a4) < 0x41)
    {
      int v29 = snprintf(v27, v17 - v27 + 64, "@%df", 8 * a4);
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a6);
      uint64_t v28 = v29;
    }

    else
    {
      char *v27 = 112;
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a6);
      uint64_t v28 = 1LL;
    }

    v27[v28] = 0;
    uint64_t v30 = GPUTools::FB::Encode(v64, 966LL, 0LL, v16 + 4709, &v60);
    char v31 = byte_20721E;
    if ((byte_20721E & 1) != 0) {
      breakpoint_break( (uint64_t)v64,  (volatile int *)((char *)&stru_388.nreloc + 2),  1LL,  *(unsigned int *)(v16 + 3404),  v16);
    }
    uint64_t v32 = (uint64_t)[(id)DYGetGLGuestAppClient(v30) overrideFlags];
    if (!(v32 & 0x10 | v31 & 4))
    {
      uint64_t v33 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, uint64_t, uint64_t, float *))(*(void *)(v16 + 32) + 6872LL))( a1,  a2,  v23,  a4,  a5,  a6);
      uint64_t v32 = mach_absolute_time();
      uint64_t v34 = v32 - v33;
      unint64_t v35 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        id v36 = v64[0];
        *((void *)v64[0] + 2) = v33;
        v36[3] = v34;
        if (!gCheckGLErrors) {
          goto LABEL_33;
        }
      }

      else
      {
        uint64_t v57 = __udivti3(g_DYTimebaseInfo * v34, (g_DYTimebaseInfo * (unsigned __int128)v34) >> 64);
        uint64_t v58 = v64[0];
        *((void *)v64[0] + 3) = v57;
        uint64_t v32 = __udivti3(v35 * v33, (v35 * (unsigned __int128)v33) >> 64);
        v58[2] = v32;
        if (!gCheckGLErrors) {
          goto LABEL_33;
        }
      }

      uint64_t v32 = check_errors(v16);
    }

void sub_10A230( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void program_uniform_matrix3x4fv( __GLIContextRec *a1, volatile int *a2, uint64_t a3, uint64_t a4, uint64_t a5, float *a6)
{
  uint64_t v11 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v11) {
    goto LABEL_12;
  }
  uint64_t v12 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v13 = v11[4];
    BOOL v14 = v13 >= (unint64_t)a1;
    else {
      uint64_t v15 = v11 + 1;
    }
    if (v14) {
      uint64_t v12 = (uint64_t)v11;
    }
    uint64_t v11 = (void *)*v15;
  }

  while (*v15);
  if (v12 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v12 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v12 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v16 = *(void *)(v12 + 40);
  uint64_t v17 = (char *)(v16 + 4709);
  unsigned int v18 = (unsigned int *)(v16 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    id v52 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v51 = handle_opengl_thread_conflict((const void **)v16);
    id v52 = [(id)DYGetGLGuestAppClient(v51) waitOnGraphicsSemaphoreAssertions];
    if ((int)v52 >= 1)
    {
      do
LABEL_62:
        unsigned int v53 = __ldaxr(v18);
      while (__stlxr(v53 - 1, v18));
      uint64_t v54 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v52) graphicsLockWaitQueue];
      dispatch_sync_f(v54, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, uint64_t, uint64_t, float *))(*(void *)(v16 + 24) + 6880LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v16 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  v64[0] = 0LL;
  v64[1] = 0LL;
  int v65 = 0;
  if ([(id)DYGetGLGuestAppClient(v52) state] != (char *)&dword_0 + 1
    || (id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v22))
  {
    uint64_t v23 = wrapper_map_uniform_loc((ContextInfo *)v16, a2, a3);
    __int128 v61 = 0u;
    __int128 v62 = 0u;
    __int128 v63 = 0u;
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, *(void **)v16);
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a2);
    *(_WORD *)uint64_t v17 = 30019;
    *(_BYTE *)(v16 + 4711) = 105;
    uint64_t v24 = (_BYTE *)(v16 + 4712);
    if ((_DWORD)v23 == -1)
    {
      *uint64_t v24 = 105;
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, -1);
      uint64_t v25 = 1LL;
    }

    else
    {
      *(_DWORD *)(v16 + 4712) = 1047084118;
      snprintf((char *)(v16 + 4773), 0x40uLL, "u_%016lx_%u_%u", **(void **)(v16 + 40), (_DWORD)a2, v23);
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, (void *)(v16 + 4773));
      uint64_t v25 = 4LL;
    }

    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a4);
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a5);
    unsigned int v26 = &v24[v25];
    *(_WORD *)unsigned int v26 = 30057;
    v26[2] = 98;
    uint64_t v27 = &v24[v25 + 3];
    if ((unint64_t)(48LL * (_DWORD)a4) < 0x41)
    {
      int v29 = snprintf(v27, v17 - v27 + 64, "@%df", 12 * a4);
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a6);
      uint64_t v28 = v29;
    }

    else
    {
      char *v27 = 112;
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a6);
      uint64_t v28 = 1LL;
    }

    v27[v28] = 0;
    uint64_t v30 = GPUTools::FB::Encode(v64, 963LL, 0LL, v16 + 4709, &v60);
    char v31 = byte_20721B;
    if ((byte_20721B & 1) != 0) {
      breakpoint_break( (uint64_t)v64,  (volatile int *)((char *)&stru_388.reloff + 3),  1LL,  *(unsigned int *)(v16 + 3404),  v16);
    }
    uint64_t v32 = (uint64_t)[(id)DYGetGLGuestAppClient(v30) overrideFlags];
    if (!(v32 & 0x10 | v31 & 4))
    {
      uint64_t v33 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, uint64_t, uint64_t, float *))(*(void *)(v16 + 32) + 6880LL))( a1,  a2,  v23,  a4,  a5,  a6);
      uint64_t v32 = mach_absolute_time();
      uint64_t v34 = v32 - v33;
      unint64_t v35 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        id v36 = v64[0];
        *((void *)v64[0] + 2) = v33;
        v36[3] = v34;
        if (!gCheckGLErrors) {
          goto LABEL_33;
        }
      }

      else
      {
        uint64_t v57 = __udivti3(g_DYTimebaseInfo * v34, (g_DYTimebaseInfo * (unsigned __int128)v34) >> 64);
        uint64_t v58 = v64[0];
        *((void *)v64[0] + 3) = v57;
        uint64_t v32 = __udivti3(v35 * v33, (v35 * (unsigned __int128)v33) >> 64);
        v58[2] = v32;
        if (!gCheckGLErrors) {
          goto LABEL_33;
        }
      }

      uint64_t v32 = check_errors(v16);
    }

void sub_10A808( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void program_uniform_matrix4x3fv( __GLIContextRec *a1, volatile int *a2, uint64_t a3, uint64_t a4, uint64_t a5, float *a6)
{
  uint64_t v11 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v11) {
    goto LABEL_12;
  }
  uint64_t v12 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v13 = v11[4];
    BOOL v14 = v13 >= (unint64_t)a1;
    else {
      uint64_t v15 = v11 + 1;
    }
    if (v14) {
      uint64_t v12 = (uint64_t)v11;
    }
    uint64_t v11 = (void *)*v15;
  }

  while (*v15);
  if (v12 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v12 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v12 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v16 = *(void *)(v12 + 40);
  uint64_t v17 = (char *)(v16 + 4709);
  unsigned int v18 = (unsigned int *)(v16 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    id v52 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v51 = handle_opengl_thread_conflict((const void **)v16);
    id v52 = [(id)DYGetGLGuestAppClient(v51) waitOnGraphicsSemaphoreAssertions];
    if ((int)v52 >= 1)
    {
      do
LABEL_62:
        unsigned int v53 = __ldaxr(v18);
      while (__stlxr(v53 - 1, v18));
      uint64_t v54 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v52) graphicsLockWaitQueue];
      dispatch_sync_f(v54, 0LL, (dispatch_function_t)do_nothing);
      (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, uint64_t, uint64_t, float *))(*(void *)(v16 + 24) + 6888LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v16 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  v64[0] = 0LL;
  v64[1] = 0LL;
  int v65 = 0;
  if ([(id)DYGetGLGuestAppClient(v52) state] != (char *)&dword_0 + 1
    || (id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand], !(_DWORD)v22))
  {
    uint64_t v23 = wrapper_map_uniform_loc((ContextInfo *)v16, a2, a3);
    __int128 v61 = 0u;
    __int128 v62 = 0u;
    __int128 v63 = 0u;
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, *(void **)v16);
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a2);
    *(_WORD *)uint64_t v17 = 30019;
    *(_BYTE *)(v16 + 4711) = 105;
    uint64_t v24 = (_BYTE *)(v16 + 4712);
    if ((_DWORD)v23 == -1)
    {
      *uint64_t v24 = 105;
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, -1);
      uint64_t v25 = 1LL;
    }

    else
    {
      *(_DWORD *)(v16 + 4712) = 1047084118;
      snprintf((char *)(v16 + 4773), 0x40uLL, "u_%016lx_%u_%u", **(void **)(v16 + 40), (_DWORD)a2, v23);
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, (void *)(v16 + 4773));
      uint64_t v25 = 4LL;
    }

    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a4);
    GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a5);
    unsigned int v26 = &v24[v25];
    *(_WORD *)unsigned int v26 = 30057;
    v26[2] = 98;
    uint64_t v27 = &v24[v25 + 3];
    if ((unint64_t)(48LL * (_DWORD)a4) < 0x41)
    {
      int v29 = snprintf(v27, v17 - v27 + 64, "@%df", 12 * a4);
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a6);
      uint64_t v28 = v29;
    }

    else
    {
      char *v27 = 112;
      GPUTools::FB::FIFOArgumentProvider::push((GPUTools::FB::FIFOArgumentProvider *)&v60, a6);
      uint64_t v28 = 1LL;
    }

    v27[v28] = 0;
    uint64_t v30 = GPUTools::FB::Encode(v64, 968LL, 0LL, v16 + 4709, &v60);
    char v31 = byte_207220;
    if ((byte_207220 & 1) != 0) {
      breakpoint_break((uint64_t)v64, (volatile int *)&stru_388.flags, 1LL, *(unsigned int *)(v16 + 3404), v16);
    }
    uint64_t v32 = (uint64_t)[(id)DYGetGLGuestAppClient(v30) overrideFlags];
    if (!(v32 & 0x10 | v31 & 4))
    {
      uint64_t v33 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, uint64_t, uint64_t, float *))(*(void *)(v16 + 32) + 6888LL))( a1,  a2,  v23,  a4,  a5,  a6);
      uint64_t v32 = mach_absolute_time();
      uint64_t v34 = v32 - v33;
      unint64_t v35 = g_DYTimebaseInfo;
      if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
      {
        id v36 = v64[0];
        *((void *)v64[0] + 2) = v33;
        v36[3] = v34;
        if (!gCheckGLErrors) {
          goto LABEL_33;
        }
      }

      else
      {
        uint64_t v57 = __udivti3(g_DYTimebaseInfo * v34, (g_DYTimebaseInfo * (unsigned __int128)v34) >> 64);
        uint64_t v58 = v64[0];
        *((void *)v64[0] + 3) = v57;
        uint64_t v32 = __udivti3(v35 * v33, (v35 * (unsigned __int128)v33) >> 64);
        v58[2] = v32;
        if (!gCheckGLErrors) {
          goto LABEL_33;
        }
      }

      uint64_t v32 = check_errors(v16);
    }

void sub_10ADE0( _Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(a1);
}

void sub_10B2A0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_10B7EC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_10BCB0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, void *a18)
{
  if (a18) {
    free(a18);
  }
  _Unwind_Resume(exception_object);
}

void sub_10C194( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_10C66C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_10CADC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_10CFA4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_10D480( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_10D920( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_10DD50( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_10E1F8( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_10E6A8( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_10EBB4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_10F090( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_10F5A8( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_10FA74( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_10FF64( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_110454( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_11096C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_110E48( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_111280( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_1116E4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_111C2C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_112180( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_1125FC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_112A74( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_112F54( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_113424( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_1138F0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_113DDC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_1142CC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_1146FC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_114B58( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_11504C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_1154A4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_115968( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_115E58( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_116354( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_1167AC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_116C94( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_117190( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_1176E0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_117C34( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_118100( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_1185DC( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_118AF4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_118FF0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_119450( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_1198C0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_119D30( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_11A1A4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_11A69C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_11ABE4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_11B0C8( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_11B5A4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_11B9D4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_11BE98( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_11C348( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_11C7B0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_11CC14( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_11D158( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_11D6A0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_11DBE8( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_11E0C0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_11E5A0( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_11EA80( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_11EFC8( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_11F4A8( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_11F908( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_11FD58( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  if (a14) {
    free(a14);
  }
  _Unwind_Resume(exception_object);
}

void sub_12025C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_1207F4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_120D10( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_1211B4( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20)
{
  if (a20) {
    free(a20);
  }
  _Unwind_Resume(exception_object);
}

void sub_12161C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_121A98( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16)
{
  if (a16) {
    free(a16);
  }
  _Unwind_Resume(exception_object);
}

void sub_121F34( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, void *a18)
{
  if (a18) {
    free(a18);
  }
  _Unwind_Resume(exception_object);
}

void sub_12242C( _Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  if (a12) {
    free(a12);
  }
  _Unwind_Resume(exception_object);
}

void sub_122570(_Unwind_Exception *exception_object)
{
  uint64_t v4 = *(void **)(v2 - 40);
  if (v4) {
    free(v4);
  }
  _Unwind_Resume(exception_object);
}

void sub_122654(_Unwind_Exception *exception_object)
{
  uint64_t v3 = v1;
  atomic_store(0, v3);
  uint64_t v5 = *(void **)(v2 - 40);
  if (v5) {
    free(v5);
  }
  _Unwind_Resume(exception_object);
}

void __Block_byref_object_copy__0(uint64_t a1, uint64_t a2)
{
  if (a1 != a2)
  {
    uint64_t v4 = a2 + 48;
    uint64_t v5 = *(void **)(a1 + 48);
    if (v5) {
      free(v5);
    }
    *(void *)(a1 + 4_Block_object_dispose((const void *)(v1 - 176), 8) = *(void *)(a2 + 48);
    *(void *)(a1 + 56) = *(void *)(a2 + 56);
    *(_DWORD *)(a1 + 64) = *(_DWORD *)(a2 + 64);
    *(void *)uint64_t v4 = 0LL;
    *(void *)(v4 + _Block_object_dispose((const void *)(v1 - 176), 8) = 0LL;
    *(_DWORD *)(v4 + 16) = 0;
  }

void __Block_byref_object_dispose__0(uint64_t a1)
{
  uint64_t v2 = a1 + 48;
  uint64_t v1 = *(void **)(a1 + 48);
  if (v1) {
    free(v1);
  }
  *(void *)uint64_t v2 = 0LL;
  *(void *)(v2 + _Block_object_dispose((const void *)(v1 - 176), 8) = 0LL;
  *(_DWORD *)(v2 + 16) = 0;
}

void ___ZL16link_program_ARBP15__GLIContextRecPv_block_invoke_0( uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  unint64_t v10 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v9) defaultFbufStream];
  uint64_t v11 = (GPUTools::FB::Fbuf *)(*(void *)(*(void *)(a1 + 32) + 8LL) + 48LL);
  uint64_t v12 = (unsigned int *)((char *)v10 + 56);
  do
    unsigned int v13 = __ldaxr(v12);
  while (__stlxr(1u, v12));
  if (v13 == 1)
  {
    do
    {
      while (*v12 == 1)
        ;
      do
        unsigned int v14 = __ldaxr(v12);
      while (__stlxr(1u, v12));
    }

    while (v14 == 1);
  }

  GPUTools::FB::Stream::Write_nolock(v10, v11, **(unsigned int **)v11, 1);
  atomic_store(0, v12);
}

void sub_1227DC(_Unwind_Exception *a1)
{
}

void ___ZL16link_program_ARBP15__GLIContextRecPv_block_invoke_2_0( uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  unint64_t v10 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v9) defaultFbufStream];
  uint64_t v11 = (GPUTools::FB::Fbuf *)(*(void *)(*(void *)(a1 + 32) + 8LL) + 48LL);
  uint64_t v12 = (unsigned int *)((char *)v10 + 56);
  do
    unsigned int v13 = __ldaxr(v12);
  while (__stlxr(1u, v12));
  if (v13 == 1)
  {
    do
    {
      while (*v12 == 1)
        ;
      do
        unsigned int v14 = __ldaxr(v12);
      while (__stlxr(1u, v12));
    }

    while (v14 == 1);
  }

  GPUTools::FB::Stream::Write_nolock(v10, v11, **(unsigned int **)v11, 1);
  atomic_store(0, v12);
}

void sub_1228B4(_Unwind_Exception *a1)
{
}

void ___ZL16link_program_ARBP15__GLIContextRecPv_block_invoke_3_0( uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  unint64_t v10 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v9) defaultFbufStream];
  uint64_t v11 = (GPUTools::FB::Fbuf *)(*(void *)(*(void *)(a1 + 32) + 8LL) + 48LL);
  uint64_t v12 = (unsigned int *)((char *)v10 + 56);
  do
    unsigned int v13 = __ldaxr(v12);
  while (__stlxr(1u, v12));
  if (v13 == 1)
  {
    do
    {
      while (*v12 == 1)
        ;
      do
        unsigned int v14 = __ldaxr(v12);
      while (__stlxr(1u, v12));
    }

    while (v14 == 1);
  }

  GPUTools::FB::Stream::Write_nolock(v10, v11, **(unsigned int **)v11, 1);
  atomic_store(0, v12);
}

void sub_12298C(_Unwind_Exception *a1)
{
}

void ___ZL16link_program_ARBP15__GLIContextRecPv_block_invoke_4_0( uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  unint64_t v10 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v9) defaultFbufStream];
  uint64_t v11 = (GPUTools::FB::Fbuf *)(*(void *)(*(void *)(a1 + 32) + 8LL) + 48LL);
  uint64_t v12 = (unsigned int *)((char *)v10 + 56);
  do
    unsigned int v13 = __ldaxr(v12);
  while (__stlxr(1u, v12));
  if (v13 == 1)
  {
    do
    {
      while (*v12 == 1)
        ;
      do
        unsigned int v14 = __ldaxr(v12);
      while (__stlxr(1u, v12));
    }

    while (v14 == 1);
  }

  GPUTools::FB::Stream::Write_nolock(v10, v11, **(unsigned int **)v11, 1);
  atomic_store(0, v12);
}

void sub_122A84(_Unwind_Exception *a1)
{
}

void ___ZL22create_shader_programvP15__GLIContextRecjiPPKc_block_invoke_0( uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  unint64_t v10 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v9) defaultFbufStream];
  uint64_t v11 = (GPUTools::FB::Fbuf *)(*(void *)(*(void *)(a1 + 32) + 8LL) + 48LL);
  uint64_t v12 = (unsigned int *)((char *)v10 + 56);
  do
    unsigned int v13 = __ldaxr(v12);
  while (__stlxr(1u, v12));
  if (v13 == 1)
  {
    do
    {
      while (*v12 == 1)
        ;
      do
        unsigned int v14 = __ldaxr(v12);
      while (__stlxr(1u, v12));
    }

    while (v14 == 1);
  }

  GPUTools::FB::Stream::Write_nolock(v10, v11, **(unsigned int **)v11, 1);
  atomic_store(0, v12);
}

void sub_122B5C(_Unwind_Exception *a1)
{
}

void ___ZL22create_shader_programvP15__GLIContextRecjiPPKc_block_invoke_2_0( uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  unint64_t v10 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v9) defaultFbufStream];
  uint64_t v11 = (GPUTools::FB::Fbuf *)(*(void *)(*(void *)(a1 + 32) + 8LL) + 48LL);
  uint64_t v12 = (unsigned int *)((char *)v10 + 56);
  do
    unsigned int v13 = __ldaxr(v12);
  while (__stlxr(1u, v12));
  if (v13 == 1)
  {
    do
    {
      while (*v12 == 1)
        ;
      do
        unsigned int v14 = __ldaxr(v12);
      while (__stlxr(1u, v12));
    }

    while (v14 == 1);
  }

  GPUTools::FB::Stream::Write_nolock(v10, v11, **(unsigned int **)v11, 1);
  atomic_store(0, v12);
}

void sub_122C34(_Unwind_Exception *a1)
{
}

void ___ZL22create_shader_programvP15__GLIContextRecjiPPKc_block_invoke_3_0( uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  unint64_t v10 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v9) defaultFbufStream];
  uint64_t v11 = (GPUTools::FB::Fbuf *)(*(void *)(*(void *)(a1 + 32) + 8LL) + 48LL);
  uint64_t v12 = (unsigned int *)((char *)v10 + 56);
  do
    unsigned int v13 = __ldaxr(v12);
  while (__stlxr(1u, v12));
  if (v13 == 1)
  {
    do
    {
      while (*v12 == 1)
        ;
      do
        unsigned int v14 = __ldaxr(v12);
      while (__stlxr(1u, v12));
    }

    while (v14 == 1);
  }

  GPUTools::FB::Stream::Write_nolock(v10, v11, **(unsigned int **)v11, 1);
  atomic_store(0, v12);
}

void sub_122D0C(_Unwind_Exception *a1)
{
}

void ___ZL22create_shader_programvP15__GLIContextRecjiPPKc_block_invoke_4_0( uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  unint64_t v10 = (GPUTools::FB::Stream *)[(id)DYGetGLGuestAppClient(v9) defaultFbufStream];
  uint64_t v11 = (GPUTools::FB::Fbuf *)(*(void *)(*(void *)(a1 + 32) + 8LL) + 48LL);
  uint64_t v12 = (unsigned int *)((char *)v10 + 56);
  do
    unsigned int v13 = __ldaxr(v12);
  while (__stlxr(1u, v12));
  if (v13 == 1)
  {
    do
    {
      while (*v12 == 1)
        ;
      do
        unsigned int v14 = __ldaxr(v12);
      while (__stlxr(1u, v12));
    }

    while (v14 == 1);
  }

  GPUTools::FB::Stream::Write_nolock(v10, v11, **(unsigned int **)v11, 1);
  atomic_store(0, v12);
}

void sub_122E04(_Unwind_Exception *a1)
{
}

void ___ZL24delete_program_pipelinesP15__GLIContextReciPKj_block_invoke_0(uint64_t a1)
{
  char v2 = byte_2071D1;
  if ((byte_2071D1 & 1) != 0)
  {
    breakpoint_break( *(void *)(*(void *)(a1 + 32) + 8LL) + 48LL,  (volatile int *)((char *)&stru_338.flags + 1),  1LL,  *(unsigned int *)(*(void *)(a1 + 40) + 3404LL),  *(void *)(a1 + 40));
    uint64_t v3 = (uint64_t)[(id)DYGetGLGuestAppClient(v19) overrideFlags];
    if (v3 & 0x10 | v2 & 4) {
      goto LABEL_7;
    }
  }

  else
  {
    uint64_t v3 = (uint64_t)[(id)DYGetGLGuestAppClient(a1) overrideFlags];
    if (v3 & 0x10 | v2 & 4) {
      goto LABEL_7;
    }
  }

  uint64_t v4 = mach_absolute_time();
  (*(void (**)(void, void, void))(*(void *)(*(void *)(a1 + 40) + 32LL) + 6584LL))( *(void *)(a1 + 48),  *(unsigned int *)(a1 + 64),  *(void *)(a1 + 56));
  uint64_t v3 = mach_absolute_time();
  uint64_t v5 = v3 - v4;
  unint64_t v6 = g_DYTimebaseInfo;
  if (g_DYTimebaseInfo == *((_DWORD *)&g_DYTimebaseInfo + 1))
  {
    *(void *)(*(void *)(*(void *)(*(void *)(a1 + 32) + 8LL) + 48LL) + 24LL) = v5;
  }

  else
  {
    *(void *)(*(void *)(*(void *)(*(void *)(a1 + 32) + 8LL) + 48LL) + 24LL) = __udivti3( v5 * g_DYTimebaseInfo,  (v5 * (unsigned __int128)g_DYTimebaseInfo) >> 64);
    uint64_t v3 = __udivti3(v6 * v4, (v6 * (unsigned __int128)v4) >> 64);
    uint64_t v4 = v3;
  }

  *(void *)(*(void *)(*(void *)(*(void *)(a1 + 32) + 8LL) + 48LL) + 16LL) = v4;
  if (gCheckGLErrors) {
    uint64_t v3 = check_errors(*(void *)(a1 + 40));
  }
LABEL_7:
  id v7 = objc_msgSend(objc_msgSend((id)DYGetGLGuestAppClient(v3), "activeCaptureDescriptor"), "includeBacktraceInFbufs");
  if ((_DWORD)v7) {
    id v7 = (id)GPUTools::FB::EncodeCurrentBacktrace((GPUTools::FB *)(*(void *)(*(void *)(a1 + 32) + 8LL) + 48LL), v8);
  }
  unint64_t v10 = (GPUTools::FB::Fbuf *)*(unsigned int *)(*(void *)(a1 + 40) + 3404LL);
  if ((_DWORD)v10)
  {
    uint64_t v20 = GPUTools::FB::EncodeGLError((GPUTools::FB *)(*(void *)(*(void *)(a1 + 32) + 8LL) + 48LL), v10, v9);
    if (!objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v20), "activeCaptureDescriptor"),  "queryDriverEventsOnGraphicsCommands")) {
      goto LABEL_12;
    }
    goto LABEL_11;
  }

  if (objc_msgSend( objc_msgSend((id)DYGetGLGuestAppClient(v7), "activeCaptureDescriptor"),  "queryDriverEventsOnGraphicsCommands")) {
LABEL_11:
  }
    encode_driver_events(*(id **)(a1 + 40), *(void *)(*(void *)(a1 + 32) + 8LL) + 48LL);
LABEL_12:
  uint64_t v11 = GPUTools::FB::EncodeThreadQueueInfo( (void *)(*(void *)(a1 + 40) + 3480LL),  (GPUTools::FB::Fbuf *)(*(void *)(a1 + 40) + 3520LL),  (GPUTools::FB *)(*(void *)(*(void *)(a1 + 32) + 8LL) + 48LL));
  uint64_t v12 = *(void *)(a1 + 40);
  uint64_t v13 = *(unsigned int *)(v12 + 3404);
  if ((_DWORD)v13 && gBreakOnError)
  {
    uint64_t v21 = *(void *)(*(void *)(a1 + 32) + 8LL) + 48LL;
    uint64_t v22 = 0xFFFFFFFFLL;
    uint64_t v23 = 3LL;
LABEL_29:
    breakpoint_break(v21, (volatile int *)v22, v23, v13, v12);
    goto LABEL_15;
  }

  if ((v2 & 2) != 0)
  {
    uint64_t v21 = *(void *)(*(void *)(a1 + 32) + 8LL) + 48LL;
    uint64_t v22 = 889LL;
    uint64_t v23 = 2LL;
    goto LABEL_29;
  }

void sub_1230A8(_Unwind_Exception *a1)
{
}

void copy_tex_image2D( __GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, unsigned int a7, unsigned int a8, int a9)
{
  uint64_t v15 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v15) {
    goto LABEL_12;
  }
  uint64_t v16 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v17 = v15[4];
    BOOL v18 = v17 >= (unint64_t)a1;
    else {
      uint64_t v19 = v15 + 1;
    }
    if (v18) {
      uint64_t v16 = (uint64_t)v15;
    }
    uint64_t v15 = (void *)*v19;
  }

  while (*v19);
  if (v16 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v16 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v16 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v20 = *(void *)(v16 + 40);
  uint64_t v21 = (unsigned int *)(v20 + 4640);
  do
  {
    unsigned int v22 = __ldaxr(v21);
    signed int v23 = v22 + 1;
  }

  while (__stlxr(v23, v21));
  if (gCheckGLErrors) {
    BOOL v24 = v23 <= 1;
  }
  else {
    BOOL v24 = 1;
  }
  if (v24)
  {
    id v31 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v30 = handle_opengl_thread_conflict((const void **)v20);
    id v31 = [(id)DYGetGLGuestAppClient(v30) waitOnGraphicsSemaphoreAssertions];
    if ((int)v31 >= 1)
    {
      do
LABEL_34:
        unsigned int v32 = __ldaxr(v21);
      while (__stlxr(v32 - 1, v21));
      uint64_t v33 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v31) graphicsLockWaitQueue];
      dispatch_sync_f(v33, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, void, void))(*(void *)(v20 + 24) + 432LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8);
      return;
    }
  }

  *(_BYTE *)(v20 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v31) state] == (char *)&dword_0 + 1)
  {
    id v25 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v25)
    {
      do
        unsigned int v29 = __ldaxr(v21);
      while (__stlxr(v29 - 1, v21));
      [(id)DYGetGLGuestAppClient(v25) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, void, void, int))(*(void *)(v20 + 32) + 432LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9);
  ++*(void *)(v20 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v20);
    if (gBreakOnError)
    {
      uint64_t v34 = *(unsigned int *)(v20 + 3404);
      if ((_DWORD)v34) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v34, v20);
      }
    }
  }

  do
  {
    unsigned int v26 = __ldaxr(v21);
    signed int v27 = v26 - 1;
  }

  while (__stlxr(v27, v21));
  if (gCheckGLErrors) {
    BOOL v28 = v27 < 1;
  }
  else {
    BOOL v28 = 1;
  }
  if (!v28) {
    handle_opengl_thread_conflict((const void **)v20);
  }
}

void copy_tex_sub_image2D( __GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, unsigned int a7, unsigned int a8, int a9)
{
  uint64_t v15 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v15) {
    goto LABEL_12;
  }
  uint64_t v16 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v17 = v15[4];
    BOOL v18 = v17 >= (unint64_t)a1;
    else {
      uint64_t v19 = v15 + 1;
    }
    if (v18) {
      uint64_t v16 = (uint64_t)v15;
    }
    uint64_t v15 = (void *)*v19;
  }

  while (*v19);
  if (v16 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v16 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v16 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v20 = *(void *)(v16 + 40);
  uint64_t v21 = (unsigned int *)(v20 + 4640);
  do
  {
    unsigned int v22 = __ldaxr(v21);
    signed int v23 = v22 + 1;
  }

  while (__stlxr(v23, v21));
  if (gCheckGLErrors) {
    BOOL v24 = v23 <= 1;
  }
  else {
    BOOL v24 = 1;
  }
  if (v24)
  {
    id v31 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v30 = handle_opengl_thread_conflict((const void **)v20);
    id v31 = [(id)DYGetGLGuestAppClient(v30) waitOnGraphicsSemaphoreAssertions];
    if ((int)v31 >= 1)
    {
      do
LABEL_34:
        unsigned int v32 = __ldaxr(v21);
      while (__stlxr(v32 - 1, v21));
      uint64_t v33 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v31) graphicsLockWaitQueue];
      dispatch_sync_f(v33, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, void, void))(*(void *)(v20 + 24) + 448LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8);
      return;
    }
  }

  *(_BYTE *)(v20 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v31) state] == (char *)&dword_0 + 1)
  {
    id v25 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v25)
    {
      do
        unsigned int v29 = __ldaxr(v21);
      while (__stlxr(v29 - 1, v21));
      [(id)DYGetGLGuestAppClient(v25) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, void, void, int))(*(void *)(v20 + 32) + 448LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9);
  ++*(void *)(v20 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v20);
    if (gBreakOnError)
    {
      uint64_t v34 = *(unsigned int *)(v20 + 3404);
      if ((_DWORD)v34) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v34, v20);
      }
    }
  }

  do
  {
    unsigned int v26 = __ldaxr(v21);
    signed int v27 = v26 - 1;
  }

  while (__stlxr(v27, v21));
  if (gCheckGLErrors) {
    BOOL v28 = v27 < 1;
  }
  else {
    BOOL v28 = 1;
  }
  if (!v28) {
    handle_opengl_thread_conflict((const void **)v20);
  }
}

uint64_t delete_textures(__GLIContextRec *a1, volatile int *a2, const unsigned int *a3)
{
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  uint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v23 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v22 = handle_opengl_thread_conflict((const void **)v11);
    id v23 = [(id)DYGetGLGuestAppClient(v22) waitOnGraphicsSemaphoreAssertions];
    if ((int)v23 >= 1)
    {
      do
LABEL_35:
        unsigned int v24 = __ldaxr(v12);
      while (__stlxr(v24 - 1, v12));
      id v25 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v23) graphicsLockWaitQueue];
      dispatch_sync_f(v25, 0LL, (dispatch_function_t)do_nothing);
      return (*(uint64_t (**)(__GLIContextRec *, volatile int *, const unsigned int *))(*(void *)(v11 + 24)
                                                                                                + 472LL))( a1,  a2,  a3);
    }
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v23) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v21 = __ldaxr(v12);
      while (__stlxr(v21 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      return (*(uint64_t (**)(__GLIContextRec *, volatile int *, const unsigned int *))(*(void *)(v11 + 24)
                                                                                                + 472LL))( a1,  a2,  a3);
    }
  }

  (*(void (**)(__GLIContextRec *, volatile int *, const unsigned int *))(*(void *)(v11 + 32) + 472LL))( a1,  a2,  a3);
  ++*(void *)(v11 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v26 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v26) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v26, v11);
      }
    }
  }

  uint64_t result = wrapper_cache_texture_binding_delete((ContextInfo *)v11, a2, a3);
  do
  {
    unsigned int v18 = __ldaxr(v12);
    signed int v19 = v18 - 1;
  }

  while (__stlxr(v19, v12));
  if (gCheckGLErrors) {
    BOOL v20 = v19 < 1;
  }
  else {
    BOOL v20 = 1;
  }
  if (!v20) {
    return handle_opengl_thread_conflict((const void **)v11);
  }
  return result;
}

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  uint64_t v17;
  uint64_t v18;
  int64x2_t v19;
  uint64_t result;
  unsigned int v21;
  signed int v22;
  BOOL v23;
  unsigned int v24;
  uint64_t v25;
  id v26;
  unsigned int v27;
  dispatch_queue_s *v28;
  uint64_t v29;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  uint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v26 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    id v25 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v26 = [(id)DYGetGLGuestAppClient(v25) waitOnGraphicsSemaphoreAssertions];
    if ((int)v26 >= 1)
    {
      do
LABEL_35:
        signed int v27 = __ldaxr(v12);
      while (__stlxr(v27 - 1, v12));
      BOOL v28 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v26) graphicsLockWaitQueue];
      dispatch_sync_f(v28, 0LL, (dispatch_function_t)do_nothing);
      return (*(uint64_t (**)(__GLIContextRec *, volatile int *, const unsigned int *))(*(void *)(v11 + 24)
                                                                                                + 472LL))( a1,  a2,  a3);
    }
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v26) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v24 = __ldaxr(v12);
      while (__stlxr(v24 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      return (*(uint64_t (**)(__GLIContextRec *, volatile int *, const unsigned int *))(*(void *)(v11 + 24)
                                                                                                + 472LL))( a1,  a2,  a3);
    }
  }

  unint64_t v17 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, volatile int *, const unsigned int *))(*(void *)(v11 + 32) + 472LL))( a1,  a2,  a3);
  unsigned int v18 = mach_absolute_time();
  signed int v19 = vdupq_n_s64(1uLL);
  v19.i64[0] = v18 - v17;
  *(int64x2_t *)(v11 + 3696) = vaddq_s64(v19, *(int64x2_t *)(v11 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      unsigned int v29 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v29) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v29, v11);
      }
    }
  }

  uint64_t result = wrapper_cache_texture_binding_delete((ContextInfo *)v11, a2, a3);
  do
  {
    unsigned int v21 = __ldaxr(v12);
    uint64_t v22 = v21 - 1;
  }

  while (__stlxr(v22, v12));
  if (gCheckGLErrors) {
    id v23 = v22 < 1;
  }
  else {
    id v23 = 1;
  }
  if (!v23) {
    return handle_opengl_thread_conflict((const void **)v11);
  }
  return result;
}

{
  __GLIContextRec *v5;
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  id v17;
  uint64_t result;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  unsigned int v22;
  dispatch_queue_s *v23;
  unsigned int v24;
  uint64_t v5 = a1;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  uint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (!v15) {
    a1 = (__GLIContextRec *)handle_opengl_thread_conflict((const void **)v11);
  }
  id v16 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  if ((int)v16 >= 1)
  {
    do
      uint64_t v22 = __ldaxr(v12);
    while (__stlxr(v22 - 1, v12));
    id v23 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v16) graphicsLockWaitQueue];
    dispatch_sync_f(v23, 0LL, (dispatch_function_t)do_nothing);
    return (*(uint64_t (**)(__GLIContextRec *, volatile int *, const unsigned int *))(*(void *)(v11 + 24)
                                                                                              + 472LL))( v5,  a2,  a3);
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v16) state] == (char *)&dword_0 + 1)
  {
    unint64_t v17 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v17)
    {
      do
        unsigned int v24 = __ldaxr(v12);
      while (__stlxr(v24 - 1, v12));
      [(id)DYGetGLGuestAppClient(v17) triggerArmedCapture];
      return (*(uint64_t (**)(__GLIContextRec *, volatile int *, const unsigned int *))(*(void *)(v11 + 24)
                                                                                                + 472LL))( v5,  a2,  a3);
    }
  }

  uint64_t result = wrapper_cache_texture_binding_delete((ContextInfo *)v11, a2, a3);
  do
  {
    signed int v19 = __ldaxr(v12);
    BOOL v20 = v19 - 1;
  }

  while (__stlxr(v20, v12));
  if (gCheckGLErrors) {
    unsigned int v21 = v20 < 1;
  }
  else {
    unsigned int v21 = 1;
  }
  if (!v21) {
    return handle_opengl_thread_conflict((const void **)v11);
  }
  return result;
}

{
  void *v5;
  uint64_t v6;
  unint64_t v7;
  BOOL v8;
  void *v9;
  ContextInfo *v10;
  uint64_t v5 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v5) {
    goto LABEL_12;
  }
  unint64_t v6 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    uint64_t v7 = v5[4];
    unint64_t v8 = v7 >= (unint64_t)a1;
    else {
      BOOL v9 = v5 + 1;
    }
    if (v8) {
      unint64_t v6 = (uint64_t)v5;
    }
    uint64_t v5 = (void *)*v9;
  }

  while (*v9);
  if (v6 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v6 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    unint64_t v6 = ContextInfo::activeCtxInfoMap + 8;
  unint64_t v10 = *(ContextInfo **)(v6 + 40);
  (*(void (**)(__GLIContextRec *, volatile int *, const unsigned int *))(*((void *)v10 + 4) + 472LL))( a1,  a2,  a3);
  return wrapper_cache_texture_binding_delete(v10, a2, a3);
}

void draw_arrays(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      uint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v28 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v27 = handle_opengl_thread_conflict((const void **)v13);
    id v28 = [(id)DYGetGLGuestAppClient(v27) waitOnGraphicsSemaphoreAssertions];
    if ((int)v28 >= 1)
    {
      do
LABEL_47:
        unsigned int v29 = __ldaxr(v14);
      while (__stlxr(v29 - 1, v14));
      uint64_t v30 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v28) graphicsLockWaitQueue];
      dispatch_sync_f(v30, 0LL, (dispatch_function_t)do_nothing);
LABEL_49:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 520LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_WORD *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 257;
  unsigned int v18 = (char *)[(id)DYGetGLGuestAppClient(v28) state];
  if (v18 == (_BYTE *)&dword_0 + 1)
  {
    unsigned int v18 = (char *)[(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v26 = __ldaxr(v14);
      while (__stlxr(v26 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_49;
    }
  }

  id v19 = [(id)DYGetGLGuestAppClient(v18) overrideFlags];
  if ((_DWORD)v19)
  {
    id v31 = [(id)DYGetGLGuestAppClient(v19) overrideFlags];
    if ((v31 & 8) == 0)
    {
      unsigned int v32 = (volatile int *)[(id)DYGetGLGuestAppClient(v31) overrideFlags];
      apply_draw_overrides(v13, v32);
      uint64_t v33 = (*(uint64_t (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 520LL))( a1,  a2,  a3,  a4);
      ++*(void *)(v13 + 3704);
      if (gCheckGLErrors)
      {
        uint64_t v33 = check_errors(v13);
        if (gBreakOnError)
        {
          uint64_t v36 = *(unsigned int *)(v13 + 3404);
          if ((_DWORD)v36) {
            breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v36, v13);
          }
        }
      }

      int v34 = [(id)DYGetGLGuestAppClient(v33) overrideFlags];
      unapply_draw_overrides(v13, v34);
    }
  }

  else
  {
    (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 520LL))( a1,  a2,  a3,  a4);
    ++*(void *)(v13 + 3704);
    if (gCheckGLErrors)
    {
      check_errors(v13);
      if (gBreakOnError)
      {
        uint64_t v35 = *(unsigned int *)(v13 + 3404);
        if ((_DWORD)v35) {
          breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v35, v13);
        }
      }
    }
  }

  if (!*(_DWORD *)(v13 + 3404))
  {
    unsigned int v20 = a4;
    switch((int)a2)
    {
      case 0:
      case 2:
        goto LABEL_36;
      case 1:
        unsigned int v20 = (int)a4 >> 1;
        goto LABEL_36;
      case 3:
        unsigned int v20 = a4 - 1;
        BOOL v21 = (int)a4 <= 1;
        goto LABEL_33;
      case 4:
        unsigned int v20 = (int)a4 / 3;
        goto LABEL_36;
      case 5:
      case 6:
        unsigned int v20 = a4 - 2;
        BOOL v21 = (int)a4 <= 2;
        goto LABEL_33;
      case 7:
        unsigned int v20 = (int)a4 / 4;
        goto LABEL_36;
      case 8:
        unsigned int v20 = (a4 - 2) >> 1;
        BOOL v21 = (int)a4 <= 3;
LABEL_33:
        if (v21) {
          unsigned int v20 = 0;
        }
LABEL_36:
        uint64_t v22 = (int64x2_t *)(v13 + 32LL * a2);
        v22[248] = vaddw_s32(v22[248], (int32x2_t)__PAIR64__(v20, a4));
        ++v22[247].i64[1];
        ++v22[249].i64[0];
        goto LABEL_37;
      default:
        id v37 = (__GLIContextRec *)dy_abort("unsupported mode: 0x%0.4x\n", a2);
        draw_elements(v37, v38, v39, v40, v41);
        return;
    }
  }

  do
  {
LABEL_37:
    unsigned int v23 = __ldaxr(v14);
    signed int v24 = v23 - 1;
  }

  while (__stlxr(v24, v14));
  if (gCheckGLErrors) {
    BOOL v25 = v24 < 1;
  }
  else {
    BOOL v25 = 1;
  }
  if (!v25) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  char *v18;
  id v19;
  uint64_t v20;
  uint64_t v21;
  int64x2_t v22;
  unsigned int v23;
  BOOL v24;
  int64x2_t *v25;
  unsigned int v26;
  signed int v27;
  BOOL v28;
  unsigned int v29;
  uint64_t v30;
  id v31;
  unsigned int v32;
  dispatch_queue_s *v33;
  id v34;
  volatile int *v35;
  uint64_t v36;
  uint64_t v37;
  int64x2_t v38;
  int v39;
  uint64_t v40;
  uint64_t v41;
  __GLIContextRec *v42;
  unsigned int v43;
  int v44;
  unsigned int v45;
  const void *v46;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      uint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v31 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v30 = handle_opengl_thread_conflict((const void **)v13);
    id v31 = [(id)DYGetGLGuestAppClient(v30) waitOnGraphicsSemaphoreAssertions];
    if ((int)v31 >= 1)
    {
      do
LABEL_47:
        unsigned int v32 = __ldaxr(v14);
      while (__stlxr(v32 - 1, v14));
      uint64_t v33 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v31) graphicsLockWaitQueue];
      dispatch_sync_f(v33, 0LL, (dispatch_function_t)do_nothing);
LABEL_49:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 520LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_WORD *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 257;
  unsigned int v18 = (char *)[(id)DYGetGLGuestAppClient(v31) state];
  if (v18 == (_BYTE *)&dword_0 + 1)
  {
    unsigned int v18 = (char *)[(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v29 = __ldaxr(v14);
      while (__stlxr(v29 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_49;
    }
  }

  id v19 = [(id)DYGetGLGuestAppClient(v18) overrideFlags];
  if ((_DWORD)v19)
  {
    int v34 = [(id)DYGetGLGuestAppClient(v19) overrideFlags];
    if ((v34 & 8) == 0)
    {
      uint64_t v35 = (volatile int *)[(id)DYGetGLGuestAppClient(v34) overrideFlags];
      apply_draw_overrides(v13, v35);
      uint64_t v36 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 520LL))( a1,  a2,  a3,  a4);
      id v37 = mach_absolute_time();
      unsigned int v38 = vdupq_n_s64(1uLL);
      v38.i64[0] = v37 - v36;
      *(int64x2_t *)(v13 + 3696) = vaddq_s64(v38, *(int64x2_t *)(v13 + 3696));
      if (gCheckGLErrors)
      {
        id v37 = check_errors(v13);
        if (gBreakOnError)
        {
          uint64_t v41 = *(unsigned int *)(v13 + 3404);
          if ((_DWORD)v41) {
            breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v41, v13);
          }
        }
      }

      int v39 = [(id)DYGetGLGuestAppClient(v37) overrideFlags];
      unapply_draw_overrides(v13, v39);
    }
  }

  else
  {
    unsigned int v20 = mach_absolute_time();
    (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 520LL))( a1,  a2,  a3,  a4);
    BOOL v21 = mach_absolute_time();
    uint64_t v22 = vdupq_n_s64(1uLL);
    v22.i64[0] = v21 - v20;
    *(int64x2_t *)(v13 + 3696) = vaddq_s64(v22, *(int64x2_t *)(v13 + 3696));
    if (gCheckGLErrors)
    {
      check_errors(v13);
      if (gBreakOnError)
      {
        unsigned int v40 = *(unsigned int *)(v13 + 3404);
        if ((_DWORD)v40) {
          breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v40, v13);
        }
      }
    }
  }

  if (!*(_DWORD *)(v13 + 3404))
  {
    unsigned int v23 = a4;
    switch((int)a2)
    {
      case 0:
      case 2:
        goto LABEL_36;
      case 1:
        unsigned int v23 = (int)a4 >> 1;
        goto LABEL_36;
      case 3:
        unsigned int v23 = a4 - 1;
        signed int v24 = (int)a4 <= 1;
        goto LABEL_33;
      case 4:
        unsigned int v23 = (int)a4 / 3;
        goto LABEL_36;
      case 5:
      case 6:
        unsigned int v23 = a4 - 2;
        signed int v24 = (int)a4 <= 2;
        goto LABEL_33;
      case 7:
        unsigned int v23 = (int)a4 / 4;
        goto LABEL_36;
      case 8:
        unsigned int v23 = (a4 - 2) >> 1;
        signed int v24 = (int)a4 <= 3;
LABEL_33:
        if (v24) {
          unsigned int v23 = 0;
        }
LABEL_36:
        BOOL v25 = (int64x2_t *)(v13 + 32LL * a2);
        v25[248] = vaddw_s32(v25[248], (int32x2_t)__PAIR64__(v23, a4));
        ++v25[247].i64[1];
        ++v25[249].i64[0];
        goto LABEL_37;
      default:
        uint64_t v42 = (__GLIContextRec *)dy_abort("unsupported mode: 0x%0.4x\n", a2);
        draw_elements(v42, v43, v44, v45, v46);
        return;
    }
  }

  do
  {
LABEL_37:
    unsigned int v26 = __ldaxr(v14);
    uint64_t v27 = v26 - 1;
  }

  while (__stlxr(v27, v14));
  if (gCheckGLErrors) {
    id v28 = v27 < 1;
  }
  else {
    id v28 = 1;
  }
  if (!v28) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void draw_elements(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, const void *a5)
{
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      signed int v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  signed int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    id v30 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v29 = handle_opengl_thread_conflict((const void **)v15);
    id v30 = [(id)DYGetGLGuestAppClient(v29) waitOnGraphicsSemaphoreAssertions];
    if ((int)v30 >= 1)
    {
      do
LABEL_47:
        unsigned int v31 = __ldaxr(v16);
      while (__stlxr(v31 - 1, v16));
      unsigned int v32 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v30) graphicsLockWaitQueue];
      dispatch_sync_f(v32, 0LL, (dispatch_function_t)do_nothing);
LABEL_49:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const void *))(*(void *)(v15 + 24) + 536LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_WORD *)(v15 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 257;
  unsigned int v20 = (char *)[(id)DYGetGLGuestAppClient(v30) state];
  if (v20 == (_BYTE *)&dword_0 + 1)
  {
    unsigned int v20 = (char *)[(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        unsigned int v28 = __ldaxr(v16);
      while (__stlxr(v28 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_49;
    }
  }

  id v21 = [(id)DYGetGLGuestAppClient(v20) overrideFlags];
  if ((_DWORD)v21)
  {
    id v33 = [(id)DYGetGLGuestAppClient(v21) overrideFlags];
    if ((v33 & 8) == 0)
    {
      int v34 = (volatile int *)[(id)DYGetGLGuestAppClient(v33) overrideFlags];
      apply_draw_overrides(v15, v34);
      uint64_t v35 = (*(uint64_t (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const void *))(*(void *)(v15 + 32)
                                                                                                  + 536LL))( a1,  a2,  a3,  a4,  a5);
      ++*(void *)(v15 + 3704);
      if (gCheckGLErrors)
      {
        uint64_t v35 = check_errors(v15);
        if (gBreakOnError)
        {
          uint64_t v38 = *(unsigned int *)(v15 + 3404);
          if ((_DWORD)v38) {
            breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v38, v15);
          }
        }
      }

      int v36 = [(id)DYGetGLGuestAppClient(v35) overrideFlags];
      unapply_draw_overrides(v15, v36);
    }
  }

  else
  {
    (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const void *))(*(void *)(v15 + 32) + 536LL))( a1,  a2,  a3,  a4,  a5);
    ++*(void *)(v15 + 3704);
    if (gCheckGLErrors)
    {
      check_errors(v15);
      if (gBreakOnError)
      {
        uint64_t v37 = *(unsigned int *)(v15 + 3404);
        if ((_DWORD)v37) {
          breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v37, v15);
        }
      }
    }
  }

  if (!*(_DWORD *)(v15 + 3404))
  {
    unsigned int v22 = a3;
    switch((int)a2)
    {
      case 0:
      case 2:
        goto LABEL_36;
      case 1:
        unsigned int v22 = (int)a3 >> 1;
        goto LABEL_36;
      case 3:
        unsigned int v22 = a3 - 1;
        BOOL v23 = (int)a3 <= 1;
        goto LABEL_33;
      case 4:
        unsigned int v22 = (int)a3 / 3;
        goto LABEL_36;
      case 5:
      case 6:
        unsigned int v22 = a3 - 2;
        BOOL v23 = (int)a3 <= 2;
        goto LABEL_33;
      case 7:
        unsigned int v22 = (int)a3 / 4;
        goto LABEL_36;
      case 8:
        unsigned int v22 = (a3 - 2) >> 1;
        BOOL v23 = (int)a3 <= 3;
LABEL_33:
        if (v23) {
          unsigned int v22 = 0;
        }
LABEL_36:
        signed int v24 = (int64x2_t *)(v15 + 32LL * a2);
        v24[234] = vaddw_s32(v24[234], (int32x2_t)__PAIR64__(v22, a3));
        ++v24[233].i64[1];
        ++v24[235].i64[0];
        goto LABEL_37;
      default:
        int v39 = (__GLIContextRec *)dy_abort("unsupported mode: 0x%0.4x\n", a2);
        enable(v39, v40);
        return;
    }
  }

  do
  {
LABEL_37:
    unsigned int v25 = __ldaxr(v16);
    signed int v26 = v25 - 1;
  }

  while (__stlxr(v26, v16));
  if (gCheckGLErrors) {
    BOOL v27 = v26 < 1;
  }
  else {
    BOOL v27 = 1;
  }
  if (!v27) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  char *v20;
  id v21;
  uint64_t v22;
  uint64_t v23;
  int64x2_t v24;
  unsigned int v25;
  BOOL v26;
  int64x2_t *v27;
  unsigned int v28;
  signed int v29;
  BOOL v30;
  unsigned int v31;
  uint64_t v32;
  id v33;
  unsigned int v34;
  dispatch_queue_s *v35;
  id v36;
  volatile int *v37;
  uint64_t v38;
  uint64_t v39;
  int64x2_t v40;
  int v41;
  uint64_t v42;
  uint64_t v43;
  __GLIContextRec *v44;
  unsigned int v45;
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      signed int v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  signed int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    id v33 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unsigned int v32 = handle_opengl_thread_conflict((const void **)v15);
    id v33 = [(id)DYGetGLGuestAppClient(v32) waitOnGraphicsSemaphoreAssertions];
    if ((int)v33 >= 1)
    {
      do
LABEL_47:
        int v34 = __ldaxr(v16);
      while (__stlxr(v34 - 1, v16));
      uint64_t v35 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v33) graphicsLockWaitQueue];
      dispatch_sync_f(v35, 0LL, (dispatch_function_t)do_nothing);
LABEL_49:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const void *))(*(void *)(v15 + 24) + 536LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_WORD *)(v15 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 257;
  unsigned int v20 = (char *)[(id)DYGetGLGuestAppClient(v33) state];
  if (v20 == (_BYTE *)&dword_0 + 1)
  {
    unsigned int v20 = (char *)[(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        unsigned int v31 = __ldaxr(v16);
      while (__stlxr(v31 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_49;
    }
  }

  id v21 = [(id)DYGetGLGuestAppClient(v20) overrideFlags];
  if ((_DWORD)v21)
  {
    int v36 = [(id)DYGetGLGuestAppClient(v21) overrideFlags];
    if ((v36 & 8) == 0)
    {
      uint64_t v37 = (volatile int *)[(id)DYGetGLGuestAppClient(v36) overrideFlags];
      apply_draw_overrides(v15, v37);
      uint64_t v38 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const void *))(*(void *)(v15 + 32) + 536LL))( a1,  a2,  a3,  a4,  a5);
      int v39 = mach_absolute_time();
      unsigned int v40 = vdupq_n_s64(1uLL);
      v40.i64[0] = v39 - v38;
      *(int64x2_t *)(v15 + 3696) = vaddq_s64(v40, *(int64x2_t *)(v15 + 3696));
      if (gCheckGLErrors)
      {
        int v39 = check_errors(v15);
        if (gBreakOnError)
        {
          unsigned int v43 = *(unsigned int *)(v15 + 3404);
          if ((_DWORD)v43) {
            breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v43, v15);
          }
        }
      }

      uint64_t v41 = [(id)DYGetGLGuestAppClient(v39) overrideFlags];
      unapply_draw_overrides(v15, v41);
    }
  }

  else
  {
    unsigned int v22 = mach_absolute_time();
    (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const void *))(*(void *)(v15 + 32) + 536LL))( a1,  a2,  a3,  a4,  a5);
    BOOL v23 = mach_absolute_time();
    signed int v24 = vdupq_n_s64(1uLL);
    v24.i64[0] = v23 - v22;
    *(int64x2_t *)(v15 + 3696) = vaddq_s64(v24, *(int64x2_t *)(v15 + 3696));
    if (gCheckGLErrors)
    {
      check_errors(v15);
      if (gBreakOnError)
      {
        uint64_t v42 = *(unsigned int *)(v15 + 3404);
        if ((_DWORD)v42) {
          breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v42, v15);
        }
      }
    }
  }

  if (!*(_DWORD *)(v15 + 3404))
  {
    unsigned int v25 = a3;
    switch((int)a2)
    {
      case 0:
      case 2:
        goto LABEL_36;
      case 1:
        unsigned int v25 = (int)a3 >> 1;
        goto LABEL_36;
      case 3:
        unsigned int v25 = a3 - 1;
        signed int v26 = (int)a3 <= 1;
        goto LABEL_33;
      case 4:
        unsigned int v25 = (int)a3 / 3;
        goto LABEL_36;
      case 5:
      case 6:
        unsigned int v25 = a3 - 2;
        signed int v26 = (int)a3 <= 2;
        goto LABEL_33;
      case 7:
        unsigned int v25 = (int)a3 / 4;
        goto LABEL_36;
      case 8:
        unsigned int v25 = (a3 - 2) >> 1;
        signed int v26 = (int)a3 <= 3;
LABEL_33:
        if (v26) {
          unsigned int v25 = 0;
        }
LABEL_36:
        BOOL v27 = (int64x2_t *)(v15 + 32LL * a2);
        v27[234] = vaddw_s32(v27[234], (int32x2_t)__PAIR64__(v25, a3));
        ++v27[233].i64[1];
        ++v27[235].i64[0];
        goto LABEL_37;
      default:
        unsigned int v44 = (__GLIContextRec *)dy_abort("unsupported mode: 0x%0.4x\n", a2);
        enable(v44, v45);
        return;
    }
  }

  do
  {
LABEL_37:
    unsigned int v28 = __ldaxr(v16);
    uint64_t v29 = v28 - 1;
  }

  while (__stlxr(v29, v16));
  if (gCheckGLErrors) {
    id v30 = v29 < 1;
  }
  else {
    id v30 = 1;
  }
  if (!v30) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

void fogfv(__GLIContextRec *a1, uint64_t a2, const float *a3)
{
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v22 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v21 = handle_opengl_thread_conflict((const void **)v11);
    id v22 = [(id)DYGetGLGuestAppClient(v21) waitOnGraphicsSemaphoreAssertions];
    if ((int)v22 >= 1)
    {
      do
LABEL_34:
        unsigned int v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      signed int v24 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v22) graphicsLockWaitQueue];
      dispatch_sync_f(v24, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 24) + 736LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v22) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v20 = __ldaxr(v12);
      while (__stlxr(v20 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 32) + 736LL))(a1, a2, a3);
  ++*(void *)(v11 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v25 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v25) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v25, v11);
      }
    }
  }

  do
  {
    unsigned int v17 = __ldaxr(v12);
    signed int v18 = v17 - 1;
  }

  while (__stlxr(v18, v12));
  if (gCheckGLErrors) {
    BOOL v19 = v18 < 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (!v19) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  uint64_t v17;
  uint64_t v18;
  int64x2_t v19;
  unsigned int v20;
  signed int v21;
  BOOL v22;
  unsigned int v23;
  uint64_t v24;
  id v25;
  unsigned int v26;
  dispatch_queue_s *v27;
  uint64_t v28;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    signed int v24 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        signed int v26 = __ldaxr(v12);
      while (__stlxr(v26 - 1, v12));
      BOOL v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 24) + 736LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v17 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 32) + 736LL))(a1, a2, a3);
  signed int v18 = mach_absolute_time();
  BOOL v19 = vdupq_n_s64(1uLL);
  v19.i64[0] = v18 - v17;
  *(int64x2_t *)(v11 + 3696) = vaddq_s64(v19, *(int64x2_t *)(v11 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      unsigned int v28 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v11);
      }
    }
  }

  do
  {
    unsigned int v20 = __ldaxr(v12);
    uint64_t v21 = v20 - 1;
  }

  while (__stlxr(v21, v12));
  if (gCheckGLErrors) {
    id v22 = v21 < 1;
  }
  else {
    id v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

void get_BOOLeanv(__GLIContextRec *a1, uint64_t a2, unsigned __int8 *a3)
{
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v22 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v21 = handle_opengl_thread_conflict((const void **)v11);
    id v22 = [(id)DYGetGLGuestAppClient(v21) waitOnGraphicsSemaphoreAssertions];
    if ((int)v22 >= 1)
    {
      do
LABEL_34:
        unsigned int v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      signed int v24 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v22) graphicsLockWaitQueue];
      dispatch_sync_f(v24, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, unsigned __int8 *))(*(void *)(v11 + 24) + 792LL))( a1,  a2,  a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v22) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v20 = __ldaxr(v12);
      while (__stlxr(v20 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, unsigned __int8 *))(*(void *)(v11 + 32) + 792LL))(a1, a2, a3);
  ++*(void *)(v11 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v25 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v25) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v25, v11);
      }
    }
  }

  do
  {
    unsigned int v17 = __ldaxr(v12);
    signed int v18 = v17 - 1;
  }

  while (__stlxr(v18, v12));
  if (gCheckGLErrors) {
    BOOL v19 = v18 < 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (!v19) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  uint64_t v17;
  uint64_t v18;
  int64x2_t v19;
  unsigned int v20;
  signed int v21;
  BOOL v22;
  unsigned int v23;
  uint64_t v24;
  id v25;
  unsigned int v26;
  dispatch_queue_s *v27;
  uint64_t v28;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    signed int v24 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        signed int v26 = __ldaxr(v12);
      while (__stlxr(v26 - 1, v12));
      BOOL v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, unsigned __int8 *))(*(void *)(v11 + 24) + 792LL))( a1,  a2,  a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v17 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, unsigned __int8 *))(*(void *)(v11 + 32) + 792LL))(a1, a2, a3);
  signed int v18 = mach_absolute_time();
  BOOL v19 = vdupq_n_s64(1uLL);
  v19.i64[0] = v18 - v17;
  *(int64x2_t *)(v11 + 3696) = vaddq_s64(v19, *(int64x2_t *)(v11 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      unsigned int v28 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v11);
      }
    }
  }

  do
  {
    unsigned int v20 = __ldaxr(v12);
    uint64_t v21 = v20 - 1;
  }

  while (__stlxr(v21, v12));
  if (gCheckGLErrors) {
    id v22 = v21 < 1;
  }
  else {
    id v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

void get_floatv(__GLIContextRec *a1, uint64_t a2, float *a3)
{
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v22 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v21 = handle_opengl_thread_conflict((const void **)v11);
    id v22 = [(id)DYGetGLGuestAppClient(v21) waitOnGraphicsSemaphoreAssertions];
    if ((int)v22 >= 1)
    {
      do
LABEL_34:
        unsigned int v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      signed int v24 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v22) graphicsLockWaitQueue];
      dispatch_sync_f(v24, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, float *))(*(void *)(v11 + 24) + 824LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v22) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v20 = __ldaxr(v12);
      while (__stlxr(v20 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, float *))(*(void *)(v11 + 32) + 824LL))(a1, a2, a3);
  ++*(void *)(v11 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v25 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v25) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v25, v11);
      }
    }
  }

  do
  {
    unsigned int v17 = __ldaxr(v12);
    signed int v18 = v17 - 1;
  }

  while (__stlxr(v18, v12));
  if (gCheckGLErrors) {
    BOOL v19 = v18 < 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (!v19) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  uint64_t v17;
  uint64_t v18;
  int64x2_t v19;
  unsigned int v20;
  signed int v21;
  BOOL v22;
  unsigned int v23;
  uint64_t v24;
  id v25;
  unsigned int v26;
  dispatch_queue_s *v27;
  uint64_t v28;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    signed int v24 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        signed int v26 = __ldaxr(v12);
      while (__stlxr(v26 - 1, v12));
      BOOL v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, float *))(*(void *)(v11 + 24) + 824LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v17 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, float *))(*(void *)(v11 + 32) + 824LL))(a1, a2, a3);
  signed int v18 = mach_absolute_time();
  BOOL v19 = vdupq_n_s64(1uLL);
  v19.i64[0] = v18 - v17;
  *(int64x2_t *)(v11 + 3696) = vaddq_s64(v19, *(int64x2_t *)(v11 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      unsigned int v28 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v11);
      }
    }
  }

  do
  {
    unsigned int v20 = __ldaxr(v12);
    uint64_t v21 = v20 - 1;
  }

  while (__stlxr(v21, v12));
  if (gCheckGLErrors) {
    id v22 = v21 < 1;
  }
  else {
    id v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

void get_integerv(__GLIContextRec *a1, uint64_t a2, int *a3)
{
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v22 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v21 = handle_opengl_thread_conflict((const void **)v11);
    id v22 = [(id)DYGetGLGuestAppClient(v21) waitOnGraphicsSemaphoreAssertions];
    if ((int)v22 >= 1)
    {
      do
LABEL_34:
        unsigned int v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      signed int v24 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v22) graphicsLockWaitQueue];
      dispatch_sync_f(v24, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, int *))(*(void *)(v11 + 24) + 832LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v22) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v20 = __ldaxr(v12);
      while (__stlxr(v20 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, int *))(*(void *)(v11 + 32) + 832LL))(a1, a2, a3);
  ++*(void *)(v11 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v25 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v25) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v25, v11);
      }
    }
  }

  do
  {
    unsigned int v17 = __ldaxr(v12);
    signed int v18 = v17 - 1;
  }

  while (__stlxr(v18, v12));
  if (gCheckGLErrors) {
    BOOL v19 = v18 < 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (!v19) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  uint64_t v17;
  uint64_t v18;
  int64x2_t v19;
  unsigned int v20;
  signed int v21;
  BOOL v22;
  unsigned int v23;
  uint64_t v24;
  id v25;
  unsigned int v26;
  dispatch_queue_s *v27;
  uint64_t v28;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    signed int v24 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        signed int v26 = __ldaxr(v12);
      while (__stlxr(v26 - 1, v12));
      BOOL v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, int *))(*(void *)(v11 + 24) + 832LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v17 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, int *))(*(void *)(v11 + 32) + 832LL))(a1, a2, a3);
  signed int v18 = mach_absolute_time();
  BOOL v19 = vdupq_n_s64(1uLL);
  v19.i64[0] = v18 - v17;
  *(int64x2_t *)(v11 + 3696) = vaddq_s64(v19, *(int64x2_t *)(v11 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      unsigned int v28 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v11);
      }
    }
  }

  do
  {
    unsigned int v20 = __ldaxr(v12);
    uint64_t v21 = v20 - 1;
  }

  while (__stlxr(v21, v12));
  if (gCheckGLErrors) {
    id v22 = v21 < 1;
  }
  else {
    id v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

void get_lightfv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, float *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    id v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      signed int v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, float *))(*(void *)(v13 + 24) + 840LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, float *))(*(void *)(v13 + 32) + 840LL))(a1, a2, a3, a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    unsigned int v19 = __ldaxr(v14);
    signed int v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    BOOL v21 = v20 < 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    signed int v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        unsigned int v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      uint64_t v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, float *))(*(void *)(v13 + 24) + 840LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, float *))(*(void *)(v13 + 32) + 840LL))(a1, a2, a3, a4);
  signed int v20 = mach_absolute_time();
  BOOL v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      id v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    id v24 = v23 < 1;
  }
  else {
    id v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void get_materialfv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, float *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    id v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      signed int v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, float *))(*(void *)(v13 + 24) + 880LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, float *))(*(void *)(v13 + 32) + 880LL))(a1, a2, a3, a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    unsigned int v19 = __ldaxr(v14);
    signed int v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    BOOL v21 = v20 < 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    signed int v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        unsigned int v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      uint64_t v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, float *))(*(void *)(v13 + 24) + 880LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, float *))(*(void *)(v13 + 32) + 880LL))(a1, a2, a3, a4);
  signed int v20 = mach_absolute_time();
  BOOL v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      id v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    id v24 = v23 < 1;
  }
  else {
    id v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void get_tex_envfv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, float *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    id v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      signed int v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, float *))(*(void *)(v13 + 24) + 944LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, float *))(*(void *)(v13 + 32) + 944LL))(a1, a2, a3, a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    unsigned int v19 = __ldaxr(v14);
    signed int v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    BOOL v21 = v20 < 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    signed int v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        unsigned int v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      uint64_t v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, float *))(*(void *)(v13 + 24) + 944LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, float *))(*(void *)(v13 + 32) + 944LL))(a1, a2, a3, a4);
  signed int v20 = mach_absolute_time();
  BOOL v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      id v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    id v24 = v23 < 1;
  }
  else {
    id v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void get_tex_enviv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, int *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    id v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      signed int v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 24) + 952LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 32) + 952LL))(a1, a2, a3, a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    unsigned int v19 = __ldaxr(v14);
    signed int v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    BOOL v21 = v20 < 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    signed int v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        unsigned int v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      uint64_t v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 24) + 952LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 32) + 952LL))(a1, a2, a3, a4);
  signed int v20 = mach_absolute_time();
  BOOL v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      id v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    id v24 = v23 < 1;
  }
  else {
    id v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void get_tex_parameterfv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, float *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    id v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      signed int v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, float *))(*(void *)(v13 + 24) + 1008LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, float *))(*(void *)(v13 + 32) + 1008LL))( a1,  a2,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    unsigned int v19 = __ldaxr(v14);
    signed int v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    BOOL v21 = v20 < 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    signed int v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        unsigned int v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      uint64_t v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, float *))(*(void *)(v13 + 24) + 1008LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, float *))(*(void *)(v13 + 32) + 1008LL))( a1,  a2,  a3,  a4);
  signed int v20 = mach_absolute_time();
  BOOL v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      id v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    id v24 = v23 < 1;
  }
  else {
    id v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void get_tex_parameteriv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, int *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    id v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      signed int v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 24) + 1016LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 32) + 1016LL))(a1, a2, a3, a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    unsigned int v19 = __ldaxr(v14);
    signed int v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    BOOL v21 = v20 < 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    signed int v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        unsigned int v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      uint64_t v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 24) + 1016LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 32) + 1016LL))(a1, a2, a3, a4);
  signed int v20 = mach_absolute_time();
  BOOL v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      id v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    id v24 = v23 < 1;
  }
  else {
    id v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void light_modelfv(__GLIContextRec *a1, uint64_t a2, const float *a3)
{
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v22 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v21 = handle_opengl_thread_conflict((const void **)v11);
    id v22 = [(id)DYGetGLGuestAppClient(v21) waitOnGraphicsSemaphoreAssertions];
    if ((int)v22 >= 1)
    {
      do
LABEL_34:
        unsigned int v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      id v24 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v22) graphicsLockWaitQueue];
      dispatch_sync_f(v24, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 24) + 1176LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v22) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v20 = __ldaxr(v12);
      while (__stlxr(v20 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 32) + 1176LL))(a1, a2, a3);
  ++*(void *)(v11 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v25 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v25) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v25, v11);
      }
    }
  }

  do
  {
    unsigned int v17 = __ldaxr(v12);
    signed int v18 = v17 - 1;
  }

  while (__stlxr(v18, v12));
  if (gCheckGLErrors) {
    BOOL v19 = v18 < 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (!v19) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  uint64_t v17;
  uint64_t v18;
  int64x2_t v19;
  unsigned int v20;
  signed int v21;
  BOOL v22;
  unsigned int v23;
  uint64_t v24;
  id v25;
  unsigned int v26;
  dispatch_queue_s *v27;
  uint64_t v28;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    id v24 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        signed int v26 = __ldaxr(v12);
      while (__stlxr(v26 - 1, v12));
      uint64_t v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 24) + 1176LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v17 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 32) + 1176LL))(a1, a2, a3);
  signed int v18 = mach_absolute_time();
  BOOL v19 = vdupq_n_s64(1uLL);
  v19.i64[0] = v18 - v17;
  *(int64x2_t *)(v11 + 3696) = vaddq_s64(v19, *(int64x2_t *)(v11 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      unsigned int v28 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v11);
      }
    }
  }

  do
  {
    unsigned int v20 = __ldaxr(v12);
    uint64_t v21 = v20 - 1;
  }

  while (__stlxr(v21, v12));
  if (gCheckGLErrors) {
    id v22 = v21 < 1;
  }
  else {
    id v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

void lightfv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, const float *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    id v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      signed int v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 24) + 1208LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 32) + 1208LL))( a1,  a2,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    unsigned int v19 = __ldaxr(v14);
    signed int v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    BOOL v21 = v20 < 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    signed int v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        unsigned int v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      uint64_t v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 24) + 1208LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 32) + 1208LL))( a1,  a2,  a3,  a4);
  signed int v20 = mach_absolute_time();
  BOOL v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      id v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    id v24 = v23 < 1;
  }
  else {
    id v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void materialfv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, const float *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    id v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      signed int v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 24) + 1368LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 32) + 1368LL))( a1,  a2,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    unsigned int v19 = __ldaxr(v14);
    signed int v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    BOOL v21 = v20 < 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    signed int v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        unsigned int v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      uint64_t v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 24) + 1368LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 32) + 1368LL))( a1,  a2,  a3,  a4);
  signed int v20 = mach_absolute_time();
  BOOL v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      id v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    id v24 = v23 < 1;
  }
  else {
    id v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void tex_envf(__GLIContextRec *a1, uint64_t a2, uint64_t a3, float a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    id v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      signed int v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, float))(*(void *)(v13 + 24) + 2320LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, float))(*(void *)(v13 + 32) + 2320LL))(a1, a2, a3, a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    unsigned int v19 = __ldaxr(v14);
    signed int v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    BOOL v21 = v20 < 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    signed int v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        unsigned int v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      uint64_t v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, float))(*(void *)(v13 + 24) + 2320LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, float))(*(void *)(v13 + 32) + 2320LL))(a1, a2, a3, a4);
  signed int v20 = mach_absolute_time();
  BOOL v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      id v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    id v24 = v23 < 1;
  }
  else {
    id v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void tex_envfv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, const float *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    id v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      signed int v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 24) + 2328LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 32) + 2328LL))( a1,  a2,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    unsigned int v19 = __ldaxr(v14);
    signed int v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    BOOL v21 = v20 < 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    signed int v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        unsigned int v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      uint64_t v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 24) + 2328LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 32) + 2328LL))( a1,  a2,  a3,  a4);
  signed int v20 = mach_absolute_time();
  BOOL v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      id v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    id v24 = v23 < 1;
  }
  else {
    id v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void tex_envi(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    id v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      signed int v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 2336LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 2336LL))( a1,  a2,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    unsigned int v19 = __ldaxr(v14);
    signed int v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    BOOL v21 = v20 < 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    signed int v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        unsigned int v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      uint64_t v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 2336LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 2336LL))( a1,  a2,  a3,  a4);
  signed int v20 = mach_absolute_time();
  BOOL v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      id v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    id v24 = v23 < 1;
  }
  else {
    id v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void tex_enviv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, const int *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    id v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      signed int v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 24) + 2344LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 32) + 2344LL))( a1,  a2,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    unsigned int v19 = __ldaxr(v14);
    signed int v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    BOOL v21 = v20 < 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    signed int v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        unsigned int v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      uint64_t v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 24) + 2344LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 32) + 2344LL))( a1,  a2,  a3,  a4);
  signed int v20 = mach_absolute_time();
  BOOL v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      id v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    id v24 = v23 < 1;
  }
  else {
    id v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void tex_image2D( __GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, unsigned int a6, unsigned int a7, unsigned int a8, uint64_t a9, const void *a10)
{
  unsigned int v15 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v15) {
    goto LABEL_12;
  }
  uint64_t v16 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v17 = v15[4];
    BOOL v18 = v17 >= (unint64_t)a1;
    else {
      unsigned int v19 = v15 + 1;
    }
    if (v18) {
      uint64_t v16 = (uint64_t)v15;
    }
    unsigned int v15 = (void *)*v19;
  }

  while (*v19);
  if (v16 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v16 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v16 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v20 = *(void *)(v16 + 40);
  BOOL v21 = (unsigned int *)(v20 + 4640);
  do
  {
    unsigned int v22 = __ldaxr(v21);
    signed int v23 = v22 + 1;
  }

  while (__stlxr(v23, v21));
  if (gCheckGLErrors) {
    BOOL v24 = v23 <= 1;
  }
  else {
    BOOL v24 = 1;
  }
  if (v24)
  {
    id v31 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v30 = handle_opengl_thread_conflict((const void **)v20);
    id v31 = [(id)DYGetGLGuestAppClient(v30) waitOnGraphicsSemaphoreAssertions];
    if ((int)v31 >= 1)
    {
      do
LABEL_34:
        unsigned int v32 = __ldaxr(v21);
      while (__stlxr(v32 - 1, v21));
      id v33 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v31) graphicsLockWaitQueue];
      dispatch_sync_f(v33, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, void, void, void, uint64_t, const void *))(*(void *)(v20 + 24) + 2408LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9,  a10);
      return;
    }
  }

  *(_BYTE *)(v20 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v31) state] == (char *)&dword_0 + 1)
  {
    id v25 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v25)
    {
      do
        unsigned int v29 = __ldaxr(v21);
      while (__stlxr(v29 - 1, v21));
      [(id)DYGetGLGuestAppClient(v25) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, void, void, void, _DWORD, const void *))(*(void *)(v20 + 32) + 2408LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9,  a10);
  ++*(void *)(v20 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v20);
    if (gBreakOnError)
    {
      uint64_t v34 = *(unsigned int *)(v20 + 3404);
      if ((_DWORD)v34) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v34, v20);
      }
    }
  }

  do
  {
    unsigned int v26 = __ldaxr(v21);
    signed int v27 = v26 - 1;
  }

  while (__stlxr(v27, v21));
  if (gCheckGLErrors) {
    BOOL v28 = v27 < 1;
  }
  else {
    BOOL v28 = 1;
  }
  if (!v28) {
    handle_opengl_thread_conflict((const void **)v20);
  }
}

void tex_parameterf(__GLIContextRec *a1, uint64_t a2, uint64_t a3, float a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    id v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      unsigned int v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, float))(*(void *)(v13 + 24) + 2416LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, float))(*(void *)(v13 + 32) + 2416LL))(a1, a2, a3, a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    unsigned int v19 = __ldaxr(v14);
    signed int v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    BOOL v21 = v20 < 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unsigned int v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        BOOL v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      unsigned int v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, float))(*(void *)(v13 + 24) + 2416LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, float))(*(void *)(v13 + 32) + 2416LL))(a1, a2, a3, a4);
  signed int v20 = mach_absolute_time();
  BOOL v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    id v24 = v23 < 1;
  }
  else {
    id v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void tex_parameterfv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, const float *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    id v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      unsigned int v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 24) + 2424LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 32) + 2424LL))( a1,  a2,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    unsigned int v19 = __ldaxr(v14);
    signed int v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    BOOL v21 = v20 < 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unsigned int v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        BOOL v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      unsigned int v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 24) + 2424LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 32) + 2424LL))( a1,  a2,  a3,  a4);
  signed int v20 = mach_absolute_time();
  BOOL v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    id v24 = v23 < 1;
  }
  else {
    id v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void tex_parameteri(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    id v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      unsigned int v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 2432LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 2432LL))( a1,  a2,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    unsigned int v19 = __ldaxr(v14);
    signed int v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    BOOL v21 = v20 < 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unsigned int v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        BOOL v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      unsigned int v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 2432LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 2432LL))( a1,  a2,  a3,  a4);
  signed int v20 = mach_absolute_time();
  BOOL v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    id v24 = v23 < 1;
  }
  else {
    id v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void tex_parameteriv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, const int *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    id v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      unsigned int v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 24) + 2440LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 32) + 2440LL))( a1,  a2,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    unsigned int v19 = __ldaxr(v14);
    signed int v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    BOOL v21 = v20 < 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unsigned int v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        BOOL v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      unsigned int v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 24) + 2440LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 32) + 2440LL))( a1,  a2,  a3,  a4);
  signed int v20 = mach_absolute_time();
  BOOL v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    id v24 = v23 < 1;
  }
  else {
    id v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void compressed_tex_image3D( __GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, unsigned int a6, unsigned int a7, unsigned int a8, uint64_t a9, const void *a10)
{
  unsigned int v15 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v15) {
    goto LABEL_12;
  }
  uint64_t v16 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v17 = v15[4];
    BOOL v18 = v17 >= (unint64_t)a1;
    else {
      unsigned int v19 = v15 + 1;
    }
    if (v18) {
      uint64_t v16 = (uint64_t)v15;
    }
    unsigned int v15 = (void *)*v19;
  }

  while (*v19);
  if (v16 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v16 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v16 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v20 = *(void *)(v16 + 40);
  BOOL v21 = (unsigned int *)(v20 + 4640);
  do
  {
    unsigned int v22 = __ldaxr(v21);
    signed int v23 = v22 + 1;
  }

  while (__stlxr(v23, v21));
  if (gCheckGLErrors) {
    BOOL v24 = v23 <= 1;
  }
  else {
    BOOL v24 = 1;
  }
  if (v24)
  {
    id v31 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v30 = handle_opengl_thread_conflict((const void **)v20);
    id v31 = [(id)DYGetGLGuestAppClient(v30) waitOnGraphicsSemaphoreAssertions];
    if ((int)v31 >= 1)
    {
      do
LABEL_34:
        unsigned int v32 = __ldaxr(v21);
      while (__stlxr(v32 - 1, v21));
      id v33 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v31) graphicsLockWaitQueue];
      dispatch_sync_f(v33, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, void, void, void, uint64_t, const void *))(*(void *)(v20 + 24) + 3032LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9,  a10);
      return;
    }
  }

  *(_BYTE *)(v20 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v31) state] == (char *)&dword_0 + 1)
  {
    id v25 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v25)
    {
      do
        unsigned int v29 = __ldaxr(v21);
      while (__stlxr(v29 - 1, v21));
      [(id)DYGetGLGuestAppClient(v25) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, void, void, void, _DWORD, const void *))(*(void *)(v20 + 32) + 3032LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9,  a10);
  ++*(void *)(v20 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v20);
    if (gBreakOnError)
    {
      uint64_t v34 = *(unsigned int *)(v20 + 3404);
      if ((_DWORD)v34) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v34, v20);
      }
    }
  }

  do
  {
    unsigned int v26 = __ldaxr(v21);
    signed int v27 = v26 - 1;
  }

  while (__stlxr(v27, v21));
  if (gCheckGLErrors) {
    BOOL v28 = v27 < 1;
  }
  else {
    BOOL v28 = 1;
  }
  if (!v28) {
    handle_opengl_thread_conflict((const void **)v20);
  }
}

void compressed_tex_image2D( __GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, unsigned int a7, unsigned int a8, const void *a9)
{
  unsigned int v15 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v15) {
    goto LABEL_12;
  }
  uint64_t v16 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v17 = v15[4];
    BOOL v18 = v17 >= (unint64_t)a1;
    else {
      unsigned int v19 = v15 + 1;
    }
    if (v18) {
      uint64_t v16 = (uint64_t)v15;
    }
    unsigned int v15 = (void *)*v19;
  }

  while (*v19);
  if (v16 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v16 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v16 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v20 = *(void *)(v16 + 40);
  BOOL v21 = (unsigned int *)(v20 + 4640);
  do
  {
    unsigned int v22 = __ldaxr(v21);
    signed int v23 = v22 + 1;
  }

  while (__stlxr(v23, v21));
  if (gCheckGLErrors) {
    BOOL v24 = v23 <= 1;
  }
  else {
    BOOL v24 = 1;
  }
  if (v24)
  {
    id v31 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v30 = handle_opengl_thread_conflict((const void **)v20);
    id v31 = [(id)DYGetGLGuestAppClient(v30) waitOnGraphicsSemaphoreAssertions];
    if ((int)v31 >= 1)
    {
      do
LABEL_34:
        unsigned int v32 = __ldaxr(v21);
      while (__stlxr(v32 - 1, v21));
      id v33 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v31) graphicsLockWaitQueue];
      dispatch_sync_f(v33, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, void, void, const void *))(*(void *)(v20 + 24) + 3040LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9);
      return;
    }
  }

  *(_BYTE *)(v20 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v31) state] == (char *)&dword_0 + 1)
  {
    id v25 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v25)
    {
      do
        unsigned int v29 = __ldaxr(v21);
      while (__stlxr(v29 - 1, v21));
      [(id)DYGetGLGuestAppClient(v25) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, void, void, const void *))(*(void *)(v20 + 32) + 3040LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9);
  ++*(void *)(v20 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v20);
    if (gBreakOnError)
    {
      uint64_t v34 = *(unsigned int *)(v20 + 3404);
      if ((_DWORD)v34) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v34, v20);
      }
    }
  }

  do
  {
    unsigned int v26 = __ldaxr(v21);
    signed int v27 = v26 - 1;
  }

  while (__stlxr(v27, v21));
  if (gCheckGLErrors) {
    BOOL v28 = v27 < 1;
  }
  else {
    BOOL v28 = 1;
  }
  if (!v28) {
    handle_opengl_thread_conflict((const void **)v20);
  }
}

void draw_range_elements( __GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, const void *a7, uint64_t a8, unsigned int a9, unsigned int a10, const void *a11)
{
  unint64_t v17 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v17) {
    goto LABEL_12;
  }
  uint64_t v18 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v19 = v17[4];
    BOOL v20 = v19 >= (unint64_t)a1;
    else {
      BOOL v21 = v17 + 1;
    }
    if (v20) {
      uint64_t v18 = (uint64_t)v17;
    }
    unint64_t v17 = (void *)*v21;
  }

  while (*v21);
  if (v18 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v18 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v18 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v22 = *(void *)(v18 + 40);
  signed int v23 = (unsigned int *)(v22 + 4640);
  do
  {
    unsigned int v24 = __ldaxr(v23);
    signed int v25 = v24 + 1;
  }

  while (__stlxr(v25, v23));
  if (gCheckGLErrors) {
    BOOL v26 = v25 <= 1;
  }
  else {
    BOOL v26 = 1;
  }
  if (v26)
  {
    id v37 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v36 = handle_opengl_thread_conflict((const void **)v22);
    id v37 = [(id)DYGetGLGuestAppClient(v36) waitOnGraphicsSemaphoreAssertions];
    if ((int)v37 >= 1)
    {
      do
LABEL_47:
        unsigned int v38 = __ldaxr(v23);
      while (__stlxr(v38 - 1, v23));
      int v39 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v37) graphicsLockWaitQueue];
      dispatch_sync_f(v39, 0LL, (dispatch_function_t)do_nothing);
LABEL_49:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, const void *))(*(void *)(v22 + 24) + 3240LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
      return;
    }
  }

  *(_WORD *)(v22 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 257;
  signed int v27 = (char *)[(id)DYGetGLGuestAppClient(v37) state];
  if (v27 == (_BYTE *)&dword_0 + 1)
  {
    signed int v27 = (char *)[(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v27)
    {
      do
        unsigned int v35 = __ldaxr(v23);
      while (__stlxr(v35 - 1, v23));
      [(id)DYGetGLGuestAppClient(v27) triggerArmedCapture];
      goto LABEL_49;
    }
  }

  id v28 = [(id)DYGetGLGuestAppClient(v27) overrideFlags];
  if ((_DWORD)v28)
  {
    id v40 = [(id)DYGetGLGuestAppClient(v28) overrideFlags];
    if ((v40 & 8) == 0)
    {
      uint64_t v41 = (volatile int *)[(id)DYGetGLGuestAppClient(v40) overrideFlags];
      apply_draw_overrides(v22, v41);
      uint64_t v42 = (*(uint64_t (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, const void *))(*(void *)(v22 + 32) + 3240LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
      ++*(void *)(v22 + 3704);
      if (gCheckGLErrors)
      {
        uint64_t v42 = check_errors(v22);
        if (gBreakOnError)
        {
          uint64_t v45 = *(unsigned int *)(v22 + 3404);
          if ((_DWORD)v45) {
            breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v45, v22);
          }
        }
      }

      int v43 = [(id)DYGetGLGuestAppClient(v42) overrideFlags];
      unapply_draw_overrides(v22, v43);
    }
  }

  else
  {
    (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, const void *))(*(void *)(v22 + 32) + 3240LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
    ++*(void *)(v22 + 3704);
    if (gCheckGLErrors)
    {
      check_errors(v22);
      if (gBreakOnError)
      {
        uint64_t v44 = *(unsigned int *)(v22 + 3404);
        if ((_DWORD)v44) {
          breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v44, v22);
        }
      }
    }
  }

  if (!*(_DWORD *)(v22 + 3404))
  {
    unsigned int v29 = a5;
    switch((int)a2)
    {
      case 0:
      case 2:
        goto LABEL_36;
      case 1:
        unsigned int v29 = (int)a5 >> 1;
        goto LABEL_36;
      case 3:
        unsigned int v29 = a5 - 1;
        BOOL v30 = (int)a5 <= 1;
        goto LABEL_33;
      case 4:
        unsigned int v29 = (int)a5 / 3;
        goto LABEL_36;
      case 5:
      case 6:
        unsigned int v29 = a5 - 2;
        BOOL v30 = (int)a5 <= 2;
        goto LABEL_33;
      case 7:
        unsigned int v29 = (int)a5 / 4;
        goto LABEL_36;
      case 8:
        unsigned int v29 = (a5 - 2) >> 1;
        BOOL v30 = (int)a5 <= 3;
LABEL_33:
        if (v30) {
          unsigned int v29 = 0;
        }
LABEL_36:
        id v31 = (int64x2_t *)(v22 + 32LL * a2);
        v31[248] = vaddw_s32(v31[248], (int32x2_t)__PAIR64__(v29, a5));
        ++v31[247].i64[1];
        ++v31[249].i64[0];
        goto LABEL_37;
      default:
        unsigned int v46 = (__GLIContextRec *)dy_abort("unsupported mode: 0x%0.4x\n", a2);
        tex_image3D(v46, v47, v48, v49, v50, v51, v52, v53, a9, a10, a11);
        return;
    }
  }

  do
  {
LABEL_37:
    unsigned int v32 = __ldaxr(v23);
    signed int v33 = v32 - 1;
  }

  while (__stlxr(v33, v23));
  if (gCheckGLErrors) {
    BOOL v34 = v33 < 1;
  }
  else {
    BOOL v34 = 1;
  }
  if (!v34) {
    handle_opengl_thread_conflict((const void **)v22);
  }
}

{
  void *v18;
  uint64_t v19;
  unint64_t v20;
  BOOL v21;
  void *v22;
  uint64_t v23;
  unsigned int *v24;
  unsigned int v25;
  signed int v26;
  BOOL v27;
  char *v28;
  id v29;
  uint64_t v30;
  uint64_t v31;
  int64x2_t v32;
  unsigned int v33;
  BOOL v34;
  int64x2_t *v35;
  unsigned int v36;
  signed int v37;
  BOOL v38;
  unsigned int v39;
  uint64_t v40;
  id v41;
  unsigned int v42;
  dispatch_queue_s *v43;
  id v44;
  volatile int *v45;
  uint64_t v46;
  uint64_t v47;
  int64x2_t v48;
  int v49;
  uint64_t v50;
  uint64_t v51;
  __GLIContextRec *v52;
  unsigned int v53;
  int v54;
  unsigned int v55;
  int v56;
  int v57;
  int v58;
  int v59;
  uint64_t v18 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v18) {
    goto LABEL_12;
  }
  unint64_t v19 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    BOOL v20 = v18[4];
    BOOL v21 = v20 >= (unint64_t)a1;
    else {
      uint64_t v22 = v18 + 1;
    }
    if (v21) {
      unint64_t v19 = (uint64_t)v18;
    }
    uint64_t v18 = (void *)*v22;
  }

  while (*v22);
  if (v19 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v19 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    unint64_t v19 = ContextInfo::activeCtxInfoMap + 8;
  signed int v23 = *(void *)(v19 + 40);
  unsigned int v24 = (unsigned int *)(v23 + 4640);
  do
  {
    signed int v25 = __ldaxr(v24);
    BOOL v26 = v25 + 1;
  }

  while (__stlxr(v26, v24));
  if (gCheckGLErrors) {
    signed int v27 = v26 <= 1;
  }
  else {
    signed int v27 = 1;
  }
  if (v27)
  {
    uint64_t v41 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    id v40 = handle_opengl_thread_conflict((const void **)v23);
    uint64_t v41 = [(id)DYGetGLGuestAppClient(v40) waitOnGraphicsSemaphoreAssertions];
    if ((int)v41 >= 1)
    {
      do
LABEL_47:
        uint64_t v42 = __ldaxr(v24);
      while (__stlxr(v42 - 1, v24));
      int v43 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v41) graphicsLockWaitQueue];
      dispatch_sync_f(v43, 0LL, (dispatch_function_t)do_nothing);
LABEL_49:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, const void *))(*(void *)(v23 + 24) + 3240LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
      return;
    }
  }

  *(_WORD *)(v23 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 257;
  id v28 = (char *)[(id)DYGetGLGuestAppClient(v41) state];
  if (v28 == (_BYTE *)&dword_0 + 1)
  {
    id v28 = (char *)[(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v28)
    {
      do
        int v39 = __ldaxr(v24);
      while (__stlxr(v39 - 1, v24));
      [(id)DYGetGLGuestAppClient(v28) triggerArmedCapture];
      goto LABEL_49;
    }
  }

  unsigned int v29 = [(id)DYGetGLGuestAppClient(v28) overrideFlags];
  if ((_DWORD)v29)
  {
    uint64_t v44 = [(id)DYGetGLGuestAppClient(v29) overrideFlags];
    if ((v44 & 8) == 0)
    {
      uint64_t v45 = (volatile int *)[(id)DYGetGLGuestAppClient(v44) overrideFlags];
      apply_draw_overrides(v23, v45);
      unsigned int v46 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, const void *))(*(void *)(v23 + 32) + 3240LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
      unsigned int v47 = mach_absolute_time();
      int v48 = vdupq_n_s64(1uLL);
      v48.i64[0] = v47 - v46;
      *(int64x2_t *)(v23 + 3696) = vaddq_s64(v48, *(int64x2_t *)(v23 + 3696));
      if (gCheckGLErrors)
      {
        unsigned int v47 = check_errors(v23);
        if (gBreakOnError)
        {
          int v51 = *(unsigned int *)(v23 + 3404);
          if ((_DWORD)v51) {
            breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v51, v23);
          }
        }
      }

      unsigned int v49 = [(id)DYGetGLGuestAppClient(v47) overrideFlags];
      unapply_draw_overrides(v23, v49);
    }
  }

  else
  {
    BOOL v30 = mach_absolute_time();
    (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, const void *))(*(void *)(v23 + 32) + 3240LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7);
    id v31 = mach_absolute_time();
    unsigned int v32 = vdupq_n_s64(1uLL);
    v32.i64[0] = v31 - v30;
    *(int64x2_t *)(v23 + 3696) = vaddq_s64(v32, *(int64x2_t *)(v23 + 3696));
    if (gCheckGLErrors)
    {
      check_errors(v23);
      if (gBreakOnError)
      {
        int v50 = *(unsigned int *)(v23 + 3404);
        if ((_DWORD)v50) {
          breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v50, v23);
        }
      }
    }
  }

  if (!*(_DWORD *)(v23 + 3404))
  {
    signed int v33 = a5;
    switch((int)a2)
    {
      case 0:
      case 2:
        goto LABEL_36;
      case 1:
        signed int v33 = (int)a5 >> 1;
        goto LABEL_36;
      case 3:
        signed int v33 = a5 - 1;
        BOOL v34 = (int)a5 <= 1;
        goto LABEL_33;
      case 4:
        signed int v33 = (int)a5 / 3;
        goto LABEL_36;
      case 5:
      case 6:
        signed int v33 = a5 - 2;
        BOOL v34 = (int)a5 <= 2;
        goto LABEL_33;
      case 7:
        signed int v33 = (int)a5 / 4;
        goto LABEL_36;
      case 8:
        signed int v33 = (a5 - 2) >> 1;
        BOOL v34 = (int)a5 <= 3;
LABEL_33:
        if (v34) {
          signed int v33 = 0;
        }
LABEL_36:
        unsigned int v35 = (int64x2_t *)(v23 + 32LL * a2);
        v35[248] = vaddw_s32(v35[248], (int32x2_t)__PAIR64__(v33, a5));
        ++v35[247].i64[1];
        ++v35[249].i64[0];
        goto LABEL_37;
      default:
        int v52 = (__GLIContextRec *)dy_abort("unsupported mode: 0x%0.4x\n", a2);
        tex_image3D(v52, v53, v54, v55, v56, v57, v58, v59, a9, a10, a11);
        return;
    }
  }

  do
  {
LABEL_37:
    uint64_t v36 = __ldaxr(v24);
    id v37 = v36 - 1;
  }

  while (__stlxr(v37, v24));
  if (gCheckGLErrors) {
    unsigned int v38 = v37 < 1;
  }
  else {
    unsigned int v38 = 1;
  }
  if (!v38) {
    handle_opengl_thread_conflict((const void **)v23);
  }
}

void tex_image3D( __GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, unsigned int a5, unsigned int a6, unsigned int a7, unsigned int a8, uint64_t a9, const void *a10)
{
  signed int v14 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v14) {
    goto LABEL_12;
  }
  uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v16 = v14[4];
    BOOL v17 = v16 >= (unint64_t)a1;
    else {
      uint64_t v18 = v14 + 1;
    }
    if (v17) {
      uint64_t v15 = (uint64_t)v14;
    }
    signed int v14 = (void *)*v18;
  }

  while (*v18);
  if (v15 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v15 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v19 = *(void *)(v15 + 40);
  BOOL v20 = (unsigned int *)(v19 + 4640);
  do
  {
    unsigned int v21 = __ldaxr(v20);
    signed int v22 = v21 + 1;
  }

  while (__stlxr(v22, v20));
  if (gCheckGLErrors) {
    BOOL v23 = v22 <= 1;
  }
  else {
    BOOL v23 = 1;
  }
  if (v23)
  {
    id v30 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v29 = handle_opengl_thread_conflict((const void **)v19);
    id v30 = [(id)DYGetGLGuestAppClient(v29) waitOnGraphicsSemaphoreAssertions];
    if ((int)v30 >= 1)
    {
      do
LABEL_34:
        unsigned int v31 = __ldaxr(v20);
      while (__stlxr(v31 - 1, v20));
      unsigned int v32 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v30) graphicsLockWaitQueue];
      dispatch_sync_f(v32, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, void, void, void, void, uint64_t, const void *))(*(void *)(v19 + 24) + 3504LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9,  a10);
      return;
    }
  }

  *(_BYTE *)(v19 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v30) state] == (char *)&dword_0 + 1)
  {
    id v24 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v24)
    {
      do
        unsigned int v28 = __ldaxr(v20);
      while (__stlxr(v28 - 1, v20));
      [(id)DYGetGLGuestAppClient(v24) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, void, void, void, void, uint64_t, const void *))(*(void *)(v19 + 32) + 3504LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9,  a10);
  ++*(void *)(v19 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v19);
    if (gBreakOnError)
    {
      uint64_t v33 = *(unsigned int *)(v19 + 3404);
      if ((_DWORD)v33) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v33, v19);
      }
    }
  }

  do
  {
    unsigned int v25 = __ldaxr(v20);
    signed int v26 = v25 - 1;
  }

  while (__stlxr(v26, v20));
  if (gCheckGLErrors) {
    BOOL v27 = v26 < 1;
  }
  else {
    BOOL v27 = 1;
  }
  if (!v27) {
    handle_opengl_thread_conflict((const void **)v19);
  }
}

void copy_tex_sub_image3D( __GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, unsigned int a6, unsigned int a7, unsigned int a8, uint64_t a9)
{
  signed int v14 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v14) {
    goto LABEL_12;
  }
  uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v16 = v14[4];
    BOOL v17 = v16 >= (unint64_t)a1;
    else {
      uint64_t v18 = v14 + 1;
    }
    if (v17) {
      uint64_t v15 = (uint64_t)v14;
    }
    signed int v14 = (void *)*v18;
  }

  while (*v18);
  if (v15 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v15 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v15 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v19 = *(void *)(v15 + 40);
  BOOL v20 = (unsigned int *)(v19 + 4640);
  do
  {
    unsigned int v21 = __ldaxr(v20);
    signed int v22 = v21 + 1;
  }

  while (__stlxr(v22, v20));
  if (gCheckGLErrors) {
    BOOL v23 = v22 <= 1;
  }
  else {
    BOOL v23 = 1;
  }
  if (v23)
  {
    id v30 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v29 = handle_opengl_thread_conflict((const void **)v19);
    id v30 = [(id)DYGetGLGuestAppClient(v29) waitOnGraphicsSemaphoreAssertions];
    if ((int)v30 >= 1)
    {
      do
LABEL_34:
        unsigned int v31 = __ldaxr(v20);
      while (__stlxr(v31 - 1, v20));
      unsigned int v32 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v30) graphicsLockWaitQueue];
      dispatch_sync_f(v32, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, void, void, void, uint64_t))(*(void *)(v19 + 24) + 3520LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9);
      return;
    }
  }

  *(_BYTE *)(v19 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v30) state] == (char *)&dword_0 + 1)
  {
    id v24 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v24)
    {
      do
        unsigned int v28 = __ldaxr(v20);
      while (__stlxr(v28 - 1, v20));
      [(id)DYGetGLGuestAppClient(v24) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, void, void, void, uint64_t))(*(void *)(v19 + 32) + 3520LL))( a1,  a2,  a3,  a4,  a5,  a6,  a7,  a8,  a9);
  ++*(void *)(v19 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v19);
    if (gBreakOnError)
    {
      uint64_t v33 = *(unsigned int *)(v19 + 3404);
      if ((_DWORD)v33) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v33, v19);
      }
    }
  }

  do
  {
    unsigned int v25 = __ldaxr(v20);
    signed int v26 = v25 - 1;
  }

  while (__stlxr(v26, v20));
  if (gCheckGLErrors) {
    BOOL v27 = v26 < 1;
  }
  else {
    BOOL v27 = 1;
  }
  if (!v27) {
    handle_opengl_thread_conflict((const void **)v19);
  }
}

char *vertex_attrib1f(__GLIContextRec *a1, uint64_t a2, float a3)
{
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v23 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v22 = handle_opengl_thread_conflict((const void **)v11);
    id v23 = [(id)DYGetGLGuestAppClient(v22) waitOnGraphicsSemaphoreAssertions];
    if ((int)v23 >= 1)
    {
      do
LABEL_35:
        unsigned int v24 = __ldaxr(v12);
      while (__stlxr(v24 - 1, v12));
      unsigned int v25 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v23) graphicsLockWaitQueue];
      dispatch_sync_f(v25, 0LL, (dispatch_function_t)do_nothing);
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, float))(*(void *)(v11 + 24) + 3808LL))( a1,  a2,  a3);
    }
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v23) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v21 = __ldaxr(v12);
      while (__stlxr(v21 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, float))(*(void *)(v11 + 24) + 3808LL))( a1,  a2,  a3);
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, float))(*(void *)(v11 + 32) + 3808LL))(a1, a2, a3);
  ++*(void *)(v11 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v26 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v26) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v26, v11);
      }
    }
  }

  uint64_t result = wrapper_cache_vertex_attrib((char *)v11, a2, 5126, a3, 0.0, 0.0, 1.0);
  do
  {
    unsigned int v18 = __ldaxr(v12);
    signed int v19 = v18 - 1;
  }

  while (__stlxr(v19, v12));
  if (gCheckGLErrors) {
    BOOL v20 = v19 < 1;
  }
  else {
    BOOL v20 = 1;
  }
  if (!v20) {
    return (char *)handle_opengl_thread_conflict((const void **)v11);
  }
  return result;
}

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  uint64_t v17;
  uint64_t v18;
  int64x2_t v19;
  char *result;
  unsigned int v21;
  signed int v22;
  BOOL v23;
  unsigned int v24;
  uint64_t v25;
  id v26;
  unsigned int v27;
  dispatch_queue_s *v28;
  uint64_t v29;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v26 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unsigned int v25 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v26 = [(id)DYGetGLGuestAppClient(v25) waitOnGraphicsSemaphoreAssertions];
    if ((int)v26 >= 1)
    {
      do
LABEL_35:
        BOOL v27 = __ldaxr(v12);
      while (__stlxr(v27 - 1, v12));
      unsigned int v28 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v26) graphicsLockWaitQueue];
      dispatch_sync_f(v28, 0LL, (dispatch_function_t)do_nothing);
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, float))(*(void *)(v11 + 24) + 3808LL))( a1,  a2,  a3);
    }
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v26) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v24 = __ldaxr(v12);
      while (__stlxr(v24 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, float))(*(void *)(v11 + 24) + 3808LL))( a1,  a2,  a3);
    }
  }

  BOOL v17 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, float))(*(void *)(v11 + 32) + 3808LL))(a1, a2, a3);
  unsigned int v18 = mach_absolute_time();
  signed int v19 = vdupq_n_s64(1uLL);
  v19.i64[0] = v18 - v17;
  *(int64x2_t *)(v11 + 3696) = vaddq_s64(v19, *(int64x2_t *)(v11 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v29 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v29) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v29, v11);
      }
    }
  }

  uint64_t result = wrapper_cache_vertex_attrib((char *)v11, a2, 5126, a3, 0.0, 0.0, 1.0);
  do
  {
    unsigned int v21 = __ldaxr(v12);
    uint64_t v22 = v21 - 1;
  }

  while (__stlxr(v22, v12));
  if (gCheckGLErrors) {
    id v23 = v22 < 1;
  }
  else {
    id v23 = 1;
  }
  if (!v23) {
    return (char *)handle_opengl_thread_conflict((const void **)v11);
  }
  return result;
}

{
  __GLIContextRec *v5;
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  id v17;
  char *result;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  unsigned int v22;
  dispatch_queue_s *v23;
  unsigned int v24;
  uint64_t v5 = a1;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (!v15) {
    a1 = (__GLIContextRec *)handle_opengl_thread_conflict((const void **)v11);
  }
  id v16 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  if ((int)v16 >= 1)
  {
    do
      uint64_t v22 = __ldaxr(v12);
    while (__stlxr(v22 - 1, v12));
    id v23 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v16) graphicsLockWaitQueue];
    dispatch_sync_f(v23, 0LL, (dispatch_function_t)do_nothing);
    return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, float))(*(void *)(v11 + 24) + 3808LL))( v5,  a2,  a3);
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v16) state] == (char *)&dword_0 + 1)
  {
    BOOL v17 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v17)
    {
      do
        unsigned int v24 = __ldaxr(v12);
      while (__stlxr(v24 - 1, v12));
      [(id)DYGetGLGuestAppClient(v17) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, float))(*(void *)(v11 + 24) + 3808LL))( v5,  a2,  a3);
    }
  }

  uint64_t result = wrapper_cache_vertex_attrib((char *)v11, a2, 5126, a3, 0.0, 0.0, 1.0);
  do
  {
    signed int v19 = __ldaxr(v12);
    BOOL v20 = v19 - 1;
  }

  while (__stlxr(v20, v12));
  if (gCheckGLErrors) {
    unsigned int v21 = v20 < 1;
  }
  else {
    unsigned int v21 = 1;
  }
  if (!v21) {
    return (char *)handle_opengl_thread_conflict((const void **)v11);
  }
  return result;
}

char *vertex_attrib2f(__GLIContextRec *a1, uint64_t a2, float a3, float a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v24 = handle_opengl_thread_conflict((const void **)v13);
    id v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_35:
        unsigned int v26 = __ldaxr(v14);
      while (__stlxr(v26 - 1, v14));
      BOOL v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, float, float))(*(void *)(v13 + 24) + 3832LL))( a1,  a2,  a3,  a4);
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v23 = __ldaxr(v14);
      while (__stlxr(v23 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, float, float))(*(void *)(v13 + 24) + 3832LL))( a1,  a2,  a3,  a4);
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, float, float))(*(void *)(v13 + 32) + 3832LL))(a1, a2, a3, a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v28 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v13);
      }
    }
  }

  uint64_t result = wrapper_cache_vertex_attrib((char *)v13, a2, 5126, a3, a4, 0.0, 1.0);
  do
  {
    unsigned int v20 = __ldaxr(v14);
    signed int v21 = v20 - 1;
  }

  while (__stlxr(v21, v14));
  if (gCheckGLErrors) {
    BOOL v22 = v21 < 1;
  }
  else {
    BOOL v22 = 1;
  }
  if (!v22) {
    return (char *)handle_opengl_thread_conflict((const void **)v13);
  }
  return result;
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  char *result;
  unsigned int v23;
  signed int v24;
  BOOL v25;
  unsigned int v26;
  uint64_t v27;
  id v28;
  unsigned int v29;
  dispatch_queue_s *v30;
  uint64_t v31;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v28 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    BOOL v27 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v28 = [(id)DYGetGLGuestAppClient(v27) waitOnGraphicsSemaphoreAssertions];
    if ((int)v28 >= 1)
    {
      do
LABEL_35:
        uint64_t v29 = __ldaxr(v14);
      while (__stlxr(v29 - 1, v14));
      id v30 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v28) graphicsLockWaitQueue];
      dispatch_sync_f(v30, 0LL, (dispatch_function_t)do_nothing);
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, float, float))(*(void *)(v13 + 24) + 3832LL))( a1,  a2,  a3,  a4);
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v28) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v26 = __ldaxr(v14);
      while (__stlxr(v26 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, float, float))(*(void *)(v13 + 24) + 3832LL))( a1,  a2,  a3,  a4);
    }
  }

  signed int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, float, float))(*(void *)(v13 + 32) + 3832LL))(a1, a2, a3, a4);
  unsigned int v20 = mach_absolute_time();
  signed int v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      unsigned int v31 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v31) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v31, v13);
      }
    }
  }

  uint64_t result = wrapper_cache_vertex_attrib((char *)v13, a2, 5126, a3, a4, 0.0, 1.0);
  do
  {
    unsigned int v23 = __ldaxr(v14);
    uint64_t v24 = v23 - 1;
  }

  while (__stlxr(v24, v14));
  if (gCheckGLErrors) {
    id v25 = v24 < 1;
  }
  else {
    id v25 = 1;
  }
  if (!v25) {
    return (char *)handle_opengl_thread_conflict((const void **)v13);
  }
  return result;
}

{
  __GLIContextRec *v7;
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  id v19;
  char *result;
  unsigned int v21;
  signed int v22;
  BOOL v23;
  unsigned int v24;
  dispatch_queue_s *v25;
  unsigned int v26;
  uint64_t v7 = a1;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (!v17) {
    a1 = (__GLIContextRec *)handle_opengl_thread_conflict((const void **)v13);
  }
  id v18 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  if ((int)v18 >= 1)
  {
    do
      uint64_t v24 = __ldaxr(v14);
    while (__stlxr(v24 - 1, v14));
    id v25 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v18) graphicsLockWaitQueue];
    dispatch_sync_f(v25, 0LL, (dispatch_function_t)do_nothing);
    return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, float, float))(*(void *)(v13 + 24) + 3832LL))( v7,  a2,  a3,  a4);
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v18) state] == (char *)&dword_0 + 1)
  {
    signed int v19 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v19)
    {
      do
        unsigned int v26 = __ldaxr(v14);
      while (__stlxr(v26 - 1, v14));
      [(id)DYGetGLGuestAppClient(v19) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, float, float))(*(void *)(v13 + 24) + 3832LL))( v7,  a2,  a3,  a4);
    }
  }

  uint64_t result = wrapper_cache_vertex_attrib((char *)v13, a2, 5126, a3, a4, 0.0, 1.0);
  do
  {
    signed int v21 = __ldaxr(v14);
    BOOL v22 = v21 - 1;
  }

  while (__stlxr(v22, v14));
  if (gCheckGLErrors) {
    unsigned int v23 = v22 < 1;
  }
  else {
    unsigned int v23 = 1;
  }
  if (!v23) {
    return (char *)handle_opengl_thread_conflict((const void **)v13);
  }
  return result;
}

char *vertex_attrib3f(__GLIContextRec *a1, uint64_t a2, float a3, float a4, float a5)
{
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      signed int v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  signed int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    id v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v26 = handle_opengl_thread_conflict((const void **)v15);
    id v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_35:
        unsigned int v28 = __ldaxr(v16);
      while (__stlxr(v28 - 1, v16));
      uint64_t v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, float, float, float))(*(void *)(v15 + 24)
                                                                                                + 3856LL))( a1,  a2,  a3,  a4,  a5);
    }
  }

  *(_BYTE *)(v15 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        unsigned int v25 = __ldaxr(v16);
      while (__stlxr(v25 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, float, float, float))(*(void *)(v15 + 24)
                                                                                                + 3856LL))( a1,  a2,  a3,  a4,  a5);
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, float, float, float))(*(void *)(v15 + 32) + 3856LL))( a1,  a2,  a3,  a4,  a5);
  ++*(void *)(v15 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v30 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v15);
      }
    }
  }

  uint64_t result = wrapper_cache_vertex_attrib((char *)v15, a2, 5126, a3, a4, a5, 1.0);
  do
  {
    unsigned int v22 = __ldaxr(v16);
    signed int v23 = v22 - 1;
  }

  while (__stlxr(v23, v16));
  if (gCheckGLErrors) {
    BOOL v24 = v23 < 1;
  }
  else {
    BOOL v24 = 1;
  }
  if (!v24) {
    return (char *)handle_opengl_thread_conflict((const void **)v15);
  }
  return result;
}

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  id v20;
  uint64_t v21;
  uint64_t v22;
  int64x2_t v23;
  char *result;
  unsigned int v25;
  signed int v26;
  BOOL v27;
  unsigned int v28;
  uint64_t v29;
  id v30;
  unsigned int v31;
  dispatch_queue_s *v32;
  uint64_t v33;
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      signed int v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  signed int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    uint64_t v30 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v29 = handle_opengl_thread_conflict((const void **)v15);
    uint64_t v30 = [(id)DYGetGLGuestAppClient(v29) waitOnGraphicsSemaphoreAssertions];
    if ((int)v30 >= 1)
    {
      do
LABEL_35:
        unsigned int v31 = __ldaxr(v16);
      while (__stlxr(v31 - 1, v16));
      unsigned int v32 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v30) graphicsLockWaitQueue];
      dispatch_sync_f(v32, 0LL, (dispatch_function_t)do_nothing);
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, float, float, float))(*(void *)(v15 + 24)
                                                                                                + 3856LL))( a1,  a2,  a3,  a4,  a5);
    }
  }

  *(_BYTE *)(v15 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v30) state] == (char *)&dword_0 + 1)
  {
    id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        unsigned int v28 = __ldaxr(v16);
      while (__stlxr(v28 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, float, float, float))(*(void *)(v15 + 24)
                                                                                                + 3856LL))( a1,  a2,  a3,  a4,  a5);
    }
  }

  signed int v21 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, float, float, float))(*(void *)(v15 + 32) + 3856LL))( a1,  a2,  a3,  a4,  a5);
  unsigned int v22 = mach_absolute_time();
  signed int v23 = vdupq_n_s64(1uLL);
  v23.i64[0] = v22 - v21;
  *(int64x2_t *)(v15 + 3696) = vaddq_s64(v23, *(int64x2_t *)(v15 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v33 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v33) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v33, v15);
      }
    }
  }

  uint64_t result = wrapper_cache_vertex_attrib((char *)v15, a2, 5126, a3, a4, a5, 1.0);
  do
  {
    unsigned int v25 = __ldaxr(v16);
    uint64_t v26 = v25 - 1;
  }

  while (__stlxr(v26, v16));
  if (gCheckGLErrors) {
    id v27 = v26 < 1;
  }
  else {
    id v27 = 1;
  }
  if (!v27) {
    return (char *)handle_opengl_thread_conflict((const void **)v15);
  }
  return result;
}

{
  __GLIContextRec *v9;
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  id v20;
  id v21;
  char *result;
  unsigned int v23;
  signed int v24;
  BOOL v25;
  unsigned int v26;
  dispatch_queue_s *v27;
  unsigned int v28;
  uint64_t v9 = a1;
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      signed int v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  signed int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (!v19) {
    a1 = (__GLIContextRec *)handle_opengl_thread_conflict((const void **)v15);
  }
  id v20 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  if ((int)v20 >= 1)
  {
    do
      uint64_t v26 = __ldaxr(v16);
    while (__stlxr(v26 - 1, v16));
    id v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v20) graphicsLockWaitQueue];
    dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
    return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, float, float, float))(*(void *)(v15 + 24)
                                                                                              + 3856LL))( v9,  a2,  a3,  a4,  a5);
  }

  *(_BYTE *)(v15 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v20) state] == (char *)&dword_0 + 1)
  {
    signed int v21 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v21)
    {
      do
        unsigned int v28 = __ldaxr(v16);
      while (__stlxr(v28 - 1, v16));
      [(id)DYGetGLGuestAppClient(v21) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, float, float, float))(*(void *)(v15 + 24)
                                                                                                + 3856LL))( v9,  a2,  a3,  a4,  a5);
    }
  }

  uint64_t result = wrapper_cache_vertex_attrib((char *)v15, a2, 5126, a3, a4, a5, 1.0);
  do
  {
    signed int v23 = __ldaxr(v16);
    BOOL v24 = v23 - 1;
  }

  while (__stlxr(v24, v16));
  if (gCheckGLErrors) {
    unsigned int v25 = v24 < 1;
  }
  else {
    unsigned int v25 = 1;
  }
  if (!v25) {
    return (char *)handle_opengl_thread_conflict((const void **)v15);
  }
  return result;
}

char *vertex_attrib4f(__GLIContextRec *a1, uint64_t a2, float a3, float a4, float a5, float a6)
{
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      signed int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  signed int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    id v29 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v28 = handle_opengl_thread_conflict((const void **)v17);
    id v29 = [(id)DYGetGLGuestAppClient(v28) waitOnGraphicsSemaphoreAssertions];
    if ((int)v29 >= 1)
    {
      do
LABEL_35:
        unsigned int v30 = __ldaxr(v18);
      while (__stlxr(v30 - 1, v18));
      unsigned int v31 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v29) graphicsLockWaitQueue];
      dispatch_sync_f(v31, 0LL, (dispatch_function_t)do_nothing);
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, float, float, float, float))(*(void *)(v17 + 24) + 3880LL))( a1,  a2,  a3,  a4,  a5,  a6);
    }
  }

  *(_BYTE *)(v17 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v29) state] == (char *)&dword_0 + 1)
  {
    id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v22)
    {
      do
        unsigned int v27 = __ldaxr(v18);
      while (__stlxr(v27 - 1, v18));
      [(id)DYGetGLGuestAppClient(v22) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, float, float, float, float))(*(void *)(v17 + 24) + 3880LL))( a1,  a2,  a3,  a4,  a5,  a6);
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, float, float, float, float))(*(void *)(v17 + 32) + 3880LL))( a1,  a2,  a3,  a4,  a5,  a6);
  ++*(void *)(v17 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v17);
    if (gBreakOnError)
    {
      uint64_t v32 = *(unsigned int *)(v17 + 3404);
      if ((_DWORD)v32) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v32, v17);
      }
    }
  }

  uint64_t result = wrapper_cache_vertex_attrib((char *)v17, a2, 5126, a3, a4, a5, a6);
  do
  {
    unsigned int v24 = __ldaxr(v18);
    signed int v25 = v24 - 1;
  }

  while (__stlxr(v25, v18));
  if (gCheckGLErrors) {
    BOOL v26 = v25 < 1;
  }
  else {
    BOOL v26 = 1;
  }
  if (!v26) {
    return (char *)handle_opengl_thread_conflict((const void **)v17);
  }
  return result;
}

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  id v22;
  uint64_t v23;
  uint64_t v24;
  int64x2_t v25;
  char *result;
  unsigned int v27;
  signed int v28;
  BOOL v29;
  unsigned int v30;
  uint64_t v31;
  id v32;
  unsigned int v33;
  dispatch_queue_s *v34;
  uint64_t v35;
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      signed int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  signed int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    uint64_t v32 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unsigned int v31 = handle_opengl_thread_conflict((const void **)v17);
    uint64_t v32 = [(id)DYGetGLGuestAppClient(v31) waitOnGraphicsSemaphoreAssertions];
    if ((int)v32 >= 1)
    {
      do
LABEL_35:
        uint64_t v33 = __ldaxr(v18);
      while (__stlxr(v33 - 1, v18));
      BOOL v34 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v32) graphicsLockWaitQueue];
      dispatch_sync_f(v34, 0LL, (dispatch_function_t)do_nothing);
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, float, float, float, float))(*(void *)(v17 + 24) + 3880LL))( a1,  a2,  a3,  a4,  a5,  a6);
    }
  }

  *(_BYTE *)(v17 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v32) state] == (char *)&dword_0 + 1)
  {
    id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v22)
    {
      do
        unsigned int v30 = __ldaxr(v18);
      while (__stlxr(v30 - 1, v18));
      [(id)DYGetGLGuestAppClient(v22) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, float, float, float, float))(*(void *)(v17 + 24) + 3880LL))( a1,  a2,  a3,  a4,  a5,  a6);
    }
  }

  signed int v23 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, float, float, float, float))(*(void *)(v17 + 32) + 3880LL))( a1,  a2,  a3,  a4,  a5,  a6);
  unsigned int v24 = mach_absolute_time();
  signed int v25 = vdupq_n_s64(1uLL);
  v25.i64[0] = v24 - v23;
  *(int64x2_t *)(v17 + 3696) = vaddq_s64(v25, *(int64x2_t *)(v17 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v17);
    if (gBreakOnError)
    {
      unsigned int v35 = *(unsigned int *)(v17 + 3404);
      if ((_DWORD)v35) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v35, v17);
      }
    }
  }

  uint64_t result = wrapper_cache_vertex_attrib((char *)v17, a2, 5126, a3, a4, a5, a6);
  do
  {
    unsigned int v27 = __ldaxr(v18);
    uint64_t v28 = v27 - 1;
  }

  while (__stlxr(v28, v18));
  if (gCheckGLErrors) {
    id v29 = v28 < 1;
  }
  else {
    id v29 = 1;
  }
  if (!v29) {
    return (char *)handle_opengl_thread_conflict((const void **)v17);
  }
  return result;
}

{
  __GLIContextRec *v11;
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  id v22;
  id v23;
  char *result;
  unsigned int v25;
  signed int v26;
  BOOL v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  unsigned int v30;
  uint64_t v11 = a1;
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      signed int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  signed int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    a1 = (__GLIContextRec *)handle_opengl_thread_conflict((const void **)v17);
  }
  id v22 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  if ((int)v22 >= 1)
  {
    do
      uint64_t v28 = __ldaxr(v18);
    while (__stlxr(v28 - 1, v18));
    id v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v22) graphicsLockWaitQueue];
    dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
    return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, float, float, float, float))(*(void *)(v17 + 24) + 3880LL))( v11,  a2,  a3,  a4,  a5,  a6);
  }

  *(_BYTE *)(v17 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v22) state] == (char *)&dword_0 + 1)
  {
    signed int v23 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v23)
    {
      do
        unsigned int v30 = __ldaxr(v18);
      while (__stlxr(v30 - 1, v18));
      [(id)DYGetGLGuestAppClient(v23) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, float, float, float, float))(*(void *)(v17 + 24) + 3880LL))( v11,  a2,  a3,  a4,  a5,  a6);
    }
  }

  uint64_t result = wrapper_cache_vertex_attrib((char *)v17, a2, 5126, a3, a4, a5, a6);
  do
  {
    signed int v25 = __ldaxr(v18);
    BOOL v26 = v25 - 1;
  }

  while (__stlxr(v26, v18));
  if (gCheckGLErrors) {
    unsigned int v27 = v26 < 1;
  }
  else {
    unsigned int v27 = 1;
  }
  if (!v27) {
    return (char *)handle_opengl_thread_conflict((const void **)v17);
  }
  return result;
}

char *vertex_attrib1fv(__GLIContextRec *a1, uint64_t a2, const float *a3)
{
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v23 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v22 = handle_opengl_thread_conflict((const void **)v11);
    id v23 = [(id)DYGetGLGuestAppClient(v22) waitOnGraphicsSemaphoreAssertions];
    if ((int)v23 >= 1)
    {
      do
LABEL_35:
        unsigned int v24 = __ldaxr(v12);
      while (__stlxr(v24 - 1, v12));
      signed int v25 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v23) graphicsLockWaitQueue];
      dispatch_sync_f(v25, 0LL, (dispatch_function_t)do_nothing);
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 24)
                                                                                          + 3912LL))( a1,  a2,  a3);
    }
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v23) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v21 = __ldaxr(v12);
      while (__stlxr(v21 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 24)
                                                                                          + 3912LL))( a1,  a2,  a3);
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 32) + 3912LL))(a1, a2, a3);
  ++*(void *)(v11 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v26 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v26) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v26, v11);
      }
    }
  }

  uint64_t result = wrapper_cache_vertex_attrib((char *)v11, a2, 5126, *a3, 0.0, 0.0, 1.0);
  do
  {
    unsigned int v18 = __ldaxr(v12);
    signed int v19 = v18 - 1;
  }

  while (__stlxr(v19, v12));
  if (gCheckGLErrors) {
    BOOL v20 = v19 < 1;
  }
  else {
    BOOL v20 = 1;
  }
  if (!v20) {
    return (char *)handle_opengl_thread_conflict((const void **)v11);
  }
  return result;
}

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  uint64_t v17;
  uint64_t v18;
  int64x2_t v19;
  char *result;
  unsigned int v21;
  signed int v22;
  BOOL v23;
  unsigned int v24;
  uint64_t v25;
  id v26;
  unsigned int v27;
  dispatch_queue_s *v28;
  uint64_t v29;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v26 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    signed int v25 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v26 = [(id)DYGetGLGuestAppClient(v25) waitOnGraphicsSemaphoreAssertions];
    if ((int)v26 >= 1)
    {
      do
LABEL_35:
        unsigned int v27 = __ldaxr(v12);
      while (__stlxr(v27 - 1, v12));
      uint64_t v28 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v26) graphicsLockWaitQueue];
      dispatch_sync_f(v28, 0LL, (dispatch_function_t)do_nothing);
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 24)
                                                                                          + 3912LL))( a1,  a2,  a3);
    }
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v26) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v24 = __ldaxr(v12);
      while (__stlxr(v24 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 24)
                                                                                          + 3912LL))( a1,  a2,  a3);
    }
  }

  uint64_t v17 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 32) + 3912LL))(a1, a2, a3);
  unsigned int v18 = mach_absolute_time();
  signed int v19 = vdupq_n_s64(1uLL);
  v19.i64[0] = v18 - v17;
  *(int64x2_t *)(v11 + 3696) = vaddq_s64(v19, *(int64x2_t *)(v11 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      id v29 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v29) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v29, v11);
      }
    }
  }

  uint64_t result = wrapper_cache_vertex_attrib((char *)v11, a2, 5126, *a3, 0.0, 0.0, 1.0);
  do
  {
    unsigned int v21 = __ldaxr(v12);
    uint64_t v22 = v21 - 1;
  }

  while (__stlxr(v22, v12));
  if (gCheckGLErrors) {
    id v23 = v22 < 1;
  }
  else {
    id v23 = 1;
  }
  if (!v23) {
    return (char *)handle_opengl_thread_conflict((const void **)v11);
  }
  return result;
}

{
  __GLIContextRec *v5;
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  id v17;
  char *result;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  unsigned int v22;
  dispatch_queue_s *v23;
  unsigned int v24;
  uint64_t v5 = a1;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (!v15) {
    a1 = (__GLIContextRec *)handle_opengl_thread_conflict((const void **)v11);
  }
  id v16 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  if ((int)v16 >= 1)
  {
    do
      uint64_t v22 = __ldaxr(v12);
    while (__stlxr(v22 - 1, v12));
    id v23 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v16) graphicsLockWaitQueue];
    dispatch_sync_f(v23, 0LL, (dispatch_function_t)do_nothing);
    return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 24) + 3912LL))( v5,  a2,  a3);
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v16) state] == (char *)&dword_0 + 1)
  {
    uint64_t v17 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v17)
    {
      do
        unsigned int v24 = __ldaxr(v12);
      while (__stlxr(v24 - 1, v12));
      [(id)DYGetGLGuestAppClient(v17) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 24)
                                                                                          + 3912LL))( v5,  a2,  a3);
    }
  }

  uint64_t result = wrapper_cache_vertex_attrib((char *)v11, a2, 5126, *a3, 0.0, 0.0, 1.0);
  do
  {
    signed int v19 = __ldaxr(v12);
    BOOL v20 = v19 - 1;
  }

  while (__stlxr(v20, v12));
  if (gCheckGLErrors) {
    unsigned int v21 = v20 < 1;
  }
  else {
    unsigned int v21 = 1;
  }
  if (!v21) {
    return (char *)handle_opengl_thread_conflict((const void **)v11);
  }
  return result;
}

{
  unsigned int v4;
  void *v5;
  uint64_t v6;
  unint64_t v7;
  BOOL v8;
  void *v9;
  uint64_t v10;
  uint64_t v4 = a2;
  uint64_t v5 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v5) {
    goto LABEL_12;
  }
  unint64_t v6 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    uint64_t v7 = v5[4];
    unint64_t v8 = v7 >= (unint64_t)a1;
    else {
      BOOL v9 = v5 + 1;
    }
    if (v8) {
      unint64_t v6 = (uint64_t)v5;
    }
    uint64_t v5 = (void *)*v9;
  }

  while (*v9);
  if (v6 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v6 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    unint64_t v6 = ContextInfo::activeCtxInfoMap + 8;
  unint64_t v10 = *(void *)(v6 + 40);
  (*(void (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v10 + 32) + 3912LL))(a1, a2, a3);
  return wrapper_cache_vertex_attrib((char *)v10, v4, 5126, *a3, 0.0, 0.0, 1.0);
}

char *vertex_attrib2fv(__GLIContextRec *a1, uint64_t a2, const float *a3)
{
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v23 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v22 = handle_opengl_thread_conflict((const void **)v11);
    id v23 = [(id)DYGetGLGuestAppClient(v22) waitOnGraphicsSemaphoreAssertions];
    if ((int)v23 >= 1)
    {
      do
LABEL_35:
        unsigned int v24 = __ldaxr(v12);
      while (__stlxr(v24 - 1, v12));
      signed int v25 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v23) graphicsLockWaitQueue];
      dispatch_sync_f(v25, 0LL, (dispatch_function_t)do_nothing);
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 24)
                                                                                          + 3936LL))( a1,  a2,  a3);
    }
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v23) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v21 = __ldaxr(v12);
      while (__stlxr(v21 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 24)
                                                                                          + 3936LL))( a1,  a2,  a3);
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 32) + 3936LL))(a1, a2, a3);
  ++*(void *)(v11 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v26 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v26) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v26, v11);
      }
    }
  }

  uint64_t result = wrapper_cache_vertex_attrib((char *)v11, a2, 5126, *a3, a3[1], 0.0, 1.0);
  do
  {
    unsigned int v18 = __ldaxr(v12);
    signed int v19 = v18 - 1;
  }

  while (__stlxr(v19, v12));
  if (gCheckGLErrors) {
    BOOL v20 = v19 < 1;
  }
  else {
    BOOL v20 = 1;
  }
  if (!v20) {
    return (char *)handle_opengl_thread_conflict((const void **)v11);
  }
  return result;
}

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  uint64_t v17;
  uint64_t v18;
  int64x2_t v19;
  char *result;
  unsigned int v21;
  signed int v22;
  BOOL v23;
  unsigned int v24;
  uint64_t v25;
  id v26;
  unsigned int v27;
  dispatch_queue_s *v28;
  uint64_t v29;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v26 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    signed int v25 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v26 = [(id)DYGetGLGuestAppClient(v25) waitOnGraphicsSemaphoreAssertions];
    if ((int)v26 >= 1)
    {
      do
LABEL_35:
        unsigned int v27 = __ldaxr(v12);
      while (__stlxr(v27 - 1, v12));
      uint64_t v28 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v26) graphicsLockWaitQueue];
      dispatch_sync_f(v28, 0LL, (dispatch_function_t)do_nothing);
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 24)
                                                                                          + 3936LL))( a1,  a2,  a3);
    }
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v26) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v24 = __ldaxr(v12);
      while (__stlxr(v24 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 24)
                                                                                          + 3936LL))( a1,  a2,  a3);
    }
  }

  uint64_t v17 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 32) + 3936LL))(a1, a2, a3);
  unsigned int v18 = mach_absolute_time();
  signed int v19 = vdupq_n_s64(1uLL);
  v19.i64[0] = v18 - v17;
  *(int64x2_t *)(v11 + 3696) = vaddq_s64(v19, *(int64x2_t *)(v11 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      id v29 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v29) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v29, v11);
      }
    }
  }

  uint64_t result = wrapper_cache_vertex_attrib((char *)v11, a2, 5126, *a3, a3[1], 0.0, 1.0);
  do
  {
    unsigned int v21 = __ldaxr(v12);
    uint64_t v22 = v21 - 1;
  }

  while (__stlxr(v22, v12));
  if (gCheckGLErrors) {
    id v23 = v22 < 1;
  }
  else {
    id v23 = 1;
  }
  if (!v23) {
    return (char *)handle_opengl_thread_conflict((const void **)v11);
  }
  return result;
}

{
  __GLIContextRec *v5;
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  id v17;
  char *result;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  unsigned int v22;
  dispatch_queue_s *v23;
  unsigned int v24;
  uint64_t v5 = a1;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (!v15) {
    a1 = (__GLIContextRec *)handle_opengl_thread_conflict((const void **)v11);
  }
  id v16 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  if ((int)v16 >= 1)
  {
    do
      uint64_t v22 = __ldaxr(v12);
    while (__stlxr(v22 - 1, v12));
    id v23 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v16) graphicsLockWaitQueue];
    dispatch_sync_f(v23, 0LL, (dispatch_function_t)do_nothing);
    return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 24) + 3936LL))( v5,  a2,  a3);
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v16) state] == (char *)&dword_0 + 1)
  {
    uint64_t v17 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v17)
    {
      do
        unsigned int v24 = __ldaxr(v12);
      while (__stlxr(v24 - 1, v12));
      [(id)DYGetGLGuestAppClient(v17) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 24)
                                                                                          + 3936LL))( v5,  a2,  a3);
    }
  }

  uint64_t result = wrapper_cache_vertex_attrib((char *)v11, a2, 5126, *a3, a3[1], 0.0, 1.0);
  do
  {
    signed int v19 = __ldaxr(v12);
    BOOL v20 = v19 - 1;
  }

  while (__stlxr(v20, v12));
  if (gCheckGLErrors) {
    unsigned int v21 = v20 < 1;
  }
  else {
    unsigned int v21 = 1;
  }
  if (!v21) {
    return (char *)handle_opengl_thread_conflict((const void **)v11);
  }
  return result;
}

{
  unsigned int v4;
  void *v5;
  uint64_t v6;
  unint64_t v7;
  BOOL v8;
  void *v9;
  uint64_t v10;
  uint64_t v4 = a2;
  uint64_t v5 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v5) {
    goto LABEL_12;
  }
  unint64_t v6 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    uint64_t v7 = v5[4];
    unint64_t v8 = v7 >= (unint64_t)a1;
    else {
      BOOL v9 = v5 + 1;
    }
    if (v8) {
      unint64_t v6 = (uint64_t)v5;
    }
    uint64_t v5 = (void *)*v9;
  }

  while (*v9);
  if (v6 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v6 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    unint64_t v6 = ContextInfo::activeCtxInfoMap + 8;
  unint64_t v10 = *(void *)(v6 + 40);
  (*(void (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v10 + 32) + 3936LL))(a1, a2, a3);
  return wrapper_cache_vertex_attrib((char *)v10, v4, 5126, *a3, a3[1], 0.0, 1.0);
}

char *vertex_attrib3fv(__GLIContextRec *a1, uint64_t a2, const float *a3)
{
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v23 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v22 = handle_opengl_thread_conflict((const void **)v11);
    id v23 = [(id)DYGetGLGuestAppClient(v22) waitOnGraphicsSemaphoreAssertions];
    if ((int)v23 >= 1)
    {
      do
LABEL_35:
        unsigned int v24 = __ldaxr(v12);
      while (__stlxr(v24 - 1, v12));
      signed int v25 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v23) graphicsLockWaitQueue];
      dispatch_sync_f(v25, 0LL, (dispatch_function_t)do_nothing);
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 24)
                                                                                          + 3960LL))( a1,  a2,  a3);
    }
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v23) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v21 = __ldaxr(v12);
      while (__stlxr(v21 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 24)
                                                                                          + 3960LL))( a1,  a2,  a3);
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 32) + 3960LL))(a1, a2, a3);
  ++*(void *)(v11 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v26 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v26) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v26, v11);
      }
    }
  }

  uint64_t result = wrapper_cache_vertex_attrib((char *)v11, a2, 5126, *a3, a3[1], a3[2], 1.0);
  do
  {
    unsigned int v18 = __ldaxr(v12);
    signed int v19 = v18 - 1;
  }

  while (__stlxr(v19, v12));
  if (gCheckGLErrors) {
    BOOL v20 = v19 < 1;
  }
  else {
    BOOL v20 = 1;
  }
  if (!v20) {
    return (char *)handle_opengl_thread_conflict((const void **)v11);
  }
  return result;
}

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  uint64_t v17;
  uint64_t v18;
  int64x2_t v19;
  char *result;
  unsigned int v21;
  signed int v22;
  BOOL v23;
  unsigned int v24;
  uint64_t v25;
  id v26;
  unsigned int v27;
  dispatch_queue_s *v28;
  uint64_t v29;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v26 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    signed int v25 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v26 = [(id)DYGetGLGuestAppClient(v25) waitOnGraphicsSemaphoreAssertions];
    if ((int)v26 >= 1)
    {
      do
LABEL_35:
        unsigned int v27 = __ldaxr(v12);
      while (__stlxr(v27 - 1, v12));
      uint64_t v28 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v26) graphicsLockWaitQueue];
      dispatch_sync_f(v28, 0LL, (dispatch_function_t)do_nothing);
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 24)
                                                                                          + 3960LL))( a1,  a2,  a3);
    }
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v26) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v24 = __ldaxr(v12);
      while (__stlxr(v24 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 24)
                                                                                          + 3960LL))( a1,  a2,  a3);
    }
  }

  uint64_t v17 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 32) + 3960LL))(a1, a2, a3);
  unsigned int v18 = mach_absolute_time();
  signed int v19 = vdupq_n_s64(1uLL);
  v19.i64[0] = v18 - v17;
  *(int64x2_t *)(v11 + 3696) = vaddq_s64(v19, *(int64x2_t *)(v11 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      id v29 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v29) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v29, v11);
      }
    }
  }

  uint64_t result = wrapper_cache_vertex_attrib((char *)v11, a2, 5126, *a3, a3[1], a3[2], 1.0);
  do
  {
    unsigned int v21 = __ldaxr(v12);
    uint64_t v22 = v21 - 1;
  }

  while (__stlxr(v22, v12));
  if (gCheckGLErrors) {
    id v23 = v22 < 1;
  }
  else {
    id v23 = 1;
  }
  if (!v23) {
    return (char *)handle_opengl_thread_conflict((const void **)v11);
  }
  return result;
}

{
  __GLIContextRec *v5;
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  id v17;
  char *result;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  unsigned int v22;
  dispatch_queue_s *v23;
  unsigned int v24;
  uint64_t v5 = a1;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (!v15) {
    a1 = (__GLIContextRec *)handle_opengl_thread_conflict((const void **)v11);
  }
  id v16 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  if ((int)v16 >= 1)
  {
    do
      uint64_t v22 = __ldaxr(v12);
    while (__stlxr(v22 - 1, v12));
    id v23 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v16) graphicsLockWaitQueue];
    dispatch_sync_f(v23, 0LL, (dispatch_function_t)do_nothing);
    return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 24) + 3960LL))( v5,  a2,  a3);
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v16) state] == (char *)&dword_0 + 1)
  {
    uint64_t v17 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v17)
    {
      do
        unsigned int v24 = __ldaxr(v12);
      while (__stlxr(v24 - 1, v12));
      [(id)DYGetGLGuestAppClient(v17) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 24)
                                                                                          + 3960LL))( v5,  a2,  a3);
    }
  }

  uint64_t result = wrapper_cache_vertex_attrib((char *)v11, a2, 5126, *a3, a3[1], a3[2], 1.0);
  do
  {
    signed int v19 = __ldaxr(v12);
    BOOL v20 = v19 - 1;
  }

  while (__stlxr(v20, v12));
  if (gCheckGLErrors) {
    unsigned int v21 = v20 < 1;
  }
  else {
    unsigned int v21 = 1;
  }
  if (!v21) {
    return (char *)handle_opengl_thread_conflict((const void **)v11);
  }
  return result;
}

{
  unsigned int v4;
  void *v5;
  uint64_t v6;
  unint64_t v7;
  BOOL v8;
  void *v9;
  uint64_t v10;
  uint64_t v4 = a2;
  uint64_t v5 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v5) {
    goto LABEL_12;
  }
  unint64_t v6 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    uint64_t v7 = v5[4];
    unint64_t v8 = v7 >= (unint64_t)a1;
    else {
      BOOL v9 = v5 + 1;
    }
    if (v8) {
      unint64_t v6 = (uint64_t)v5;
    }
    uint64_t v5 = (void *)*v9;
  }

  while (*v9);
  if (v6 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v6 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    unint64_t v6 = ContextInfo::activeCtxInfoMap + 8;
  unint64_t v10 = *(void *)(v6 + 40);
  (*(void (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v10 + 32) + 3960LL))(a1, a2, a3);
  return wrapper_cache_vertex_attrib((char *)v10, v4, 5126, *a3, a3[1], a3[2], 1.0);
}

char *vertex_attrib4fv(__GLIContextRec *a1, uint64_t a2, const float *a3)
{
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v23 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v22 = handle_opengl_thread_conflict((const void **)v11);
    id v23 = [(id)DYGetGLGuestAppClient(v22) waitOnGraphicsSemaphoreAssertions];
    if ((int)v23 >= 1)
    {
      do
LABEL_35:
        unsigned int v24 = __ldaxr(v12);
      while (__stlxr(v24 - 1, v12));
      signed int v25 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v23) graphicsLockWaitQueue];
      dispatch_sync_f(v25, 0LL, (dispatch_function_t)do_nothing);
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 24)
                                                                                          + 4024LL))( a1,  a2,  a3);
    }
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v23) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v21 = __ldaxr(v12);
      while (__stlxr(v21 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 24)
                                                                                          + 4024LL))( a1,  a2,  a3);
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 32) + 4024LL))(a1, a2, a3);
  ++*(void *)(v11 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v26 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v26) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v26, v11);
      }
    }
  }

  uint64_t result = wrapper_cache_vertex_attrib((char *)v11, a2, 5126, *a3, a3[1], a3[2], a3[3]);
  do
  {
    unsigned int v18 = __ldaxr(v12);
    signed int v19 = v18 - 1;
  }

  while (__stlxr(v19, v12));
  if (gCheckGLErrors) {
    BOOL v20 = v19 < 1;
  }
  else {
    BOOL v20 = 1;
  }
  if (!v20) {
    return (char *)handle_opengl_thread_conflict((const void **)v11);
  }
  return result;
}

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  uint64_t v17;
  uint64_t v18;
  int64x2_t v19;
  char *result;
  unsigned int v21;
  signed int v22;
  BOOL v23;
  unsigned int v24;
  uint64_t v25;
  id v26;
  unsigned int v27;
  dispatch_queue_s *v28;
  uint64_t v29;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v26 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    signed int v25 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v26 = [(id)DYGetGLGuestAppClient(v25) waitOnGraphicsSemaphoreAssertions];
    if ((int)v26 >= 1)
    {
      do
LABEL_35:
        unsigned int v27 = __ldaxr(v12);
      while (__stlxr(v27 - 1, v12));
      uint64_t v28 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v26) graphicsLockWaitQueue];
      dispatch_sync_f(v28, 0LL, (dispatch_function_t)do_nothing);
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 24)
                                                                                          + 4024LL))( a1,  a2,  a3);
    }
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v26) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v24 = __ldaxr(v12);
      while (__stlxr(v24 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 24)
                                                                                          + 4024LL))( a1,  a2,  a3);
    }
  }

  uint64_t v17 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 32) + 4024LL))(a1, a2, a3);
  unsigned int v18 = mach_absolute_time();
  signed int v19 = vdupq_n_s64(1uLL);
  v19.i64[0] = v18 - v17;
  *(int64x2_t *)(v11 + 3696) = vaddq_s64(v19, *(int64x2_t *)(v11 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      id v29 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v29) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v29, v11);
      }
    }
  }

  uint64_t result = wrapper_cache_vertex_attrib((char *)v11, a2, 5126, *a3, a3[1], a3[2], a3[3]);
  do
  {
    unsigned int v21 = __ldaxr(v12);
    uint64_t v22 = v21 - 1;
  }

  while (__stlxr(v22, v12));
  if (gCheckGLErrors) {
    id v23 = v22 < 1;
  }
  else {
    id v23 = 1;
  }
  if (!v23) {
    return (char *)handle_opengl_thread_conflict((const void **)v11);
  }
  return result;
}

{
  __GLIContextRec *v5;
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  id v17;
  char *result;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  unsigned int v22;
  dispatch_queue_s *v23;
  unsigned int v24;
  uint64_t v5 = a1;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (!v15) {
    a1 = (__GLIContextRec *)handle_opengl_thread_conflict((const void **)v11);
  }
  id v16 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  if ((int)v16 >= 1)
  {
    do
      uint64_t v22 = __ldaxr(v12);
    while (__stlxr(v22 - 1, v12));
    id v23 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v16) graphicsLockWaitQueue];
    dispatch_sync_f(v23, 0LL, (dispatch_function_t)do_nothing);
    return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 24) + 4024LL))( v5,  a2,  a3);
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v16) state] == (char *)&dword_0 + 1)
  {
    uint64_t v17 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v17)
    {
      do
        unsigned int v24 = __ldaxr(v12);
      while (__stlxr(v24 - 1, v12));
      [(id)DYGetGLGuestAppClient(v17) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v11 + 24)
                                                                                          + 4024LL))( v5,  a2,  a3);
    }
  }

  uint64_t result = wrapper_cache_vertex_attrib((char *)v11, a2, 5126, *a3, a3[1], a3[2], a3[3]);
  do
  {
    signed int v19 = __ldaxr(v12);
    BOOL v20 = v19 - 1;
  }

  while (__stlxr(v20, v12));
  if (gCheckGLErrors) {
    unsigned int v21 = v20 < 1;
  }
  else {
    unsigned int v21 = 1;
  }
  if (!v21) {
    return (char *)handle_opengl_thread_conflict((const void **)v11);
  }
  return result;
}

{
  unsigned int v4;
  void *v5;
  uint64_t v6;
  unint64_t v7;
  BOOL v8;
  void *v9;
  uint64_t v10;
  uint64_t v4 = a2;
  uint64_t v5 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v5) {
    goto LABEL_12;
  }
  unint64_t v6 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    uint64_t v7 = v5[4];
    unint64_t v8 = v7 >= (unint64_t)a1;
    else {
      BOOL v9 = v5 + 1;
    }
    if (v8) {
      unint64_t v6 = (uint64_t)v5;
    }
    uint64_t v5 = (void *)*v9;
  }

  while (*v9);
  if (v6 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v6 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    unint64_t v6 = ContextInfo::activeCtxInfoMap + 8;
  unint64_t v10 = *(void *)(v6 + 40);
  (*(void (**)(__GLIContextRec *, uint64_t, const float *))(*(void *)(v10 + 32) + 4024LL))(a1, a2, a3);
  return wrapper_cache_vertex_attrib((char *)v10, v4, 5126, *a3, a3[1], a3[2], a3[3]);
}

void get_vertex_attribfv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, float *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    id v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      uint64_t v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, float *))(*(void *)(v13 + 24) + 4120LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, float *))(*(void *)(v13 + 32) + 4120LL))( a1,  a2,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    unsigned int v19 = __ldaxr(v14);
    signed int v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    BOOL v21 = v20 < 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        uint64_t v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      id v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, float *))(*(void *)(v13 + 24) + 4120LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, float *))(*(void *)(v13 + 32) + 4120LL))( a1,  a2,  a3,  a4);
  signed int v20 = mach_absolute_time();
  BOOL v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      unsigned int v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    id v24 = v23 < 1;
  }
  else {
    id v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void get_vertex_attribiv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, int *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    id v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      uint64_t v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 24) + 4128LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 32) + 4128LL))(a1, a2, a3, a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    unsigned int v19 = __ldaxr(v14);
    signed int v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    BOOL v21 = v20 < 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        uint64_t v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      id v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 24) + 4128LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 32) + 4128LL))(a1, a2, a3, a4);
  signed int v20 = mach_absolute_time();
  BOOL v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      unsigned int v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    id v24 = v23 < 1;
  }
  else {
    id v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

uint64_t compile_shader_ARB(__GLIContextRec *a1, uint64_t a2)
{
  uint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    uint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  unint64_t v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    id v21 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v20 = handle_opengl_thread_conflict((const void **)v9);
    id v21 = [(id)DYGetGLGuestAppClient(v20) waitOnGraphicsSemaphoreAssertions];
    if ((int)v21 >= 1)
    {
      do
LABEL_35:
        unsigned int v22 = __ldaxr(v10);
      while (__stlxr(v22 - 1, v10));
      uint64_t v23 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v21) graphicsLockWaitQueue];
      dispatch_sync_f(v23, 0LL, (dispatch_function_t)do_nothing);
      return (*(uint64_t (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 4768LL))(a1, a2);
    }
  }

  *(_BYTE *)(v9 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v21) state] == (char *)&dword_0 + 1)
  {
    id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v14)
    {
      do
        unsigned int v19 = __ldaxr(v10);
      while (__stlxr(v19 - 1, v10));
      [(id)DYGetGLGuestAppClient(v14) triggerArmedCapture];
      return (*(uint64_t (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 4768LL))(a1, a2);
    }
  }

  wrapper_cache_shader_pre_compile((ContextInfo *)v9, a2);
  (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 32) + 4768LL))(a1, a2);
  ++*(void *)(v9 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v9);
    if (gBreakOnError)
    {
      uint64_t v24 = *(unsigned int *)(v9 + 3404);
      if ((_DWORD)v24) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v24, v9);
      }
    }
  }

  uint64_t result = wrapper_cache_shader_post_compile((ContextInfo *)v9, a2);
  do
  {
    unsigned int v16 = __ldaxr(v10);
    signed int v17 = v16 - 1;
  }

  while (__stlxr(v17, v10));
  if (gCheckGLErrors) {
    BOOL v18 = v17 < 1;
  }
  else {
    BOOL v18 = 1;
  }
  if (!v18) {
    return handle_opengl_thread_conflict((const void **)v9);
  }
  return result;
}

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  uint64_t v15;
  uint64_t v16;
  int64x2_t v17;
  uint64_t result;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  unsigned int v22;
  uint64_t v23;
  id v24;
  unsigned int v25;
  dispatch_queue_s *v26;
  uint64_t v27;
  uint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    uint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  unint64_t v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    uint64_t v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v9);
    uint64_t v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_35:
        unsigned int v25 = __ldaxr(v10);
      while (__stlxr(v25 - 1, v10));
      uint64_t v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
      return (*(uint64_t (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 4768LL))(a1, a2);
    }
  }

  *(_BYTE *)(v9 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v14)
    {
      do
        unsigned int v22 = __ldaxr(v10);
      while (__stlxr(v22 - 1, v10));
      [(id)DYGetGLGuestAppClient(v14) triggerArmedCapture];
      return (*(uint64_t (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 4768LL))(a1, a2);
    }
  }

  wrapper_cache_shader_pre_compile((ContextInfo *)v9, a2);
  unsigned int v15 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 32) + 4768LL))(a1, a2);
  unsigned int v16 = mach_absolute_time();
  signed int v17 = vdupq_n_s64(1uLL);
  v17.i64[0] = v16 - v15;
  *(int64x2_t *)(v9 + 3696) = vaddq_s64(v17, *(int64x2_t *)(v9 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v9);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v9 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v9);
      }
    }
  }

  uint64_t result = wrapper_cache_shader_post_compile((ContextInfo *)v9, a2);
  do
  {
    unsigned int v19 = __ldaxr(v10);
    uint64_t v20 = v19 - 1;
  }

  while (__stlxr(v20, v10));
  if (gCheckGLErrors) {
    id v21 = v20 < 1;
  }
  else {
    id v21 = 1;
  }
  if (!v21) {
    return handle_opengl_thread_conflict((const void **)v9);
  }
  return result;
}

{
  __GLIContextRec *v3;
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  id v15;
  uint64_t result;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  unsigned int v20;
  dispatch_queue_s *v21;
  unsigned int v22;
  uint64_t v3 = a1;
  uint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    uint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  unint64_t v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (!v13) {
    a1 = (__GLIContextRec *)handle_opengl_thread_conflict((const void **)v9);
  }
  id v14 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  if ((int)v14 >= 1)
  {
    do
      uint64_t v20 = __ldaxr(v10);
    while (__stlxr(v20 - 1, v10));
    id v21 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v14) graphicsLockWaitQueue];
    dispatch_sync_f(v21, 0LL, (dispatch_function_t)do_nothing);
    return (*(uint64_t (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 4768LL))(v3, a2);
  }

  *(_BYTE *)(v9 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v14) state] == (char *)&dword_0 + 1)
  {
    unsigned int v15 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v15)
    {
      do
        unsigned int v22 = __ldaxr(v10);
      while (__stlxr(v22 - 1, v10));
      [(id)DYGetGLGuestAppClient(v15) triggerArmedCapture];
      return (*(uint64_t (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 4768LL))(v3, a2);
    }
  }

  wrapper_cache_shader_pre_compile((ContextInfo *)v9, a2);
  uint64_t result = wrapper_cache_shader_post_compile((ContextInfo *)v9, a2);
  do
  {
    signed int v17 = __ldaxr(v10);
    BOOL v18 = v17 - 1;
  }

  while (__stlxr(v18, v10));
  if (gCheckGLErrors) {
    unsigned int v19 = v18 < 1;
  }
  else {
    unsigned int v19 = 1;
  }
  if (!v19) {
    return handle_opengl_thread_conflict((const void **)v9);
  }
  return result;
}

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  ContextInfo *v9;
  uint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    uint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(ContextInfo **)(v5 + 40);
  wrapper_cache_shader_pre_compile(v9, a2);
  (*(void (**)(__GLIContextRec *, uint64_t))(*((void *)v9 + 4) + 4768LL))(a1, a2);
  return wrapper_cache_shader_post_compile(v9, a2);
}

void uniform4i(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  signed int v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      unsigned int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    signed int v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  BOOL v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    id v29 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v28 = handle_opengl_thread_conflict((const void **)v17);
    id v29 = [(id)DYGetGLGuestAppClient(v28) waitOnGraphicsSemaphoreAssertions];
    if ((int)v29 >= 1)
    {
      do
LABEL_34:
        unsigned int v30 = __ldaxr(v18);
      while (__stlxr(v30 - 1, v18));
      unsigned int v31 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v29) graphicsLockWaitQueue];
      dispatch_sync_f(v31, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24)
                                                                                             + 4872LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v29) state] == (char *)&dword_0 + 1)
  {
    id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v22)
    {
      do
        unsigned int v27 = __ldaxr(v18);
      while (__stlxr(v27 - 1, v18));
      [(id)DYGetGLGuestAppClient(v22) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v23 = wrapper_map_uniform_loc((ContextInfo *)v17, (volatile int *)*(unsigned int *)(v17 + 2068), a2);
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 32) + 4872LL))( a1,  v23,  a3,  a4,  a5,  a6);
  ++*(void *)(v17 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v17);
    if (gBreakOnError)
    {
      uint64_t v32 = *(unsigned int *)(v17 + 3404);
      if ((_DWORD)v32) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v32, v17);
      }
    }
  }

  do
  {
    unsigned int v24 = __ldaxr(v18);
    signed int v25 = v24 - 1;
  }

  while (__stlxr(v25, v18));
  if (gCheckGLErrors) {
    BOOL v26 = v25 < 1;
  }
  else {
    BOOL v26 = 1;
  }
  if (!v26) {
    handle_opengl_thread_conflict((const void **)v17);
  }
}

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  id v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  int64x2_t v26;
  unsigned int v27;
  signed int v28;
  BOOL v29;
  unsigned int v30;
  uint64_t v31;
  id v32;
  unsigned int v33;
  dispatch_queue_s *v34;
  uint64_t v35;
  signed int v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      unsigned int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    signed int v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  BOOL v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    uint64_t v32 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unsigned int v31 = handle_opengl_thread_conflict((const void **)v17);
    uint64_t v32 = [(id)DYGetGLGuestAppClient(v31) waitOnGraphicsSemaphoreAssertions];
    if ((int)v32 >= 1)
    {
      do
LABEL_34:
        uint64_t v33 = __ldaxr(v18);
      while (__stlxr(v33 - 1, v18));
      BOOL v34 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v32) graphicsLockWaitQueue];
      dispatch_sync_f(v34, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24)
                                                                                             + 4872LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v32) state] == (char *)&dword_0 + 1)
  {
    id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v22)
    {
      do
        unsigned int v30 = __ldaxr(v18);
      while (__stlxr(v30 - 1, v18));
      [(id)DYGetGLGuestAppClient(v22) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v23 = wrapper_map_uniform_loc((ContextInfo *)v17, (volatile int *)*(unsigned int *)(v17 + 2068), a2);
  unsigned int v24 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 32) + 4872LL))( a1,  v23,  a3,  a4,  a5,  a6);
  signed int v25 = mach_absolute_time();
  BOOL v26 = vdupq_n_s64(1uLL);
  v26.i64[0] = v25 - v24;
  *(int64x2_t *)(v17 + 3696) = vaddq_s64(v26, *(int64x2_t *)(v17 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v17);
    if (gBreakOnError)
    {
      unsigned int v35 = *(unsigned int *)(v17 + 3404);
      if ((_DWORD)v35) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v35, v17);
      }
    }
  }

  do
  {
    unsigned int v27 = __ldaxr(v18);
    uint64_t v28 = v27 - 1;
  }

  while (__stlxr(v28, v18));
  if (gCheckGLErrors) {
    id v29 = v28 < 1;
  }
  else {
    id v29 = 1;
  }
  if (!v29) {
    handle_opengl_thread_conflict((const void **)v17);
  }
}

void uniform1fv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, const float *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v24 = handle_opengl_thread_conflict((const void **)v13);
    id v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        unsigned int v26 = __ldaxr(v14);
      while (__stlxr(v26 - 1, v14));
      unsigned int v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 24) + 4880LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v23 = __ldaxr(v14);
      while (__stlxr(v23 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v19 = wrapper_map_uniform_loc((ContextInfo *)v13, (volatile int *)*(unsigned int *)(v13 + 2068), a2);
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 32) + 4880LL))( a1,  v19,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v28 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v13);
      }
    }
  }

  do
  {
    unsigned int v20 = __ldaxr(v14);
    signed int v21 = v20 - 1;
  }

  while (__stlxr(v21, v14));
  if (gCheckGLErrors) {
    BOOL v22 = v21 < 1;
  }
  else {
    BOOL v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  int64x2_t v22;
  unsigned int v23;
  signed int v24;
  BOOL v25;
  unsigned int v26;
  uint64_t v27;
  id v28;
  unsigned int v29;
  dispatch_queue_s *v30;
  uint64_t v31;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v28 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unsigned int v27 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v28 = [(id)DYGetGLGuestAppClient(v27) waitOnGraphicsSemaphoreAssertions];
    if ((int)v28 >= 1)
    {
      do
LABEL_34:
        id v29 = __ldaxr(v14);
      while (__stlxr(v29 - 1, v14));
      unsigned int v30 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v28) graphicsLockWaitQueue];
      dispatch_sync_f(v30, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 24) + 4880LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v28) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v26 = __ldaxr(v14);
      while (__stlxr(v26 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v19 = wrapper_map_uniform_loc((ContextInfo *)v13, (volatile int *)*(unsigned int *)(v13 + 2068), a2);
  unsigned int v20 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 32) + 4880LL))( a1,  v19,  a3,  a4);
  signed int v21 = mach_absolute_time();
  BOOL v22 = vdupq_n_s64(1uLL);
  v22.i64[0] = v21 - v20;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v22, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      unsigned int v31 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v31) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v31, v13);
      }
    }
  }

  do
  {
    unsigned int v23 = __ldaxr(v14);
    uint64_t v24 = v23 - 1;
  }

  while (__stlxr(v24, v14));
  if (gCheckGLErrors) {
    id v25 = v24 < 1;
  }
  else {
    id v25 = 1;
  }
  if (!v25) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void uniform2fv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, const float *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v24 = handle_opengl_thread_conflict((const void **)v13);
    id v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        unsigned int v26 = __ldaxr(v14);
      while (__stlxr(v26 - 1, v14));
      unsigned int v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 24) + 4888LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v23 = __ldaxr(v14);
      while (__stlxr(v23 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v19 = wrapper_map_uniform_loc((ContextInfo *)v13, (volatile int *)*(unsigned int *)(v13 + 2068), a2);
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 32) + 4888LL))( a1,  v19,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v28 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v13);
      }
    }
  }

  do
  {
    unsigned int v20 = __ldaxr(v14);
    signed int v21 = v20 - 1;
  }

  while (__stlxr(v21, v14));
  if (gCheckGLErrors) {
    BOOL v22 = v21 < 1;
  }
  else {
    BOOL v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  int64x2_t v22;
  unsigned int v23;
  signed int v24;
  BOOL v25;
  unsigned int v26;
  uint64_t v27;
  id v28;
  unsigned int v29;
  dispatch_queue_s *v30;
  uint64_t v31;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v28 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unsigned int v27 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v28 = [(id)DYGetGLGuestAppClient(v27) waitOnGraphicsSemaphoreAssertions];
    if ((int)v28 >= 1)
    {
      do
LABEL_34:
        id v29 = __ldaxr(v14);
      while (__stlxr(v29 - 1, v14));
      unsigned int v30 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v28) graphicsLockWaitQueue];
      dispatch_sync_f(v30, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 24) + 4888LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v28) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v26 = __ldaxr(v14);
      while (__stlxr(v26 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v19 = wrapper_map_uniform_loc((ContextInfo *)v13, (volatile int *)*(unsigned int *)(v13 + 2068), a2);
  unsigned int v20 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 32) + 4888LL))( a1,  v19,  a3,  a4);
  signed int v21 = mach_absolute_time();
  BOOL v22 = vdupq_n_s64(1uLL);
  v22.i64[0] = v21 - v20;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v22, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      unsigned int v31 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v31) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v31, v13);
      }
    }
  }

  do
  {
    unsigned int v23 = __ldaxr(v14);
    uint64_t v24 = v23 - 1;
  }

  while (__stlxr(v24, v14));
  if (gCheckGLErrors) {
    id v25 = v24 < 1;
  }
  else {
    id v25 = 1;
  }
  if (!v25) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void uniform3fv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, const float *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v24 = handle_opengl_thread_conflict((const void **)v13);
    id v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        unsigned int v26 = __ldaxr(v14);
      while (__stlxr(v26 - 1, v14));
      unsigned int v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 24) + 4896LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v23 = __ldaxr(v14);
      while (__stlxr(v23 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v19 = wrapper_map_uniform_loc((ContextInfo *)v13, (volatile int *)*(unsigned int *)(v13 + 2068), a2);
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 32) + 4896LL))( a1,  v19,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v28 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v13);
      }
    }
  }

  do
  {
    unsigned int v20 = __ldaxr(v14);
    signed int v21 = v20 - 1;
  }

  while (__stlxr(v21, v14));
  if (gCheckGLErrors) {
    BOOL v22 = v21 < 1;
  }
  else {
    BOOL v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  int64x2_t v22;
  unsigned int v23;
  signed int v24;
  BOOL v25;
  unsigned int v26;
  uint64_t v27;
  id v28;
  unsigned int v29;
  dispatch_queue_s *v30;
  uint64_t v31;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v28 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unsigned int v27 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v28 = [(id)DYGetGLGuestAppClient(v27) waitOnGraphicsSemaphoreAssertions];
    if ((int)v28 >= 1)
    {
      do
LABEL_34:
        id v29 = __ldaxr(v14);
      while (__stlxr(v29 - 1, v14));
      unsigned int v30 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v28) graphicsLockWaitQueue];
      dispatch_sync_f(v30, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 24) + 4896LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v28) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v26 = __ldaxr(v14);
      while (__stlxr(v26 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v19 = wrapper_map_uniform_loc((ContextInfo *)v13, (volatile int *)*(unsigned int *)(v13 + 2068), a2);
  unsigned int v20 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 32) + 4896LL))( a1,  v19,  a3,  a4);
  signed int v21 = mach_absolute_time();
  BOOL v22 = vdupq_n_s64(1uLL);
  v22.i64[0] = v21 - v20;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v22, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      unsigned int v31 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v31) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v31, v13);
      }
    }
  }

  do
  {
    unsigned int v23 = __ldaxr(v14);
    uint64_t v24 = v23 - 1;
  }

  while (__stlxr(v24, v14));
  if (gCheckGLErrors) {
    id v25 = v24 < 1;
  }
  else {
    id v25 = 1;
  }
  if (!v25) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void uniform4fv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, const float *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v24 = handle_opengl_thread_conflict((const void **)v13);
    id v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        unsigned int v26 = __ldaxr(v14);
      while (__stlxr(v26 - 1, v14));
      unsigned int v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 24) + 4904LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v23 = __ldaxr(v14);
      while (__stlxr(v23 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v19 = wrapper_map_uniform_loc((ContextInfo *)v13, (volatile int *)*(unsigned int *)(v13 + 2068), a2);
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 32) + 4904LL))( a1,  v19,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v28 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v13);
      }
    }
  }

  do
  {
    unsigned int v20 = __ldaxr(v14);
    signed int v21 = v20 - 1;
  }

  while (__stlxr(v21, v14));
  if (gCheckGLErrors) {
    BOOL v22 = v21 < 1;
  }
  else {
    BOOL v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  int64x2_t v22;
  unsigned int v23;
  signed int v24;
  BOOL v25;
  unsigned int v26;
  uint64_t v27;
  id v28;
  unsigned int v29;
  dispatch_queue_s *v30;
  uint64_t v31;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v28 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unsigned int v27 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v28 = [(id)DYGetGLGuestAppClient(v27) waitOnGraphicsSemaphoreAssertions];
    if ((int)v28 >= 1)
    {
      do
LABEL_34:
        id v29 = __ldaxr(v14);
      while (__stlxr(v29 - 1, v14));
      unsigned int v30 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v28) graphicsLockWaitQueue];
      dispatch_sync_f(v30, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 24) + 4904LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v28) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v26 = __ldaxr(v14);
      while (__stlxr(v26 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v19 = wrapper_map_uniform_loc((ContextInfo *)v13, (volatile int *)*(unsigned int *)(v13 + 2068), a2);
  unsigned int v20 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 32) + 4904LL))( a1,  v19,  a3,  a4);
  signed int v21 = mach_absolute_time();
  BOOL v22 = vdupq_n_s64(1uLL);
  v22.i64[0] = v21 - v20;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v22, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      unsigned int v31 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v31) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v31, v13);
      }
    }
  }

  do
  {
    unsigned int v23 = __ldaxr(v14);
    uint64_t v24 = v23 - 1;
  }

  while (__stlxr(v24, v14));
  if (gCheckGLErrors) {
    id v25 = v24 < 1;
  }
  else {
    id v25 = 1;
  }
  if (!v25) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void uniform1iv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, const int *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v24 = handle_opengl_thread_conflict((const void **)v13);
    id v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        unsigned int v26 = __ldaxr(v14);
      while (__stlxr(v26 - 1, v14));
      unsigned int v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 24) + 4912LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v23 = __ldaxr(v14);
      while (__stlxr(v23 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v19 = wrapper_map_uniform_loc((ContextInfo *)v13, (volatile int *)*(unsigned int *)(v13 + 2068), a2);
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 32) + 4912LL))( a1,  v19,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v28 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v13);
      }
    }
  }

  do
  {
    unsigned int v20 = __ldaxr(v14);
    signed int v21 = v20 - 1;
  }

  while (__stlxr(v21, v14));
  if (gCheckGLErrors) {
    BOOL v22 = v21 < 1;
  }
  else {
    BOOL v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  int64x2_t v22;
  unsigned int v23;
  signed int v24;
  BOOL v25;
  unsigned int v26;
  uint64_t v27;
  id v28;
  unsigned int v29;
  dispatch_queue_s *v30;
  uint64_t v31;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v28 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unsigned int v27 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v28 = [(id)DYGetGLGuestAppClient(v27) waitOnGraphicsSemaphoreAssertions];
    if ((int)v28 >= 1)
    {
      do
LABEL_34:
        id v29 = __ldaxr(v14);
      while (__stlxr(v29 - 1, v14));
      unsigned int v30 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v28) graphicsLockWaitQueue];
      dispatch_sync_f(v30, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 24) + 4912LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v28) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v26 = __ldaxr(v14);
      while (__stlxr(v26 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v19 = wrapper_map_uniform_loc((ContextInfo *)v13, (volatile int *)*(unsigned int *)(v13 + 2068), a2);
  unsigned int v20 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 32) + 4912LL))( a1,  v19,  a3,  a4);
  signed int v21 = mach_absolute_time();
  BOOL v22 = vdupq_n_s64(1uLL);
  v22.i64[0] = v21 - v20;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v22, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      unsigned int v31 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v31) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v31, v13);
      }
    }
  }

  do
  {
    unsigned int v23 = __ldaxr(v14);
    uint64_t v24 = v23 - 1;
  }

  while (__stlxr(v24, v14));
  if (gCheckGLErrors) {
    id v25 = v24 < 1;
  }
  else {
    id v25 = 1;
  }
  if (!v25) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void uniform2iv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, const int *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v24 = handle_opengl_thread_conflict((const void **)v13);
    id v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        unsigned int v26 = __ldaxr(v14);
      while (__stlxr(v26 - 1, v14));
      unsigned int v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 24) + 4920LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v23 = __ldaxr(v14);
      while (__stlxr(v23 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v19 = wrapper_map_uniform_loc((ContextInfo *)v13, (volatile int *)*(unsigned int *)(v13 + 2068), a2);
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 32) + 4920LL))( a1,  v19,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v28 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v13);
      }
    }
  }

  do
  {
    unsigned int v20 = __ldaxr(v14);
    signed int v21 = v20 - 1;
  }

  while (__stlxr(v21, v14));
  if (gCheckGLErrors) {
    BOOL v22 = v21 < 1;
  }
  else {
    BOOL v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  int64x2_t v22;
  unsigned int v23;
  signed int v24;
  BOOL v25;
  unsigned int v26;
  uint64_t v27;
  id v28;
  unsigned int v29;
  dispatch_queue_s *v30;
  uint64_t v31;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v28 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unsigned int v27 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v28 = [(id)DYGetGLGuestAppClient(v27) waitOnGraphicsSemaphoreAssertions];
    if ((int)v28 >= 1)
    {
      do
LABEL_34:
        id v29 = __ldaxr(v14);
      while (__stlxr(v29 - 1, v14));
      unsigned int v30 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v28) graphicsLockWaitQueue];
      dispatch_sync_f(v30, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 24) + 4920LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v28) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v26 = __ldaxr(v14);
      while (__stlxr(v26 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v19 = wrapper_map_uniform_loc((ContextInfo *)v13, (volatile int *)*(unsigned int *)(v13 + 2068), a2);
  unsigned int v20 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 32) + 4920LL))( a1,  v19,  a3,  a4);
  signed int v21 = mach_absolute_time();
  BOOL v22 = vdupq_n_s64(1uLL);
  v22.i64[0] = v21 - v20;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v22, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      unsigned int v31 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v31) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v31, v13);
      }
    }
  }

  do
  {
    unsigned int v23 = __ldaxr(v14);
    uint64_t v24 = v23 - 1;
  }

  while (__stlxr(v24, v14));
  if (gCheckGLErrors) {
    id v25 = v24 < 1;
  }
  else {
    id v25 = 1;
  }
  if (!v25) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void uniform3iv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, const int *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v24 = handle_opengl_thread_conflict((const void **)v13);
    id v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        unsigned int v26 = __ldaxr(v14);
      while (__stlxr(v26 - 1, v14));
      unsigned int v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 24) + 4928LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v23 = __ldaxr(v14);
      while (__stlxr(v23 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v19 = wrapper_map_uniform_loc((ContextInfo *)v13, (volatile int *)*(unsigned int *)(v13 + 2068), a2);
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 32) + 4928LL))( a1,  v19,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v28 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v13);
      }
    }
  }

  do
  {
    unsigned int v20 = __ldaxr(v14);
    signed int v21 = v20 - 1;
  }

  while (__stlxr(v21, v14));
  if (gCheckGLErrors) {
    BOOL v22 = v21 < 1;
  }
  else {
    BOOL v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  int64x2_t v22;
  unsigned int v23;
  signed int v24;
  BOOL v25;
  unsigned int v26;
  uint64_t v27;
  id v28;
  unsigned int v29;
  dispatch_queue_s *v30;
  uint64_t v31;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v28 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unsigned int v27 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v28 = [(id)DYGetGLGuestAppClient(v27) waitOnGraphicsSemaphoreAssertions];
    if ((int)v28 >= 1)
    {
      do
LABEL_34:
        id v29 = __ldaxr(v14);
      while (__stlxr(v29 - 1, v14));
      unsigned int v30 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v28) graphicsLockWaitQueue];
      dispatch_sync_f(v30, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 24) + 4928LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v28) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v26 = __ldaxr(v14);
      while (__stlxr(v26 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v19 = wrapper_map_uniform_loc((ContextInfo *)v13, (volatile int *)*(unsigned int *)(v13 + 2068), a2);
  unsigned int v20 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 32) + 4928LL))( a1,  v19,  a3,  a4);
  signed int v21 = mach_absolute_time();
  BOOL v22 = vdupq_n_s64(1uLL);
  v22.i64[0] = v21 - v20;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v22, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      unsigned int v31 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v31) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v31, v13);
      }
    }
  }

  do
  {
    unsigned int v23 = __ldaxr(v14);
    uint64_t v24 = v23 - 1;
  }

  while (__stlxr(v24, v14));
  if (gCheckGLErrors) {
    id v25 = v24 < 1;
  }
  else {
    id v25 = 1;
  }
  if (!v25) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void uniform4iv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, const int *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v24 = handle_opengl_thread_conflict((const void **)v13);
    id v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        unsigned int v26 = __ldaxr(v14);
      while (__stlxr(v26 - 1, v14));
      unsigned int v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 24) + 4936LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v23 = __ldaxr(v14);
      while (__stlxr(v23 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v19 = wrapper_map_uniform_loc((ContextInfo *)v13, (volatile int *)*(unsigned int *)(v13 + 2068), a2);
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 32) + 4936LL))( a1,  v19,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v28 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v13);
      }
    }
  }

  do
  {
    unsigned int v20 = __ldaxr(v14);
    signed int v21 = v20 - 1;
  }

  while (__stlxr(v21, v14));
  if (gCheckGLErrors) {
    BOOL v22 = v21 < 1;
  }
  else {
    BOOL v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  int64x2_t v22;
  unsigned int v23;
  signed int v24;
  BOOL v25;
  unsigned int v26;
  uint64_t v27;
  id v28;
  unsigned int v29;
  dispatch_queue_s *v30;
  uint64_t v31;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      signed int v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v28 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unsigned int v27 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v28 = [(id)DYGetGLGuestAppClient(v27) waitOnGraphicsSemaphoreAssertions];
    if ((int)v28 >= 1)
    {
      do
LABEL_34:
        id v29 = __ldaxr(v14);
      while (__stlxr(v29 - 1, v14));
      unsigned int v30 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v28) graphicsLockWaitQueue];
      dispatch_sync_f(v30, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 24) + 4936LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v28) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v26 = __ldaxr(v14);
      while (__stlxr(v26 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v19 = wrapper_map_uniform_loc((ContextInfo *)v13, (volatile int *)*(unsigned int *)(v13 + 2068), a2);
  unsigned int v20 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 32) + 4936LL))( a1,  v19,  a3,  a4);
  signed int v21 = mach_absolute_time();
  BOOL v22 = vdupq_n_s64(1uLL);
  v22.i64[0] = v21 - v20;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v22, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      unsigned int v31 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v31) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v31, v13);
      }
    }
  }

  do
  {
    unsigned int v23 = __ldaxr(v14);
    uint64_t v24 = v23 - 1;
  }

  while (__stlxr(v24, v14));
  if (gCheckGLErrors) {
    id v25 = v24 < 1;
  }
  else {
    id v25 = 1;
  }
  if (!v25) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void uniform_matrix2fv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, const float *a5)
{
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      unint64_t v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  signed int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    id v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v26 = handle_opengl_thread_conflict((const void **)v15);
    id v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        unsigned int v28 = __ldaxr(v16);
      while (__stlxr(v28 - 1, v16));
      id v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 24)
                                                                                          + 4944LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        unsigned int v25 = __ldaxr(v16);
      while (__stlxr(v25 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v21 = wrapper_map_uniform_loc((ContextInfo *)v15, (volatile int *)*(unsigned int *)(v15 + 2068), a2);
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 32) + 4944LL))( a1,  v21,  a3,  a4,  a5);
  ++*(void *)(v15 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v30 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v15);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v16);
    signed int v23 = v22 - 1;
  }

  while (__stlxr(v23, v16));
  if (gCheckGLErrors) {
    BOOL v24 = v23 < 1;
  }
  else {
    BOOL v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  id v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  int64x2_t v24;
  unsigned int v25;
  signed int v26;
  BOOL v27;
  unsigned int v28;
  uint64_t v29;
  id v30;
  unsigned int v31;
  dispatch_queue_s *v32;
  uint64_t v33;
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      unint64_t v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  signed int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    uint64_t v30 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    id v29 = handle_opengl_thread_conflict((const void **)v15);
    uint64_t v30 = [(id)DYGetGLGuestAppClient(v29) waitOnGraphicsSemaphoreAssertions];
    if ((int)v30 >= 1)
    {
      do
LABEL_34:
        unsigned int v31 = __ldaxr(v16);
      while (__stlxr(v31 - 1, v16));
      uint64_t v32 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v30) graphicsLockWaitQueue];
      dispatch_sync_f(v32, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 24)
                                                                                          + 4944LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v30) state] == (char *)&dword_0 + 1)
  {
    id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        unsigned int v28 = __ldaxr(v16);
      while (__stlxr(v28 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v21 = wrapper_map_uniform_loc((ContextInfo *)v15, (volatile int *)*(unsigned int *)(v15 + 2068), a2);
  unsigned int v22 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 32) + 4944LL))( a1,  v21,  a3,  a4,  a5);
  signed int v23 = mach_absolute_time();
  BOOL v24 = vdupq_n_s64(1uLL);
  v24.i64[0] = v23 - v22;
  *(int64x2_t *)(v15 + 3696) = vaddq_s64(v24, *(int64x2_t *)(v15 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v33 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v33) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v33, v15);
      }
    }
  }

  do
  {
    unsigned int v25 = __ldaxr(v16);
    uint64_t v26 = v25 - 1;
  }

  while (__stlxr(v26, v16));
  if (gCheckGLErrors) {
    id v27 = v26 < 1;
  }
  else {
    id v27 = 1;
  }
  if (!v27) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

void uniform_matrix3fv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, const float *a5)
{
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      unint64_t v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  signed int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    id v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v26 = handle_opengl_thread_conflict((const void **)v15);
    id v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        unsigned int v28 = __ldaxr(v16);
      while (__stlxr(v28 - 1, v16));
      id v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 24)
                                                                                          + 4952LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        unsigned int v25 = __ldaxr(v16);
      while (__stlxr(v25 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v21 = wrapper_map_uniform_loc((ContextInfo *)v15, (volatile int *)*(unsigned int *)(v15 + 2068), a2);
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 32) + 4952LL))( a1,  v21,  a3,  a4,  a5);
  ++*(void *)(v15 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v30 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v15);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v16);
    signed int v23 = v22 - 1;
  }

  while (__stlxr(v23, v16));
  if (gCheckGLErrors) {
    BOOL v24 = v23 < 1;
  }
  else {
    BOOL v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  id v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  int64x2_t v24;
  unsigned int v25;
  signed int v26;
  BOOL v27;
  unsigned int v28;
  uint64_t v29;
  id v30;
  unsigned int v31;
  dispatch_queue_s *v32;
  uint64_t v33;
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      unint64_t v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  signed int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    uint64_t v30 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    id v29 = handle_opengl_thread_conflict((const void **)v15);
    uint64_t v30 = [(id)DYGetGLGuestAppClient(v29) waitOnGraphicsSemaphoreAssertions];
    if ((int)v30 >= 1)
    {
      do
LABEL_34:
        unsigned int v31 = __ldaxr(v16);
      while (__stlxr(v31 - 1, v16));
      uint64_t v32 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v30) graphicsLockWaitQueue];
      dispatch_sync_f(v32, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 24)
                                                                                          + 4952LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v30) state] == (char *)&dword_0 + 1)
  {
    id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        unsigned int v28 = __ldaxr(v16);
      while (__stlxr(v28 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v21 = wrapper_map_uniform_loc((ContextInfo *)v15, (volatile int *)*(unsigned int *)(v15 + 2068), a2);
  unsigned int v22 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 32) + 4952LL))( a1,  v21,  a3,  a4,  a5);
  signed int v23 = mach_absolute_time();
  BOOL v24 = vdupq_n_s64(1uLL);
  v24.i64[0] = v23 - v22;
  *(int64x2_t *)(v15 + 3696) = vaddq_s64(v24, *(int64x2_t *)(v15 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v33 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v33) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v33, v15);
      }
    }
  }

  do
  {
    unsigned int v25 = __ldaxr(v16);
    uint64_t v26 = v25 - 1;
  }

  while (__stlxr(v26, v16));
  if (gCheckGLErrors) {
    id v27 = v26 < 1;
  }
  else {
    id v27 = 1;
  }
  if (!v27) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

void uniform_matrix4fv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, const float *a5)
{
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      unint64_t v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  signed int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    id v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v26 = handle_opengl_thread_conflict((const void **)v15);
    id v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        unsigned int v28 = __ldaxr(v16);
      while (__stlxr(v28 - 1, v16));
      id v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 24)
                                                                                          + 4960LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        unsigned int v25 = __ldaxr(v16);
      while (__stlxr(v25 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v21 = wrapper_map_uniform_loc((ContextInfo *)v15, (volatile int *)*(unsigned int *)(v15 + 2068), a2);
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 32) + 4960LL))( a1,  v21,  a3,  a4,  a5);
  ++*(void *)(v15 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v30 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v15);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v16);
    signed int v23 = v22 - 1;
  }

  while (__stlxr(v23, v16));
  if (gCheckGLErrors) {
    BOOL v24 = v23 < 1;
  }
  else {
    BOOL v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  id v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  int64x2_t v24;
  unsigned int v25;
  signed int v26;
  BOOL v27;
  unsigned int v28;
  uint64_t v29;
  id v30;
  unsigned int v31;
  dispatch_queue_s *v32;
  uint64_t v33;
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      unint64_t v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  signed int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    uint64_t v30 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    id v29 = handle_opengl_thread_conflict((const void **)v15);
    uint64_t v30 = [(id)DYGetGLGuestAppClient(v29) waitOnGraphicsSemaphoreAssertions];
    if ((int)v30 >= 1)
    {
      do
LABEL_34:
        unsigned int v31 = __ldaxr(v16);
      while (__stlxr(v31 - 1, v16));
      uint64_t v32 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v30) graphicsLockWaitQueue];
      dispatch_sync_f(v32, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 24)
                                                                                          + 4960LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v30) state] == (char *)&dword_0 + 1)
  {
    id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        unsigned int v28 = __ldaxr(v16);
      while (__stlxr(v28 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v21 = wrapper_map_uniform_loc((ContextInfo *)v15, (volatile int *)*(unsigned int *)(v15 + 2068), a2);
  unsigned int v22 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 32) + 4960LL))( a1,  v21,  a3,  a4,  a5);
  signed int v23 = mach_absolute_time();
  BOOL v24 = vdupq_n_s64(1uLL);
  v24.i64[0] = v23 - v22;
  *(int64x2_t *)(v15 + 3696) = vaddq_s64(v24, *(int64x2_t *)(v15 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v33 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v33) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v33, v15);
      }
    }
  }

  do
  {
    unsigned int v25 = __ldaxr(v16);
    uint64_t v26 = v25 - 1;
  }

  while (__stlxr(v26, v16));
  if (gCheckGLErrors) {
    id v27 = v26 < 1;
  }
  else {
    id v27 = 1;
  }
  if (!v27) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

void get_uniformfv_ARB(__GLIContextRec *a1, volatile int *a2, uint64_t a3, float *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v24 = handle_opengl_thread_conflict((const void **)v13);
    id v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        unsigned int v26 = __ldaxr(v14);
      while (__stlxr(v26 - 1, v14));
      id v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, float *))(*(void *)(v13 + 24) + 5016LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v23 = __ldaxr(v14);
      while (__stlxr(v23 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v19 = wrapper_map_uniform_loc((ContextInfo *)v13, a2, a3);
  (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, float *))(*(void *)(v13 + 32) + 5016LL))( a1,  a2,  v19,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v28 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v13);
      }
    }
  }

  do
  {
    unsigned int v20 = __ldaxr(v14);
    signed int v21 = v20 - 1;
  }

  while (__stlxr(v21, v14));
  if (gCheckGLErrors) {
    BOOL v22 = v21 < 1;
  }
  else {
    BOOL v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  int64x2_t v22;
  unsigned int v23;
  signed int v24;
  BOOL v25;
  unsigned int v26;
  uint64_t v27;
  id v28;
  unsigned int v29;
  dispatch_queue_s *v30;
  uint64_t v31;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v28 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    id v27 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v28 = [(id)DYGetGLGuestAppClient(v27) waitOnGraphicsSemaphoreAssertions];
    if ((int)v28 >= 1)
    {
      do
LABEL_34:
        id v29 = __ldaxr(v14);
      while (__stlxr(v29 - 1, v14));
      uint64_t v30 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v28) graphicsLockWaitQueue];
      dispatch_sync_f(v30, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, float *))(*(void *)(v13 + 24) + 5016LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v28) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v26 = __ldaxr(v14);
      while (__stlxr(v26 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v19 = wrapper_map_uniform_loc((ContextInfo *)v13, a2, a3);
  unsigned int v20 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, float *))(*(void *)(v13 + 32) + 5016LL))( a1,  a2,  v19,  a4);
  signed int v21 = mach_absolute_time();
  BOOL v22 = vdupq_n_s64(1uLL);
  v22.i64[0] = v21 - v20;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v22, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      unsigned int v31 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v31) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v31, v13);
      }
    }
  }

  do
  {
    unsigned int v23 = __ldaxr(v14);
    uint64_t v24 = v23 - 1;
  }

  while (__stlxr(v24, v14));
  if (gCheckGLErrors) {
    id v25 = v24 < 1;
  }
  else {
    id v25 = 1;
  }
  if (!v25) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void get_uniformiv_ARB(__GLIContextRec *a1, volatile int *a2, uint64_t a3, int *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v24 = handle_opengl_thread_conflict((const void **)v13);
    id v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        unsigned int v26 = __ldaxr(v14);
      while (__stlxr(v26 - 1, v14));
      id v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, int *))(*(void *)(v13 + 24) + 5024LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v23 = __ldaxr(v14);
      while (__stlxr(v23 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v19 = wrapper_map_uniform_loc((ContextInfo *)v13, a2, a3);
  (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, int *))(*(void *)(v13 + 32) + 5024LL))( a1,  a2,  v19,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v28 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v13);
      }
    }
  }

  do
  {
    unsigned int v20 = __ldaxr(v14);
    signed int v21 = v20 - 1;
  }

  while (__stlxr(v21, v14));
  if (gCheckGLErrors) {
    BOOL v22 = v21 < 1;
  }
  else {
    BOOL v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  int64x2_t v22;
  unsigned int v23;
  signed int v24;
  BOOL v25;
  unsigned int v26;
  uint64_t v27;
  id v28;
  unsigned int v29;
  dispatch_queue_s *v30;
  uint64_t v31;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v28 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    id v27 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v28 = [(id)DYGetGLGuestAppClient(v27) waitOnGraphicsSemaphoreAssertions];
    if ((int)v28 >= 1)
    {
      do
LABEL_34:
        id v29 = __ldaxr(v14);
      while (__stlxr(v29 - 1, v14));
      uint64_t v30 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v28) graphicsLockWaitQueue];
      dispatch_sync_f(v30, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, int *))(*(void *)(v13 + 24) + 5024LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v28) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v26 = __ldaxr(v14);
      while (__stlxr(v26 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v19 = wrapper_map_uniform_loc((ContextInfo *)v13, a2, a3);
  unsigned int v20 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, volatile int *, uint64_t, int *))(*(void *)(v13 + 32) + 5024LL))( a1,  a2,  v19,  a4);
  signed int v21 = mach_absolute_time();
  BOOL v22 = vdupq_n_s64(1uLL);
  v22.i64[0] = v21 - v20;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v22, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      unsigned int v31 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v31) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v31, v13);
      }
    }
  }

  do
  {
    unsigned int v23 = __ldaxr(v14);
    uint64_t v24 = v23 - 1;
  }

  while (__stlxr(v24, v14));
  if (gCheckGLErrors) {
    id v25 = v24 < 1;
  }
  else {
    id v25 = 1;
  }
  if (!v25) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void get_queryiv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, int *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    id v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      unsigned int v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 24) + 5112LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 32) + 5112LL))(a1, a2, a3, a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    unsigned int v19 = __ldaxr(v14);
    signed int v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    BOOL v21 = v20 < 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unsigned int v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        uint64_t v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      id v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 24) + 5112LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 32) + 5112LL))(a1, a2, a3, a4);
  signed int v20 = mach_absolute_time();
  BOOL v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    id v24 = v23 < 1;
  }
  else {
    id v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void get_query_objectiv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, int *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    id v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      unsigned int v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 24) + 5120LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 32) + 5120LL))(a1, a2, a3, a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    unsigned int v19 = __ldaxr(v14);
    signed int v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    BOOL v21 = v20 < 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unsigned int v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        uint64_t v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      id v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 24) + 5120LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 32) + 5120LL))(a1, a2, a3, a4);
  signed int v20 = mach_absolute_time();
  BOOL v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    id v24 = v23 < 1;
  }
  else {
    id v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void get_query_objectuiv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, unsigned int *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    id v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      unsigned int v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, unsigned int *))(*(void *)(v13 + 24) + 5128LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, unsigned int *))(*(void *)(v13 + 32) + 5128LL))( a1,  a2,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    unsigned int v19 = __ldaxr(v14);
    signed int v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    BOOL v21 = v20 < 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unsigned int v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        uint64_t v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      id v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, unsigned int *))(*(void *)(v13 + 24) + 5128LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, unsigned int *))(*(void *)(v13 + 32) + 5128LL))( a1,  a2,  a3,  a4);
  signed int v20 = mach_absolute_time();
  BOOL v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    id v24 = v23 < 1;
  }
  else {
    id v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

uint64_t delete_buffers(__GLIContextRec *a1, volatile int *a2, const unsigned int *a3)
{
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v23 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v22 = handle_opengl_thread_conflict((const void **)v11);
    id v23 = [(id)DYGetGLGuestAppClient(v22) waitOnGraphicsSemaphoreAssertions];
    if ((int)v23 >= 1)
    {
      do
LABEL_35:
        unsigned int v24 = __ldaxr(v12);
      while (__stlxr(v24 - 1, v12));
      unsigned int v25 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v23) graphicsLockWaitQueue];
      dispatch_sync_f(v25, 0LL, (dispatch_function_t)do_nothing);
      return (*(uint64_t (**)(__GLIContextRec *, volatile int *, const unsigned int *))(*(void *)(v11 + 24)
                                                                                                + 5144LL))( a1,  a2,  a3);
    }
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v23) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v21 = __ldaxr(v12);
      while (__stlxr(v21 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      return (*(uint64_t (**)(__GLIContextRec *, volatile int *, const unsigned int *))(*(void *)(v11 + 24)
                                                                                                + 5144LL))( a1,  a2,  a3);
    }
  }

  (*(void (**)(__GLIContextRec *, volatile int *, const unsigned int *))(*(void *)(v11 + 32) + 5144LL))( a1,  a2,  a3);
  ++*(void *)(v11 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v26 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v26) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v26, v11);
      }
    }
  }

  uint64_t result = wrapper_cache_buffer_binding_delete((ContextInfo *)v11, a2, a3);
  do
  {
    unsigned int v18 = __ldaxr(v12);
    signed int v19 = v18 - 1;
  }

  while (__stlxr(v19, v12));
  if (gCheckGLErrors) {
    BOOL v20 = v19 < 1;
  }
  else {
    BOOL v20 = 1;
  }
  if (!v20) {
    return handle_opengl_thread_conflict((const void **)v11);
  }
  return result;
}

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  uint64_t v17;
  uint64_t v18;
  int64x2_t v19;
  uint64_t result;
  unsigned int v21;
  signed int v22;
  BOOL v23;
  unsigned int v24;
  uint64_t v25;
  id v26;
  unsigned int v27;
  dispatch_queue_s *v28;
  uint64_t v29;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v26 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unsigned int v25 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v26 = [(id)DYGetGLGuestAppClient(v25) waitOnGraphicsSemaphoreAssertions];
    if ((int)v26 >= 1)
    {
      do
LABEL_35:
        uint64_t v27 = __ldaxr(v12);
      while (__stlxr(v27 - 1, v12));
      uint64_t v28 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v26) graphicsLockWaitQueue];
      dispatch_sync_f(v28, 0LL, (dispatch_function_t)do_nothing);
      return (*(uint64_t (**)(__GLIContextRec *, volatile int *, const unsigned int *))(*(void *)(v11 + 24)
                                                                                                + 5144LL))( a1,  a2,  a3);
    }
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v26) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v24 = __ldaxr(v12);
      while (__stlxr(v24 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      return (*(uint64_t (**)(__GLIContextRec *, volatile int *, const unsigned int *))(*(void *)(v11 + 24)
                                                                                                + 5144LL))( a1,  a2,  a3);
    }
  }

  BOOL v17 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, volatile int *, const unsigned int *))(*(void *)(v11 + 32) + 5144LL))( a1,  a2,  a3);
  unsigned int v18 = mach_absolute_time();
  signed int v19 = vdupq_n_s64(1uLL);
  v19.i64[0] = v18 - v17;
  *(int64x2_t *)(v11 + 3696) = vaddq_s64(v19, *(int64x2_t *)(v11 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      id v29 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v29) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v29, v11);
      }
    }
  }

  uint64_t result = wrapper_cache_buffer_binding_delete((ContextInfo *)v11, a2, a3);
  do
  {
    unsigned int v21 = __ldaxr(v12);
    uint64_t v22 = v21 - 1;
  }

  while (__stlxr(v22, v12));
  if (gCheckGLErrors) {
    id v23 = v22 < 1;
  }
  else {
    id v23 = 1;
  }
  if (!v23) {
    return handle_opengl_thread_conflict((const void **)v11);
  }
  return result;
}

{
  __GLIContextRec *v5;
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  id v17;
  uint64_t result;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  unsigned int v22;
  dispatch_queue_s *v23;
  unsigned int v24;
  uint64_t v5 = a1;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (!v15) {
    a1 = (__GLIContextRec *)handle_opengl_thread_conflict((const void **)v11);
  }
  id v16 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  if ((int)v16 >= 1)
  {
    do
      uint64_t v22 = __ldaxr(v12);
    while (__stlxr(v22 - 1, v12));
    id v23 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v16) graphicsLockWaitQueue];
    dispatch_sync_f(v23, 0LL, (dispatch_function_t)do_nothing);
    return (*(uint64_t (**)(__GLIContextRec *, volatile int *, const unsigned int *))(*(void *)(v11 + 24)
                                                                                              + 5144LL))( v5,  a2,  a3);
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v16) state] == (char *)&dword_0 + 1)
  {
    BOOL v17 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v17)
    {
      do
        unsigned int v24 = __ldaxr(v12);
      while (__stlxr(v24 - 1, v12));
      [(id)DYGetGLGuestAppClient(v17) triggerArmedCapture];
      return (*(uint64_t (**)(__GLIContextRec *, volatile int *, const unsigned int *))(*(void *)(v11 + 24)
                                                                                                + 5144LL))( v5,  a2,  a3);
    }
  }

  uint64_t result = wrapper_cache_buffer_binding_delete((ContextInfo *)v11, a2, a3);
  do
  {
    signed int v19 = __ldaxr(v12);
    BOOL v20 = v19 - 1;
  }

  while (__stlxr(v20, v12));
  if (gCheckGLErrors) {
    unsigned int v21 = v20 < 1;
  }
  else {
    unsigned int v21 = 1;
  }
  if (!v21) {
    return handle_opengl_thread_conflict((const void **)v11);
  }
  return result;
}

{
  void *v5;
  uint64_t v6;
  unint64_t v7;
  BOOL v8;
  void *v9;
  ContextInfo *v10;
  uint64_t v5 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v5) {
    goto LABEL_12;
  }
  unint64_t v6 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    uint64_t v7 = v5[4];
    unint64_t v8 = v7 >= (unint64_t)a1;
    else {
      BOOL v9 = v5 + 1;
    }
    if (v8) {
      unint64_t v6 = (uint64_t)v5;
    }
    uint64_t v5 = (void *)*v9;
  }

  while (*v9);
  if (v6 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v6 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    unint64_t v6 = ContextInfo::activeCtxInfoMap + 8;
  unint64_t v10 = *(ContextInfo **)(v6 + 40);
  (*(void (**)(__GLIContextRec *, volatile int *, const unsigned int *))(*((void *)v10 + 4) + 5144LL))( a1,  a2,  a3);
  return wrapper_cache_buffer_binding_delete(v10, a2, a3);
}

void get_buffer_parameteriv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, int *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    id v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      uint64_t v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 24) + 5208LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 32) + 5208LL))(a1, a2, a3, a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    unsigned int v19 = __ldaxr(v14);
    signed int v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    BOOL v21 = v20 < 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        uint64_t v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      id v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 24) + 5208LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 32) + 5208LL))(a1, a2, a3, a4);
  signed int v20 = mach_absolute_time();
  BOOL v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    id v24 = v23 < 1;
  }
  else {
    id v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void get_renderbuffer_parameteriv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, int *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    id v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      uint64_t v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 24) + 5360LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 32) + 5360LL))(a1, a2, a3, a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    unsigned int v19 = __ldaxr(v14);
    signed int v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    BOOL v21 = v20 < 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        uint64_t v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      id v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 24) + 5360LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 32) + 5360LL))(a1, a2, a3, a4);
  signed int v20 = mach_absolute_time();
  BOOL v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    id v24 = v23 < 1;
  }
  else {
    id v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void get_framebuffer_attachment_parameteriv( __GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, int *a5)
{
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      signed int v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  signed int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    id v26 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v25 = handle_opengl_thread_conflict((const void **)v15);
    id v26 = [(id)DYGetGLGuestAppClient(v25) waitOnGraphicsSemaphoreAssertions];
    if ((int)v26 >= 1)
    {
      do
LABEL_34:
        unsigned int v27 = __ldaxr(v16);
      while (__stlxr(v27 - 1, v16));
      uint64_t v28 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v26) graphicsLockWaitQueue];
      dispatch_sync_f(v28, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, int *))(*(void *)(v15 + 24) + 5440LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v26) state] == (char *)&dword_0 + 1)
  {
    id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        unsigned int v24 = __ldaxr(v16);
      while (__stlxr(v24 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, int *))(*(void *)(v15 + 32) + 5440LL))( a1,  a2,  a3,  a4,  a5);
  ++*(void *)(v15 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v29 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v29) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v29, v15);
      }
    }
  }

  do
  {
    unsigned int v21 = __ldaxr(v16);
    signed int v22 = v21 - 1;
  }

  while (__stlxr(v22, v16));
  if (gCheckGLErrors) {
    BOOL v23 = v22 < 1;
  }
  else {
    BOOL v23 = 1;
  }
  if (!v23) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  id v20;
  uint64_t v21;
  uint64_t v22;
  int64x2_t v23;
  unsigned int v24;
  signed int v25;
  BOOL v26;
  unsigned int v27;
  uint64_t v28;
  id v29;
  unsigned int v30;
  dispatch_queue_s *v31;
  uint64_t v32;
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      signed int v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  signed int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    uint64_t v29 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v28 = handle_opengl_thread_conflict((const void **)v15);
    uint64_t v29 = [(id)DYGetGLGuestAppClient(v28) waitOnGraphicsSemaphoreAssertions];
    if ((int)v29 >= 1)
    {
      do
LABEL_34:
        uint64_t v30 = __ldaxr(v16);
      while (__stlxr(v30 - 1, v16));
      unsigned int v31 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v29) graphicsLockWaitQueue];
      dispatch_sync_f(v31, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, int *))(*(void *)(v15 + 24) + 5440LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v29) state] == (char *)&dword_0 + 1)
  {
    id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        unsigned int v27 = __ldaxr(v16);
      while (__stlxr(v27 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v21 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, int *))(*(void *)(v15 + 32) + 5440LL))( a1,  a2,  a3,  a4,  a5);
  signed int v22 = mach_absolute_time();
  BOOL v23 = vdupq_n_s64(1uLL);
  v23.i64[0] = v22 - v21;
  *(int64x2_t *)(v15 + 3696) = vaddq_s64(v23, *(int64x2_t *)(v15 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v32 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v32) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v32, v15);
      }
    }
  }

  do
  {
    unsigned int v24 = __ldaxr(v16);
    uint64_t v25 = v24 - 1;
  }

  while (__stlxr(v25, v16));
  if (gCheckGLErrors) {
    id v26 = v25 < 1;
  }
  else {
    id v26 = 1;
  }
  if (!v26) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

void program_parameteri(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    id v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_37:
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      id v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_39:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 5512LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_39;
    }
  }

  check_errors(v13);
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 5512LL))( a1,  a2,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError && (uint64_t v27 = *(unsigned int *)(v13 + 3404), (_DWORD)v27))
    {
      breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      if (gCheckGLErrors) {
        goto LABEL_25;
      }
    }

    else if (gCheckGLErrors)
    {
      goto LABEL_25;
    }
  }

  check_errors(v13);
LABEL_25:
  if (!*(_DWORD *)(v13 + 3404)) {
    wrapper_cache_program_parameter((ContextInfo *)v13, a2, a3, a4);
  }
  do
  {
    unsigned int v19 = __ldaxr(v14);
    signed int v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    BOOL v21 = v20 < 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    id v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_37:
        uint64_t v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      uint64_t v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_39:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 5512LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_39;
    }
  }

  check_errors(v13);
  unsigned int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 5512LL))( a1,  a2,  a3,  a4);
  signed int v20 = mach_absolute_time();
  BOOL v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError && (uint64_t v30 = *(unsigned int *)(v13 + 3404), (_DWORD)v30))
    {
      breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      if (gCheckGLErrors) {
        goto LABEL_25;
      }
    }

    else if (gCheckGLErrors)
    {
      goto LABEL_25;
    }
  }

  check_errors(v13);
LABEL_25:
  if (!*(_DWORD *)(v13 + 3404)) {
    wrapper_cache_program_parameter((ContextInfo *)v13, a2, a3, a4);
  }
  do
  {
    unsigned int v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    id v24 = v23 < 1;
  }
  else {
    id v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void get_integer_indexedv_EXT(__GLIContextRec *a1, uint64_t a2, uint64_t a3, int *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    id v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      id v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 24) + 5600LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 32) + 5600LL))(a1, a2, a3, a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    unsigned int v19 = __ldaxr(v14);
    signed int v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    BOOL v21 = v20 < 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    id v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        uint64_t v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      uint64_t v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 24) + 5600LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 32) + 5600LL))(a1, a2, a3, a4);
  signed int v20 = mach_absolute_time();
  BOOL v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    id v24 = v23 < 1;
  }
  else {
    id v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

char *vertex_attribI4i(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      signed int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  id v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    id v29 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v28 = handle_opengl_thread_conflict((const void **)v17);
    id v29 = [(id)DYGetGLGuestAppClient(v28) waitOnGraphicsSemaphoreAssertions];
    if ((int)v29 >= 1)
    {
      do
LABEL_35:
        unsigned int v30 = __ldaxr(v18);
      while (__stlxr(v30 - 1, v18));
      unsigned int v31 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v29) graphicsLockWaitQueue];
      dispatch_sync_f(v31, 0LL, (dispatch_function_t)do_nothing);
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24) + 5712LL))( a1,  a2,  a3,  a4,  a5,  a6);
    }
  }

  *(_BYTE *)(v17 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v29) state] == (char *)&dword_0 + 1)
  {
    id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v22)
    {
      do
        unsigned int v27 = __ldaxr(v18);
      while (__stlxr(v27 - 1, v18));
      [(id)DYGetGLGuestAppClient(v22) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24) + 5712LL))( a1,  a2,  a3,  a4,  a5,  a6);
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 32) + 5712LL))( a1,  a2,  a3,  a4,  a5,  a6);
  ++*(void *)(v17 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v17);
    if (gBreakOnError)
    {
      uint64_t v32 = *(unsigned int *)(v17 + 3404);
      if ((_DWORD)v32) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v32, v17);
      }
    }
  }

  uint64_t result = wrapper_cache_vertex_attrib( (char *)v17,  a2,  5124,  (double)(int)a3,  (double)(int)a4,  (double)(int)a5,  (double)(int)a6);
  do
  {
    unsigned int v24 = __ldaxr(v18);
    signed int v25 = v24 - 1;
  }

  while (__stlxr(v25, v18));
  if (gCheckGLErrors) {
    BOOL v26 = v25 < 1;
  }
  else {
    BOOL v26 = 1;
  }
  if (!v26) {
    return (char *)handle_opengl_thread_conflict((const void **)v17);
  }
  return result;
}

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  id v22;
  uint64_t v23;
  uint64_t v24;
  int64x2_t v25;
  char *result;
  unsigned int v27;
  signed int v28;
  BOOL v29;
  unsigned int v30;
  uint64_t v31;
  id v32;
  unsigned int v33;
  dispatch_queue_s *v34;
  uint64_t v35;
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      signed int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  id v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    uint64_t v32 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unsigned int v31 = handle_opengl_thread_conflict((const void **)v17);
    uint64_t v32 = [(id)DYGetGLGuestAppClient(v31) waitOnGraphicsSemaphoreAssertions];
    if ((int)v32 >= 1)
    {
      do
LABEL_35:
        uint64_t v33 = __ldaxr(v18);
      while (__stlxr(v33 - 1, v18));
      BOOL v34 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v32) graphicsLockWaitQueue];
      dispatch_sync_f(v34, 0LL, (dispatch_function_t)do_nothing);
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24) + 5712LL))( a1,  a2,  a3,  a4,  a5,  a6);
    }
  }

  *(_BYTE *)(v17 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v32) state] == (char *)&dword_0 + 1)
  {
    id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v22)
    {
      do
        unsigned int v30 = __ldaxr(v18);
      while (__stlxr(v30 - 1, v18));
      [(id)DYGetGLGuestAppClient(v22) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24) + 5712LL))( a1,  a2,  a3,  a4,  a5,  a6);
    }
  }

  uint64_t v23 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 32) + 5712LL))( a1,  a2,  a3,  a4,  a5,  a6);
  unsigned int v24 = mach_absolute_time();
  signed int v25 = vdupq_n_s64(1uLL);
  v25.i64[0] = v24 - v23;
  *(int64x2_t *)(v17 + 3696) = vaddq_s64(v25, *(int64x2_t *)(v17 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v17);
    if (gBreakOnError)
    {
      unsigned int v35 = *(unsigned int *)(v17 + 3404);
      if ((_DWORD)v35) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v35, v17);
      }
    }
  }

  uint64_t result = wrapper_cache_vertex_attrib( (char *)v17,  a2,  5124,  (double)(int)a3,  (double)(int)a4,  (double)(int)a5,  (double)(int)a6);
  do
  {
    unsigned int v27 = __ldaxr(v18);
    uint64_t v28 = v27 - 1;
  }

  while (__stlxr(v28, v18));
  if (gCheckGLErrors) {
    id v29 = v28 < 1;
  }
  else {
    id v29 = 1;
  }
  if (!v29) {
    return (char *)handle_opengl_thread_conflict((const void **)v17);
  }
  return result;
}

{
  __GLIContextRec *v11;
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  id v22;
  id v23;
  char *result;
  unsigned int v25;
  signed int v26;
  BOOL v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  unsigned int v30;
  BOOL v11 = a1;
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      signed int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  id v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    a1 = (__GLIContextRec *)handle_opengl_thread_conflict((const void **)v17);
  }
  id v22 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  if ((int)v22 >= 1)
  {
    do
      uint64_t v28 = __ldaxr(v18);
    while (__stlxr(v28 - 1, v18));
    id v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v22) graphicsLockWaitQueue];
    dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
    return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24) + 5712LL))( v11,  a2,  a3,  a4,  a5,  a6);
  }

  *(_BYTE *)(v17 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v22) state] == (char *)&dword_0 + 1)
  {
    uint64_t v23 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v23)
    {
      do
        unsigned int v30 = __ldaxr(v18);
      while (__stlxr(v30 - 1, v18));
      [(id)DYGetGLGuestAppClient(v23) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24) + 5712LL))( v11,  a2,  a3,  a4,  a5,  a6);
    }
  }

  uint64_t result = wrapper_cache_vertex_attrib( (char *)v17,  a2,  5124,  (double)(int)a3,  (double)(int)a4,  (double)(int)a5,  (double)(int)a6);
  do
  {
    signed int v25 = __ldaxr(v18);
    BOOL v26 = v25 - 1;
  }

  while (__stlxr(v26, v18));
  if (gCheckGLErrors) {
    unsigned int v27 = v26 < 1;
  }
  else {
    unsigned int v27 = 1;
  }
  if (!v27) {
    return (char *)handle_opengl_thread_conflict((const void **)v17);
  }
  return result;
}

{
  int v6;
  int v7;
  int v8;
  int v9;
  unsigned int v10;
  void *v11;
  uint64_t v12;
  unint64_t v13;
  BOOL v14;
  void *v15;
  uint64_t v16;
  unint64_t v6 = a6;
  uint64_t v7 = a5;
  unint64_t v8 = a4;
  uint64_t v9 = a3;
  unint64_t v10 = a2;
  BOOL v11 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v11) {
    goto LABEL_12;
  }
  unint64_t v12 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    uint64_t v13 = v11[4];
    unint64_t v14 = v13 >= (unint64_t)a1;
    else {
      BOOL v15 = v11 + 1;
    }
    if (v14) {
      unint64_t v12 = (uint64_t)v11;
    }
    BOOL v11 = (void *)*v15;
  }

  while (*v15);
  if (v12 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v12 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    unint64_t v12 = ContextInfo::activeCtxInfoMap + 8;
  signed int v16 = *(void *)(v12 + 40);
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v16 + 32) + 5712LL))( a1,  a2,  a3,  a4,  a5,  a6);
  return wrapper_cache_vertex_attrib((char *)v16, v10, 5124, (double)v9, (double)v8, (double)v7, (double)v6);
}

char *vertex_attribI4ui(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      signed int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  id v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    id v29 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v28 = handle_opengl_thread_conflict((const void **)v17);
    id v29 = [(id)DYGetGLGuestAppClient(v28) waitOnGraphicsSemaphoreAssertions];
    if ((int)v29 >= 1)
    {
      do
LABEL_35:
        unsigned int v30 = __ldaxr(v18);
      while (__stlxr(v30 - 1, v18));
      unsigned int v31 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v29) graphicsLockWaitQueue];
      dispatch_sync_f(v31, 0LL, (dispatch_function_t)do_nothing);
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24) + 5744LL))( a1,  a2,  a3,  a4,  a5,  a6);
    }
  }

  *(_BYTE *)(v17 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v29) state] == (char *)&dword_0 + 1)
  {
    id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v22)
    {
      do
        unsigned int v27 = __ldaxr(v18);
      while (__stlxr(v27 - 1, v18));
      [(id)DYGetGLGuestAppClient(v22) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24) + 5744LL))( a1,  a2,  a3,  a4,  a5,  a6);
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 32) + 5744LL))( a1,  a2,  a3,  a4,  a5,  a6);
  ++*(void *)(v17 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v17);
    if (gBreakOnError)
    {
      uint64_t v32 = *(unsigned int *)(v17 + 3404);
      if ((_DWORD)v32) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v32, v17);
      }
    }
  }

  uint64_t result = wrapper_cache_vertex_attrib( (char *)v17,  a2,  5125,  (double)a3,  (double)a4,  (double)a5,  (double)a6);
  do
  {
    unsigned int v24 = __ldaxr(v18);
    signed int v25 = v24 - 1;
  }

  while (__stlxr(v25, v18));
  if (gCheckGLErrors) {
    BOOL v26 = v25 < 1;
  }
  else {
    BOOL v26 = 1;
  }
  if (!v26) {
    return (char *)handle_opengl_thread_conflict((const void **)v17);
  }
  return result;
}

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  id v22;
  uint64_t v23;
  uint64_t v24;
  int64x2_t v25;
  char *result;
  unsigned int v27;
  signed int v28;
  BOOL v29;
  unsigned int v30;
  uint64_t v31;
  id v32;
  unsigned int v33;
  dispatch_queue_s *v34;
  uint64_t v35;
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      signed int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  id v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    uint64_t v32 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unsigned int v31 = handle_opengl_thread_conflict((const void **)v17);
    uint64_t v32 = [(id)DYGetGLGuestAppClient(v31) waitOnGraphicsSemaphoreAssertions];
    if ((int)v32 >= 1)
    {
      do
LABEL_35:
        uint64_t v33 = __ldaxr(v18);
      while (__stlxr(v33 - 1, v18));
      BOOL v34 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v32) graphicsLockWaitQueue];
      dispatch_sync_f(v34, 0LL, (dispatch_function_t)do_nothing);
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24) + 5744LL))( a1,  a2,  a3,  a4,  a5,  a6);
    }
  }

  *(_BYTE *)(v17 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v32) state] == (char *)&dword_0 + 1)
  {
    id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v22)
    {
      do
        unsigned int v30 = __ldaxr(v18);
      while (__stlxr(v30 - 1, v18));
      [(id)DYGetGLGuestAppClient(v22) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24) + 5744LL))( a1,  a2,  a3,  a4,  a5,  a6);
    }
  }

  uint64_t v23 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 32) + 5744LL))( a1,  a2,  a3,  a4,  a5,  a6);
  unsigned int v24 = mach_absolute_time();
  signed int v25 = vdupq_n_s64(1uLL);
  v25.i64[0] = v24 - v23;
  *(int64x2_t *)(v17 + 3696) = vaddq_s64(v25, *(int64x2_t *)(v17 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v17);
    if (gBreakOnError)
    {
      unsigned int v35 = *(unsigned int *)(v17 + 3404);
      if ((_DWORD)v35) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v35, v17);
      }
    }
  }

  uint64_t result = wrapper_cache_vertex_attrib( (char *)v17,  a2,  5125,  (double)a3,  (double)a4,  (double)a5,  (double)a6);
  do
  {
    unsigned int v27 = __ldaxr(v18);
    uint64_t v28 = v27 - 1;
  }

  while (__stlxr(v28, v18));
  if (gCheckGLErrors) {
    id v29 = v28 < 1;
  }
  else {
    id v29 = 1;
  }
  if (!v29) {
    return (char *)handle_opengl_thread_conflict((const void **)v17);
  }
  return result;
}

{
  __GLIContextRec *v11;
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  id v22;
  id v23;
  char *result;
  unsigned int v25;
  signed int v26;
  BOOL v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  unsigned int v30;
  BOOL v11 = a1;
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      signed int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  id v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    a1 = (__GLIContextRec *)handle_opengl_thread_conflict((const void **)v17);
  }
  id v22 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  if ((int)v22 >= 1)
  {
    do
      uint64_t v28 = __ldaxr(v18);
    while (__stlxr(v28 - 1, v18));
    id v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v22) graphicsLockWaitQueue];
    dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
    return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24) + 5744LL))( v11,  a2,  a3,  a4,  a5,  a6);
  }

  *(_BYTE *)(v17 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v22) state] == (char *)&dword_0 + 1)
  {
    uint64_t v23 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v23)
    {
      do
        unsigned int v30 = __ldaxr(v18);
      while (__stlxr(v30 - 1, v18));
      [(id)DYGetGLGuestAppClient(v23) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24) + 5744LL))( v11,  a2,  a3,  a4,  a5,  a6);
    }
  }

  uint64_t result = wrapper_cache_vertex_attrib( (char *)v17,  a2,  5125,  (double)a3,  (double)a4,  (double)a5,  (double)a6);
  do
  {
    signed int v25 = __ldaxr(v18);
    BOOL v26 = v25 - 1;
  }

  while (__stlxr(v26, v18));
  if (gCheckGLErrors) {
    unsigned int v27 = v26 < 1;
  }
  else {
    unsigned int v27 = 1;
  }
  if (!v27) {
    return (char *)handle_opengl_thread_conflict((const void **)v17);
  }
  return result;
}

{
  unsigned int v6;
  unsigned int v7;
  unsigned int v8;
  unsigned int v9;
  unsigned int v10;
  void *v11;
  uint64_t v12;
  unint64_t v13;
  BOOL v14;
  void *v15;
  uint64_t v16;
  unint64_t v6 = a6;
  uint64_t v7 = a5;
  unint64_t v8 = a4;
  uint64_t v9 = a3;
  unint64_t v10 = a2;
  BOOL v11 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v11) {
    goto LABEL_12;
  }
  unint64_t v12 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    uint64_t v13 = v11[4];
    unint64_t v14 = v13 >= (unint64_t)a1;
    else {
      BOOL v15 = v11 + 1;
    }
    if (v14) {
      unint64_t v12 = (uint64_t)v11;
    }
    BOOL v11 = (void *)*v15;
  }

  while (*v15);
  if (v12 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v12 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    unint64_t v12 = ContextInfo::activeCtxInfoMap + 8;
  signed int v16 = *(void *)(v12 + 40);
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v16 + 32) + 5744LL))( a1,  a2,  a3,  a4,  a5,  a6);
  return wrapper_cache_vertex_attrib((char *)v16, v10, 5125, (double)v9, (double)v8, (double)v7, (double)v6);
}

char *vertex_attribI4iv(__GLIContextRec *a1, uint64_t a2, const int *a3)
{
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v23 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v22 = handle_opengl_thread_conflict((const void **)v11);
    id v23 = [(id)DYGetGLGuestAppClient(v22) waitOnGraphicsSemaphoreAssertions];
    if ((int)v23 >= 1)
    {
      do
LABEL_35:
        unsigned int v24 = __ldaxr(v12);
      while (__stlxr(v24 - 1, v12));
      signed int v25 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v23) graphicsLockWaitQueue];
      dispatch_sync_f(v25, 0LL, (dispatch_function_t)do_nothing);
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const int *))(*(void *)(v11 + 24) + 5776LL))( a1,  a2,  a3);
    }
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v23) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v21 = __ldaxr(v12);
      while (__stlxr(v21 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const int *))(*(void *)(v11 + 24) + 5776LL))( a1,  a2,  a3);
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, const int *))(*(void *)(v11 + 32) + 5776LL))(a1, a2, a3);
  ++*(void *)(v11 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v26 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v26) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v26, v11);
      }
    }
  }

  uint64_t result = wrapper_cache_vertex_attrib((char *)v11, a2, 5124, (double)*a3, (double)a3[1], (double)a3[2], (double)a3[3]);
  do
  {
    unsigned int v18 = __ldaxr(v12);
    signed int v19 = v18 - 1;
  }

  while (__stlxr(v19, v12));
  if (gCheckGLErrors) {
    BOOL v20 = v19 < 1;
  }
  else {
    BOOL v20 = 1;
  }
  if (!v20) {
    return (char *)handle_opengl_thread_conflict((const void **)v11);
  }
  return result;
}

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  uint64_t v17;
  uint64_t v18;
  int64x2_t v19;
  char *result;
  unsigned int v21;
  signed int v22;
  BOOL v23;
  unsigned int v24;
  uint64_t v25;
  id v26;
  unsigned int v27;
  dispatch_queue_s *v28;
  uint64_t v29;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v26 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    signed int v25 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v26 = [(id)DYGetGLGuestAppClient(v25) waitOnGraphicsSemaphoreAssertions];
    if ((int)v26 >= 1)
    {
      do
LABEL_35:
        unsigned int v27 = __ldaxr(v12);
      while (__stlxr(v27 - 1, v12));
      uint64_t v28 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v26) graphicsLockWaitQueue];
      dispatch_sync_f(v28, 0LL, (dispatch_function_t)do_nothing);
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const int *))(*(void *)(v11 + 24) + 5776LL))( a1,  a2,  a3);
    }
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v26) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v24 = __ldaxr(v12);
      while (__stlxr(v24 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const int *))(*(void *)(v11 + 24) + 5776LL))( a1,  a2,  a3);
    }
  }

  uint64_t v17 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, const int *))(*(void *)(v11 + 32) + 5776LL))(a1, a2, a3);
  unsigned int v18 = mach_absolute_time();
  signed int v19 = vdupq_n_s64(1uLL);
  v19.i64[0] = v18 - v17;
  *(int64x2_t *)(v11 + 3696) = vaddq_s64(v19, *(int64x2_t *)(v11 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      id v29 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v29) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v29, v11);
      }
    }
  }

  uint64_t result = wrapper_cache_vertex_attrib((char *)v11, a2, 5124, (double)*a3, (double)a3[1], (double)a3[2], (double)a3[3]);
  do
  {
    unsigned int v21 = __ldaxr(v12);
    uint64_t v22 = v21 - 1;
  }

  while (__stlxr(v22, v12));
  if (gCheckGLErrors) {
    id v23 = v22 < 1;
  }
  else {
    id v23 = 1;
  }
  if (!v23) {
    return (char *)handle_opengl_thread_conflict((const void **)v11);
  }
  return result;
}

{
  __GLIContextRec *v5;
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  id v17;
  char *result;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  unsigned int v22;
  dispatch_queue_s *v23;
  unsigned int v24;
  uint64_t v5 = a1;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (!v15) {
    a1 = (__GLIContextRec *)handle_opengl_thread_conflict((const void **)v11);
  }
  id v16 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  if ((int)v16 >= 1)
  {
    do
      uint64_t v22 = __ldaxr(v12);
    while (__stlxr(v22 - 1, v12));
    id v23 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v16) graphicsLockWaitQueue];
    dispatch_sync_f(v23, 0LL, (dispatch_function_t)do_nothing);
    return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const int *))(*(void *)(v11 + 24) + 5776LL))( v5,  a2,  a3);
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v16) state] == (char *)&dword_0 + 1)
  {
    uint64_t v17 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v17)
    {
      do
        unsigned int v24 = __ldaxr(v12);
      while (__stlxr(v24 - 1, v12));
      [(id)DYGetGLGuestAppClient(v17) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const int *))(*(void *)(v11 + 24) + 5776LL))( v5,  a2,  a3);
    }
  }

  uint64_t result = wrapper_cache_vertex_attrib((char *)v11, a2, 5124, (double)*a3, (double)a3[1], (double)a3[2], (double)a3[3]);
  do
  {
    signed int v19 = __ldaxr(v12);
    BOOL v20 = v19 - 1;
  }

  while (__stlxr(v20, v12));
  if (gCheckGLErrors) {
    unsigned int v21 = v20 < 1;
  }
  else {
    unsigned int v21 = 1;
  }
  if (!v21) {
    return (char *)handle_opengl_thread_conflict((const void **)v11);
  }
  return result;
}

{
  unsigned int v4;
  void *v5;
  uint64_t v6;
  unint64_t v7;
  BOOL v8;
  void *v9;
  uint64_t v10;
  uint64_t v4 = a2;
  uint64_t v5 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v5) {
    goto LABEL_12;
  }
  unint64_t v6 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    uint64_t v7 = v5[4];
    unint64_t v8 = v7 >= (unint64_t)a1;
    else {
      BOOL v9 = v5 + 1;
    }
    if (v8) {
      unint64_t v6 = (uint64_t)v5;
    }
    uint64_t v5 = (void *)*v9;
  }

  while (*v9);
  if (v6 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v6 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    unint64_t v6 = ContextInfo::activeCtxInfoMap + 8;
  unint64_t v10 = *(void *)(v6 + 40);
  (*(void (**)(__GLIContextRec *, uint64_t, const int *))(*(void *)(v10 + 32) + 5776LL))(a1, a2, a3);
  return wrapper_cache_vertex_attrib((char *)v10, v4, 5124, (double)*a3, (double)a3[1], (double)a3[2], (double)a3[3]);
}

char *vertex_attribI4uiv(__GLIContextRec *a1, uint64_t a2, const unsigned int *a3)
{
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v26 = handle_opengl_thread_conflict((const void **)v11);
    id v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_35:
        unsigned int v28 = __ldaxr(v12);
      while (__stlxr(v28 - 1, v12));
      id v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const unsigned int *))(*(void *)(v11 + 24)
                                                                                                 + 5808LL))( a1,  a2,  a3);
    }
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v25 = __ldaxr(v12);
      while (__stlxr(v25 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const unsigned int *))(*(void *)(v11 + 24)
                                                                                                 + 5808LL))( a1,  a2,  a3);
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, const unsigned int *))(*(void *)(v11 + 32) + 5808LL))( a1,  a2,  a3);
  ++*(void *)(v11 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v30 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v11);
      }
    }
  }

  LODWORD(v17) = *a3;
  LODWORD(atomic_store(0, v18) = a3[1];
  LODWORD(v19) = a3[2];
  LODWORD(atomic_store(0, v20) = a3[3];
  uint64_t result = wrapper_cache_vertex_attrib((char *)v11, a2, 5125, (double)v17, (double)v18, (double)v19, (double)v20);
  do
  {
    unsigned int v22 = __ldaxr(v12);
    signed int v23 = v22 - 1;
  }

  while (__stlxr(v23, v12));
  if (gCheckGLErrors) {
    BOOL v24 = v23 < 1;
  }
  else {
    BOOL v24 = 1;
  }
  if (!v24) {
    return (char *)handle_opengl_thread_conflict((const void **)v11);
  }
  return result;
}

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  uint64_t v17;
  uint64_t v18;
  unint64_t v19;
  unint64_t v20;
  int64x2_t v21;
  int64x2_t v22;
  int64x2_t v23;
  char *result;
  unsigned int v25;
  signed int v26;
  BOOL v27;
  unsigned int v28;
  uint64_t v29;
  id v30;
  unsigned int v31;
  dispatch_queue_s *v32;
  uint64_t v33;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v30 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    id v29 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v30 = [(id)DYGetGLGuestAppClient(v29) waitOnGraphicsSemaphoreAssertions];
    if ((int)v30 >= 1)
    {
      do
LABEL_35:
        unsigned int v31 = __ldaxr(v12);
      while (__stlxr(v31 - 1, v12));
      uint64_t v32 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v30) graphicsLockWaitQueue];
      dispatch_sync_f(v32, 0LL, (dispatch_function_t)do_nothing);
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const unsigned int *))(*(void *)(v11 + 24)
                                                                                                 + 5808LL))( a1,  a2,  a3);
    }
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v30) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v28 = __ldaxr(v12);
      while (__stlxr(v28 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const unsigned int *))(*(void *)(v11 + 24)
                                                                                                 + 5808LL))( a1,  a2,  a3);
    }
  }

  unint64_t v17 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, const unsigned int *))(*(void *)(v11 + 32) + 5808LL))( a1,  a2,  a3);
  unint64_t v18 = mach_absolute_time();
  unsigned int v21 = vdupq_n_s64(1uLL);
  unsigned int v22 = *(int64x2_t *)(v11 + 3696);
  v21.i64[0] = v18 - v17;
  signed int v23 = vaddq_s64(v21, v22);
  *(int64x2_t *)(v11 + 3696) = v23;
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v33 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v33) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v33, v11);
      }
    }
  }

  v23.i32[0] = *a3;
  v22.i32[0] = a3[1];
  LODWORD(v19) = a3[2];
  LODWORD(atomic_store(0, v20) = a3[3];
  uint64_t result = wrapper_cache_vertex_attrib( (char *)v11,  a2,  5125,  (double)v23.u64[0],  (double)v22.u64[0],  (double)v19,  (double)v20);
  do
  {
    unsigned int v25 = __ldaxr(v12);
    uint64_t v26 = v25 - 1;
  }

  while (__stlxr(v26, v12));
  if (gCheckGLErrors) {
    id v27 = v26 < 1;
  }
  else {
    id v27 = 1;
  }
  if (!v27) {
    return (char *)handle_opengl_thread_conflict((const void **)v11);
  }
  return result;
}

{
  __GLIContextRec *v5;
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  unint64_t v17;
  unint64_t v18;
  unint64_t v19;
  unint64_t v20;
  id v21;
  char *result;
  unsigned int v23;
  signed int v24;
  BOOL v25;
  unsigned int v26;
  dispatch_queue_s *v27;
  unsigned int v28;
  uint64_t v5 = a1;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (!v15) {
    a1 = (__GLIContextRec *)handle_opengl_thread_conflict((const void **)v11);
  }
  id v16 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  if ((int)v16 >= 1)
  {
    do
      uint64_t v26 = __ldaxr(v12);
    while (__stlxr(v26 - 1, v12));
    id v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v16) graphicsLockWaitQueue];
    dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
    return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const unsigned int *))(*(void *)(v11 + 24)
                                                                                               + 5808LL))( v5,  a2,  a3);
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v16) state] == (char *)&dword_0 + 1)
  {
    unsigned int v21 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v21)
    {
      do
        unsigned int v28 = __ldaxr(v12);
      while (__stlxr(v28 - 1, v12));
      [(id)DYGetGLGuestAppClient(v21) triggerArmedCapture];
      return (char *)(*(uint64_t (**)(__GLIContextRec *, uint64_t, const unsigned int *))(*(void *)(v11 + 24)
                                                                                                 + 5808LL))( v5,  a2,  a3);
    }
  }

  LODWORD(v17) = *a3;
  LODWORD(atomic_store(0, v18) = a3[1];
  LODWORD(v19) = a3[2];
  LODWORD(atomic_store(0, v20) = a3[3];
  uint64_t result = wrapper_cache_vertex_attrib((char *)v11, a2, 5125, (double)v17, (double)v18, (double)v19, (double)v20);
  do
  {
    signed int v23 = __ldaxr(v12);
    BOOL v24 = v23 - 1;
  }

  while (__stlxr(v24, v12));
  if (gCheckGLErrors) {
    unsigned int v25 = v24 < 1;
  }
  else {
    unsigned int v25 = 1;
  }
  if (!v25) {
    return (char *)handle_opengl_thread_conflict((const void **)v11);
  }
  return result;
}

void get_vertex_attribIiv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, int *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    id v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      uint64_t v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 24) + 5856LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 32) + 5856LL))(a1, a2, a3, a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    unsigned int v19 = __ldaxr(v14);
    signed int v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    BOOL v21 = v20 < 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        unsigned int v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      id v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 24) + 5856LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 32) + 5856LL))(a1, a2, a3, a4);
  signed int v20 = mach_absolute_time();
  BOOL v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    id v24 = v23 < 1;
  }
  else {
    id v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void get_vertex_attribIuiv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, unsigned int *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    id v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      uint64_t v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, unsigned int *))(*(void *)(v13 + 24) + 5864LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, unsigned int *))(*(void *)(v13 + 32) + 5864LL))( a1,  a2,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    unsigned int v19 = __ldaxr(v14);
    signed int v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    BOOL v21 = v20 < 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  signed int v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        unsigned int v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      id v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, unsigned int *))(*(void *)(v13 + 24) + 5864LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, unsigned int *))(*(void *)(v13 + 32) + 5864LL))( a1,  a2,  a3,  a4);
  signed int v20 = mach_absolute_time();
  BOOL v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    id v24 = v23 < 1;
  }
  else {
    id v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void uniform4ui(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      signed int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  id v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    id v29 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v28 = handle_opengl_thread_conflict((const void **)v17);
    id v29 = [(id)DYGetGLGuestAppClient(v28) waitOnGraphicsSemaphoreAssertions];
    if ((int)v29 >= 1)
    {
      do
LABEL_34:
        unsigned int v30 = __ldaxr(v18);
      while (__stlxr(v30 - 1, v18));
      unsigned int v31 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v29) graphicsLockWaitQueue];
      dispatch_sync_f(v31, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24)
                                                                                             + 5896LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v29) state] == (char *)&dword_0 + 1)
  {
    id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v22)
    {
      do
        unsigned int v27 = __ldaxr(v18);
      while (__stlxr(v27 - 1, v18));
      [(id)DYGetGLGuestAppClient(v22) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v23 = wrapper_map_uniform_loc((ContextInfo *)v17, (volatile int *)*(unsigned int *)(v17 + 2068), a2);
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 32) + 5896LL))( a1,  v23,  a3,  a4,  a5,  a6);
  ++*(void *)(v17 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v17);
    if (gBreakOnError)
    {
      uint64_t v32 = *(unsigned int *)(v17 + 3404);
      if ((_DWORD)v32) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v32, v17);
      }
    }
  }

  do
  {
    unsigned int v24 = __ldaxr(v18);
    signed int v25 = v24 - 1;
  }

  while (__stlxr(v25, v18));
  if (gCheckGLErrors) {
    BOOL v26 = v25 < 1;
  }
  else {
    BOOL v26 = 1;
  }
  if (!v26) {
    handle_opengl_thread_conflict((const void **)v17);
  }
}

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  id v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  int64x2_t v26;
  unsigned int v27;
  signed int v28;
  BOOL v29;
  unsigned int v30;
  uint64_t v31;
  id v32;
  unsigned int v33;
  dispatch_queue_s *v34;
  uint64_t v35;
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      signed int v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  id v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    uint64_t v32 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unsigned int v31 = handle_opengl_thread_conflict((const void **)v17);
    uint64_t v32 = [(id)DYGetGLGuestAppClient(v31) waitOnGraphicsSemaphoreAssertions];
    if ((int)v32 >= 1)
    {
      do
LABEL_34:
        uint64_t v33 = __ldaxr(v18);
      while (__stlxr(v33 - 1, v18));
      BOOL v34 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v32) graphicsLockWaitQueue];
      dispatch_sync_f(v34, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 24)
                                                                                             + 5896LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v32) state] == (char *)&dword_0 + 1)
  {
    id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v22)
    {
      do
        unsigned int v30 = __ldaxr(v18);
      while (__stlxr(v30 - 1, v18));
      [(id)DYGetGLGuestAppClient(v22) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v23 = wrapper_map_uniform_loc((ContextInfo *)v17, (volatile int *)*(unsigned int *)(v17 + 2068), a2);
  unsigned int v24 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v17 + 32) + 5896LL))( a1,  v23,  a3,  a4,  a5,  a6);
  signed int v25 = mach_absolute_time();
  BOOL v26 = vdupq_n_s64(1uLL);
  v26.i64[0] = v25 - v24;
  *(int64x2_t *)(v17 + 3696) = vaddq_s64(v26, *(int64x2_t *)(v17 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v17);
    if (gBreakOnError)
    {
      unsigned int v35 = *(unsigned int *)(v17 + 3404);
      if ((_DWORD)v35) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v35, v17);
      }
    }
  }

  do
  {
    unsigned int v27 = __ldaxr(v18);
    uint64_t v28 = v27 - 1;
  }

  while (__stlxr(v28, v18));
  if (gCheckGLErrors) {
    id v29 = v28 < 1;
  }
  else {
    id v29 = 1;
  }
  if (!v29) {
    handle_opengl_thread_conflict((const void **)v17);
  }
}

void uniform1uiv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, const unsigned int *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v24 = handle_opengl_thread_conflict((const void **)v13);
    id v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        unsigned int v26 = __ldaxr(v14);
      while (__stlxr(v26 - 1, v14));
      unsigned int v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const unsigned int *))(*(void *)(v13 + 24) + 5904LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v23 = __ldaxr(v14);
      while (__stlxr(v23 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v19 = wrapper_map_uniform_loc((ContextInfo *)v13, (volatile int *)*(unsigned int *)(v13 + 2068), a2);
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const unsigned int *))(*(void *)(v13 + 32) + 5904LL))( a1,  v19,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v28 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v13);
      }
    }
  }

  do
  {
    unsigned int v20 = __ldaxr(v14);
    signed int v21 = v20 - 1;
  }

  while (__stlxr(v21, v14));
  if (gCheckGLErrors) {
    BOOL v22 = v21 < 1;
  }
  else {
    BOOL v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  int64x2_t v22;
  unsigned int v23;
  signed int v24;
  BOOL v25;
  unsigned int v26;
  uint64_t v27;
  id v28;
  unsigned int v29;
  dispatch_queue_s *v30;
  uint64_t v31;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v28 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unsigned int v27 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v28 = [(id)DYGetGLGuestAppClient(v27) waitOnGraphicsSemaphoreAssertions];
    if ((int)v28 >= 1)
    {
      do
LABEL_34:
        id v29 = __ldaxr(v14);
      while (__stlxr(v29 - 1, v14));
      unsigned int v30 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v28) graphicsLockWaitQueue];
      dispatch_sync_f(v30, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const unsigned int *))(*(void *)(v13 + 24) + 5904LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v28) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v26 = __ldaxr(v14);
      while (__stlxr(v26 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v19 = wrapper_map_uniform_loc((ContextInfo *)v13, (volatile int *)*(unsigned int *)(v13 + 2068), a2);
  unsigned int v20 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const unsigned int *))(*(void *)(v13 + 32) + 5904LL))( a1,  v19,  a3,  a4);
  signed int v21 = mach_absolute_time();
  BOOL v22 = vdupq_n_s64(1uLL);
  v22.i64[0] = v21 - v20;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v22, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      unsigned int v31 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v31) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v31, v13);
      }
    }
  }

  do
  {
    unsigned int v23 = __ldaxr(v14);
    uint64_t v24 = v23 - 1;
  }

  while (__stlxr(v24, v14));
  if (gCheckGLErrors) {
    id v25 = v24 < 1;
  }
  else {
    id v25 = 1;
  }
  if (!v25) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void uniform2uiv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, const unsigned int *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v24 = handle_opengl_thread_conflict((const void **)v13);
    id v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        unsigned int v26 = __ldaxr(v14);
      while (__stlxr(v26 - 1, v14));
      unsigned int v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const unsigned int *))(*(void *)(v13 + 24) + 5912LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v23 = __ldaxr(v14);
      while (__stlxr(v23 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v19 = wrapper_map_uniform_loc((ContextInfo *)v13, (volatile int *)*(unsigned int *)(v13 + 2068), a2);
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const unsigned int *))(*(void *)(v13 + 32) + 5912LL))( a1,  v19,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v28 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v13);
      }
    }
  }

  do
  {
    unsigned int v20 = __ldaxr(v14);
    signed int v21 = v20 - 1;
  }

  while (__stlxr(v21, v14));
  if (gCheckGLErrors) {
    BOOL v22 = v21 < 1;
  }
  else {
    BOOL v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  int64x2_t v22;
  unsigned int v23;
  signed int v24;
  BOOL v25;
  unsigned int v26;
  uint64_t v27;
  id v28;
  unsigned int v29;
  dispatch_queue_s *v30;
  uint64_t v31;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v28 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unsigned int v27 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v28 = [(id)DYGetGLGuestAppClient(v27) waitOnGraphicsSemaphoreAssertions];
    if ((int)v28 >= 1)
    {
      do
LABEL_34:
        id v29 = __ldaxr(v14);
      while (__stlxr(v29 - 1, v14));
      unsigned int v30 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v28) graphicsLockWaitQueue];
      dispatch_sync_f(v30, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const unsigned int *))(*(void *)(v13 + 24) + 5912LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v28) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v26 = __ldaxr(v14);
      while (__stlxr(v26 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v19 = wrapper_map_uniform_loc((ContextInfo *)v13, (volatile int *)*(unsigned int *)(v13 + 2068), a2);
  unsigned int v20 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const unsigned int *))(*(void *)(v13 + 32) + 5912LL))( a1,  v19,  a3,  a4);
  signed int v21 = mach_absolute_time();
  BOOL v22 = vdupq_n_s64(1uLL);
  v22.i64[0] = v21 - v20;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v22, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      unsigned int v31 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v31) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v31, v13);
      }
    }
  }

  do
  {
    unsigned int v23 = __ldaxr(v14);
    uint64_t v24 = v23 - 1;
  }

  while (__stlxr(v24, v14));
  if (gCheckGLErrors) {
    id v25 = v24 < 1;
  }
  else {
    id v25 = 1;
  }
  if (!v25) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void uniform3uiv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, const unsigned int *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v24 = handle_opengl_thread_conflict((const void **)v13);
    id v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        unsigned int v26 = __ldaxr(v14);
      while (__stlxr(v26 - 1, v14));
      unsigned int v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const unsigned int *))(*(void *)(v13 + 24) + 5920LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v23 = __ldaxr(v14);
      while (__stlxr(v23 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v19 = wrapper_map_uniform_loc((ContextInfo *)v13, (volatile int *)*(unsigned int *)(v13 + 2068), a2);
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const unsigned int *))(*(void *)(v13 + 32) + 5920LL))( a1,  v19,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v28 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v13);
      }
    }
  }

  do
  {
    unsigned int v20 = __ldaxr(v14);
    signed int v21 = v20 - 1;
  }

  while (__stlxr(v21, v14));
  if (gCheckGLErrors) {
    BOOL v22 = v21 < 1;
  }
  else {
    BOOL v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  int64x2_t v22;
  unsigned int v23;
  signed int v24;
  BOOL v25;
  unsigned int v26;
  uint64_t v27;
  id v28;
  unsigned int v29;
  dispatch_queue_s *v30;
  uint64_t v31;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v28 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unsigned int v27 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v28 = [(id)DYGetGLGuestAppClient(v27) waitOnGraphicsSemaphoreAssertions];
    if ((int)v28 >= 1)
    {
      do
LABEL_34:
        id v29 = __ldaxr(v14);
      while (__stlxr(v29 - 1, v14));
      unsigned int v30 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v28) graphicsLockWaitQueue];
      dispatch_sync_f(v30, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const unsigned int *))(*(void *)(v13 + 24) + 5920LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v28) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v26 = __ldaxr(v14);
      while (__stlxr(v26 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v19 = wrapper_map_uniform_loc((ContextInfo *)v13, (volatile int *)*(unsigned int *)(v13 + 2068), a2);
  unsigned int v20 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const unsigned int *))(*(void *)(v13 + 32) + 5920LL))( a1,  v19,  a3,  a4);
  signed int v21 = mach_absolute_time();
  BOOL v22 = vdupq_n_s64(1uLL);
  v22.i64[0] = v21 - v20;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v22, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      unsigned int v31 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v31) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v31, v13);
      }
    }
  }

  do
  {
    unsigned int v23 = __ldaxr(v14);
    uint64_t v24 = v23 - 1;
  }

  while (__stlxr(v24, v14));
  if (gCheckGLErrors) {
    id v25 = v24 < 1;
  }
  else {
    id v25 = 1;
  }
  if (!v25) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void uniform4uiv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, const unsigned int *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v24 = handle_opengl_thread_conflict((const void **)v13);
    id v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        unsigned int v26 = __ldaxr(v14);
      while (__stlxr(v26 - 1, v14));
      unsigned int v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const unsigned int *))(*(void *)(v13 + 24) + 5928LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v23 = __ldaxr(v14);
      while (__stlxr(v23 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v19 = wrapper_map_uniform_loc((ContextInfo *)v13, (volatile int *)*(unsigned int *)(v13 + 2068), a2);
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const unsigned int *))(*(void *)(v13 + 32) + 5928LL))( a1,  v19,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v28 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v13);
      }
    }
  }

  do
  {
    unsigned int v20 = __ldaxr(v14);
    signed int v21 = v20 - 1;
  }

  while (__stlxr(v21, v14));
  if (gCheckGLErrors) {
    BOOL v22 = v21 < 1;
  }
  else {
    BOOL v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  int64x2_t v22;
  unsigned int v23;
  signed int v24;
  BOOL v25;
  unsigned int v26;
  uint64_t v27;
  id v28;
  unsigned int v29;
  dispatch_queue_s *v30;
  uint64_t v31;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v28 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unsigned int v27 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v28 = [(id)DYGetGLGuestAppClient(v27) waitOnGraphicsSemaphoreAssertions];
    if ((int)v28 >= 1)
    {
      do
LABEL_34:
        id v29 = __ldaxr(v14);
      while (__stlxr(v29 - 1, v14));
      unsigned int v30 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v28) graphicsLockWaitQueue];
      dispatch_sync_f(v30, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const unsigned int *))(*(void *)(v13 + 24) + 5928LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v28) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v26 = __ldaxr(v14);
      while (__stlxr(v26 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v19 = wrapper_map_uniform_loc((ContextInfo *)v13, (volatile int *)*(unsigned int *)(v13 + 2068), a2);
  unsigned int v20 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const unsigned int *))(*(void *)(v13 + 32) + 5928LL))( a1,  v19,  a3,  a4);
  signed int v21 = mach_absolute_time();
  BOOL v22 = vdupq_n_s64(1uLL);
  v22.i64[0] = v21 - v20;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v22, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      unsigned int v31 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v31) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v31, v13);
      }
    }
  }

  do
  {
    unsigned int v23 = __ldaxr(v14);
    uint64_t v24 = v23 - 1;
  }

  while (__stlxr(v24, v14));
  if (gCheckGLErrors) {
    id v25 = v24 < 1;
  }
  else {
    id v25 = 1;
  }
  if (!v25) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void uniform_matrix2x3fv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, const float *a5)
{
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      unint64_t v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  signed int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    id v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v26 = handle_opengl_thread_conflict((const void **)v15);
    id v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        unsigned int v28 = __ldaxr(v16);
      while (__stlxr(v28 - 1, v16));
      id v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 24)
                                                                                          + 5992LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        unsigned int v25 = __ldaxr(v16);
      while (__stlxr(v25 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v21 = wrapper_map_uniform_loc((ContextInfo *)v15, (volatile int *)*(unsigned int *)(v15 + 2068), a2);
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 32) + 5992LL))( a1,  v21,  a3,  a4,  a5);
  ++*(void *)(v15 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v30 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v15);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v16);
    signed int v23 = v22 - 1;
  }

  while (__stlxr(v23, v16));
  if (gCheckGLErrors) {
    BOOL v24 = v23 < 1;
  }
  else {
    BOOL v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  id v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  int64x2_t v24;
  unsigned int v25;
  signed int v26;
  BOOL v27;
  unsigned int v28;
  uint64_t v29;
  id v30;
  unsigned int v31;
  dispatch_queue_s *v32;
  uint64_t v33;
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      unint64_t v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  signed int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    uint64_t v30 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    id v29 = handle_opengl_thread_conflict((const void **)v15);
    uint64_t v30 = [(id)DYGetGLGuestAppClient(v29) waitOnGraphicsSemaphoreAssertions];
    if ((int)v30 >= 1)
    {
      do
LABEL_34:
        unsigned int v31 = __ldaxr(v16);
      while (__stlxr(v31 - 1, v16));
      uint64_t v32 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v30) graphicsLockWaitQueue];
      dispatch_sync_f(v32, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 24)
                                                                                          + 5992LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v30) state] == (char *)&dword_0 + 1)
  {
    id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        unsigned int v28 = __ldaxr(v16);
      while (__stlxr(v28 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v21 = wrapper_map_uniform_loc((ContextInfo *)v15, (volatile int *)*(unsigned int *)(v15 + 2068), a2);
  unsigned int v22 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 32) + 5992LL))( a1,  v21,  a3,  a4,  a5);
  signed int v23 = mach_absolute_time();
  BOOL v24 = vdupq_n_s64(1uLL);
  v24.i64[0] = v23 - v22;
  *(int64x2_t *)(v15 + 3696) = vaddq_s64(v24, *(int64x2_t *)(v15 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v33 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v33) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v33, v15);
      }
    }
  }

  do
  {
    unsigned int v25 = __ldaxr(v16);
    uint64_t v26 = v25 - 1;
  }

  while (__stlxr(v26, v16));
  if (gCheckGLErrors) {
    id v27 = v26 < 1;
  }
  else {
    id v27 = 1;
  }
  if (!v27) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

void uniform_matrix3x2fv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, const float *a5)
{
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      unint64_t v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  signed int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    id v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v26 = handle_opengl_thread_conflict((const void **)v15);
    id v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        unsigned int v28 = __ldaxr(v16);
      while (__stlxr(v28 - 1, v16));
      id v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 24)
                                                                                          + 6000LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        unsigned int v25 = __ldaxr(v16);
      while (__stlxr(v25 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v21 = wrapper_map_uniform_loc((ContextInfo *)v15, (volatile int *)*(unsigned int *)(v15 + 2068), a2);
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 32) + 6000LL))( a1,  v21,  a3,  a4,  a5);
  ++*(void *)(v15 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v30 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v15);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v16);
    signed int v23 = v22 - 1;
  }

  while (__stlxr(v23, v16));
  if (gCheckGLErrors) {
    BOOL v24 = v23 < 1;
  }
  else {
    BOOL v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  id v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  int64x2_t v24;
  unsigned int v25;
  signed int v26;
  BOOL v27;
  unsigned int v28;
  uint64_t v29;
  id v30;
  unsigned int v31;
  dispatch_queue_s *v32;
  uint64_t v33;
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      unint64_t v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  signed int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    uint64_t v30 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    id v29 = handle_opengl_thread_conflict((const void **)v15);
    uint64_t v30 = [(id)DYGetGLGuestAppClient(v29) waitOnGraphicsSemaphoreAssertions];
    if ((int)v30 >= 1)
    {
      do
LABEL_34:
        unsigned int v31 = __ldaxr(v16);
      while (__stlxr(v31 - 1, v16));
      uint64_t v32 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v30) graphicsLockWaitQueue];
      dispatch_sync_f(v32, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 24)
                                                                                          + 6000LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v30) state] == (char *)&dword_0 + 1)
  {
    id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        unsigned int v28 = __ldaxr(v16);
      while (__stlxr(v28 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v21 = wrapper_map_uniform_loc((ContextInfo *)v15, (volatile int *)*(unsigned int *)(v15 + 2068), a2);
  unsigned int v22 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 32) + 6000LL))( a1,  v21,  a3,  a4,  a5);
  signed int v23 = mach_absolute_time();
  BOOL v24 = vdupq_n_s64(1uLL);
  v24.i64[0] = v23 - v22;
  *(int64x2_t *)(v15 + 3696) = vaddq_s64(v24, *(int64x2_t *)(v15 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v33 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v33) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v33, v15);
      }
    }
  }

  do
  {
    unsigned int v25 = __ldaxr(v16);
    uint64_t v26 = v25 - 1;
  }

  while (__stlxr(v26, v16));
  if (gCheckGLErrors) {
    id v27 = v26 < 1;
  }
  else {
    id v27 = 1;
  }
  if (!v27) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

void uniform_matrix2x4fv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, const float *a5)
{
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      unint64_t v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  signed int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    id v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v26 = handle_opengl_thread_conflict((const void **)v15);
    id v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        unsigned int v28 = __ldaxr(v16);
      while (__stlxr(v28 - 1, v16));
      id v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 24)
                                                                                          + 6008LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        unsigned int v25 = __ldaxr(v16);
      while (__stlxr(v25 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v21 = wrapper_map_uniform_loc((ContextInfo *)v15, (volatile int *)*(unsigned int *)(v15 + 2068), a2);
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 32) + 6008LL))( a1,  v21,  a3,  a4,  a5);
  ++*(void *)(v15 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v30 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v15);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v16);
    signed int v23 = v22 - 1;
  }

  while (__stlxr(v23, v16));
  if (gCheckGLErrors) {
    BOOL v24 = v23 < 1;
  }
  else {
    BOOL v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  id v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  int64x2_t v24;
  unsigned int v25;
  signed int v26;
  BOOL v27;
  unsigned int v28;
  uint64_t v29;
  id v30;
  unsigned int v31;
  dispatch_queue_s *v32;
  uint64_t v33;
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      unint64_t v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  signed int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    uint64_t v30 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    id v29 = handle_opengl_thread_conflict((const void **)v15);
    uint64_t v30 = [(id)DYGetGLGuestAppClient(v29) waitOnGraphicsSemaphoreAssertions];
    if ((int)v30 >= 1)
    {
      do
LABEL_34:
        unsigned int v31 = __ldaxr(v16);
      while (__stlxr(v31 - 1, v16));
      uint64_t v32 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v30) graphicsLockWaitQueue];
      dispatch_sync_f(v32, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 24)
                                                                                          + 6008LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v30) state] == (char *)&dword_0 + 1)
  {
    id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        unsigned int v28 = __ldaxr(v16);
      while (__stlxr(v28 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v21 = wrapper_map_uniform_loc((ContextInfo *)v15, (volatile int *)*(unsigned int *)(v15 + 2068), a2);
  unsigned int v22 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 32) + 6008LL))( a1,  v21,  a3,  a4,  a5);
  signed int v23 = mach_absolute_time();
  BOOL v24 = vdupq_n_s64(1uLL);
  v24.i64[0] = v23 - v22;
  *(int64x2_t *)(v15 + 3696) = vaddq_s64(v24, *(int64x2_t *)(v15 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v33 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v33) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v33, v15);
      }
    }
  }

  do
  {
    unsigned int v25 = __ldaxr(v16);
    uint64_t v26 = v25 - 1;
  }

  while (__stlxr(v26, v16));
  if (gCheckGLErrors) {
    id v27 = v26 < 1;
  }
  else {
    id v27 = 1;
  }
  if (!v27) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

void uniform_matrix4x2fv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, const float *a5)
{
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      unint64_t v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  signed int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    id v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v26 = handle_opengl_thread_conflict((const void **)v15);
    id v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        unsigned int v28 = __ldaxr(v16);
      while (__stlxr(v28 - 1, v16));
      id v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 24)
                                                                                          + 6016LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        unsigned int v25 = __ldaxr(v16);
      while (__stlxr(v25 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v21 = wrapper_map_uniform_loc((ContextInfo *)v15, (volatile int *)*(unsigned int *)(v15 + 2068), a2);
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 32) + 6016LL))( a1,  v21,  a3,  a4,  a5);
  ++*(void *)(v15 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v30 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v15);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v16);
    signed int v23 = v22 - 1;
  }

  while (__stlxr(v23, v16));
  if (gCheckGLErrors) {
    BOOL v24 = v23 < 1;
  }
  else {
    BOOL v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  id v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  int64x2_t v24;
  unsigned int v25;
  signed int v26;
  BOOL v27;
  unsigned int v28;
  uint64_t v29;
  id v30;
  unsigned int v31;
  dispatch_queue_s *v32;
  uint64_t v33;
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      unint64_t v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  signed int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    uint64_t v30 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    id v29 = handle_opengl_thread_conflict((const void **)v15);
    uint64_t v30 = [(id)DYGetGLGuestAppClient(v29) waitOnGraphicsSemaphoreAssertions];
    if ((int)v30 >= 1)
    {
      do
LABEL_34:
        unsigned int v31 = __ldaxr(v16);
      while (__stlxr(v31 - 1, v16));
      uint64_t v32 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v30) graphicsLockWaitQueue];
      dispatch_sync_f(v32, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 24)
                                                                                          + 6016LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v30) state] == (char *)&dword_0 + 1)
  {
    id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        unsigned int v28 = __ldaxr(v16);
      while (__stlxr(v28 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v21 = wrapper_map_uniform_loc((ContextInfo *)v15, (volatile int *)*(unsigned int *)(v15 + 2068), a2);
  unsigned int v22 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 32) + 6016LL))( a1,  v21,  a3,  a4,  a5);
  signed int v23 = mach_absolute_time();
  BOOL v24 = vdupq_n_s64(1uLL);
  v24.i64[0] = v23 - v22;
  *(int64x2_t *)(v15 + 3696) = vaddq_s64(v24, *(int64x2_t *)(v15 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v33 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v33) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v33, v15);
      }
    }
  }

  do
  {
    unsigned int v25 = __ldaxr(v16);
    uint64_t v26 = v25 - 1;
  }

  while (__stlxr(v26, v16));
  if (gCheckGLErrors) {
    id v27 = v26 < 1;
  }
  else {
    id v27 = 1;
  }
  if (!v27) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

void uniform_matrix3x4fv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, const float *a5)
{
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      unint64_t v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  signed int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    id v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v26 = handle_opengl_thread_conflict((const void **)v15);
    id v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        unsigned int v28 = __ldaxr(v16);
      while (__stlxr(v28 - 1, v16));
      id v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 24)
                                                                                          + 6024LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        unsigned int v25 = __ldaxr(v16);
      while (__stlxr(v25 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v21 = wrapper_map_uniform_loc((ContextInfo *)v15, (volatile int *)*(unsigned int *)(v15 + 2068), a2);
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 32) + 6024LL))( a1,  v21,  a3,  a4,  a5);
  ++*(void *)(v15 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v30 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v15);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v16);
    signed int v23 = v22 - 1;
  }

  while (__stlxr(v23, v16));
  if (gCheckGLErrors) {
    BOOL v24 = v23 < 1;
  }
  else {
    BOOL v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  id v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  int64x2_t v24;
  unsigned int v25;
  signed int v26;
  BOOL v27;
  unsigned int v28;
  uint64_t v29;
  id v30;
  unsigned int v31;
  dispatch_queue_s *v32;
  uint64_t v33;
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      unint64_t v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  signed int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    uint64_t v30 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    id v29 = handle_opengl_thread_conflict((const void **)v15);
    uint64_t v30 = [(id)DYGetGLGuestAppClient(v29) waitOnGraphicsSemaphoreAssertions];
    if ((int)v30 >= 1)
    {
      do
LABEL_34:
        unsigned int v31 = __ldaxr(v16);
      while (__stlxr(v31 - 1, v16));
      uint64_t v32 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v30) graphicsLockWaitQueue];
      dispatch_sync_f(v32, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 24)
                                                                                          + 6024LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v30) state] == (char *)&dword_0 + 1)
  {
    id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        unsigned int v28 = __ldaxr(v16);
      while (__stlxr(v28 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v21 = wrapper_map_uniform_loc((ContextInfo *)v15, (volatile int *)*(unsigned int *)(v15 + 2068), a2);
  unsigned int v22 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 32) + 6024LL))( a1,  v21,  a3,  a4,  a5);
  signed int v23 = mach_absolute_time();
  BOOL v24 = vdupq_n_s64(1uLL);
  v24.i64[0] = v23 - v22;
  *(int64x2_t *)(v15 + 3696) = vaddq_s64(v24, *(int64x2_t *)(v15 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v33 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v33) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v33, v15);
      }
    }
  }

  do
  {
    unsigned int v25 = __ldaxr(v16);
    uint64_t v26 = v25 - 1;
  }

  while (__stlxr(v26, v16));
  if (gCheckGLErrors) {
    id v27 = v26 < 1;
  }
  else {
    id v27 = 1;
  }
  if (!v27) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

void uniform_matrix4x3fv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, const float *a5)
{
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      unint64_t v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  signed int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    id v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v26 = handle_opengl_thread_conflict((const void **)v15);
    id v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        unsigned int v28 = __ldaxr(v16);
      while (__stlxr(v28 - 1, v16));
      id v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 24)
                                                                                          + 6032LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        unsigned int v25 = __ldaxr(v16);
      while (__stlxr(v25 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v21 = wrapper_map_uniform_loc((ContextInfo *)v15, (volatile int *)*(unsigned int *)(v15 + 2068), a2);
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 32) + 6032LL))( a1,  v21,  a3,  a4,  a5);
  ++*(void *)(v15 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v30 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v15);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v16);
    signed int v23 = v22 - 1;
  }

  while (__stlxr(v23, v16));
  if (gCheckGLErrors) {
    BOOL v24 = v23 < 1;
  }
  else {
    BOOL v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  id v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  int64x2_t v24;
  unsigned int v25;
  signed int v26;
  BOOL v27;
  unsigned int v28;
  uint64_t v29;
  id v30;
  unsigned int v31;
  dispatch_queue_s *v32;
  uint64_t v33;
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      unint64_t v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  signed int v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    uint64_t v30 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    id v29 = handle_opengl_thread_conflict((const void **)v15);
    uint64_t v30 = [(id)DYGetGLGuestAppClient(v29) waitOnGraphicsSemaphoreAssertions];
    if ((int)v30 >= 1)
    {
      do
LABEL_34:
        unsigned int v31 = __ldaxr(v16);
      while (__stlxr(v31 - 1, v16));
      uint64_t v32 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v30) graphicsLockWaitQueue];
      dispatch_sync_f(v32, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 24)
                                                                                          + 6032LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_BYTE *)(v15 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v30) state] == (char *)&dword_0 + 1)
  {
    id v20 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        unsigned int v28 = __ldaxr(v16);
      while (__stlxr(v28 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  uint64_t v21 = wrapper_map_uniform_loc((ContextInfo *)v15, (volatile int *)*(unsigned int *)(v15 + 2068), a2);
  unsigned int v22 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const float *))(*(void *)(v15 + 32) + 6032LL))( a1,  v21,  a3,  a4,  a5);
  signed int v23 = mach_absolute_time();
  BOOL v24 = vdupq_n_s64(1uLL);
  v24.i64[0] = v23 - v22;
  *(int64x2_t *)(v15 + 3696) = vaddq_s64(v24, *(int64x2_t *)(v15 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v15);
    if (gBreakOnError)
    {
      uint64_t v33 = *(unsigned int *)(v15 + 3404);
      if ((_DWORD)v33) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v33, v15);
      }
    }
  }

  do
  {
    unsigned int v25 = __ldaxr(v16);
    uint64_t v26 = v25 - 1;
  }

  while (__stlxr(v26, v16));
  if (gCheckGLErrors) {
    id v27 = v26 < 1;
  }
  else {
    id v27 = 1;
  }
  if (!v27) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

void blit_framebuffer( __GLIContextRec *a1, uint64_t a2, uint64_t a3, int a4, unsigned int a5, unsigned int a6, unsigned int a7, unsigned int a8, uint64_t a9, unsigned int a10)
{
  HIDWORD(v39) = a4;
  BOOL v13 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v13) {
    goto LABEL_12;
  }
  uint64_t v14 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v15 = v13[4];
    BOOL v16 = v15 >= (unint64_t)a1;
    else {
      unsigned int v17 = v13 + 1;
    }
    if (v16) {
      uint64_t v14 = (uint64_t)v13;
    }
    BOOL v13 = (void *)*v17;
  }

  while (*v17);
  if (v14 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v14 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v14 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v18 = *(void *)(v14 + 40);
  BOOL v19 = (unsigned int *)(v18 + 4640);
  do
  {
    unsigned int v20 = __ldaxr(v19);
    signed int v21 = v20 + 1;
  }

  while (__stlxr(v21, v19));
  if (gCheckGLErrors) {
    BOOL v22 = v21 <= 1;
  }
  else {
    BOOL v22 = 1;
  }
  if (v22)
  {
    id v30 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v29 = handle_opengl_thread_conflict((const void **)v18);
    id v30 = [(id)DYGetGLGuestAppClient(v29) waitOnGraphicsSemaphoreAssertions];
    if ((int)v30 >= 1)
    {
      do
LABEL_35:
        unsigned int v31 = __ldaxr(v19);
      while (__stlxr(v31 - 1, v19));
      uint64_t v32 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v30) graphicsLockWaitQueue];
      dispatch_sync_f(v32, 0LL, (dispatch_function_t)do_nothing);
LABEL_37:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, void, void, void, void, void, uint64_t))(*(void *)(v18 + 24) + 6040LL))( a1,  a2,  a3,  HIDWORD(v39),  a5,  a6,  a7,  a8,  a9);
      return;
    }
  }

  *(_WORD *)(v18 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 257;
  signed int v23 = (char *)[(id)DYGetGLGuestAppClient(v30) state];
  if (v23 == (_BYTE *)&dword_0 + 1)
  {
    signed int v23 = (char *)[(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v23)
    {
      do
        unsigned int v28 = __ldaxr(v19);
      while (__stlxr(v28 - 1, v19));
      [(id)DYGetGLGuestAppClient(v23) triggerArmedCapture];
      goto LABEL_37;
    }
  }

  id v24 = [(id)DYGetGLGuestAppClient(v23) overrideFlags];
  if ((_DWORD)v24)
  {
    id v33 = [(id)DYGetGLGuestAppClient(v24) overrideFlags];
    if ((v33 & 8) == 0)
    {
      BOOL v34 = (volatile int *)[(id)DYGetGLGuestAppClient(v33) overrideFlags];
      apply_draw_overrides(v18, v34);
      LODWORD(v39) = a10;
      uint64_t v35 = (*(uint64_t (**)(__GLIContextRec *, uint64_t, uint64_t, void, void, void, void, void, uint64_t, uint64_t))(*(void *)(v18 + 32) + 6040LL))( a1,  a2,  a3,  HIDWORD(v39),  a5,  a6,  a7,  a8,  a9,  v39);
      ++*(void *)(v18 + 3704);
      if (gCheckGLErrors)
      {
        uint64_t v35 = check_errors(v18);
        if (gBreakOnError)
        {
          uint64_t v38 = *(unsigned int *)(v18 + 3404);
          if ((_DWORD)v38) {
            breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v38, v18);
          }
        }
      }

      int v36 = [(id)DYGetGLGuestAppClient(v35) overrideFlags];
      unapply_draw_overrides(v18, v36);
    }
  }

  else
  {
    LODWORD(v39) = a10;
    (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, void, void, void, void, void, uint64_t, uint64_t))(*(void *)(v18 + 32) + 6040LL))( a1,  a2,  a3,  HIDWORD(v39),  a5,  a6,  a7,  a8,  a9,  v39);
    ++*(void *)(v18 + 3704);
    if (gCheckGLErrors)
    {
      check_errors(v18);
      if (gBreakOnError)
      {
        uint64_t v37 = *(unsigned int *)(v18 + 3404);
        if ((_DWORD)v37) {
          breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v37, v18);
        }
      }
    }
  }

  do
  {
    unsigned int v25 = __ldaxr(v19);
    signed int v26 = v25 - 1;
  }

  while (__stlxr(v26, v19));
  if (gCheckGLErrors) {
    BOOL v27 = v26 < 1;
  }
  else {
    BOOL v27 = 1;
  }
  if (!v27) {
    handle_opengl_thread_conflict((const void **)v18);
  }
}

void draw_arrays_instanced(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      uint64_t v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  BOOL v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    id v30 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v29 = handle_opengl_thread_conflict((const void **)v15);
    id v30 = [(id)DYGetGLGuestAppClient(v29) waitOnGraphicsSemaphoreAssertions];
    if ((int)v30 >= 1)
    {
      do
LABEL_47:
        unsigned int v31 = __ldaxr(v16);
      while (__stlxr(v31 - 1, v16));
      uint64_t v32 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v30) graphicsLockWaitQueue];
      dispatch_sync_f(v32, 0LL, (dispatch_function_t)do_nothing);
LABEL_49:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 24) + 6096LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_WORD *)(v15 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 257;
  unsigned int v20 = (char *)[(id)DYGetGLGuestAppClient(v30) state];
  if (v20 == (_BYTE *)&dword_0 + 1)
  {
    unsigned int v20 = (char *)[(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        unsigned int v28 = __ldaxr(v16);
      while (__stlxr(v28 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_49;
    }
  }

  id v21 = [(id)DYGetGLGuestAppClient(v20) overrideFlags];
  if ((_DWORD)v21)
  {
    id v33 = [(id)DYGetGLGuestAppClient(v21) overrideFlags];
    if ((v33 & 8) == 0)
    {
      BOOL v34 = (volatile int *)[(id)DYGetGLGuestAppClient(v33) overrideFlags];
      apply_draw_overrides(v15, v34);
      uint64_t v35 = (*(uint64_t (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 32)
                                                                                             + 6096LL))( a1,  a2,  a3,  a4,  a5);
      ++*(void *)(v15 + 3704);
      if (gCheckGLErrors)
      {
        uint64_t v35 = check_errors(v15);
        if (gBreakOnError)
        {
          uint64_t v38 = *(unsigned int *)(v15 + 3404);
          if ((_DWORD)v38) {
            breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v38, v15);
          }
        }
      }

      int v36 = [(id)DYGetGLGuestAppClient(v35) overrideFlags];
      unapply_draw_overrides(v15, v36);
    }
  }

  else
  {
    (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 32) + 6096LL))( a1,  a2,  a3,  a4,  a5);
    ++*(void *)(v15 + 3704);
    if (gCheckGLErrors)
    {
      check_errors(v15);
      if (gBreakOnError)
      {
        uint64_t v37 = *(unsigned int *)(v15 + 3404);
        if ((_DWORD)v37) {
          breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v37, v15);
        }
      }
    }
  }

  if (!*(_DWORD *)(v15 + 3404))
  {
    unsigned int v22 = a4;
    switch((int)a2)
    {
      case 0:
      case 2:
        goto LABEL_36;
      case 1:
        unsigned int v22 = (int)a4 >> 1;
        goto LABEL_36;
      case 3:
        unsigned int v22 = a4 - 1;
        BOOL v23 = (int)a4 <= 1;
        goto LABEL_33;
      case 4:
        unsigned int v22 = (int)a4 / 3;
        goto LABEL_36;
      case 5:
      case 6:
        unsigned int v22 = a4 - 2;
        BOOL v23 = (int)a4 <= 2;
        goto LABEL_33;
      case 7:
        unsigned int v22 = (int)a4 / 4;
        goto LABEL_36;
      case 8:
        unsigned int v22 = (a4 - 2) >> 1;
        BOOL v23 = (int)a4 <= 3;
LABEL_33:
        if (v23) {
          unsigned int v22 = 0;
        }
LABEL_36:
        id v24 = (int64x2_t *)(v15 + 32LL * a2);
        v24[276] = vaddw_s32(v24[276], vmul_s32(vdup_n_s32(a5), (int32x2_t)__PAIR64__(v22, a4)));
        ++v24[275].i64[1];
        v24[277].i64[0] += (int)a5;
        goto LABEL_37;
      default:
        uint64_t v39 = (__GLIContextRec *)dy_abort("unsupported mode: 0x%0.4x\n", a2);
        draw_elements_instanced(v39, v40, v41, v42, v43, v44);
        return;
    }
  }

  do
  {
LABEL_37:
    unsigned int v25 = __ldaxr(v16);
    signed int v26 = v25 - 1;
  }

  while (__stlxr(v26, v16));
  if (gCheckGLErrors) {
    BOOL v27 = v26 < 1;
  }
  else {
    BOOL v27 = 1;
  }
  if (!v27) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  char *v20;
  id v21;
  uint64_t v22;
  uint64_t v23;
  int64x2_t v24;
  unsigned int v25;
  BOOL v26;
  int64x2_t *v27;
  unsigned int v28;
  signed int v29;
  BOOL v30;
  unsigned int v31;
  uint64_t v32;
  id v33;
  unsigned int v34;
  dispatch_queue_s *v35;
  id v36;
  volatile int *v37;
  uint64_t v38;
  uint64_t v39;
  int64x2_t v40;
  int v41;
  uint64_t v42;
  uint64_t v43;
  __GLIContextRec *v44;
  unsigned int v45;
  int v46;
  unsigned int v47;
  const void *v48;
  int v49;
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      uint64_t v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  BOOL v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    id v33 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v32 = handle_opengl_thread_conflict((const void **)v15);
    id v33 = [(id)DYGetGLGuestAppClient(v32) waitOnGraphicsSemaphoreAssertions];
    if ((int)v33 >= 1)
    {
      do
LABEL_47:
        BOOL v34 = __ldaxr(v16);
      while (__stlxr(v34 - 1, v16));
      uint64_t v35 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v33) graphicsLockWaitQueue];
      dispatch_sync_f(v35, 0LL, (dispatch_function_t)do_nothing);
LABEL_49:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 24) + 6096LL))( a1,  a2,  a3,  a4,  a5);
      return;
    }
  }

  *(_WORD *)(v15 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 257;
  unsigned int v20 = (char *)[(id)DYGetGLGuestAppClient(v33) state];
  if (v20 == (_BYTE *)&dword_0 + 1)
  {
    unsigned int v20 = (char *)[(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        unsigned int v31 = __ldaxr(v16);
      while (__stlxr(v31 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_49;
    }
  }

  id v21 = [(id)DYGetGLGuestAppClient(v20) overrideFlags];
  if ((_DWORD)v21)
  {
    int v36 = [(id)DYGetGLGuestAppClient(v21) overrideFlags];
    if ((v36 & 8) == 0)
    {
      uint64_t v37 = (volatile int *)[(id)DYGetGLGuestAppClient(v36) overrideFlags];
      apply_draw_overrides(v15, v37);
      uint64_t v38 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 32) + 6096LL))( a1,  a2,  a3,  a4,  a5);
      uint64_t v39 = mach_absolute_time();
      unsigned int v40 = vdupq_n_s64(1uLL);
      v40.i64[0] = v39 - v38;
      *(int64x2_t *)(v15 + 3696) = vaddq_s64(v40, *(int64x2_t *)(v15 + 3696));
      if (gCheckGLErrors)
      {
        uint64_t v39 = check_errors(v15);
        if (gBreakOnError)
        {
          int v43 = *(unsigned int *)(v15 + 3404);
          if ((_DWORD)v43) {
            breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v43, v15);
          }
        }
      }

      int v41 = [(id)DYGetGLGuestAppClient(v39) overrideFlags];
      unapply_draw_overrides(v15, v41);
    }
  }

  else
  {
    unsigned int v22 = mach_absolute_time();
    (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 32) + 6096LL))( a1,  a2,  a3,  a4,  a5);
    BOOL v23 = mach_absolute_time();
    id v24 = vdupq_n_s64(1uLL);
    v24.i64[0] = v23 - v22;
    *(int64x2_t *)(v15 + 3696) = vaddq_s64(v24, *(int64x2_t *)(v15 + 3696));
    if (gCheckGLErrors)
    {
      check_errors(v15);
      if (gBreakOnError)
      {
        unsigned int v42 = *(unsigned int *)(v15 + 3404);
        if ((_DWORD)v42) {
          breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v42, v15);
        }
      }
    }
  }

  if (!*(_DWORD *)(v15 + 3404))
  {
    unsigned int v25 = a4;
    switch((int)a2)
    {
      case 0:
      case 2:
        goto LABEL_36;
      case 1:
        unsigned int v25 = (int)a4 >> 1;
        goto LABEL_36;
      case 3:
        unsigned int v25 = a4 - 1;
        signed int v26 = (int)a4 <= 1;
        goto LABEL_33;
      case 4:
        unsigned int v25 = (int)a4 / 3;
        goto LABEL_36;
      case 5:
      case 6:
        unsigned int v25 = a4 - 2;
        signed int v26 = (int)a4 <= 2;
        goto LABEL_33;
      case 7:
        unsigned int v25 = (int)a4 / 4;
        goto LABEL_36;
      case 8:
        unsigned int v25 = (a4 - 2) >> 1;
        signed int v26 = (int)a4 <= 3;
LABEL_33:
        if (v26) {
          unsigned int v25 = 0;
        }
LABEL_36:
        BOOL v27 = (int64x2_t *)(v15 + 32LL * a2);
        v27[276] = vaddw_s32(v27[276], vmul_s32(vdup_n_s32(a5), (int32x2_t)__PAIR64__(v25, a4)));
        ++v27[275].i64[1];
        v27[277].i64[0] += (int)a5;
        goto LABEL_37;
      default:
        int v44 = (__GLIContextRec *)dy_abort("unsupported mode: 0x%0.4x\n", a2);
        draw_elements_instanced(v44, v45, v46, v47, v48, v49);
        return;
    }
  }

  do
  {
LABEL_37:
    unsigned int v28 = __ldaxr(v16);
    uint64_t v29 = v28 - 1;
  }

  while (__stlxr(v29, v16));
  if (gCheckGLErrors) {
    id v30 = v29 < 1;
  }
  else {
    id v30 = 1;
  }
  if (!v30) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

void draw_elements_instanced( __GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4, const void *a5, uint64_t a6)
{
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      BOOL v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  signed int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    id v32 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v31 = handle_opengl_thread_conflict((const void **)v17);
    id v32 = [(id)DYGetGLGuestAppClient(v31) waitOnGraphicsSemaphoreAssertions];
    if ((int)v32 >= 1)
    {
      do
LABEL_47:
        unsigned int v33 = __ldaxr(v18);
      while (__stlxr(v33 - 1, v18));
      BOOL v34 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v32) graphicsLockWaitQueue];
      dispatch_sync_f(v34, 0LL, (dispatch_function_t)do_nothing);
LABEL_49:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const void *, uint64_t))(*(void *)(v17 + 24)
                                                                                                  + 6104LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_WORD *)(v17 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 257;
  unsigned int v22 = (char *)[(id)DYGetGLGuestAppClient(v32) state];
  if (v22 == (_BYTE *)&dword_0 + 1)
  {
    unsigned int v22 = (char *)[(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v22)
    {
      do
        unsigned int v30 = __ldaxr(v18);
      while (__stlxr(v30 - 1, v18));
      [(id)DYGetGLGuestAppClient(v22) triggerArmedCapture];
      goto LABEL_49;
    }
  }

  id v23 = [(id)DYGetGLGuestAppClient(v22) overrideFlags];
  if ((_DWORD)v23)
  {
    id v35 = [(id)DYGetGLGuestAppClient(v23) overrideFlags];
    if ((v35 & 8) == 0)
    {
      int v36 = (volatile int *)[(id)DYGetGLGuestAppClient(v35) overrideFlags];
      apply_draw_overrides(v17, v36);
      uint64_t v37 = (*(uint64_t (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const void *, uint64_t))(*(void *)(v17 + 32) + 6104LL))( a1,  a2,  a3,  a4,  a5,  a6);
      ++*(void *)(v17 + 3704);
      if (gCheckGLErrors)
      {
        uint64_t v37 = check_errors(v17);
        if (gBreakOnError)
        {
          uint64_t v40 = *(unsigned int *)(v17 + 3404);
          if ((_DWORD)v40) {
            breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v40, v17);
          }
        }
      }

      int v38 = [(id)DYGetGLGuestAppClient(v37) overrideFlags];
      unapply_draw_overrides(v17, v38);
    }
  }

  else
  {
    (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const void *, uint64_t))(*(void *)(v17 + 32)
                                                                                                + 6104LL))( a1,  a2,  a3,  a4,  a5,  a6);
    ++*(void *)(v17 + 3704);
    if (gCheckGLErrors)
    {
      check_errors(v17);
      if (gBreakOnError)
      {
        uint64_t v39 = *(unsigned int *)(v17 + 3404);
        if ((_DWORD)v39) {
          breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v39, v17);
        }
      }
    }
  }

  if (!*(_DWORD *)(v17 + 3404))
  {
    unsigned int v24 = a3;
    switch((int)a2)
    {
      case 0:
      case 2:
        goto LABEL_36;
      case 1:
        unsigned int v24 = (int)a3 >> 1;
        goto LABEL_36;
      case 3:
        unsigned int v24 = a3 - 1;
        BOOL v25 = (int)a3 <= 1;
        goto LABEL_33;
      case 4:
        unsigned int v24 = (int)a3 / 3;
        goto LABEL_36;
      case 5:
      case 6:
        unsigned int v24 = a3 - 2;
        BOOL v25 = (int)a3 <= 2;
        goto LABEL_33;
      case 7:
        unsigned int v24 = (int)a3 / 4;
        goto LABEL_36;
      case 8:
        unsigned int v24 = (a3 - 2) >> 1;
        BOOL v25 = (int)a3 <= 3;
LABEL_33:
        if (v25) {
          unsigned int v24 = 0;
        }
LABEL_36:
        signed int v26 = (int64x2_t *)(v17 + 32LL * a2);
        v26[262] = vaddw_s32(v26[262], vmul_s32(vdup_n_s32(a6), (int32x2_t)__PAIR64__(v24, a3)));
        ++v26[261].i64[1];
        v26[263].i64[0] += (int)a6;
        goto LABEL_37;
      default:
        int v41 = (__GLIContextRec *)dy_abort("unsupported mode: 0x%0.4x\n", a2);
        bind_vertex_array(v41, v42);
        return;
    }
  }

  do
  {
LABEL_37:
    unsigned int v27 = __ldaxr(v18);
    signed int v28 = v27 - 1;
  }

  while (__stlxr(v28, v18));
  if (gCheckGLErrors) {
    BOOL v29 = v28 < 1;
  }
  else {
    BOOL v29 = 1;
  }
  if (!v29) {
    handle_opengl_thread_conflict((const void **)v17);
  }
}

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  char *v22;
  id v23;
  uint64_t v24;
  uint64_t v25;
  int64x2_t v26;
  unsigned int v27;
  BOOL v28;
  int64x2_t *v29;
  unsigned int v30;
  signed int v31;
  BOOL v32;
  unsigned int v33;
  uint64_t v34;
  id v35;
  unsigned int v36;
  dispatch_queue_s *v37;
  id v38;
  volatile int *v39;
  uint64_t v40;
  uint64_t v41;
  int64x2_t v42;
  int v43;
  uint64_t v44;
  uint64_t v45;
  __GLIContextRec *v46;
  unsigned int v47;
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      BOOL v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  signed int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    id v35 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    BOOL v34 = handle_opengl_thread_conflict((const void **)v17);
    id v35 = [(id)DYGetGLGuestAppClient(v34) waitOnGraphicsSemaphoreAssertions];
    if ((int)v35 >= 1)
    {
      do
LABEL_47:
        int v36 = __ldaxr(v18);
      while (__stlxr(v36 - 1, v18));
      uint64_t v37 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v35) graphicsLockWaitQueue];
      dispatch_sync_f(v37, 0LL, (dispatch_function_t)do_nothing);
LABEL_49:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const void *, uint64_t))(*(void *)(v17 + 24)
                                                                                                  + 6104LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_WORD *)(v17 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 257;
  unsigned int v22 = (char *)[(id)DYGetGLGuestAppClient(v35) state];
  if (v22 == (_BYTE *)&dword_0 + 1)
  {
    unsigned int v22 = (char *)[(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v22)
    {
      do
        unsigned int v33 = __ldaxr(v18);
      while (__stlxr(v33 - 1, v18));
      [(id)DYGetGLGuestAppClient(v22) triggerArmedCapture];
      goto LABEL_49;
    }
  }

  id v23 = [(id)DYGetGLGuestAppClient(v22) overrideFlags];
  if ((_DWORD)v23)
  {
    int v38 = [(id)DYGetGLGuestAppClient(v23) overrideFlags];
    if ((v38 & 8) == 0)
    {
      uint64_t v39 = (volatile int *)[(id)DYGetGLGuestAppClient(v38) overrideFlags];
      apply_draw_overrides(v17, v39);
      uint64_t v40 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const void *, uint64_t))(*(void *)(v17 + 32)
                                                                                                  + 6104LL))( a1,  a2,  a3,  a4,  a5,  a6);
      int v41 = mach_absolute_time();
      unsigned int v42 = vdupq_n_s64(1uLL);
      v42.i64[0] = v41 - v40;
      *(int64x2_t *)(v17 + 3696) = vaddq_s64(v42, *(int64x2_t *)(v17 + 3696));
      if (gCheckGLErrors)
      {
        int v41 = check_errors(v17);
        if (gBreakOnError)
        {
          uint64_t v45 = *(unsigned int *)(v17 + 3404);
          if ((_DWORD)v45) {
            breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v45, v17);
          }
        }
      }

      int v43 = [(id)DYGetGLGuestAppClient(v41) overrideFlags];
      unapply_draw_overrides(v17, v43);
    }
  }

  else
  {
    unsigned int v24 = mach_absolute_time();
    (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, const void *, uint64_t))(*(void *)(v17 + 32)
                                                                                                + 6104LL))( a1,  a2,  a3,  a4,  a5,  a6);
    BOOL v25 = mach_absolute_time();
    signed int v26 = vdupq_n_s64(1uLL);
    v26.i64[0] = v25 - v24;
    *(int64x2_t *)(v17 + 3696) = vaddq_s64(v26, *(int64x2_t *)(v17 + 3696));
    if (gCheckGLErrors)
    {
      check_errors(v17);
      if (gBreakOnError)
      {
        int v44 = *(unsigned int *)(v17 + 3404);
        if ((_DWORD)v44) {
          breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v44, v17);
        }
      }
    }
  }

  if (!*(_DWORD *)(v17 + 3404))
  {
    unsigned int v27 = a3;
    switch((int)a2)
    {
      case 0:
      case 2:
        goto LABEL_36;
      case 1:
        unsigned int v27 = (int)a3 >> 1;
        goto LABEL_36;
      case 3:
        unsigned int v27 = a3 - 1;
        signed int v28 = (int)a3 <= 1;
        goto LABEL_33;
      case 4:
        unsigned int v27 = (int)a3 / 3;
        goto LABEL_36;
      case 5:
      case 6:
        unsigned int v27 = a3 - 2;
        signed int v28 = (int)a3 <= 2;
        goto LABEL_33;
      case 7:
        unsigned int v27 = (int)a3 / 4;
        goto LABEL_36;
      case 8:
        unsigned int v27 = (a3 - 2) >> 1;
        signed int v28 = (int)a3 <= 3;
LABEL_33:
        if (v28) {
          unsigned int v27 = 0;
        }
LABEL_36:
        BOOL v29 = (int64x2_t *)(v17 + 32LL * a2);
        v29[262] = vaddw_s32(v29[262], vmul_s32(vdup_n_s32(a6), (int32x2_t)__PAIR64__(v27, a3)));
        ++v29[261].i64[1];
        v29[263].i64[0] += (int)a6;
        goto LABEL_37;
      default:
        unsigned int v46 = (__GLIContextRec *)dy_abort("unsupported mode: 0x%0.4x\n", a2);
        bind_vertex_array(v46, v47);
        return;
    }
  }

  do
  {
LABEL_37:
    unsigned int v30 = __ldaxr(v18);
    uint64_t v31 = v30 - 1;
  }

  while (__stlxr(v31, v18));
  if (gCheckGLErrors) {
    id v32 = v31 < 1;
  }
  else {
    id v32 = 1;
  }
  if (!v32) {
    handle_opengl_thread_conflict((const void **)v17);
  }
}

uint64_t bind_vertex_array(__GLIContextRec *a1, uint64_t a2)
{
  uint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    uint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  unint64_t v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    id v21 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v20 = handle_opengl_thread_conflict((const void **)v9);
    id v21 = [(id)DYGetGLGuestAppClient(v20) waitOnGraphicsSemaphoreAssertions];
    if ((int)v21 >= 1)
    {
      do
LABEL_35:
        unsigned int v22 = __ldaxr(v10);
      while (__stlxr(v22 - 1, v10));
      id v23 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v21) graphicsLockWaitQueue];
      dispatch_sync_f(v23, 0LL, (dispatch_function_t)do_nothing);
      return (*(uint64_t (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 6144LL))(a1, a2);
    }
  }

  *(_BYTE *)(v9 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v21) state] == (char *)&dword_0 + 1)
  {
    id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v14)
    {
      do
        unsigned int v19 = __ldaxr(v10);
      while (__stlxr(v19 - 1, v10));
      [(id)DYGetGLGuestAppClient(v14) triggerArmedCapture];
      return (*(uint64_t (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 6144LL))(a1, a2);
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 32) + 6144LL))(a1, a2);
  ++*(void *)(v9 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v9);
    if (gBreakOnError)
    {
      uint64_t v24 = *(unsigned int *)(v9 + 3404);
      if ((_DWORD)v24) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v24, v9);
      }
    }
  }

  (*(void (**)(void, uint64_t, uint64_t))(*(void *)(v9 + 32) + 832LL))( *(void *)(v9 + 16),  34964LL,  v9 + 2032);
  uint64_t result = (*(uint64_t (**)(void, uint64_t, uint64_t))(*(void *)(v9 + 32) + 832LL))( *(void *)(v9 + 16),  34965LL,  v9 + 2036);
  do
  {
    unsigned int v16 = __ldaxr(v10);
    signed int v17 = v16 - 1;
  }

  while (__stlxr(v17, v10));
  if (gCheckGLErrors) {
    BOOL v18 = v17 < 1;
  }
  else {
    BOOL v18 = 1;
  }
  if (!v18) {
    return handle_opengl_thread_conflict((const void **)v9);
  }
  return result;
}

{
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  uint64_t v15;
  uint64_t v16;
  int64x2_t v17;
  uint64_t result;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  unsigned int v22;
  uint64_t v23;
  id v24;
  unsigned int v25;
  dispatch_queue_s *v26;
  uint64_t v27;
  uint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    uint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  unint64_t v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (v13)
  {
    uint64_t v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    id v23 = handle_opengl_thread_conflict((const void **)v9);
    uint64_t v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_35:
        BOOL v25 = __ldaxr(v10);
      while (__stlxr(v25 - 1, v10));
      signed int v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
      return (*(uint64_t (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 6144LL))(a1, a2);
    }
  }

  *(_BYTE *)(v9 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v14 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v14)
    {
      do
        unsigned int v22 = __ldaxr(v10);
      while (__stlxr(v22 - 1, v10));
      [(id)DYGetGLGuestAppClient(v14) triggerArmedCapture];
      return (*(uint64_t (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 6144LL))(a1, a2);
    }
  }

  BOOL v15 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 32) + 6144LL))(a1, a2);
  unsigned int v16 = mach_absolute_time();
  signed int v17 = vdupq_n_s64(1uLL);
  v17.i64[0] = v16 - v15;
  *(int64x2_t *)(v9 + 3696) = vaddq_s64(v17, *(int64x2_t *)(v9 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v9);
    if (gBreakOnError)
    {
      unsigned int v27 = *(unsigned int *)(v9 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v9);
      }
    }
  }

  (*(void (**)(void, uint64_t, uint64_t))(*(void *)(v9 + 32) + 832LL))( *(void *)(v9 + 16),  34964LL,  v9 + 2032);
  uint64_t result = (*(uint64_t (**)(void, uint64_t, uint64_t))(*(void *)(v9 + 32) + 832LL))( *(void *)(v9 + 16),  34965LL,  v9 + 2036);
  do
  {
    unsigned int v19 = __ldaxr(v10);
    uint64_t v20 = v19 - 1;
  }

  while (__stlxr(v20, v10));
  if (gCheckGLErrors) {
    id v21 = v20 < 1;
  }
  else {
    id v21 = 1;
  }
  if (!v21) {
    return handle_opengl_thread_conflict((const void **)v9);
  }
  return result;
}

{
  __GLIContextRec *v3;
  void *v4;
  uint64_t v5;
  unint64_t v6;
  BOOL v7;
  void *v8;
  uint64_t v9;
  unsigned int *v10;
  unsigned int v11;
  signed int v12;
  BOOL v13;
  id v14;
  id v15;
  uint64_t result;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  unsigned int v20;
  dispatch_queue_s *v21;
  unsigned int v22;
  uint64_t v3 = a1;
  uint64_t v4 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v4) {
    goto LABEL_12;
  }
  uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v6 = v4[4];
    BOOL v7 = v6 >= (unint64_t)a1;
    else {
      unint64_t v8 = v4 + 1;
    }
    if (v7) {
      uint64_t v5 = (uint64_t)v4;
    }
    uint64_t v4 = (void *)*v8;
  }

  while (*v8);
  if (v5 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v5 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v5 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v9 = *(void *)(v5 + 40);
  unint64_t v10 = (unsigned int *)(v9 + 4640);
  do
  {
    unsigned int v11 = __ldaxr(v10);
    signed int v12 = v11 + 1;
  }

  while (__stlxr(v12, v10));
  if (gCheckGLErrors) {
    BOOL v13 = v12 <= 1;
  }
  else {
    BOOL v13 = 1;
  }
  if (!v13) {
    a1 = (__GLIContextRec *)handle_opengl_thread_conflict((const void **)v9);
  }
  id v14 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  if ((int)v14 >= 1)
  {
    do
      uint64_t v20 = __ldaxr(v10);
    while (__stlxr(v20 - 1, v10));
    id v21 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v14) graphicsLockWaitQueue];
    dispatch_sync_f(v21, 0LL, (dispatch_function_t)do_nothing);
    return (*(uint64_t (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 6144LL))(v3, a2);
  }

  *(_BYTE *)(v9 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v14) state] == (char *)&dword_0 + 1)
  {
    BOOL v15 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v15)
    {
      do
        unsigned int v22 = __ldaxr(v10);
      while (__stlxr(v22 - 1, v10));
      [(id)DYGetGLGuestAppClient(v15) triggerArmedCapture];
      return (*(uint64_t (**)(__GLIContextRec *, uint64_t))(*(void *)(v9 + 24) + 6144LL))(v3, a2);
    }
  }

  (*(void (**)(void, uint64_t, uint64_t))(*(void *)(v9 + 32) + 832LL))( *(void *)(v9 + 16),  34964LL,  v9 + 2032);
  uint64_t result = (*(uint64_t (**)(void, uint64_t, uint64_t))(*(void *)(v9 + 32) + 832LL))( *(void *)(v9 + 16),  34965LL,  v9 + 2036);
  do
  {
    signed int v17 = __ldaxr(v10);
    BOOL v18 = v17 - 1;
  }

  while (__stlxr(v18, v10));
  if (gCheckGLErrors) {
    unsigned int v19 = v18 < 1;
  }
  else {
    unsigned int v19 = 1;
  }
  if (!v19) {
    return handle_opengl_thread_conflict((const void **)v9);
  }
  return result;
}

uint64_t delete_vertex_arrays(__GLIContextRec *a1, uint64_t a2, const unsigned int *a3)
{
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  signed int v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v23 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v22 = handle_opengl_thread_conflict((const void **)v11);
    id v23 = [(id)DYGetGLGuestAppClient(v22) waitOnGraphicsSemaphoreAssertions];
    if ((int)v23 >= 1)
    {
      do
LABEL_35:
        unsigned int v24 = __ldaxr(v12);
      while (__stlxr(v24 - 1, v12));
      BOOL v25 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v23) graphicsLockWaitQueue];
      dispatch_sync_f(v25, 0LL, (dispatch_function_t)do_nothing);
      return (*(uint64_t (**)(__GLIContextRec *, uint64_t, const unsigned int *))(*(void *)(v11 + 24) + 6152LL))( a1,  a2,  a3);
    }
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v23) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v21 = __ldaxr(v12);
      while (__stlxr(v21 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      return (*(uint64_t (**)(__GLIContextRec *, uint64_t, const unsigned int *))(*(void *)(v11 + 24) + 6152LL))( a1,  a2,  a3);
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, const unsigned int *))(*(void *)(v11 + 32) + 6152LL))( a1,  a2,  a3);
  ++*(void *)(v11 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v26 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v26) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v26, v11);
      }
    }
  }

  (*(void (**)(void, uint64_t, uint64_t))(*(void *)(v11 + 32) + 832LL))( *(void *)(v11 + 16),  34964LL,  v11 + 2032);
  uint64_t result = (*(uint64_t (**)(void, uint64_t, uint64_t))(*(void *)(v11 + 32) + 832LL))( *(void *)(v11 + 16),  34965LL,  v11 + 2036);
  do
  {
    unsigned int v18 = __ldaxr(v12);
    signed int v19 = v18 - 1;
  }

  while (__stlxr(v19, v12));
  if (gCheckGLErrors) {
    BOOL v20 = v19 < 1;
  }
  else {
    BOOL v20 = 1;
  }
  if (!v20) {
    return handle_opengl_thread_conflict((const void **)v11);
  }
  return result;
}

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  uint64_t v17;
  uint64_t v18;
  int64x2_t v19;
  uint64_t result;
  unsigned int v21;
  signed int v22;
  BOOL v23;
  unsigned int v24;
  uint64_t v25;
  id v26;
  unsigned int v27;
  dispatch_queue_s *v28;
  uint64_t v29;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  signed int v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v26 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    BOOL v25 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v26 = [(id)DYGetGLGuestAppClient(v25) waitOnGraphicsSemaphoreAssertions];
    if ((int)v26 >= 1)
    {
      do
LABEL_35:
        unsigned int v27 = __ldaxr(v12);
      while (__stlxr(v27 - 1, v12));
      signed int v28 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v26) graphicsLockWaitQueue];
      dispatch_sync_f(v28, 0LL, (dispatch_function_t)do_nothing);
      return (*(uint64_t (**)(__GLIContextRec *, uint64_t, const unsigned int *))(*(void *)(v11 + 24) + 6152LL))( a1,  a2,  a3);
    }
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v26) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v24 = __ldaxr(v12);
      while (__stlxr(v24 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      return (*(uint64_t (**)(__GLIContextRec *, uint64_t, const unsigned int *))(*(void *)(v11 + 24) + 6152LL))( a1,  a2,  a3);
    }
  }

  signed int v17 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, const unsigned int *))(*(void *)(v11 + 32) + 6152LL))( a1,  a2,  a3);
  unsigned int v18 = mach_absolute_time();
  signed int v19 = vdupq_n_s64(1uLL);
  v19.i64[0] = v18 - v17;
  *(int64x2_t *)(v11 + 3696) = vaddq_s64(v19, *(int64x2_t *)(v11 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      BOOL v29 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v29) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v29, v11);
      }
    }
  }

  (*(void (**)(void, uint64_t, uint64_t))(*(void *)(v11 + 32) + 832LL))( *(void *)(v11 + 16),  34964LL,  v11 + 2032);
  uint64_t result = (*(uint64_t (**)(void, uint64_t, uint64_t))(*(void *)(v11 + 32) + 832LL))( *(void *)(v11 + 16),  34965LL,  v11 + 2036);
  do
  {
    unsigned int v21 = __ldaxr(v12);
    uint64_t v22 = v21 - 1;
  }

  while (__stlxr(v22, v12));
  if (gCheckGLErrors) {
    id v23 = v22 < 1;
  }
  else {
    id v23 = 1;
  }
  if (!v23) {
    return handle_opengl_thread_conflict((const void **)v11);
  }
  return result;
}

{
  __GLIContextRec *v5;
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  id v17;
  uint64_t result;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  unsigned int v22;
  dispatch_queue_s *v23;
  unsigned int v24;
  uint64_t v5 = a1;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  signed int v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (!v15) {
    a1 = (__GLIContextRec *)handle_opengl_thread_conflict((const void **)v11);
  }
  id v16 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  if ((int)v16 >= 1)
  {
    do
      uint64_t v22 = __ldaxr(v12);
    while (__stlxr(v22 - 1, v12));
    id v23 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v16) graphicsLockWaitQueue];
    dispatch_sync_f(v23, 0LL, (dispatch_function_t)do_nothing);
    return (*(uint64_t (**)(__GLIContextRec *, uint64_t, const unsigned int *))(*(void *)(v11 + 24) + 6152LL))( v5,  a2,  a3);
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v16) state] == (char *)&dword_0 + 1)
  {
    signed int v17 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v17)
    {
      do
        unsigned int v24 = __ldaxr(v12);
      while (__stlxr(v24 - 1, v12));
      [(id)DYGetGLGuestAppClient(v17) triggerArmedCapture];
      return (*(uint64_t (**)(__GLIContextRec *, uint64_t, const unsigned int *))(*(void *)(v11 + 24) + 6152LL))( v5,  a2,  a3);
    }
  }

  (*(void (**)(void, uint64_t, uint64_t))(*(void *)(v11 + 32) + 832LL))( *(void *)(v11 + 16),  34964LL,  v11 + 2032);
  uint64_t result = (*(uint64_t (**)(void, uint64_t, uint64_t))(*(void *)(v11 + 32) + 832LL))( *(void *)(v11 + 16),  34965LL,  v11 + 2036);
  do
  {
    signed int v19 = __ldaxr(v12);
    BOOL v20 = v19 - 1;
  }

  while (__stlxr(v20, v12));
  if (gCheckGLErrors) {
    unsigned int v21 = v20 < 1;
  }
  else {
    unsigned int v21 = 1;
  }
  if (!v21) {
    return handle_opengl_thread_conflict((const void **)v11);
  }
  return result;
}

{
  void *v3;
  uint64_t v4;
  unint64_t v5;
  BOOL v6;
  void *v7;
  uint64_t v8;
  uint64_t v3 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v3) {
    goto LABEL_12;
  }
  uint64_t v4 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    uint64_t v5 = v3[4];
    unint64_t v6 = v5 >= (unint64_t)a1;
    else {
      uint64_t v7 = v3 + 1;
    }
    if (v6) {
      uint64_t v4 = (uint64_t)v3;
    }
    uint64_t v3 = (void *)*v7;
  }

  while (*v7);
  if (v4 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v4 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v4 = ContextInfo::activeCtxInfoMap + 8;
  unint64_t v8 = *(void *)(v4 + 40);
  (*(void (**)(__GLIContextRec *, uint64_t, const unsigned int *))(*(void *)(v8 + 32) + 6152LL))(a1, a2, a3);
  (*(void (**)(void, uint64_t, uint64_t))(*(void *)(v8 + 32) + 832LL))( *(void *)(v8 + 16),  34964LL,  v8 + 2032);
  return (*(uint64_t (**)(void, uint64_t, uint64_t))(*(void *)(v8 + 32) + 832LL))( *(void *)(v8 + 16),  34965LL,  v8 + 2036);
}

void clear_bufferfi(__GLIContextRec *a1, uint64_t a2, uint64_t a3, float a4, uint64_t a5)
{
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      signed int v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  id v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    id v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v26 = handle_opengl_thread_conflict((const void **)v15);
    id v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_35:
        unsigned int v28 = __ldaxr(v16);
      while (__stlxr(v28 - 1, v16));
      BOOL v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_37:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, float))(*(void *)(v15 + 24) + 6216LL))( a1,  a2,  a3,  a5,  a4);
      return;
    }
  }

  *(_WORD *)(v15 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 257;
  BOOL v20 = (char *)[(id)DYGetGLGuestAppClient(v27) state];
  if (v20 == (_BYTE *)&dword_0 + 1)
  {
    BOOL v20 = (char *)[(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        unsigned int v25 = __ldaxr(v16);
      while (__stlxr(v25 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_37;
    }
  }

  id v21 = [(id)DYGetGLGuestAppClient(v20) overrideFlags];
  if ((_DWORD)v21)
  {
    id v30 = [(id)DYGetGLGuestAppClient(v21) overrideFlags];
    if ((v30 & 8) == 0)
    {
      uint64_t v31 = (volatile int *)[(id)DYGetGLGuestAppClient(v30) overrideFlags];
      apply_draw_overrides(v15, v31);
      uint64_t v32 = (*(uint64_t (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, float))(*(void *)(v15 + 32)
                                                                                           + 6216LL))( a1,  a2,  a3,  a5,  a4);
      ++*(void *)(v15 + 3704);
      if (gCheckGLErrors)
      {
        uint64_t v32 = check_errors(v15);
        if (gBreakOnError)
        {
          uint64_t v35 = *(unsigned int *)(v15 + 3404);
          if ((_DWORD)v35) {
            breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v35, v15);
          }
        }
      }

      int v33 = [(id)DYGetGLGuestAppClient(v32) overrideFlags];
      unapply_draw_overrides(v15, v33);
    }
  }

  else
  {
    (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, float))(*(void *)(v15 + 32) + 6216LL))( a1,  a2,  a3,  a5,  a4);
    ++*(void *)(v15 + 3704);
    if (gCheckGLErrors)
    {
      check_errors(v15);
      if (gBreakOnError)
      {
        uint64_t v34 = *(unsigned int *)(v15 + 3404);
        if ((_DWORD)v34) {
          breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v34, v15);
        }
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v16);
    signed int v23 = v22 - 1;
  }

  while (__stlxr(v23, v16));
  if (gCheckGLErrors) {
    BOOL v24 = v23 < 1;
  }
  else {
    BOOL v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

{
  void *v10;
  uint64_t v11;
  unint64_t v12;
  BOOL v13;
  void *v14;
  uint64_t v15;
  unsigned int *v16;
  unsigned int v17;
  signed int v18;
  BOOL v19;
  char *v20;
  id v21;
  uint64_t v22;
  uint64_t v23;
  int64x2_t v24;
  unsigned int v25;
  signed int v26;
  BOOL v27;
  unsigned int v28;
  uint64_t v29;
  id v30;
  unsigned int v31;
  dispatch_queue_s *v32;
  id v33;
  volatile int *v34;
  uint64_t v35;
  uint64_t v36;
  int64x2_t v37;
  int v38;
  uint64_t v39;
  uint64_t v40;
  unint64_t v10 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v10) {
    goto LABEL_12;
  }
  uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v12 = v10[4];
    BOOL v13 = v12 >= (unint64_t)a1;
    else {
      signed int v14 = v10 + 1;
    }
    if (v13) {
      uint64_t v11 = (uint64_t)v10;
    }
    unint64_t v10 = (void *)*v14;
  }

  while (*v14);
  if (v11 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v11 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v11 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v15 = *(void *)(v11 + 40);
  id v16 = (unsigned int *)(v15 + 4640);
  do
  {
    unsigned int v17 = __ldaxr(v16);
    signed int v18 = v17 + 1;
  }

  while (__stlxr(v18, v16));
  if (gCheckGLErrors) {
    BOOL v19 = v18 <= 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (v19)
  {
    id v30 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    BOOL v29 = handle_opengl_thread_conflict((const void **)v15);
    id v30 = [(id)DYGetGLGuestAppClient(v29) waitOnGraphicsSemaphoreAssertions];
    if ((int)v30 >= 1)
    {
      do
LABEL_35:
        uint64_t v31 = __ldaxr(v16);
      while (__stlxr(v31 - 1, v16));
      uint64_t v32 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v30) graphicsLockWaitQueue];
      dispatch_sync_f(v32, 0LL, (dispatch_function_t)do_nothing);
LABEL_37:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, float))(*(void *)(v15 + 24) + 6216LL))( a1,  a2,  a3,  a5,  a4);
      return;
    }
  }

  *(_WORD *)(v15 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 257;
  BOOL v20 = (char *)[(id)DYGetGLGuestAppClient(v30) state];
  if (v20 == (_BYTE *)&dword_0 + 1)
  {
    BOOL v20 = (char *)[(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v20)
    {
      do
        unsigned int v28 = __ldaxr(v16);
      while (__stlxr(v28 - 1, v16));
      [(id)DYGetGLGuestAppClient(v20) triggerArmedCapture];
      goto LABEL_37;
    }
  }

  id v21 = [(id)DYGetGLGuestAppClient(v20) overrideFlags];
  if ((_DWORD)v21)
  {
    int v33 = [(id)DYGetGLGuestAppClient(v21) overrideFlags];
    if ((v33 & 8) == 0)
    {
      uint64_t v34 = (volatile int *)[(id)DYGetGLGuestAppClient(v33) overrideFlags];
      apply_draw_overrides(v15, v34);
      uint64_t v35 = mach_absolute_time();
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, float))(*(void *)(v15 + 32) + 6216LL))( a1,  a2,  a3,  a5,  a4);
      int v36 = mach_absolute_time();
      uint64_t v37 = vdupq_n_s64(1uLL);
      v37.i64[0] = v36 - v35;
      *(int64x2_t *)(v15 + 3696) = vaddq_s64(v37, *(int64x2_t *)(v15 + 3696));
      if (gCheckGLErrors)
      {
        int v36 = check_errors(v15);
        if (gBreakOnError)
        {
          uint64_t v40 = *(unsigned int *)(v15 + 3404);
          if ((_DWORD)v40) {
            breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v40, v15);
          }
        }
      }

      int v38 = [(id)DYGetGLGuestAppClient(v36) overrideFlags];
      unapply_draw_overrides(v15, v38);
    }
  }

  else
  {
    unsigned int v22 = mach_absolute_time();
    (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t, float))(*(void *)(v15 + 32) + 6216LL))( a1,  a2,  a3,  a5,  a4);
    signed int v23 = mach_absolute_time();
    BOOL v24 = vdupq_n_s64(1uLL);
    v24.i64[0] = v23 - v22;
    *(int64x2_t *)(v15 + 3696) = vaddq_s64(v24, *(int64x2_t *)(v15 + 3696));
    if (gCheckGLErrors)
    {
      check_errors(v15);
      if (gBreakOnError)
      {
        uint64_t v39 = *(unsigned int *)(v15 + 3404);
        if ((_DWORD)v39) {
          breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v39, v15);
        }
      }
    }
  }

  do
  {
    unsigned int v25 = __ldaxr(v16);
    uint64_t v26 = v25 - 1;
  }

  while (__stlxr(v26, v16));
  if (gCheckGLErrors) {
    id v27 = v26 < 1;
  }
  else {
    id v27 = 1;
  }
  if (!v27) {
    handle_opengl_thread_conflict((const void **)v15);
  }
}

void get_integer64v(__GLIContextRec *a1, uint64_t a2, uint64_t *a3)
{
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    id v22 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v21 = handle_opengl_thread_conflict((const void **)v11);
    id v22 = [(id)DYGetGLGuestAppClient(v21) waitOnGraphicsSemaphoreAssertions];
    if ((int)v22 >= 1)
    {
      do
LABEL_34:
        unsigned int v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      BOOL v24 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v22) graphicsLockWaitQueue];
      dispatch_sync_f(v24, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t *))(*(void *)(v11 + 24) + 6272LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v22) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v20 = __ldaxr(v12);
      while (__stlxr(v20 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t *))(*(void *)(v11 + 32) + 6272LL))(a1, a2, a3);
  ++*(void *)(v11 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      uint64_t v25 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v25) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v25, v11);
      }
    }
  }

  do
  {
    unsigned int v17 = __ldaxr(v12);
    signed int v18 = v17 - 1;
  }

  while (__stlxr(v18, v12));
  if (gCheckGLErrors) {
    BOOL v19 = v18 < 1;
  }
  else {
    BOOL v19 = 1;
  }
  if (!v19) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

{
  void *v6;
  uint64_t v7;
  unint64_t v8;
  BOOL v9;
  void *v10;
  uint64_t v11;
  unsigned int *v12;
  unsigned int v13;
  signed int v14;
  BOOL v15;
  id v16;
  uint64_t v17;
  uint64_t v18;
  int64x2_t v19;
  unsigned int v20;
  signed int v21;
  BOOL v22;
  unsigned int v23;
  uint64_t v24;
  id v25;
  unsigned int v26;
  dispatch_queue_s *v27;
  uint64_t v28;
  unint64_t v6 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v6) {
    goto LABEL_12;
  }
  uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v8 = v6[4];
    BOOL v9 = v8 >= (unint64_t)a1;
    else {
      unint64_t v10 = v6 + 1;
    }
    if (v9) {
      uint64_t v7 = (uint64_t)v6;
    }
    unint64_t v6 = (void *)*v10;
  }

  while (*v10);
  if (v7 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v7 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v7 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v11 = *(void *)(v7 + 40);
  unint64_t v12 = (unsigned int *)(v11 + 4640);
  do
  {
    unsigned int v13 = __ldaxr(v12);
    signed int v14 = v13 + 1;
  }

  while (__stlxr(v14, v12));
  if (gCheckGLErrors) {
    BOOL v15 = v14 <= 1;
  }
  else {
    BOOL v15 = 1;
  }
  if (v15)
  {
    uint64_t v25 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    BOOL v24 = handle_opengl_thread_conflict((const void **)v11);
    uint64_t v25 = [(id)DYGetGLGuestAppClient(v24) waitOnGraphicsSemaphoreAssertions];
    if ((int)v25 >= 1)
    {
      do
LABEL_34:
        uint64_t v26 = __ldaxr(v12);
      while (__stlxr(v26 - 1, v12));
      id v27 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v25) graphicsLockWaitQueue];
      dispatch_sync_f(v27, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t *))(*(void *)(v11 + 24) + 6272LL))(a1, a2, a3);
      return;
    }
  }

  *(_BYTE *)(v11 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v25) state] == (char *)&dword_0 + 1)
  {
    id v16 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v16)
    {
      do
        unsigned int v23 = __ldaxr(v12);
      while (__stlxr(v23 - 1, v12));
      [(id)DYGetGLGuestAppClient(v16) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v17 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t *))(*(void *)(v11 + 32) + 6272LL))(a1, a2, a3);
  signed int v18 = mach_absolute_time();
  BOOL v19 = vdupq_n_s64(1uLL);
  v19.i64[0] = v18 - v17;
  *(int64x2_t *)(v11 + 3696) = vaddq_s64(v19, *(int64x2_t *)(v11 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v11);
    if (gBreakOnError)
    {
      unsigned int v28 = *(unsigned int *)(v11 + 3404);
      if ((_DWORD)v28) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v28, v11);
      }
    }
  }

  do
  {
    unsigned int v20 = __ldaxr(v12);
    uint64_t v21 = v20 - 1;
  }

  while (__stlxr(v21, v12));
  if (gCheckGLErrors) {
    id v22 = v21 < 1;
  }
  else {
    id v22 = 1;
  }
  if (!v22) {
    handle_opengl_thread_conflict((const void **)v11);
  }
}

void get_synciv(__GLIContextRec *a1, __GLsync *a2, uint64_t a3, uint64_t a4, int *a5, int *a6)
{
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      id v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  signed int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    id v28 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v27 = handle_opengl_thread_conflict((const void **)v17);
    id v28 = [(id)DYGetGLGuestAppClient(v27) waitOnGraphicsSemaphoreAssertions];
    if ((int)v28 >= 1)
    {
      do
LABEL_34:
        unsigned int v29 = __ldaxr(v18);
      while (__stlxr(v29 - 1, v18));
      id v30 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v28) graphicsLockWaitQueue];
      dispatch_sync_f(v30, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, __GLsync *, uint64_t, uint64_t, int *, int *))(*(void *)(v17 + 24)
                                                                                            + 6280LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v28) state] == (char *)&dword_0 + 1)
  {
    id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v22)
    {
      do
        unsigned int v26 = __ldaxr(v18);
      while (__stlxr(v26 - 1, v18));
      [(id)DYGetGLGuestAppClient(v22) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, __GLsync *, uint64_t, uint64_t, int *, int *))(*(void *)(v17 + 32) + 6280LL))( a1,  a2,  a3,  a4,  a5,  a6);
  ++*(void *)(v17 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v17);
    if (gBreakOnError)
    {
      uint64_t v31 = *(unsigned int *)(v17 + 3404);
      if ((_DWORD)v31) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v31, v17);
      }
    }
  }

  do
  {
    unsigned int v23 = __ldaxr(v18);
    signed int v24 = v23 - 1;
  }

  while (__stlxr(v24, v18));
  if (gCheckGLErrors) {
    BOOL v25 = v24 < 1;
  }
  else {
    BOOL v25 = 1;
  }
  if (!v25) {
    handle_opengl_thread_conflict((const void **)v17);
  }
}

{
  void *v12;
  uint64_t v13;
  unint64_t v14;
  BOOL v15;
  void *v16;
  uint64_t v17;
  unsigned int *v18;
  unsigned int v19;
  signed int v20;
  BOOL v21;
  id v22;
  uint64_t v23;
  uint64_t v24;
  int64x2_t v25;
  unsigned int v26;
  signed int v27;
  BOOL v28;
  unsigned int v29;
  uint64_t v30;
  id v31;
  unsigned int v32;
  dispatch_queue_s *v33;
  uint64_t v34;
  unint64_t v12 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v12) {
    goto LABEL_12;
  }
  uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v14 = v12[4];
    BOOL v15 = v14 >= (unint64_t)a1;
    else {
      id v16 = v12 + 1;
    }
    if (v15) {
      uint64_t v13 = (uint64_t)v12;
    }
    unint64_t v12 = (void *)*v16;
  }

  while (*v16);
  if (v13 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v13 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v13 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v17 = *(void *)(v13 + 40);
  signed int v18 = (unsigned int *)(v17 + 4640);
  do
  {
    unsigned int v19 = __ldaxr(v18);
    signed int v20 = v19 + 1;
  }

  while (__stlxr(v20, v18));
  if (gCheckGLErrors) {
    BOOL v21 = v20 <= 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (v21)
  {
    uint64_t v31 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    id v30 = handle_opengl_thread_conflict((const void **)v17);
    uint64_t v31 = [(id)DYGetGLGuestAppClient(v30) waitOnGraphicsSemaphoreAssertions];
    if ((int)v31 >= 1)
    {
      do
LABEL_34:
        uint64_t v32 = __ldaxr(v18);
      while (__stlxr(v32 - 1, v18));
      int v33 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v31) graphicsLockWaitQueue];
      dispatch_sync_f(v33, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, __GLsync *, uint64_t, uint64_t, int *, int *))(*(void *)(v17 + 24)
                                                                                            + 6280LL))( a1,  a2,  a3,  a4,  a5,  a6);
      return;
    }
  }

  *(_BYTE *)(v17 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v31) state] == (char *)&dword_0 + 1)
  {
    id v22 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v22)
    {
      do
        unsigned int v29 = __ldaxr(v18);
      while (__stlxr(v29 - 1, v18));
      [(id)DYGetGLGuestAppClient(v22) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v23 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, __GLsync *, uint64_t, uint64_t, int *, int *))(*(void *)(v17 + 32) + 6280LL))( a1,  a2,  a3,  a4,  a5,  a6);
  signed int v24 = mach_absolute_time();
  BOOL v25 = vdupq_n_s64(1uLL);
  v25.i64[0] = v24 - v23;
  *(int64x2_t *)(v17 + 3696) = vaddq_s64(v25, *(int64x2_t *)(v17 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v17);
    if (gBreakOnError)
    {
      uint64_t v34 = *(unsigned int *)(v17 + 3404);
      if ((_DWORD)v34) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v34, v17);
      }
    }
  }

  do
  {
    unsigned int v26 = __ldaxr(v18);
    uint64_t v27 = v26 - 1;
  }

  while (__stlxr(v27, v18));
  if (gCheckGLErrors) {
    id v28 = v27 < 1;
  }
  else {
    id v28 = 1;
  }
  if (!v28) {
    handle_opengl_thread_conflict((const void **)v17);
  }
}

void get_integer64i_v(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    id v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      unsigned int v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t *))(*(void *)(v13 + 24) + 6384LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t *))(*(void *)(v13 + 32) + 6384LL))( a1,  a2,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    unsigned int v19 = __ldaxr(v14);
    signed int v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    BOOL v21 = v20 < 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unsigned int v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        id v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      unsigned int v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t *))(*(void *)(v13 + 24) + 6384LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t *))(*(void *)(v13 + 32) + 6384LL))( a1,  a2,  a3,  a4);
  signed int v20 = mach_absolute_time();
  BOOL v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      id v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    id v24 = v23 < 1;
  }
  else {
    id v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void get_buffer_parameteri64v(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    id v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      unsigned int v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t *))(*(void *)(v13 + 24) + 6392LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t *))(*(void *)(v13 + 32) + 6392LL))( a1,  a2,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    unsigned int v19 = __ldaxr(v14);
    signed int v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    BOOL v21 = v20 < 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unsigned int v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        id v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      unsigned int v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t *))(*(void *)(v13 + 24) + 6392LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t *))(*(void *)(v13 + 32) + 6392LL))( a1,  a2,  a3,  a4);
  signed int v20 = mach_absolute_time();
  BOOL v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      id v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    id v24 = v23 < 1;
  }
  else {
    id v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void sampler_parameteri(__GLIContextRec *a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    id v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      unsigned int v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 6432LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 6432LL))( a1,  a2,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    unsigned int v19 = __ldaxr(v14);
    signed int v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    BOOL v21 = v20 < 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unsigned int v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        id v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      unsigned int v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 24) + 6432LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 + 32) + 6432LL))( a1,  a2,  a3,  a4);
  signed int v20 = mach_absolute_time();
  BOOL v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      id v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    id v24 = v23 < 1;
  }
  else {
    id v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void sampler_parameteriv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, const int *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    id v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      unsigned int v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 24) + 6440LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 32) + 6440LL))( a1,  a2,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    unsigned int v19 = __ldaxr(v14);
    signed int v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    BOOL v21 = v20 < 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unsigned int v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        id v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      unsigned int v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 24) + 6440LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const int *))(*(void *)(v13 + 32) + 6440LL))( a1,  a2,  a3,  a4);
  signed int v20 = mach_absolute_time();
  BOOL v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      id v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    id v24 = v23 < 1;
  }
  else {
    id v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void sampler_parameterf(__GLIContextRec *a1, uint64_t a2, uint64_t a3, float a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    id v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      unsigned int v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, float))(*(void *)(v13 + 24) + 6448LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, float))(*(void *)(v13 + 32) + 6448LL))(a1, a2, a3, a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    unsigned int v19 = __ldaxr(v14);
    signed int v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    BOOL v21 = v20 < 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unsigned int v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        id v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      unsigned int v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, float))(*(void *)(v13 + 24) + 6448LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, float))(*(void *)(v13 + 32) + 6448LL))(a1, a2, a3, a4);
  signed int v20 = mach_absolute_time();
  BOOL v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      id v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    id v24 = v23 < 1;
  }
  else {
    id v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void sampler_parameterfv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, const float *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    id v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      unsigned int v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 24) + 6456LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 32) + 6456LL))( a1,  a2,  a3,  a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    unsigned int v19 = __ldaxr(v14);
    signed int v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    BOOL v21 = v20 < 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unsigned int v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        id v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      unsigned int v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 24) + 6456LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, const float *))(*(void *)(v13 + 32) + 6456LL))( a1,  a2,  a3,  a4);
  signed int v20 = mach_absolute_time();
  BOOL v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      id v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    id v24 = v23 < 1;
  }
  else {
    id v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

void get_sampler_parameteriv(__GLIContextRec *a1, uint64_t a2, uint64_t a3, int *a4)
{
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    id v24 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    uint64_t v23 = handle_opengl_thread_conflict((const void **)v13);
    id v24 = [(id)DYGetGLGuestAppClient(v23) waitOnGraphicsSemaphoreAssertions];
    if ((int)v24 >= 1)
    {
      do
LABEL_34:
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      unsigned int v26 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v24) graphicsLockWaitQueue];
      dispatch_sync_f(v26, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 24) + 6480LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v24) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v22 = __ldaxr(v14);
      while (__stlxr(v22 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 32) + 6480LL))(a1, a2, a3, a4);
  ++*(void *)(v13 + 3704);
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      uint64_t v27 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v27) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v27, v13);
      }
    }
  }

  do
  {
    unsigned int v19 = __ldaxr(v14);
    signed int v20 = v19 - 1;
  }

  while (__stlxr(v20, v14));
  if (gCheckGLErrors) {
    BOOL v21 = v20 < 1;
  }
  else {
    BOOL v21 = 1;
  }
  if (!v21) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}

{
  void *v8;
  uint64_t v9;
  unint64_t v10;
  BOOL v11;
  void *v12;
  uint64_t v13;
  unsigned int *v14;
  unsigned int v15;
  signed int v16;
  BOOL v17;
  id v18;
  uint64_t v19;
  uint64_t v20;
  int64x2_t v21;
  unsigned int v22;
  signed int v23;
  BOOL v24;
  unsigned int v25;
  uint64_t v26;
  id v27;
  unsigned int v28;
  dispatch_queue_s *v29;
  uint64_t v30;
  unint64_t v8 = *(void **)(ContextInfo::activeCtxInfoMap + 8);
  if (!v8) {
    goto LABEL_12;
  }
  uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  do
  {
    unint64_t v10 = v8[4];
    BOOL v11 = v10 >= (unint64_t)a1;
    else {
      unint64_t v12 = v8 + 1;
    }
    if (v11) {
      uint64_t v9 = (uint64_t)v8;
    }
    unint64_t v8 = (void *)*v12;
  }

  while (*v12);
  if (v9 == ContextInfo::activeCtxInfoMap + 8 || *(void *)(v9 + 32) > (unint64_t)a1) {
LABEL_12:
  }
    uint64_t v9 = ContextInfo::activeCtxInfoMap + 8;
  uint64_t v13 = *(void *)(v9 + 40);
  unint64_t v14 = (unsigned int *)(v13 + 4640);
  do
  {
    unsigned int v15 = __ldaxr(v14);
    signed int v16 = v15 + 1;
  }

  while (__stlxr(v16, v14));
  if (gCheckGLErrors) {
    BOOL v17 = v16 <= 1;
  }
  else {
    BOOL v17 = 1;
  }
  if (v17)
  {
    uint64_t v27 = [(id)DYGetGLGuestAppClient(a1) waitOnGraphicsSemaphoreAssertions];
  }

  else
  {
    unsigned int v26 = handle_opengl_thread_conflict((const void **)v13);
    uint64_t v27 = [(id)DYGetGLGuestAppClient(v26) waitOnGraphicsSemaphoreAssertions];
    if ((int)v27 >= 1)
    {
      do
LABEL_34:
        id v28 = __ldaxr(v14);
      while (__stlxr(v28 - 1, v14));
      unsigned int v29 = (dispatch_queue_s *)[(id)DYGetGLGuestAppClient(v27) graphicsLockWaitQueue];
      dispatch_sync_f(v29, 0LL, (dispatch_function_t)do_nothing);
LABEL_36:
      (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 24) + 6480LL))( a1,  a2,  a3,  a4);
      return;
    }
  }

  *(_BYTE *)(v13 + 483_Block_object_dispose((const void *)(v1 - 176), 8) = 1;
  if ([(id)DYGetGLGuestAppClient(v27) state] == (char *)&dword_0 + 1)
  {
    id v18 = [(id)DYGetGLGuestAppClient(1) triggerCaptureOnNextGLCommand];
    if ((_DWORD)v18)
    {
      do
        unsigned int v25 = __ldaxr(v14);
      while (__stlxr(v25 - 1, v14));
      [(id)DYGetGLGuestAppClient(v18) triggerArmedCapture];
      goto LABEL_36;
    }
  }

  unsigned int v19 = mach_absolute_time();
  (*(void (**)(__GLIContextRec *, uint64_t, uint64_t, int *))(*(void *)(v13 + 32) + 6480LL))(a1, a2, a3, a4);
  signed int v20 = mach_absolute_time();
  BOOL v21 = vdupq_n_s64(1uLL);
  v21.i64[0] = v20 - v19;
  *(int64x2_t *)(v13 + 3696) = vaddq_s64(v21, *(int64x2_t *)(v13 + 3696));
  if (gCheckGLErrors)
  {
    check_errors(v13);
    if (gBreakOnError)
    {
      id v30 = *(unsigned int *)(v13 + 3404);
      if ((_DWORD)v30) {
        breakpoint_break(0LL, (volatile int *)0xFFFFFFFFLL, 3LL, v30, v13);
      }
    }
  }

  do
  {
    unsigned int v22 = __ldaxr(v14);
    uint64_t v23 = v22 - 1;
  }

  while (__stlxr(v23, v14));
  if (gCheckGLErrors) {
    id v24 = v23 < 1;
  }
  else {
    id v24 = 1;
  }
  if (!v24) {
    handle_opengl_thread_conflict((const void **)v13);
  }
}